"use strict";(self.webpackChunkangularmaterial=self.webpackChunkangularmaterial||[]).push([[179],{269:()=>{function jt(r){return"function"==typeof r}function Mv(r){const e=r(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ww=Mv(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function bf(r,t){if(r){const e=r.indexOf(t);0<=e&&r.splice(e,1)}}class Rt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(jt(i))try{i()}catch(o){t=o instanceof ww?o.errors:[o]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const o of n)try{YV(o)}catch(a){t=t??[],a instanceof ww?t=[...t,...a.errors]:t.push(a)}}if(t)throw new ww(t)}}add(t){var e;if(t&&t!==this)if(this.closed)YV(t);else{if(t instanceof Rt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bf(e,t)}remove(t){const{_finalizers:e}=this;e&&bf(e,t),t instanceof Rt&&t._removeParent(this)}}Rt.EMPTY=(()=>{const r=new Rt;return r.closed=!0,r})();const $V=Rt.EMPTY;function KV(r){return r instanceof Rt||r&&"closed"in r&&jt(r.remove)&&jt(r.add)&&jt(r.unsubscribe)}function YV(r){jt(r)?r():r.unsubscribe()}const Sh={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sw={setTimeout(r,t,...e){const{delegate:i}=Sw;return i?.setTimeout?i.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){const{delegate:t}=Sw;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function qV(r){Sw.setTimeout(()=>{const{onUnhandledError:t}=Sh;if(!t)throw r;t(r)})}function xw(){}const kie=VA("C",void 0,void 0);function VA(r,t,e){return{kind:r,value:t,error:e}}let xh=null;function Ew(r){if(Sh.useDeprecatedSynchronousErrorHandling){const t=!xh;if(t&&(xh={errorThrown:!1,error:null}),r(),t){const{errorThrown:e,error:i}=xh;if(xh=null,e)throw i}}else r()}class BA extends Rt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,KV(t)&&t.add(this)):this.destination=jie}static create(t,e,i){return new Rv(t,e,i)}next(t){this.isStopped?jA(function Nie(r){return VA("N",r,void 0)}(t),this):this._next(t)}error(t){this.isStopped?jA(function Lie(r){return VA("E",void 0,r)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?jA(kie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vie=Function.prototype.bind;function HA(r,t){return Vie.call(r,t)}class Bie{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Dw(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Dw(i)}else Dw(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Dw(e)}}}class Rv extends BA{constructor(t,e,i){let n;if(super(),jt(t)||!t)n={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Sh.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&HA(t.next,o),error:t.error&&HA(t.error,o),complete:t.complete&&HA(t.complete,o)}):n=t}this.destination=new Bie(n)}}function Dw(r){Sh.useDeprecatedSynchronousErrorHandling?function Gie(r){Sh.useDeprecatedSynchronousErrorHandling&&xh&&(xh.errorThrown=!0,xh.error=r)}(r):qV(r)}function jA(r,t){const{onStoppedNotification:e}=Sh;e&&Sw.setTimeout(()=>e(r,t))}const jie={closed:!0,next:xw,error:function Hie(r){throw r},complete:xw},UA="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gu(r){return r}function XV(r){return 0===r.length?Gu:1===r.length?r[0]:function(e){return r.reduce((i,n)=>n(i),e)}}let pi=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new r;return i.source=this,i.operator=e,i}subscribe(e,i,n){const o=function Wie(r){return r&&r instanceof BA||function zie(r){return r&&jt(r.next)&&jt(r.error)&&jt(r.complete)}(r)&&KV(r)}(e)?e:new Rv(e,i,n);return Ew(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ZV(i))((n,o)=>{const a=new Rv({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:n});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[UA](){return this}pipe(...e){return XV(e)(this)}toPromise(e){return new(e=ZV(e))((i,n)=>{let o;this.subscribe(a=>o=a,a=>n(a),()=>i(o))})}}return r.create=t=>new r(t),r})();function ZV(r){var t;return null!==(t=r??Sh.Promise)&&void 0!==t?t:Promise}const $ie=Mv(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class r extends pi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new QV(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new $ie}next(e){Ew(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ew(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ew(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:n,observers:o}=this;return i||n?$V:(this.currentObservers=null,o.push(e),new Rt(()=>{this.currentObservers=null,bf(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:n,isStopped:o}=this;i?e.error(n):o&&e.complete()}asObservable(){const e=new pi;return e.source=this,e}}return r.create=(t,e)=>new QV(t,e),r})();class QV extends Me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:$V}}class fr extends Me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function JV(r){return jt(r?.lift)}function Zi(r){return t=>{if(JV(t))return t.lift(function(e){try{return r(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ni(r,t,e,i,n){return new Kie(r,t,e,i,n)}class Kie extends BA{constructor(t,e,i,n,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=n?function(s){try{n(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ot(r,t){return Zi((e,i)=>{let n=0;e.subscribe(Ni(i,o=>{i.next(r.call(t,o,n++))}))})}function Vu(r){return this instanceof Vu?(this.v=r,this):new Vu(r)}function nB(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=function KA(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=r[o]&&function(a){return new Promise(function(s,l){!function n(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=r[o](a)).done,a.value)})}}}const YA=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function rB(r){return jt(r?.then)}function oB(r){return jt(r[UA])}function aB(r){return Symbol.asyncIterator&&jt(r?.[Symbol.asyncIterator])}function sB(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lB=function hne(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cB(r){return jt(r?.[lB])}function uB(r){return function iB(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e.apply(r,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(h){i[h]&&(n[h]=function(p){return new Promise(function(f,m){o.push([h,p,f,m])>1||s(h,p)})})}function s(h,p){try{!function l(h){h.value instanceof Vu?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(f){d(o[0][3],f)}}function c(h){s("next",h)}function u(h){s("throw",h)}function d(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const e=r.getReader();try{for(;;){const{value:i,done:n}=yield Vu(e.read());if(n)return yield Vu(void 0);yield yield Vu(i)}}finally{e.releaseLock()}})}function dB(r){return jt(r?.getReader)}function ho(r){if(r instanceof pi)return r;if(null!=r){if(oB(r))return function pne(r){return new pi(t=>{const e=r[UA]();if(jt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(YA(r))return function fne(r){return new pi(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}(r);if(rB(r))return function mne(r){return new pi(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,qV)})}(r);if(aB(r))return hB(r);if(cB(r))return function gne(r){return new pi(t=>{for(const e of r)if(t.next(e),t.closed)return;t.complete()})}(r);if(dB(r))return function vne(r){return hB(uB(r))}(r)}throw sB(r)}function hB(r){return new pi(t=>{(function yne(r,t){var e,i,n,o;return function eB(r,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function n(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=nB(r);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(n)throw n.error}}t.complete()})})(r,t).catch(e=>t.error(e))})}function Sc(r,t,e,i=0,n=!1){const o=t.schedule(function(){e(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(o),!n)return o}function Hn(r,t,e=1/0){return jt(t)?Hn((i,n)=>ot((o,a)=>t(i,o,n,a))(ho(r(i,n))),e):("number"==typeof t&&(e=t),Zi((i,n)=>function _ne(r,t,e,i,n,o,a,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},p=m=>c<i?f(m):l.push(m),f=m=>{o&&t.next(m),c++;let g=!1;ho(e(m,u++)).subscribe(Ni(t,v=>{n?.(v),o?p(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();a?Sc(t,a,()=>f(v)):f(v)}h()}catch(v){t.error(v)}}))};return r.subscribe(Ni(t,p,()=>{d=!0,h()})),()=>{s?.()}}(i,n,r,e)))}function wf(r=1/0){return Hn(Gu,r)}const Ma=new pi(r=>r.complete());function pB(r){return r&&jt(r.schedule)}function qA(r){return r[r.length-1]}function fB(r){return jt(qA(r))?r.pop():void 0}function Pv(r){return pB(qA(r))?r.pop():void 0}function mB(r,t=0){return Zi((e,i)=>{e.subscribe(Ni(i,n=>Sc(i,r,()=>i.next(n),t),()=>Sc(i,r,()=>i.complete(),t),n=>Sc(i,r,()=>i.error(n),t)))})}function gB(r,t=0){return Zi((e,i)=>{i.add(r.schedule(()=>e.subscribe(i),t))})}function vB(r,t){if(!r)throw new Error("Iterable cannot be null");return new pi(e=>{Sc(e,t,()=>{const i=r[Symbol.asyncIterator]();Sc(e,t,()=>{i.next().then(n=>{n.done?e.complete():e.next(n.value)})},0,!0)})})}function yn(r,t){return t?function Tne(r,t){if(null!=r){if(oB(r))return function wne(r,t){return ho(r).pipe(gB(t),mB(t))}(r,t);if(YA(r))return function xne(r,t){return new pi(e=>{let i=0;return t.schedule(function(){i===r.length?e.complete():(e.next(r[i++]),e.closed||this.schedule())})})}(r,t);if(rB(r))return function Sne(r,t){return ho(r).pipe(gB(t),mB(t))}(r,t);if(aB(r))return vB(r,t);if(cB(r))return function Ene(r,t){return new pi(e=>{let i;return Sc(e,t,()=>{i=r[lB](),Sc(e,t,()=>{let n,o;try{({value:n,done:o}=i.next())}catch(a){return void e.error(a)}o?e.complete():e.next(n)},0,!0)}),()=>jt(i?.return)&&i.return()})}(r,t);if(dB(r))return function Dne(r,t){return vB(uB(r),t)}(r,t)}throw sB(r)}(r,t):ho(r)}function rn(...r){const t=Pv(r),e=function bne(r,t){return"number"==typeof qA(r)?r.pop():t}(r,1/0),i=r;return i.length?1===i.length?ho(i[0]):wf(e)(yn(i,t)):Ma}function Be(...r){return yn(r,Pv(r))}function Tw(r={}){const{connector:t=(()=>new Me),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:n=!0}=r;return o=>{let a,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},p=()=>{h(),a=l=void 0,u=d=!1},f=()=>{const m=a;p(),m?.unsubscribe()};return Zi((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(s=XA(f,n))}),v.subscribe(g),!a&&c>0&&(a=new Rv({next:y=>v.next(y),error:y=>{d=!0,h(),s=XA(p,e,y),v.error(y)},complete:()=>{u=!0,h(),s=XA(p,i),v.complete()}}),ho(m).subscribe(a))})(o)}}function XA(r,t,...e){if(!0===t)return void r();if(!1===t)return;const i=new Rv({next:()=>{i.unsubscribe(),r()}});return t(...e).subscribe(i)}function mr(r,t){return Zi((e,i)=>{let n=null,o=0,a=!1;const s=()=>a&&!n&&i.complete();e.subscribe(Ni(i,l=>{n?.unsubscribe();let c=0;const u=o++;ho(r(l,u)).subscribe(n=Ni(i,d=>i.next(t?t(l,d,u,c++):d),()=>{n=null,s()}))},()=>{a=!0,s()}))})}function Iv(r,t=Gu){return r=r??Ane,Zi((e,i)=>{let n,o=!0;e.subscribe(Ni(i,a=>{const s=t(a);(o||!r(n,s))&&(o=!1,n=s,i.next(a))}))})}function Ane(r,t){return r===t}function yi(r){for(let t in r)if(r[t]===yi)return t;throw Error("Could not find renamed property on target object.")}function Aw(r,t){for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function jn(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(jn).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const t=r.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ZA(r,t){return null==r||""===r?null===t?"":t:null==t||""===t?r:r+" "+t}const One=yi({__forward_ref__:yi});function It(r){return r.__forward_ref__=It,r.toString=function(){return jn(this())},r}function mt(r){return QA(r)?r():r}function QA(r){return"function"==typeof r&&r.hasOwnProperty(One)&&r.__forward_ref__===It}function JA(r){return r&&!!r.\u0275providers}const yB="https://g.co/ng/security#xss";class te extends Error{constructor(t,e){super(function Ow(r,t){return`NG0${Math.abs(r)}${t?": "+t:""}`}(t,e)),this.code=t}}function yt(r){return"string"==typeof r?r:null==r?"":String(r)}function Mw(r,t){throw new te(-201,!1)}function Ra(r,t){null==r&&function mi(r,t,e,i){throw new Error(`ASSERTION ERROR: ${r}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,r,null,"!=")}function ge(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ue(r){return{providers:r.providers||[],imports:r.imports||[]}}function Rw(r){return _B(r,Pw)||_B(r,bB)}function _B(r,t){return r.hasOwnProperty(t)?r[t]:null}function CB(r){return r&&(r.hasOwnProperty(eO)||r.hasOwnProperty(Nne))?r[eO]:null}const Pw=yi({\u0275prov:yi}),eO=yi({\u0275inj:yi}),bB=yi({ngInjectableDef:yi}),Nne=yi({ngInjectorDef:yi});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let tO;function po(r){const t=tO;return tO=r,t}function SB(r,t,e){const i=Rw(r);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&et.Optional?null:void 0!==t?t:void Mw(jn(r))}const Ii=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fv={},iO="__NG_DI_FLAG__",Iw="ngTempTokenPath",Vne=/\n/gm,xB="__source";let Sf;function Hu(r){const t=Sf;return Sf=r,t}function jne(r,t=et.Default){if(void 0===Sf)throw new te(-203,!1);return null===Sf?SB(r,void 0,t):Sf.get(r,t&et.Optional?null:void 0,t)}function K(r,t=et.Default){return(function wB(){return tO}()||jne)(mt(r),t)}function be(r,t=et.Default){return K(r,Fw(t))}function Fw(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function nO(r){const t=[];for(let e=0;e<r.length;e++){const i=mt(r[e]);if(Array.isArray(i)){if(0===i.length)throw new te(900,!1);let n,o=et.Default;for(let a=0;a<i.length;a++){const s=i[a],l=Une(s);"number"==typeof l?-1===l?n=s.token:o|=l:n=s}t.push(K(n,o))}else t.push(K(i))}return t}function kv(r,t){return r[iO]=t,r.prototype[iO]=t,r}function Une(r){return r[iO]}function xc(r){return{toString:r}.toString()}var ll=(()=>((ll=ll||{})[ll.OnPush=0]="OnPush",ll[ll.Default=1]="Default",ll))(),fo=(()=>{return(r=fo||(fo={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",fo;var r})();const cl={},ni=[],kw=yi({\u0275cmp:yi}),rO=yi({\u0275dir:yi}),oO=yi({\u0275pipe:yi}),DB=yi({\u0275mod:yi}),Ec=yi({\u0275fac:yi}),Lv=yi({__NG_ELEMENT_ID__:yi}),TB=yi({__NG_ENV_ID__:yi});function AB(r,t,e){let i=r.length;for(;;){const n=r.indexOf(t,e);if(-1===n)return n;if(0===n||r.charCodeAt(n-1)<=32){const o=t.length;if(n+o===i||r.charCodeAt(n+o)<=32)return n}e=n+1}}function aO(r,t,e){let i=0;for(;i<e.length;){const n=e[i];if("number"==typeof n){if(0!==n)break;i++;const o=e[i++],a=e[i++],s=e[i++];r.setAttribute(t,a,s,o)}else{const o=n,a=e[++i];MB(o)?r.setProperty(t,o,a):r.setAttribute(t,o,a),i++}}return i}function OB(r){return 3===r||4===r||6===r}function MB(r){return 64===r.charCodeAt(0)}function Nv(r,t){if(null!==t&&0!==t.length)if(null===r||0===r.length)r=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?e=n:0===e||RB(r,e,n,null,-1===e||2===e?t[++i]:null)}}return r}function RB(r,t,e,i,n){let o=0,a=r.length;if(-1===t)a=-1;else for(;o<r.length;){const s=r[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<r.length;){const s=r[o];if("number"==typeof s)break;if(s===e){if(null===i)return void(null!==n&&(r[o+1]=n));if(i===r[o+1])return void(r[o+2]=n)}o++,null!==i&&o++,null!==n&&o++}-1!==a&&(r.splice(a,0,t),o=a+1),r.splice(o++,0,e),null!==i&&r.splice(o++,0,i),null!==n&&r.splice(o++,0,n)}const PB="ng-template";function $ne(r,t,e){let i=0,n=!0;for(;i<r.length;){let o=r[i++];if("string"==typeof o&&n){const a=r[i++];if(e&&"class"===o&&-1!==AB(a.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<r.length&&"string"==typeof(o=r[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(n=!1)}}return!1}function IB(r){return 4===r.type&&r.value!==PB}function Kne(r,t,e){return t===(4!==r.type||e?r.value:PB)}function Yne(r,t,e){let i=4;const n=r.attrs||[],o=function Zne(r){for(let t=0;t<r.length;t++)if(OB(r[t]))return t;return r.length}(n);let a=!1;for(let s=0;s<t.length;s++){const l=t[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!Kne(r,l,e)||""===l&&1===t.length){if(fs(i))return!1;a=!0}}else{const c=8&i?l:t[++s];if(8&i&&null!==r.attrs){if(!$ne(r.attrs,c,e)){if(fs(i))return!1;a=!0}continue}const d=qne(8&i?"class":l,n,IB(r),e);if(-1===d){if(fs(i))return!1;a=!0;continue}if(""!==c){let h;h=d>o?"":n[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==AB(p,c,0)||2&i&&c!==h){if(fs(i))return!1;a=!0}}}}else{if(!a&&!fs(i)&&!fs(l))return!1;if(a&&fs(l))continue;a=!1,i=l|1&i}}return fs(i)||a}function fs(r){return 0==(1&r)}function qne(r,t,e,i){if(null===t)return-1;let n=0;if(i||!e){let o=!1;for(;n<t.length;){const a=t[n];if(a===r)return n;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=t[++n];for(;"string"==typeof s;)s=t[++n];continue}if(4===a)break;if(0===a){n+=4;continue}}n+=o?1:2}return-1}return function Qne(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){const i=r[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,r)}function FB(r,t,e=!1){for(let i=0;i<t.length;i++)if(Yne(r,t[i],e))return!0;return!1}function Jne(r,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(r.length===i.length){for(let n=0;n<r.length;n++)if(r[n]!==i[n])continue e;return!0}}return!1}function kB(r,t){return r?":not("+t.trim()+")":t}function ere(r){let t=r[0],e=1,i=2,n="",o=!1;for(;e<r.length;){let a=r[e];if("string"==typeof a)if(2&i){const s=r[++e];n+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?n+="."+a:4&i&&(n+=" "+a);else""!==n&&!fs(a)&&(t+=kB(o,n),n=""),i=a,o=o||!fs(i);e++}return""!==n&&(t+=kB(o,n)),t}function we(r){return xc(()=>{const t=NB(r),e={...t,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===ll.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||fo.Emulated,styles:r.styles||ni,_:null,schemas:r.schemas||null,tView:null,id:""};GB(e);const i=r.dependencies;return e.directiveDefs=Lw(i,!1),e.pipeDefs=Lw(i,!0),e.id=function lre(r){let t=0;const e=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function rre(r){return li(r)||Mr(r)}function ore(r){return null!==r}function Ke(r){return xc(()=>({type:r.type,bootstrap:r.bootstrap||ni,declarations:r.declarations||ni,imports:r.imports||ni,exports:r.exports||ni,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function LB(r,t){if(null==r)return cl;const e={};for(const i in r)if(r.hasOwnProperty(i)){let n=r[i],o=n;Array.isArray(n)&&(o=n[1],n=n[0]),e[n]=i,t&&(t[n]=o)}return e}function Q(r){return xc(()=>{const t=NB(r);return GB(t),t})}function mo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function li(r){return r[kw]||null}function Mr(r){return r[rO]||null}function go(r){return r[oO]||null}function Yo(r,t){const e=r[DB]||null;if(!e&&!0===t)throw new Error(`Type ${jn(r)} does not have '\u0275mod' property.`);return e}function NB(r){const t={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:r.inputs||cl,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||ni,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LB(r.inputs,t),outputs:LB(r.outputs)}}function GB(r){r.features?.forEach(t=>t(r))}function Lw(r,t){if(!r)return null;const e=t?go:rre;return()=>("function"==typeof r?r():r).map(i=>e(i)).filter(ore)}const Un=0,Fe=1,St=2,Qi=3,ms=4,Gv=5,Rr=6,Ef=7,_n=8,Df=9,Eh=10,xt=11,Vv=12,VB=13,Tf=14,Cn=15,Bv=16,Af=17,ul=18,Hv=19,BB=20,ju=21,Dc=22,Nw=23,Gw=24,Vt=25,sO=1,HB=2,dl=7,Of=9,Pr=11;function qo(r){return Array.isArray(r)&&"object"==typeof r[sO]}function vo(r){return Array.isArray(r)&&!0===r[sO]}function lO(r){return 0!=(4&r.flags)}function Dh(r){return r.componentOffset>-1}function Bw(r){return 1==(1&r.flags)}function gs(r){return!!r.template}function cO(r){return 0!=(512&r[St])}function Th(r,t){return r.hasOwnProperty(Ec)?r[Ec]:null}let fre=Ii.WeakRef??class pre{constructor(t){this.ref=t}deref(){return this.ref}},gre=0,hl=null,Hw=!1;function or(r){const t=hl;return hl=r,t}class $B{constructor(){this.id=gre++,this.ref=function mre(r){return new fre(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,e]of this.producers){const i=e.producerNode.deref();if(void 0!==i&&e.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(t),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Hw;Hw=!0;try{for(const[e,i]of this.consumers){const n=i.consumerNode.deref();void 0!==n&&n.trackingVersion===i.atTrackingVersion?n.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),n?.producers.delete(this.id))}}finally{Hw=t}}producerAccessed(){if(Hw)throw new Error("");if(null===hl)return;let t=hl.producers.get(this.id);void 0===t?(t={consumerNode:hl.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:hl.trackingVersion},hl.producers.set(this.id,t),this.consumers.set(hl.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=hl.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==hl?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let KB=null;function YB(r){const t=or(null);try{return r()}finally{or(t)}}const qB=()=>{};class Cre extends $B{constructor(t,e,i){super(),this.watch=t,this.schedule=e,this.dirty=!1,this.cleanupFn=qB,this.registerOnCleanup=n=>{this.cleanupFn=n},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=or(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=qB,this.watch(this.registerOnCleanup)}finally{or(t)}}cleanup(){this.cleanupFn()}}class bre{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ri(){return XB}function XB(r){return r.type.prototype.ngOnChanges&&(r.setInput=Sre),wre}function wre(){const r=QB(this),t=r?.current;if(t){const e=r.previous;if(e===cl)r.previous=t;else for(let i in t)e[i]=t[i];r.current=null,this.ngOnChanges(t)}}function Sre(r,t,e,i){const n=this.declaredInputs[e],o=QB(r)||function xre(r,t){return r[ZB]=t}(r,{previous:cl,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[n];a[n]=new bre(l&&l.currentValue,t,s===cl),r[i]=t}ri.ngInherit=!0;const ZB="__ngSimpleChanges__";function QB(r){return r[ZB]||null}const pl=function(r,t,e){},JB="svg";function Gi(r){for(;Array.isArray(r);)r=r[Un];return r}function zw(r,t){return Gi(t[r])}function yo(r,t){return Gi(t[r.index])}function t2(r,t){return r.data[t]}function Mf(r,t){return r[t]}function Xo(r,t){const e=t[r];return qo(e)?e:e[Un]}function Uu(r,t){return null==t?null:r[t]}function n2(r){r[Af]=0}function Rre(r){1024&r[St]||(r[St]|=1024,o2(r,1))}function r2(r){1024&r[St]&&(r[St]&=-1025,o2(r,-1))}function o2(r,t){let e=r[Qi];if(null===e)return;e[Gv]+=t;let i=e;for(e=e[Qi];null!==e&&(1===t&&1===i[Gv]||-1===t&&0===i[Gv]);)e[Gv]+=t,i=e,e=e[Qi]}const dt={lFrame:g2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function l2(){return dt.bindingsEnabled}function Rf(){return null!==dt.skipHydrationRootTNode}function pe(){return dt.lFrame.lView}function Yt(){return dt.lFrame.tView}function at(r){return dt.lFrame.contextLView=r,r[_n]}function st(r){return dt.lFrame.contextLView=null,r}function gr(){let r=c2();for(;null!==r&&64===r.type;)r=r.parent;return r}function c2(){return dt.lFrame.currentTNode}function fl(r,t){const e=dt.lFrame;e.currentTNode=r,e.isParent=t}function mO(){return dt.lFrame.isParent}function gO(){dt.lFrame.isParent=!1}function $r(){const r=dt.lFrame;let t=r.bindingRootIndex;return-1===t&&(t=r.bindingRootIndex=r.tView.bindingStartIndex),t}function Pf(){return dt.lFrame.bindingIndex++}function Ac(r){const t=dt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function Ure(r,t){const e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=r,vO(t)}function vO(r){dt.lFrame.currentDirectiveIndex=r}function yO(r){const t=dt.lFrame.currentDirectiveIndex;return-1===t?null:r[t]}function p2(){return dt.lFrame.currentQueryIndex}function _O(r){dt.lFrame.currentQueryIndex=r}function Wre(r){const t=r[Fe];return 2===t.type?t.declTNode:1===t.type?r[Rr]:null}function f2(r,t,e){if(e&et.SkipSelf){let n=t,o=r;for(;!(n=n.parent,null!==n||e&et.Host||(n=Wre(o),null===n||(o=o[Tf],10&n.type))););if(null===n)return!1;t=n,r=o}const i=dt.lFrame=m2();return i.currentTNode=t,i.lView=r,!0}function CO(r){const t=m2(),e=r[Fe];dt.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function m2(){const r=dt.lFrame,t=null===r?null:r.child;return null===t?g2(r):t}function g2(r){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=t),t}function v2(){const r=dt.lFrame;return dt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const y2=v2;function bO(){const r=v2();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Kr(){return dt.lFrame.selectedIndex}function Ah(r){dt.lFrame.selectedIndex=r}function Ji(){const r=dt.lFrame;return t2(r.tView,r.selectedIndex)}function Pa(){dt.lFrame.currentNamespace=JB}function Oh(){!function qre(){dt.lFrame.currentNamespace=null}()}let C2=!0;function Ww(){return C2}function zu(r){C2=r}function $w(r,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=r.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(r.contentHooks??=[]).push(-e,a),s&&((r.contentHooks??=[]).push(e,s),(r.contentCheckHooks??=[]).push(e,s)),l&&(r.viewHooks??=[]).push(-e,l),c&&((r.viewHooks??=[]).push(e,c),(r.viewCheckHooks??=[]).push(e,c)),null!=u&&(r.destroyHooks??=[]).push(e,u)}}function Kw(r,t,e){b2(r,t,3,e)}function Yw(r,t,e,i){(3&r[St])===e&&b2(r,t,e,i)}function wO(r,t){let e=r[St];(3&e)===t&&(e&=8191,e+=1,r[St]=e)}function b2(r,t,e,i){const o=i??-1,a=t.length-1;let s=0;for(let l=void 0!==i?65535&r[Af]:0;l<a;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=i&&s>=i)break}else t[l]<0&&(r[Af]+=65536),(s<o||-1==o)&&(Zre(r,e,t,l),r[Af]=(4294901760&r[Af])+l+2),l++}function w2(r,t){pl(4,r,t);const e=or(null);try{t.call(r)}finally{or(e),pl(5,r,t)}}function Zre(r,t,e,i){const n=e[i]<0,o=e[i+1],s=r[n?-e[i]:e[i]];n?r[St]>>13<r[Af]>>16&&(3&r[St])===t&&(r[St]+=8192,w2(s,o)):w2(s,o)}const If=-1;class zv{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function S2(r){return r!==If}function qw(r){return 32767&r}function Xw(r,t){let e=function toe(r){return r>>16}(r),i=t;for(;e>0;)i=i[Tf],e--;return i}let xO=!0;function Zw(r){const t=xO;return xO=r,t}const x2=255,E2=5;let ioe=0;const ml={};function Qw(r,t){const e=D2(r,t);if(-1!==e)return e;const i=t[Fe];i.firstCreatePass&&(r.injectorIndex=t.length,EO(i.data,r),EO(t,null),EO(i.blueprint,null));const n=DO(r,t),o=r.injectorIndex;if(S2(n)){const a=qw(n),s=Xw(n,t),l=s[Fe].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=n,o}function EO(r,t){r.push(0,0,0,0,0,0,0,0,t)}function D2(r,t){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===t[r.injectorIndex+8]?-1:r.injectorIndex}function DO(r,t){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let e=0,i=null,n=t;for(;null!==n;){if(i=I2(n),null===i)return If;if(e++,n=n[Tf],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return If}function TO(r,t,e){!function noe(r,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Lv)&&(i=e[Lv]),null==i&&(i=e[Lv]=ioe++);const n=i&x2;t.data[r+(n>>E2)]|=1<<n}(r,t,e)}function T2(r,t,e){if(e&et.Optional||void 0!==r)return r;Mw()}function A2(r,t,e,i){if(e&et.Optional&&void 0===i&&(i=null),!(e&(et.Self|et.Host))){const n=r[Df],o=po(void 0);try{return n?n.get(t,i,e&et.Optional):SB(t,i,e&et.Optional)}finally{po(o)}}return T2(i,0,e)}function O2(r,t,e,i=et.Default,n){if(null!==r){if(2048&t[St]&&!(i&et.Self)){const a=function loe(r,t,e,i,n){let o=r,a=t;for(;null!==o&&null!==a&&2048&a[St]&&!(512&a[St]);){const s=M2(o,a,e,i|et.Self,ml);if(s!==ml)return s;let l=o.parent;if(!l){const c=a[BB];if(c){const u=c.get(e,ml,i);if(u!==ml)return u}l=I2(a),a=a[Tf]}o=l}return n}(r,t,e,i,ml);if(a!==ml)return a}const o=M2(r,t,e,i,ml);if(o!==ml)return o}return A2(t,e,i,n)}function M2(r,t,e,i,n){const o=function aoe(r){if("string"==typeof r)return r.charCodeAt(0)||0;const t=r.hasOwnProperty(Lv)?r[Lv]:void 0;return"number"==typeof t?t>=0?t&x2:soe:t}(e);if("function"==typeof o){if(!f2(t,r,i))return i&et.Host?T2(n,0,i):A2(t,e,i,n);try{const a=o(i);if(null!=a||i&et.Optional)return a;Mw()}finally{y2()}}else if("number"==typeof o){let a=null,s=D2(r,t),l=If,c=i&et.Host?t[Cn][Rr]:null;for((-1===s||i&et.SkipSelf)&&(l=-1===s?DO(r,t):t[s+8],l!==If&&P2(i,!1)?(a=t[Fe],s=qw(l),t=Xw(l,t)):s=-1);-1!==s;){const u=t[Fe];if(R2(o,s,u.data)){const d=ooe(s,t,e,a,i,c);if(d!==ml)return d}l=t[s+8],l!==If&&P2(i,t[Fe].data[s+8]===c)&&R2(o,s,t)?(a=u,s=qw(l),t=Xw(l,t)):s=-1}}return n}function ooe(r,t,e,i,n,o){const a=t[Fe],s=a.data[r+8],u=Jw(s,a,e,null==i?Dh(s)&&xO:i!=a&&0!=(3&s.type),n&et.Host&&o===s);return null!==u?Mh(t,a,u,s):ml}function Jw(r,t,e,i,n){const o=r.providerIndexes,a=t.data,s=1048575&o,l=r.directiveStart,u=o>>20,h=n?s+u:r.directiveEnd;for(let p=i?s:s+u;p<h;p++){const f=a[p];if(p<l&&e===f||p>=l&&f.type===e)return p}if(n){const p=a[l];if(p&&gs(p)&&p.type===e)return l}return null}function Mh(r,t,e,i){let n=r[e];const o=t.data;if(function Qre(r){return r instanceof zv}(n)){const a=n;a.resolving&&function Mne(r,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${r}`:"";throw new te(-200,`Circular dependency in DI detected for ${r}${e}`)}(function fi(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():yt(r)}(o[e]));const s=Zw(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?po(a.injectImpl):null;f2(r,i,et.Default);try{n=r[e]=a.factory(void 0,o,r,i),t.firstCreatePass&&e>=i.directiveStart&&function Xre(r,t,e){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:o}=t.type.prototype;if(i){const a=XB(t);(e.preOrderHooks??=[]).push(r,a),(e.preOrderCheckHooks??=[]).push(r,a)}n&&(e.preOrderHooks??=[]).push(0-r,n),o&&((e.preOrderHooks??=[]).push(r,o),(e.preOrderCheckHooks??=[]).push(r,o))}(e,o[e],t)}finally{null!==l&&po(l),Zw(s),a.resolving=!1,y2()}}return n}function R2(r,t,e){return!!(e[t+(r>>E2)]&1<<r)}function P2(r,t){return!(r&et.Self||r&et.Host&&t)}class Ff{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return O2(this._tNode,this._lView,t,Fw(i),e)}}function soe(){return new Ff(gr(),pe())}function _t(r){return xc(()=>{const t=r.prototype.constructor,e=t[Ec]||AO(t),i=Object.prototype;let n=Object.getPrototypeOf(r.prototype).constructor;for(;n&&n!==i;){const o=n[Ec]||AO(n);if(o&&o!==e)return o;n=Object.getPrototypeOf(n)}return o=>new o})}function AO(r){return QA(r)?()=>{const t=AO(mt(r));return t&&t()}:Th(r)}function I2(r){const t=r[Fe],e=t.type;return 2===e?t.declTNode:1===e?r[Rr]:null}function gl(r){return function roe(r,t){if("class"===t)return r.classes;if("style"===t)return r.styles;const e=r.attrs;if(e){const i=e.length;let n=0;for(;n<i;){const o=e[n];if(OB(o))break;if(0===o)n+=2;else if("number"==typeof o)for(n++;n<i&&"string"==typeof e[n];)n++;else{if(o===t)return e[n+1];n+=2}}}return null}(gr(),r)}const Lf="__parameters__";function Gf(r,t,e){return xc(()=>{const i=function OO(r){return function(...e){if(r){const i=r(...e);for(const n in i)this[n]=i[n]}}}(t);function n(...o){if(this instanceof n)return i.apply(this,o),this;const a=new n(...o);return s.annotation=a,s;function s(l,c,u){const d=l.hasOwnProperty(Lf)?l[Lf]:Object.defineProperty(l,Lf,{value:[]})[Lf];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return e&&(n.prototype=Object.create(e.prototype)),n.prototype.ngMetadataName=r,n.annotationCls=n,n})}function Kv(r,t){r.forEach(e=>Array.isArray(e)?Kv(e,t):t(e))}function k2(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function eS(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function Yv(r,t){const e=[];for(let i=0;i<r;i++)e.push(t);return e}function Zo(r,t,e){let i=Vf(r,t);return i>=0?r[1|i]=e:(i=~i,function poe(r,t,e,i){let n=r.length;if(n==t)r.push(e,i);else if(1===n)r.push(i,r[0]),r[0]=e;else{for(n--,r.push(r[n-1],r[n]);n>t;)r[n]=r[n-2],n--;r[t]=e,r[t+1]=i}}(r,i,t,e)),i}function MO(r,t){const e=Vf(r,t);if(e>=0)return r[1|e]}function Vf(r,t){return function L2(r,t,e){let i=0,n=r.length>>e;for(;n!==i;){const o=i+(n-i>>1),a=r[o<<e];if(t===a)return o<<e;a>t?n=o:i=o+1}return~(n<<e)}(r,t,1)}const Fa=kv(Gf("Optional"),8),vl=kv(Gf("SkipSelf"),4);function oS(r){return 128==(128&r.flags)}var _o=(()=>((_o=_o||{})[_o.Important=1]="Important",_o[_o.DashCase=2]="DashCase",_o))();const Foe=/^>|^->|<!--|-->|--!>|<!-$/g,koe=/(<|>)/,Loe="\u200b$1\u200b";const LO=new Map;let Noe=0;const GO="__ngContext__";function Ir(r,t){qo(t)?(r[GO]=t[Hv],function Voe(r){LO.set(r[Hv],r)}(t)):r[GO]=t}let VO;function BO(r,t){return VO(r,t)}function Zv(r){const t=r[Qi];return vo(t)?t[Qi]:t}function iH(r){return rH(r[Vv])}function nH(r){return rH(r[ms])}function rH(r){for(;null!==r&&!vo(r);)r=r[ms];return r}function jf(r,t,e,i,n){if(null!=i){let o,a=!1;vo(i)?o=i:qo(i)&&(a=!0,i=i[Un]);const s=Gi(i);0===r&&null!==e?null==n?cH(t,e,s):Rh(t,e,s,n||null,!0):1===r&&null!==e?Rh(t,e,s,n||null,!0):2===r?function dS(r,t,e){const i=cS(r,t);i&&function rae(r,t,e,i){r.removeChild(t,e,i)}(r,i,t,e)}(t,s,a):3===r&&t.destroyNode(s),null!=o&&function sae(r,t,e,i,n){const o=e[dl];o!==Gi(e)&&jf(t,r,i,o,n);for(let s=Pr;s<e.length;s++){const l=e[s];Jv(l[Fe],l,r,t,i,o)}}(t,r,o,e,n)}}function HO(r,t){return r.createComment(function Y2(r){return r.replace(Foe,t=>t.replace(koe,Loe))}(t))}function lS(r,t,e){return r.createElement(t,e)}function aH(r,t){const e=r[Of],i=e.indexOf(t);r2(t),e.splice(i,1)}function jO(r,t){if(r.length<=Pr)return;const e=Pr+t,i=r[e];if(i){const n=i[Bv];null!==n&&n!==r&&aH(n,i),t>0&&(r[e-1][ms]=i[ms]);const o=eS(r,Pr+t);!function Xoe(r,t){Jv(r,t,t[xt],2,null,null),t[Un]=null,t[Rr]=null}(i[Fe],i);const a=o[ul];null!==a&&a.detachView(o[Fe]),i[Qi]=null,i[ms]=null,i[St]&=-129}return i}function sH(r,t){if(!(256&t[St])){const e=t[xt];t[Nw]?.destroy(),t[Gw]?.destroy(),e.destroyNode&&Jv(r,t,e,3,null,null),function Joe(r){let t=r[Vv];if(!t)return UO(r[Fe],r);for(;t;){let e=null;if(qo(t))e=t[Vv];else{const i=t[Pr];i&&(e=i)}if(!e){for(;t&&!t[ms]&&t!==r;)qo(t)&&UO(t[Fe],t),t=t[Qi];null===t&&(t=r),qo(t)&&UO(t[Fe],t),e=t&&t[ms]}t=e}}(t)}}function UO(r,t){if(!(256&t[St])){t[St]&=-129,t[St]|=256,function nae(r,t){let e;if(null!=r&&null!=(e=r.destroyHooks))for(let i=0;i<e.length;i+=2){const n=t[e[i]];if(!(n instanceof zv)){const o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=n[o[a]],l=o[a+1];pl(4,s,l);try{l.call(s)}finally{pl(5,s,l)}}else{pl(4,n,o);try{o.call(n)}finally{pl(5,n,o)}}}}}(r,t),function iae(r,t){const e=r.cleanup,i=t[Ef];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Ef]=null);const n=t[ju];if(null!==n){t[ju]=null;for(let o=0;o<n.length;o++)(0,n[o])()}}(r,t),1===t[Fe].type&&t[xt].destroy();const e=t[Bv];if(null!==e&&vo(t[Qi])){e!==t[Qi]&&aH(e,t);const i=t[ul];null!==i&&i.detachView(r)}!function Boe(r){LO.delete(r[Hv])}(t)}}function zO(r,t,e){return function lH(r,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Un];{const{componentOffset:n}=i;if(n>-1){const{encapsulation:o}=r.data[i.directiveStart+n];if(o===fo.None||o===fo.Emulated)return null}return yo(i,e)}}(r,t.parent,e)}function Rh(r,t,e,i,n){r.insertBefore(t,e,i,n)}function cH(r,t,e){r.appendChild(t,e)}function uH(r,t,e,i,n){null!==i?Rh(r,t,e,i,n):cH(r,t,e)}function cS(r,t){return r.parentNode(t)}function dH(r,t,e){return pH(r,t,e)}let WO,hS,qO,pS,pH=function hH(r,t,e){return 40&r.type?yo(r,e):null};function uS(r,t,e,i){const n=zO(r,i,t),o=t[xt],s=dH(i.parent||t[Rr],i,t);if(null!=n)if(Array.isArray(e))for(let l=0;l<e.length;l++)uH(o,n,e[l],s,!1);else uH(o,n,e,s,!1);void 0!==WO&&WO(o,i,t,e,n)}function Qv(r,t){if(null!==t){const e=t.type;if(3&e)return yo(t,r);if(4&e)return $O(-1,r[t.index]);if(8&e){const i=t.child;if(null!==i)return Qv(r,i);{const n=r[t.index];return vo(n)?$O(-1,n):Gi(n)}}if(32&e)return BO(t,r)()||Gi(r[t.index]);{const i=mH(r,t);return null!==i?Array.isArray(i)?i[0]:Qv(Zv(r[Cn]),i):Qv(r,t.next)}}return null}function mH(r,t){return null!==t?r[Cn][Rr].projection[t.projection]:null}function $O(r,t){const e=Pr+r+1;if(e<t.length){const i=t[e],n=i[Fe].firstChild;if(null!==n)return Qv(i,n)}return t[dl]}function KO(r,t,e,i,n,o,a){for(;null!=e;){const s=i[e.index],l=e.type;if(a&&0===t&&(s&&Ir(Gi(s),i),e.flags|=2),32!=(32&e.flags))if(8&l)KO(r,t,e.child,i,n,o,!1),jf(t,r,n,s,o);else if(32&l){const c=BO(e,i);let u;for(;u=c();)jf(t,r,n,u,o);jf(t,r,n,s,o)}else 16&l?vH(r,t,i,e,n,o):jf(t,r,n,s,o);e=a?e.projectionNext:e.next}}function Jv(r,t,e,i,n,o){KO(e,i,r.firstChild,t,n,o,!1)}function vH(r,t,e,i,n,o){const a=e[Cn],l=a[Rr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)jf(t,r,n,l[c],o);else{let c=l;const u=a[Qi];oS(i)&&(c.flags|=128),KO(r,t,c,u,n,o,!0)}}function yH(r,t,e){""===e?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e)}function _H(r,t,e){const{mergedAttrs:i,classes:n,styles:o}=e;null!==i&&aO(r,t,i),null!==n&&yH(r,t,n),null!==o&&function cae(r,t,e){r.setAttribute(t,"style",e)}(r,t,o)}function Uf(r){return function YO(){if(void 0===hS&&(hS=null,Ii.trustedTypes))try{hS=Ii.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return hS}()?.createHTML(r)||r}function wH(r){return function XO(){if(void 0===pS&&(pS=null,Ii.trustedTypes))try{pS=Ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return pS}()?.createScriptURL(r)||r}class Ph{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yB})`}}class fae extends Ph{getTypeName(){return"HTML"}}class mae extends Ph{getTypeName(){return"Style"}}class gae extends Ph{getTypeName(){return"Script"}}class vae extends Ph{getTypeName(){return"URL"}}class yae extends Ph{getTypeName(){return"ResourceURL"}}function Qo(r){return r instanceof Ph?r.changingThisBreaksApplicationSecurity:r}function yl(r,t){const e=function _ae(r){return r instanceof Ph&&r.getTypeName()||null}(r);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${yB})`)}return e===t}class Eae{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Uf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Dae{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Uf(t),e}}const Aae=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fS(r){return(r=String(r)).match(Aae)?r:"unsafe:"+r}function Oc(r){const t={};for(const e of r.split(","))t[e]=!0;return t}function ty(...r){const t={};for(const e of r)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const xH=Oc("area,br,col,hr,img,wbr"),EH=Oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),DH=Oc("rp,rt"),ZO=ty(xH,ty(EH,Oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ty(DH,Oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ty(DH,EH)),QO=Oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TH=ty(QO,Oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oae=Oc("script,style,template");class Mae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ZO.hasOwnProperty(e))return this.sanitizedSomething=!0,!Oae.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let n=0;n<i.length;n++){const o=i.item(n),a=o.name,s=a.toLowerCase();if(!TH.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;QO[s]&&(l=fS(l)),this.buf.push(" ",a,'="',AH(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ZO.hasOwnProperty(e)&&!xH.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(AH(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Rae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pae=/([^\#-~ |!])/g;function AH(r){return r.replace(/&/g,"&amp;").replace(Rae,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pae,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mS;function OH(r,t){let e=null;try{mS=mS||function SH(r){const t=new Dae(r);return function Tae(){try{return!!(new window.DOMParser).parseFromString(Uf(""),"text/html")}catch{return!1}}()?new Eae(t):t}(r);let i=t?String(t):"";e=mS.getInertBodyElement(i);let n=5,o=i;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,i=o,o=e.innerHTML,e=mS.getInertBodyElement(i)}while(i!==o);return Uf((new Mae).sanitizeChildren(JO(e)||e))}finally{if(e){const i=JO(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function JO(r){return"content"in r&&function Iae(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function eM(r){const t=iy();return t?t.sanitize(ci.URL,r)||"":yl(r,"URL")?Qo(r):fS(yt(r))}function MH(r){const t=iy();if(t)return wH(t.sanitize(ci.RESOURCE_URL,r)||"");if(yl(r,"ResourceURL"))return wH(Qo(r));throw new te(904,!1)}function iy(){const r=pe();return r&&r[Eh].sanitizer}class ee{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ge({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ny=new ee("ENVIRONMENT_INITIALIZER"),PH=new ee("INJECTOR",-1),IH=new ee("INJECTOR_DEF_TYPES");class FH{get(t,e=Fv){if(e===Fv){const i=new Error(`NullInjectorError: No provider for ${jn(t)}!`);throw i.name="NullInjectorError",i}return e}}function Bae(...r){return{\u0275providers:kH(0,r),\u0275fromNgModule:!0}}function kH(r,...t){const e=[],i=new Set;let n;return Kv(t,o=>{const a=o;iM(a,e,[],i)&&(n||=[],n.push(a))}),void 0!==n&&LH(n,e),e}function LH(r,t){for(let e=0;e<r.length;e++){const{providers:n}=r[e];nM(n,o=>{t.push(o)})}}function iM(r,t,e,i){if(!(r=mt(r)))return!1;let n=null,o=CB(r);const a=!o&&li(r);if(o||a){if(a&&!a.standalone)return!1;n=r}else{const l=r.ngModule;if(o=CB(l),!o)return!1;n=l}const s=i.has(n);if(a){if(s)return!1;if(i.add(n),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)iM(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;i.add(n);try{Kv(o.imports,u=>{iM(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&LH(c,t)}if(!s){const c=Th(n)||(()=>new n);t.push({provide:n,useFactory:c,deps:ni},{provide:IH,useValue:n,multi:!0},{provide:ny,useValue:()=>K(n),multi:!0})}const l=o.providers;null==l||s||nM(l,u=>{t.push(u)})}}return n!==r&&void 0!==r.providers}function nM(r,t){for(let e of r)JA(e)&&(e=e.\u0275providers),Array.isArray(e)?nM(e,t):t(e)}const Hae=yi({provide:String,useValue:yi});function rM(r){return null!==r&&"object"==typeof r&&Hae in r}function Ih(r){return"function"==typeof r}const oM=new ee("Set Injector scope."),gS={},Uae={};let aM;function vS(){return void 0===aM&&(aM=new FH),aM}class _l{}class sM extends _l{get destroyed(){return this._destroyed}constructor(t,e,i,n){super(),this.parent=e,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cM(t,a=>this.processProvider(a)),this.records.set(PH,zf(void 0,this)),n.has("environment")&&this.records.set(_l,zf(void 0,this));const o=this.records.get(oM);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IH.multi,ni,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Hu(this),i=po(void 0);try{return t()}finally{Hu(e),po(i)}}get(t,e=Fv,i=et.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(TB))return t[TB](this);i=Fw(i);const n=Hu(this),o=po(void 0);try{if(!(i&et.SkipSelf)){let s=this.records.get(t);if(void 0===s){const l=function Yae(r){return"function"==typeof r||"object"==typeof r&&r instanceof ee}(t)&&Rw(t);s=l&&this.injectableDefInScope(l)?zf(lM(t),gS):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(i&et.Self?vS():this.parent).get(t,e=i&et.Optional&&e===Fv?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Iw]=a[Iw]||[]).unshift(jn(t)),n)throw a;return function zne(r,t,e,i){const n=r[Iw];throw t[xB]&&n.unshift(t[xB]),r.message=function Wne(r,t,e,i=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let n=jn(t);if(Array.isArray(t))n=t.map(jn).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):jn(s)))}n=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${n}]: ${r.replace(Vne,"\n  ")}`}("\n"+r.message,n,e,i),r.ngTokenPath=n,r[Iw]=null,r}(a,t,"R3InjectorError",this.source)}throw a}finally{po(o),Hu(n)}}resolveInjectorInitializers(){const t=Hu(this),e=po(void 0);try{const i=this.get(ny.multi,ni,et.Self);for(const n of i)n()}finally{Hu(t),po(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(jn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(t){let e=Ih(t=mt(t))?t:mt(t&&t.provide);const i=function Wae(r){return rM(r)?zf(void 0,r.useValue):zf(VH(r),gS)}(t);if(Ih(t)||!0!==t.multi)this.records.get(e);else{let n=this.records.get(e);n||(n=zf(void 0,gS,!0),n.factory=()=>nO(n.multi),this.records.set(e,n)),e=t,n.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===gS&&(e.value=Uae,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Kae(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=mt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function lM(r){const t=Rw(r),e=null!==t?t.factory:Th(r);if(null!==e)return e;if(r instanceof ee)throw new te(204,!1);if(r instanceof Function)return function zae(r){const t=r.length;if(t>0)throw Yv(t,"?"),new te(204,!1);const e=function Lne(r){return r&&(r[Pw]||r[bB])||null}(r);return null!==e?()=>e.factory(r):()=>new r}(r);throw new te(204,!1)}function VH(r,t,e){let i;if(Ih(r)){const n=mt(r);return Th(n)||lM(n)}if(rM(r))i=()=>mt(r.useValue);else if(function GH(r){return!(!r||!r.useFactory)}(r))i=()=>r.useFactory(...nO(r.deps||[]));else if(function NH(r){return!(!r||!r.useExisting)}(r))i=()=>K(mt(r.useExisting));else{const n=mt(r&&(r.useClass||r.provide));if(!function $ae(r){return!!r.deps}(r))return Th(n)||lM(n);i=()=>new n(...nO(r.deps))}return i}function zf(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function cM(r,t){for(const e of r)Array.isArray(e)?cM(e,t):e&&JA(e)?cM(e.\u0275providers,t):t(e)}const ry=new ee("AppId",{providedIn:"root",factory:()=>qae}),qae="ng",BH=new ee("Platform Initializer"),Wu=new ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ai=new ee("AnimationModuleType"),uM=new ee("CSP nonce",{providedIn:"root",factory:()=>function ey(){if(void 0!==qO)return qO;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jH=(r,t)=>null;function UH(r,t){return jH(r,t)}class rse{}class $H{}class ase{resolveComponentFactory(t){throw function ose(r){const t=Error(`No component factory found for ${jn(r)}.`);return t.ngComponent=r,t}(t)}}let Fh=(()=>{class r{static#e=this.NULL=new ase}return r})();function sse(){return Wf(gr(),pe())}function Wf(r,t){return new Se(yo(r,t))}let Se=(()=>{class r{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=sse}return r})();function lse(r){return r instanceof Se?r.nativeElement:r}class ly{}let Mc=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cse(){const r=pe(),e=Xo(gr().index,r);return(qo(e)?e:r)[xt]}()}return r})(),use=(()=>{class r{static#e=this.\u0275prov=ge({token:r,providedIn:"root",factory:()=>null})}return r})();class kh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const dse=new kh("16.1.2"),bM={};function cy(r){for(;r;){r[St]|=64;const t=Zv(r);if(cO(r)&&!t)return r;r=t}return null}function wM(r){return r.ngOriginalError}class Cl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&wM(t);for(;e&&wM(e);)e=wM(e);return e||null}}const XH=new ee("",{providedIn:"root",factory:()=>!1});function Rc(r){return r instanceof Function?r():r}class t3 extends $B{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){cy(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,e,i){const n=or(this);this.trackingVersion++;try{t(e,i)}finally{or(n)}}destroy(){this.trackingVersion++}}let SS=null;function n3(){return SS??=new t3,SS}function r3(r,t){return r[t]??n3()}function o3(r,t){const e=n3();e.hasReadASignal&&(r[t]=SS,e.lView=r,SS=new t3)}const Et={};function L(r){a3(Yt(),pe(),Kr()+r,!1)}function a3(r,t,e,i){if(!i)if(3==(3&t[St])){const o=r.preOrderCheckHooks;null!==o&&Kw(t,o,e)}else{const o=r.preOrderHooks;null!==o&&Yw(t,o,0,e)}Ah(e)}function u3(r,t=null,e=null,i){const n=d3(r,t,e,i);return n.resolveInjectorInitializers(),n}function d3(r,t=null,e=null,i,n=new Set){const o=[e||ni,Bae(r)];return i=i||("object"==typeof r?void 0:jn(r)),new sM(o,t||vS(),i||null,n)}let vr=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=Fv;static#t=this.NULL=new FH;static create(e,i){if(Array.isArray(e))return u3({name:""},i,e,"");{const n=e.name??"";return u3({name:n},e.parent,e.providers,n)}}static#i=this.\u0275prov=ge({token:r,providedIn:"any",factory:()=>K(PH)});static#n=this.__NG_ELEMENT_ID__=-1}return r})();function T(r,t=et.Default){const e=pe();return null===e?K(r,t):O2(gr(),e,mt(r),t)}function vs(){throw new Error("invalid")}function xS(r,t,e,i,n,o,a,s,l,c,u){const d=t.blueprint.slice();return d[Un]=n,d[St]=140|i,(null!==c||r&&2048&r[St])&&(d[St]|=2048),n2(d),d[Qi]=d[Tf]=r,d[_n]=e,d[Eh]=a||r&&r[Eh],d[xt]=s||r&&r[xt],d[Df]=l||r&&r[Df]||null,d[Rr]=o,d[Hv]=function Goe(){return Noe++}(),d[Dc]=u,d[BB]=c,d[Cn]=2==t.type?r[Cn]:d,d}function Kf(r,t,e,i,n){let o=r.data[t];if(null===o)o=function SM(r,t,e,i,n){const o=c2(),a=mO(),l=r.data[t]=function Pse(r,t,e,i,n,o){let a=t?t.injectorIndex:-1,s=0;return Rf()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:n,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,i,n);return null===r.firstChild&&(r.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(r,t,e,i,n),function jre(){return dt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=n;const a=function Uv(){const r=dt.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return fl(o,!0),o}function uy(r,t,e,i){if(0===e)return-1;const n=t.length;for(let o=0;o<e;o++)t.push(i),r.blueprint.push(i),r.data.push(null);return n}function h3(r,t,e,i,n){const o=r3(t,Nw),a=Kr(),s=2&i;try{if(Ah(-1),s&&t.length>Vt&&a3(r,t,Vt,!1),pl(s?2:0,n),s)o.runInContext(e,i,n);else{const c=or(null);try{e(i,n)}finally{or(c)}}}finally{s&&null===t[Nw]&&o3(t,Nw),Ah(a),pl(s?3:1,n)}}function xM(r,t,e){if(lO(t)){const i=or(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const s=r.data[a];s.contentQueries&&s.contentQueries(1,e[a],a)}}finally{or(i)}}}function EM(r,t,e){l2()&&(function Vse(r,t,e,i){const n=e.directiveStart,o=e.directiveEnd;Dh(e)&&function $se(r,t,e){const i=yo(t,r),n=p3(e);let a=16;e.signals?a=4096:e.onPush&&(a=64);const s=ES(r,xS(r,n,null,a,i,t,null,r[Eh].rendererFactory.createRenderer(i,e),null,null,null));r[t.index]=s}(t,e,r.data[n+e.componentOffset]),r.firstCreatePass||Qw(e,t),Ir(i,t);const a=e.initialInputs;for(let s=n;s<o;s++){const l=r.data[s],c=Mh(t,r,s,e);Ir(c,t),null!==a&&Kse(0,s-n,c,l,0,a),gs(l)&&(Xo(e.index,t)[_n]=Mh(t,r,s,e))}}(r,t,e,yo(e,t)),64==(64&e.flags)&&y3(r,t,e))}function DM(r,t,e=yo){const i=t.localNames;if(null!==i){let n=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],s=-1===a?e(t,r):r[a];r[n++]=s}}}function p3(r){const t=r.tView;return null===t||t.incompleteFirstPass?r.tView=TM(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):t}function TM(r,t,e,i,n,o,a,s,l,c,u){const d=Vt+i,h=d+n,p=function Dse(r,t){const e=[];for(let i=0;i<t;i++)e.push(i<r?null:Et);return e}(d,h),f="function"==typeof c?c():c;return p[Fe]={type:r,blueprint:p,template:e,queries:null,viewQuery:s,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}let f3=r=>null;function m3(r,t,e,i){for(let n in r)if(r.hasOwnProperty(n)){e=null===e?{}:e;const o=r[n];null===i?g3(e,t,n,o):i.hasOwnProperty(n)&&g3(e,t,i[n],o)}return e}function g3(r,t,e,i){r.hasOwnProperty(e)?r[e].push(t,i):r[e]=[t,i]}function Jo(r,t,e,i,n,o,a,s){const l=yo(t,e);let u,c=t.inputs;!s&&null!=c&&(u=c[i])?(PM(r,e,u,i,n),Dh(t)&&function kse(r,t){const e=Xo(t,r);16&e[St]||(e[St]|=64)}(e,t.index)):3&t.type&&(i=function Fse(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(i),n=null!=a?a(n,t.value||"",i):n,o.setProperty(l,i,n))}function AM(r,t,e,i){if(l2()){const n=null===i?null:{"":-1},o=function Hse(r,t){const e=r.directiveRegistry;let i=null,n=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(FB(t,a.selectors,!1))if(i||(i=[]),gs(a))if(null!==a.findHostDirectiveDefs){const s=[];n=n||new Map,a.findHostDirectiveDefs(a,s,n),i.unshift(...s,a),OM(r,t,s.length)}else i.unshift(a),OM(r,t,0);else n=n||new Map,a.findHostDirectiveDefs?.(a,i,n),i.push(a)}return null===i?null:[i,n]}(r,e);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&v3(r,t,e,a,n,s),n&&function jse(r,t,e){if(t){const i=r.localNames=[];for(let n=0;n<t.length;n+=2){const o=e[t[n+1]];if(null==o)throw new te(-301,!1);i.push(t[n],o)}}}(e,i,n)}e.mergedAttrs=Nv(e.mergedAttrs,e.attrs)}function v3(r,t,e,i,n,o){for(let c=0;c<i.length;c++)TO(Qw(e,t),r,i[c].type);!function zse(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}(e,r.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=uy(r,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Nv(e.mergedAttrs,u.hostAttrs),Wse(r,e,t,l,u),Use(l,u,n),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((r.preOrderHooks??=[]).push(e.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(e.index),s=!0),l++}!function Ise(r,t,e){const n=t.directiveEnd,o=r.data,a=t.attrs,s=[];let l=null,c=null;for(let u=t.directiveStart;u<n;u++){const d=o[u],h=e?e.get(d):null,f=h?h.outputs:null;l=m3(d.inputs,u,l,h?h.inputs:null),c=m3(d.outputs,u,c,f);const m=null===l||null===a||IB(t)?null:Yse(l,u,a);s.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=c}(r,e,o)}function y3(r,t,e){const i=e.directiveStart,n=e.directiveEnd,o=e.index,a=function zre(){return dt.lFrame.currentDirectiveIndex}();try{Ah(o);for(let s=i;s<n;s++){const l=r.data[s],c=t[s];vO(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Bse(l,c)}}finally{Ah(-1),vO(a)}}function Bse(r,t){null!==r.hostBindings&&r.hostBindings(1,t)}function OM(r,t,e){t.componentOffset=e,(r.components??=[]).push(t.index)}function Use(r,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=r;gs(t)&&(e[""]=r)}}function Wse(r,t,e,i,n){r.data[i]=n;const o=n.factory||(n.factory=Th(n.type)),a=new zv(o,gs(n),T);r.blueprint[i]=a,e[i]=a,function Nse(r,t,e,i,n){const o=n.hostBindings;if(o){let a=r.hostBindingOpCodes;null===a&&(a=r.hostBindingOpCodes=[]);const s=~t.index;(function Gse(r){let t=r.length;for(;t>0;){const e=r[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=s&&a.push(s),a.push(e,i,o)}}(r,t,i,uy(r,e,n.hostVars,Et),n)}function bl(r,t,e,i,n,o){const a=yo(r,t);!function MM(r,t,e,i,n,o,a){if(null==o)r.removeAttribute(t,n,e);else{const s=null==a?yt(o):a(o,i||"",n);r.setAttribute(t,n,s,e)}}(t[xt],a,o,r.value,e,i,n)}function Kse(r,t,e,i,n,o){const a=o[t];if(null!==a)for(let s=0;s<a.length;)_3(i,e,a[s++],a[s++],a[s++])}function _3(r,t,e,i,n){const o=or(null);try{const a=r.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(n=a[i].call(t,n)),null!==r.setInput?r.setInput(t,n,e,i):t[i]=n}finally{or(o)}}function Yse(r,t,e){let i=null,n=0;for(;n<e.length;){const o=e[n];if(0!==o)if(5!==o){if("number"==typeof o)break;if(r.hasOwnProperty(o)){null===i&&(i=[]);const a=r[o];for(let s=0;s<a.length;s+=2)if(a[s]===t){i.push(o,a[s+1],e[n+1]);break}}n+=2}else n+=2;else n+=4}return i}function C3(r,t,e,i){return[r,!0,!1,t,null,0,i,e,null,null,null]}function b3(r,t){const e=r.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const a=r.data[o];_O(e[i]),a.contentQueries(2,t[o],o)}}}function ES(r,t){return r[Vv]?r[VB][ms]=t:r[Vv]=t,r[VB]=t,t}function RM(r,t,e){_O(0);const i=or(null);try{t(r,e)}finally{or(i)}}function w3(r){return r[Ef]||(r[Ef]=[])}function S3(r){return r.cleanup||(r.cleanup=[])}function x3(r,t,e){return(null===r||gs(r))&&(e=function Dre(r){for(;Array.isArray(r);){if("object"==typeof r[sO])return r;r=r[Un]}return null}(e[t.index])),e[xt]}function E3(r,t){const e=r[Df],i=e?e.get(Cl,null):null;i&&i.handleError(t)}function PM(r,t,e,i,n){for(let o=0;o<e.length;){const a=e[o++],s=e[o++];_3(r.data[a],t[a],i,s,n)}}function Pc(r,t,e){const i=zw(t,r);!function oH(r,t,e){r.setValue(t,e)}(r[xt],i,e)}function qse(r,t){const e=Xo(t,r),i=e[Fe];!function Xse(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])}(i,e);const n=e[Un];null!==n&&null===e[Dc]&&(e[Dc]=UH(n,e[Df])),IM(i,e,e[_n])}function IM(r,t,e){CO(t);try{const i=r.viewQuery;null!==i&&RM(1,i,e);const n=r.template;null!==n&&h3(r,t,n,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&b3(r,t),r.staticViewQueries&&RM(2,r.viewQuery,e);const o=r.components;null!==o&&function Zse(r,t){for(let e=0;e<t.length;e++)qse(r,t[e])}(t,o)}catch(i){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),i}finally{t[St]&=-5,bO()}}let D3=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(e,i,n){const o=typeof Zone>"u"?null:Zone.current,a=new Cre(e,c=>{this.all.has(c)&&this.queue.set(c,o)},n);let s;this.all.add(a),a.notify();const l=()=>{a.cleanup(),s?.(),this.all.delete(a),this.queue.delete(a)};return s=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ge({token:r,providedIn:"root",factory:()=>new r})}return r})();function DS(r,t,e){let i=e?r.styles:null,n=e?r.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const s=t[a];"number"==typeof s?o=s:1==o?n=ZA(n,s):2==o&&(i=ZA(i,s+": "+t[++a]+";"))}e?r.styles=i:r.stylesWithoutHost=i,e?r.classes=n:r.classesWithoutHost=n}function dy(r,t,e,i,n=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Gi(o)),vo(o)){for(let s=Pr;s<o.length;s++){const l=o[s],c=l[Fe].firstChild;null!==c&&dy(l[Fe],l,c,i)}o[dl]!==o[Un]&&i.push(o[dl])}const a=e.type;if(8&a)dy(r,t,e.child,i);else if(32&a){const s=BO(e,t);let l;for(;l=s();)i.push(l)}else if(16&a){const s=mH(t,e);if(Array.isArray(s))i.push(...s);else{const l=Zv(t[Cn]);dy(l[Fe],l,s,i,!0)}}e=n?e.projectionNext:e.next}return i}function TS(r,t,e,i=!0){const n=t[Eh].rendererFactory;n.begin&&n.begin();try{T3(r,t,r.template,e)}catch(a){throw i&&E3(t,a),a}finally{n.end&&n.end(),t[Eh].effectManager?.flush()}}function T3(r,t,e,i){const n=t[St];if(256!=(256&n)){t[Eh].effectManager?.flush(),CO(t);try{n2(t),function d2(r){return dt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==e&&h3(r,t,e,2,i);const a=3==(3&n);if(a){const c=r.preOrderCheckHooks;null!==c&&Kw(t,c,null)}else{const c=r.preOrderHooks;null!==c&&Yw(t,c,0,null),wO(t,0)}if(function ile(r){for(let t=iH(r);null!==t;t=nH(t)){if(!t[HB])continue;const e=t[Of];for(let i=0;i<e.length;i++){Rre(e[i])}}}(t),A3(t,2),null!==r.contentQueries&&b3(r,t),a){const c=r.contentCheckHooks;null!==c&&Kw(t,c)}else{const c=r.contentHooks;null!==c&&Yw(t,c,1),wO(t,1)}!function Ese(r,t){const e=r.hostBindingOpCodes;if(null===e)return;const i=r3(t,Gw);try{for(let n=0;n<e.length;n++){const o=e[n];if(o<0)Ah(~o);else{const a=o,s=e[++n],l=e[++n];Ure(s,a),i.runInContext(l,2,t[a])}}}finally{null===t[Gw]&&o3(t,Gw),Ah(-1)}}(r,t);const s=r.components;null!==s&&M3(t,s,0);const l=r.viewQuery;if(null!==l&&RM(2,l,i),a){const c=r.viewCheckHooks;null!==c&&Kw(t,c)}else{const c=r.viewHooks;null!==c&&Yw(t,c,2),wO(t,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),t[St]&=-73,r2(t)}finally{bO()}}}function A3(r,t){for(let e=iH(r);null!==e;e=nH(e))for(let i=Pr;i<e.length;i++)O3(e[i],t)}function nle(r,t,e){O3(Xo(t,r),e)}function O3(r,t){if(!function Ore(r){return 128==(128&r[St])}(r))return;const e=r[Fe];if(80&r[St]&&0===t||1024&r[St]||2===t)T3(e,r,e.template,r[_n]);else if(r[Gv]>0){A3(r,1);const n=r[Fe].components;null!==n&&M3(r,n,1)}}function M3(r,t,e){for(let i=0;i<t.length;i++)nle(r,t[i],e)}class hy{get rootNodes(){const t=this._lView,e=t[Fe];return dy(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(t){this._lView[_n]=t}get destroyed(){return 256==(256&this._lView[St])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qi];if(vo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(jO(t,i),eS(e,i))}this._attachedToViewContainer=!1}sH(this._lView[Fe],this._lView)}onDestroy(t){!function a2(r,t){if(256==(256&r[St]))throw new te(911,!1);null===r[ju]&&(r[ju]=[]),r[ju].push(t)}(this._lView,t)}markForCheck(){cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[St]&=-129}reattach(){this._lView[St]|=128}detectChanges(){TS(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qoe(r,t){Jv(r,t,t[xt],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=t}}class rle extends hy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;TS(t[Fe],t,t[_n],!1)}checkNoChanges(){}get context(){return null}}class R3 extends Fh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=li(t);return new py(e,this.ngModule)}}function P3(r){const t=[];for(let e in r)r.hasOwnProperty(e)&&t.push({propName:r[e],templateName:e});return t}class ale{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Fw(i);const n=this.injector.get(t,bM,i);return n!==bM||e===bM?n:this.parentInjector.get(t,e,i)}}class py extends $H{get inputs(){return P3(this.componentDef.inputs)}get outputs(){return P3(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function tre(r){return r.map(ere).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,n){let o=(n=n||this.ngModule)instanceof _l?n:n?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new ale(t,o):t,s=a.get(ly,null);if(null===s)throw new te(407,!1);const u={rendererFactory:s,sanitizer:a.get(use,null),effectManager:a.get(D3,null)},d=s.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?function Tse(r,t,e,i){const o=i.get(XH,!1)||e===fo.ShadowDom,a=r.selectRootElement(t,o);return function Ase(r){f3(r)}(a),a}(d,i,this.componentDef.encapsulation,a):lS(d,h,function ole(r){const t=r.toLowerCase();return"svg"===t?JB:"math"===t?"math":null}(h)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=TM(0,null,null,1,0,null,null,null,null,null,null),y=xS(null,v,null,g,null,null,u,d,a,null,null);let _,b;CO(y);try{const w=this.componentDef;let E,M=null;w.findHostDirectiveDefs?(E=[],M=new Map,w.findHostDirectiveDefs(w,E,M),E.push(w)):E=[w];const P=function lle(r,t){const e=r[Fe],i=Vt;return r[i]=t,Kf(e,i,2,"#host",null)}(y,p),I=function cle(r,t,e,i,n,o,a){const s=n[Fe];!function ule(r,t,e,i){for(const n of r)t.mergedAttrs=Nv(t.mergedAttrs,n.hostAttrs);null!==t.mergedAttrs&&(DS(t,t.mergedAttrs,!0),null!==e&&_H(i,e,t))}(i,r,t,a);let l=null;null!==t&&(l=UH(t,n[Df]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=xS(n,p3(e),null,u,n[r.index],r,o,c,null,null,l);return s.firstCreatePass&&OM(s,r,i.length-1),ES(n,d),n[r.index]=d}(P,p,w,E,y,u,d);b=t2(v,Vt),p&&function hle(r,t,e,i){if(i)aO(r,e,["ng-version",dse.full]);else{const{attrs:n,classes:o}=function ire(r){const t=[],e=[];let i=1,n=2;for(;i<r.length;){let o=r[i];if("string"==typeof o)2===n?""!==o&&t.push(o,r[++i]):8===n&&e.push(o);else{if(!fs(n))break;n=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);n&&aO(r,e,n),o&&o.length>0&&yH(r,e,o.join(" "))}}(d,w,p,i),void 0!==e&&function ple(r,t,e){const i=r.projection=[];for(let n=0;n<t.length;n++){const o=e[n];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,e),_=function dle(r,t,e,i,n,o){const a=gr(),s=n[Fe],l=yo(a,n);v3(s,n,a,e,null,i);for(let u=0;u<e.length;u++)Ir(Mh(n,s,a.directiveStart+u,a),n);y3(s,n,a),l&&Ir(l,n);const c=Mh(n,s,a.directiveStart+a.componentOffset,a);if(r[_n]=n[_n]=c,null!==o)for(const u of o)u(c,t);return xM(s,a,r),c}(I,w,E,M,y,[fle]),IM(v,y,null)}finally{bO()}return new sle(this.componentType,_,Wf(b,y),y,b)}}class sle extends rse{constructor(t,e,i,n,o){super(),this.location=i,this._rootLView=n,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new rle(n),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let n;if(null!==i&&(n=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;PM(o[Fe],o,n,t,e),this.previousInputValues.set(t,e),cy(Xo(this._tNode.index,o))}}get injector(){return new Ff(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function fle(){const r=gr();$w(pe()[Fe],r)}function fe(r){let t=function I3(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),e=!0;const i=[r];for(;t;){let n;if(gs(r))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new te(903,!1);n=t.\u0275dir}if(n){if(e){i.push(n);const a=r;a.inputs=AS(r.inputs),a.inputTransforms=AS(r.inputTransforms),a.declaredInputs=AS(r.declaredInputs),a.outputs=AS(r.outputs);const s=n.hostBindings;s&&yle(r,s);const l=n.viewQuery,c=n.contentQueries;if(l&&gle(r,l),c&&vle(r,c),Aw(r.inputs,n.inputs),Aw(r.declaredInputs,n.declaredInputs),Aw(r.outputs,n.outputs),null!==n.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Aw(a.inputTransforms,n.inputTransforms)),gs(n)&&n.data.animation){const u=r.data;u.animation=(u.animation||[]).concat(n.data.animation)}}const o=n.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(r),s===fe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function mle(r){let t=0,e=null;for(let i=r.length-1;i>=0;i--){const n=r[i];n.hostVars=t+=n.hostVars,n.hostAttrs=Nv(n.hostAttrs,e=Nv(e,n.hostAttrs))}}(i)}function AS(r){return r===cl?{}:r===ni?[]:r}function gle(r,t){const e=r.viewQuery;r.viewQuery=e?(i,n)=>{t(i,n),e(i,n)}:t}function vle(r,t){const e=r.contentQueries;r.contentQueries=e?(i,n,o)=>{t(i,n,o),e(i,n,o)}:t}function yle(r,t){const e=r.hostBindings;r.hostBindings=e?(i,n)=>{t(i,n),e(i,n)}:t}function N3(r){const t=r.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];Array.isArray(n)&&n[2]&&(e[i]=n[2])}r.inputTransforms=e}function OS(r){return!!FM(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function FM(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function wl(r,t,e){return r[t]=e}function Fr(r,t,e){return!Object.is(r[t],e)&&(r[t]=e,!0)}function Lh(r,t,e,i){const n=Fr(r,t,e);return Fr(r,t+1,i)||n}function je(r,t,e,i){const n=pe();return Fr(n,Pf(),t)&&(Yt(),bl(Ji(),n,r,t,e,i)),je}function qf(r,t,e,i){return Fr(r,Pf(),e)?t+yt(e)+i:Et}function Xf(r,t,e,i,n,o){const s=Lh(r,function Tc(){return dt.lFrame.bindingIndex}(),e,n);return Ac(2),s?t+yt(e)+i+yt(n)+o:Et}function ue(r,t,e,i,n,o,a,s){const l=pe(),c=Yt(),u=r+Vt,d=c.firstCreatePass?function Ule(r,t,e,i,n,o,a,s,l){const c=t.consts,u=Kf(t,r,4,a||null,Uu(c,s));AM(t,e,u,Uu(c,l)),$w(t,u);const d=u.tView=TM(2,u,i,n,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,n,o,a):c.data[u];fl(d,!1);const h=X3(c,l,d,r);Ww()&&uS(c,l,h,d),Ir(h,l),ES(l,l[u]=C3(h,l,h,d)),Bw(d)&&EM(c,l,d),null!=a&&DM(l,d,s)}let X3=function Z3(r,t,e,i){return zu(!0),t[xt].createComment("")};function en(r){return Mf(function Hre(){return dt.lFrame.contextLView}(),Vt+r)}function H(r,t,e){const i=pe();return Fr(i,Pf(),t)&&Jo(Yt(),Ji(),i,r,t,i[xt],e,!1),H}function BM(r,t,e,i,n){const a=n?"class":"style";PM(r,e,t.inputs[a],a,i)}function O(r,t,e,i){const n=pe(),o=Yt(),a=Vt+r,s=n[xt],l=o.firstCreatePass?function Kle(r,t,e,i,n,o){const a=t.consts,l=Kf(t,r,2,i,Uu(a,n));return AM(t,e,l,Uu(a,o)),null!==l.attrs&&DS(l,l.attrs,!1),null!==l.mergedAttrs&&DS(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,o,n,t,e,i):o.data[a],c=Q3(o,n,l,s,t,r);n[a]=c;const u=Bw(l);return fl(l,!0),_H(s,c,l),32!=(32&l.flags)&&Ww()&&uS(o,n,c,l),0===function Ire(){return dt.lFrame.elementDepthCount}()&&Ir(c,n),function Fre(){dt.lFrame.elementDepthCount++}(),u&&(EM(o,n,l),xM(o,l,n)),null!==i&&DM(n,l),O}function A(){let r=gr();mO()?gO():(r=r.parent,fl(r,!1));const t=r;(function Lre(r){return dt.skipHydrationRootTNode===r})(t)&&function Bre(){dt.skipHydrationRootTNode=null}(),function kre(){dt.lFrame.elementDepthCount--}();const e=Yt();return e.firstCreatePass&&($w(e,r),lO(r)&&e.queries.elementEnd(r)),null!=t.classesWithoutHost&&function Jre(r){return 0!=(8&r.flags)}(t)&&BM(e,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function eoe(r){return 0!=(16&r.flags)}(t)&&BM(e,t,pe(),t.stylesWithoutHost,!1),A}function q(r,t,e,i){return O(r,t,e,i),A(),q}let Q3=(r,t,e,i,n,o)=>(zu(!0),lS(i,n,function _2(){return dt.lFrame.currentNamespace}()));function La(r,t,e){const i=pe(),n=Yt(),o=r+Vt,a=n.firstCreatePass?function Xle(r,t,e,i,n){const o=t.consts,a=Uu(o,i),s=Kf(t,r,8,"ng-container",a);return null!==a&&DS(s,a,!0),AM(t,e,s,Uu(o,n)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,n,i,t,e):n.data[o];fl(a,!0);const s=J3(n,i,a,r);return i[o]=s,Ww()&&uS(n,i,s,a),Ir(s,i),Bw(a)&&(EM(n,i,a),xM(n,a,i)),null!=e&&DM(i,a),La}function Na(){let r=gr();const t=Yt();return mO()?gO():(r=r.parent,fl(r,!1)),t.firstCreatePass&&($w(t,r),lO(r)&&t.queries.elementEnd(r)),Na}function Sl(r,t,e){return La(r,t,e),Na(),Sl}let J3=(r,t,e,i)=>(zu(!0),HO(t[xt],""));function _i(){return pe()}function yy(r){return!!r&&"function"==typeof r.then}function ej(r){return!!r&&"function"==typeof r.subscribe}function se(r,t,e,i){const n=pe(),o=Yt(),a=gr();return tj(o,n,n[xt],a,r,t,i),se}function FS(r,t){const e=gr(),i=pe(),n=Yt();return tj(n,i,x3(yO(n.data),e,i),e,r,t),FS}function tj(r,t,e,i,n,o,a){const s=Bw(i),c=r.firstCreatePass&&S3(r),u=t[_n],d=w3(t);let h=!0;if(3&i.type||a){const m=yo(i,t),g=a?a(m):m,v=d.length,y=a?b=>a(Gi(b[i.index])):i.index;let _=null;if(!a&&s&&(_=function Jle(r,t,e,i){const n=r.cleanup;if(null!=n)for(let o=0;o<n.length-1;o+=2){const a=n[o];if(a===e&&n[o+1]===i){const s=t[Ef],l=n[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(r,t,n,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1;else{o=nj(i,t,u,o,!1);const b=e.listen(g,n,o);d.push(o,b),c&&c.push(n,y,v,v+1)}}else o=nj(i,t,u,o,!1);const p=i.outputs;let f;if(h&&null!==p&&(f=p[n])){const m=f.length;if(m)for(let g=0;g<m;g+=2){const w=t[f[g]][f[g+1]].subscribe(o),E=d.length;d.push(o,w),c&&c.push(n,i.index,E,-(E+1))}}}function ij(r,t,e,i){try{return pl(6,t,e),!1!==e(i)}catch(n){return E3(r,n),!1}finally{pl(7,t,e)}}function nj(r,t,e,i,n){return function o(a){if(a===Function)return i;cy(r.componentOffset>-1?Xo(r.index,t):t);let l=ij(t,e,i,a),c=o.__ngNextListenerFn__;for(;c;)l=ij(t,e,c,a)&&l,c=c.__ngNextListenerFn__;return n&&!1===l&&a.preventDefault(),l}}function de(r=1){return function $re(r){return(dt.lFrame.contextLView=function Kre(r,t){for(;r>0;)t=t[Tf],r--;return t}(r,dt.lFrame.contextLView))[_n]}(r)}function ece(r,t){let e=null;const i=function Xne(r){const t=r.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(r);for(let n=0;n<t.length;n++){const o=t[n];if("*"!==o){if(null===i?FB(r,o,!0):Jne(i,o))return n}else e=n}return e}function qt(r){const t=pe()[Cn][Rr];if(!t.projection){const i=t.projection=Yv(r?r.length:1,null),n=i.slice();let o=t.child;for(;null!==o;){const a=r?ece(o,r):0;null!==a&&(n[a]?n[a].projectionNext=o:i[a]=o,n[a]=o),o=o.next}}}function Le(r,t=0,e){const i=pe(),n=Yt(),o=Kf(n,Vt+r,16,null,e||null);null===o.projection&&(o.projection=t),gO(),(!i[Dc]||Rf())&&32!=(32&o.flags)&&function aae(r,t,e){vH(t[xt],0,t,e,zO(r,e,t),dH(e.parent||t[Rr],e,t))}(n,i,o)}function HM(r,t,e){return kS(r,"",t,"",e),HM}function kS(r,t,e,i,n){const o=pe(),a=qf(o,t,e,i);return a!==Et&&Jo(Yt(),Ji(),o,r,a,o[xt],n,!1),kS}function LS(r,t){return r<<17|t<<2}function $u(r){return r>>17&32767}function jM(r){return 2|r}function Nh(r){return(131068&r)>>2}function UM(r,t){return-131069&r|t<<2}function zM(r){return 1|r}function hj(r,t,e,i,n){const o=r[e+1],a=null===t;let s=i?$u(o):Nh(o),l=!1;for(;0!==s&&(!1===l||a);){const u=r[s+1];ace(r[s],t)&&(l=!0,r[s+1]=i?zM(u):jM(u)),s=i?$u(u):Nh(u)}l&&(r[e+1]=i?jM(o):zM(o))}function ace(r,t){return null===r||null==t||(Array.isArray(r)?r[1]:r)===t||!(!Array.isArray(r)||"string"!=typeof t)&&Vf(r,t)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pj(r){return r.substring(Wn.key,Wn.keyEnd)}function sce(r){return r.substring(Wn.value,Wn.valueEnd)}function fj(r,t){const e=Wn.textEnd;return e===t?-1:(t=Wn.keyEnd=function uce(r,t,e){for(;t<e&&r.charCodeAt(t)>32;)t++;return t}(r,Wn.key=t,e),nm(r,t,e))}function mj(r,t){const e=Wn.textEnd;let i=Wn.key=nm(r,t,e);return e===i?-1:(i=Wn.keyEnd=function dce(r,t,e){let i;for(;t<e&&(45===(i=r.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(r,i,e),i=vj(r,i,e),i=Wn.value=nm(r,i,e),i=Wn.valueEnd=function hce(r,t,e){let i=-1,n=-1,o=-1,a=t,s=a;for(;a<e;){const l=r.charCodeAt(a++);if(59===l)return s;34===l||39===l?s=a=yj(r,l,a,e):t===a-4&&85===o&&82===n&&76===i&&40===l?s=a=yj(r,41,a,e):l>32&&(s=a),o=n,n=i,i=-33&l}return s}(r,i,e),vj(r,i,e))}function gj(r){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=r.length}function nm(r,t,e){for(;t<e&&r.charCodeAt(t)<=32;)t++;return t}function vj(r,t,e,i){return(t=nm(r,t,e))<e&&t++,t}function yj(r,t,e,i){let n=-1,o=e;for(;o<i;){const a=r.charCodeAt(o++);if(a==t&&92!==n)return o;n=92==a&&92===n?0:a}throw new Error}function Yr(r,t,e){return ys(r,t,e,!1),Yr}function Ge(r,t){return ys(r,t,null,!0),Ge}function pce(r,t){for(let e=function cce(r){return gj(r),mj(r,nm(r,0,Wn.textEnd))}(t);e>=0;e=mj(t,e))wj(r,pj(t),sce(t))}function El(r,t){for(let e=function lce(r){return gj(r),fj(r,nm(r,0,Wn.textEnd))}(t);e>=0;e=fj(t,e))Zo(r,pj(t),!0)}function ys(r,t,e,i){const n=pe(),o=Yt(),a=Ac(2);o.firstUpdatePass&&bj(o,r,a,i),t!==Et&&Fr(n,a,t)&&Sj(o,o.data[Kr()],n,n[xt],r,n[a+1]=function bce(r,t){return null==r||""===r||("string"==typeof t?r+=t:"object"==typeof r&&(r=jn(Qo(r)))),r}(t,e),i,a)}function _s(r,t,e,i){const n=Yt(),o=Ac(2);n.firstUpdatePass&&bj(n,null,o,i);const a=pe();if(e!==Et&&Fr(a,o,e)){const s=n.data[Kr()];if(Ej(s,i)&&!Cj(n,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=ZA(l,e||"")),BM(n,s,a,e,i)}else!function Cce(r,t,e,i,n,o,a,s){n===Et&&(n=ni);let l=0,c=0,u=0<n.length?n[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<n.length?n[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let m,f=null;u===d?(l+=2,c+=2,h!==p&&(f=d,m=p)):null===d||null!==u&&u<d?(l+=2,f=u):(c+=2,f=d,m=p),null!==f&&Sj(r,t,e,i,f,m,a,s),u=l<n.length?n[l]:null,d=c<o.length?o[c]:null}}(n,s,a,a[xt],a[o+1],a[o+1]=function yce(r,t,e){if(null==e||""===e)return ni;const i=[],n=Qo(e);if(Array.isArray(n))for(let o=0;o<n.length;o++)r(i,n[o],!0);else if("object"==typeof n)for(const o in n)n.hasOwnProperty(o)&&r(i,o,n[o]);else"string"==typeof n&&t(i,n);return i}(r,t,e),i,o)}}function Cj(r,t){return t>=r.expandoStartIndex}function bj(r,t,e,i){const n=r.data;if(null===n[e+1]){const o=n[Kr()],a=Cj(r,e);Ej(o,i)&&null===t&&!a&&(t=!1),t=function fce(r,t,e,i){const n=yO(r);let o=i?t.residualClasses:t.residualStyles;if(null===n)0===(i?t.classBindings:t.styleBindings)&&(e=_y(e=WM(null,r,t,e,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||r[a]!==n)if(e=WM(n,r,t,e,i),null===o){let l=function mce(r,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Nh(i))return r[$u(i)]}(r,t,i);void 0!==l&&Array.isArray(l)&&(l=WM(null,r,t,l[1],i),l=_y(l,t.attrs,i),function gce(r,t,e,i){r[$u(e?t.classBindings:t.styleBindings)]=i}(r,t,i,l))}else o=function vce(r,t,e){let i;const n=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<n;o++)i=_y(i,r[o].hostAttrs,e);return _y(i,t.attrs,e)}(r,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(n,o,t,i),function rce(r,t,e,i,n,o){let a=o?t.classBindings:t.styleBindings,s=$u(a),l=Nh(a);r[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Vf(e,u)>0)&&(c=!0)):u=e,n)if(0!==l){const h=$u(r[s+1]);r[i+1]=LS(h,s),0!==h&&(r[h+1]=UM(r[h+1],i)),r[s+1]=function ice(r,t){return 131071&r|t<<17}(r[s+1],i)}else r[i+1]=LS(s,0),0!==s&&(r[s+1]=UM(r[s+1],i)),s=i;else r[i+1]=LS(l,0),0===s?s=i:r[l+1]=UM(r[l+1],i),l=i;c&&(r[i+1]=jM(r[i+1])),hj(r,u,i,!0),hj(r,u,i,!1),function oce(r,t,e,i,n){const o=n?r.residualClasses:r.residualStyles;null!=o&&"string"==typeof t&&Vf(o,t)>=0&&(e[i+1]=zM(e[i+1]))}(t,u,r,i,o),a=LS(s,l),o?t.classBindings=a:t.styleBindings=a}(n,o,t,e,a,i)}}function WM(r,t,e,i,n){let o=null;const a=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<a&&(o=t[s],i=_y(i,o.hostAttrs,n),o!==r);)s++;return null!==r&&(e.directiveStylingLast=s),i}function _y(r,t,e){const i=e?1:2;let n=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:n===i&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Zo(r,a,!!e||t[++o]))}return void 0===r?null:r}function wj(r,t,e){Zo(r,t,Qo(e))}function _ce(r,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Zo(r,i,e)}function Sj(r,t,e,i,n,o,a,s){if(!(3&t.type))return;const l=r.data,c=l[s+1],u=function nce(r){return 1==(1&r)}(c)?xj(l,t,e,n,Nh(c),a):void 0;NS(u)||(NS(o)||function tce(r){return 2==(2&r)}(c)&&(o=xj(l,null,e,n,s,a)),function lae(r,t,e,i,n){if(t)n?r.addClass(e,i):r.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:_o.DashCase;null==n?r.removeStyle(e,i,o):("string"==typeof n&&n.endsWith("!important")&&(n=n.slice(0,-10),o|=_o.Important),r.setStyle(e,i,n,o))}}(i,a,zw(Kr(),e),n,o))}function xj(r,t,e,i,n,o){const a=null===t;let s;for(;n>0;){const l=r[n],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[n+1];h===Et&&(h=d?ni:void 0);let p=d?MO(h,i):u===i?h:void 0;if(c&&!NS(p)&&(p=MO(l,i)),NS(p)&&(s=p,a))return s;const f=r[n+1];n=a?$u(f):Nh(f)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(s=MO(l,i))}return s}function NS(r){return void 0!==r}function Ej(r,t){return 0!=(r.flags&(t?8:16))}function F(r,t=""){const e=pe(),i=Yt(),n=r+Vt,o=i.firstCreatePass?Kf(i,n,1,t,null):i.data[n],a=Dj(i,e,o,t,r);e[n]=a,Ww()&&uS(i,e,a,o),fl(o,!1)}let Dj=(r,t,e,i,n)=>(zu(!0),function sS(r,t){return r.createText(t)}(t[xt],i));function Ct(r){return He("",r,""),Ct}function He(r,t,e){const i=pe(),n=qf(i,r,t,e);return n!==Et&&Pc(i,Kr(),n),He}function ea(r,t,e,i,n){const o=pe(),a=Xf(o,r,t,e,i,n);return a!==Et&&Pc(o,Kr(),a),ea}function Ic(r,t,e){!function xl(r){_s(wj,pce,r,!1)}(qf(pe(),r,t,e))}function Fc(r,t,e){const i=pe();return Fr(i,Pf(),t)&&Jo(Yt(),Ji(),i,r,t,i[xt],e,!0),Fc}function GS(r,t,e){const i=pe();if(Fr(i,Pf(),t)){const o=Yt(),a=Ji();Jo(o,a,i,r,t,x3(yO(o.data),a,i),e,!0)}return GS}const om="en-US";let $j=om;function YM(r,t,e,i,n){if(r=mt(r),Array.isArray(r))for(let o=0;o<r.length;o++)YM(r[o],t,e,i,n);else{const o=Yt(),a=pe();let s=Ih(r)?r:mt(r.provide),l=VH(r);const c=gr(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ih(r)||!r.multi){const p=new zv(l,n,T),f=XM(s,t,n?u:u+h,d);-1===f?(TO(Qw(c,a),o,s),qM(o,r,t.length),t.push(s),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),e.push(p),a.push(p)):(e[f]=p,a[f]=p)}else{const p=XM(s,t,u+h,d),f=XM(s,t,u,u+h),g=f>=0&&e[f];if(n&&!g||!n&&!(p>=0&&e[p])){TO(Qw(c,a),o,s);const v=function Vue(r,t,e,i,n){const o=new zv(r,e,T);return o.multi=[],o.index=t,o.componentProviders=0,vU(o,n,i&&!e),o}(n?Gue:Nue,e.length,n,i,l);!n&&g&&(e[f].providerFactory=v),qM(o,r,t.length,0),t.push(s),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),e.push(v),a.push(v)}else qM(o,r,p>-1?p:f,vU(e[n?f:p],l,!n&&i));!n&&i&&g&&e[f].componentProviders++}}}function qM(r,t,e,i){const n=Ih(t),o=function jae(r){return!!r.useClass}(t);if(n||o){const l=(o?mt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=r.destroyHooks||(r.destroyHooks=[]);if(!n&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function vU(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function XM(r,t,e,i){for(let n=e;n<i;n++)if(t[n]===r)return n;return-1}function Nue(r,t,e,i){return ZM(this.multi,[])}function Gue(r,t,e,i){const n=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=Mh(e,e[Fe],this.providerFactory.index,i);o=s.slice(0,a),ZM(n,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],ZM(n,o);return o}function ZM(r,t){for(let e=0;e<r.length;e++)t.push((0,r[e])());return t}function Ve(r,t=[]){return e=>{e.providersResolver=(i,n)=>function Lue(r,t,e){const i=Yt();if(i.firstCreatePass){const n=gs(r);YM(e,i.data,i.blueprint,n,!0),YM(t,i.data,i.blueprint,n,!1)}}(i,n?n(r):r,t)}}class am{}class yU{}class QM extends am{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R3(this);const n=Yo(t);this._bootstrapComponents=Rc(n.bootstrap),this._r3Injector=d3(t,e,[{provide:am,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver},...i],jn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class JM extends yU{constructor(t){super(),this.moduleType=t}create(t){return new QM(this.moduleType,t,[])}}class _U extends am{constructor(t){super(),this.componentFactoryResolver=new R3(this),this.instance=null;const e=new sM([...t.providers,{provide:am,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],t.parent||vS(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function eR(r,t,e=null){return new _U({providers:r,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let jue=(()=>{class r{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=kH(0,e.type),n=i.length>0?eR([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,n)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ge({token:r,providedIn:"environment",factory:()=>new r(K(_l))})}return r})();function tR(r){r.getStandaloneInjector=t=>t.get(jue).getOrCreateStandaloneInjector(r)}function US(r,t,e,i){return TU(pe(),$r(),r,t,e,i)}function Ku(r,t,e,i,n){return function AU(r,t,e,i,n,o,a){const s=t+e;return Lh(r,s,n,o)?wl(r,s+2,a?i.call(a,n,o):i(n,o)):Ey(r,s+2)}(pe(),$r(),r,t,e,i,n)}function Ey(r,t){const e=r[t];return e===Et?void 0:e}function TU(r,t,e,i,n,o){const a=t+e;return Fr(r,a,n)?wl(r,a+1,o?i.call(o,n):i(n)):Ey(r,a+1)}function nR(r,t){const e=Yt();let i;const n=r+Vt;e.firstCreatePass?(i=function rde(r,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(r===i.name)return i}}(t,e.pipeRegistry),e.data[n]=i,i.onDestroy&&(e.destroyHooks??=[]).push(n,i.onDestroy)):i=e.data[n];const o=i.factory||(i.factory=Th(i.type)),a=po(T);try{const s=Zw(!1),l=o();return Zw(s),function $le(r,t,e,i){e>=r.data.length&&(r.data[e]=null,r.blueprint[e]=null),t[e]=i}(e,pe(),n,l),l}finally{po(a)}}function rR(r,t,e){const i=r+Vt,n=pe(),o=Mf(n,i);return function Dy(r,t){return r[Fe].data[t].pure}(n,i)?TU(n,$r(),t,o.transform,e,o):o.transform(e)}function oR(r){return t=>{setTimeout(r,void 0,t)}}const U=class cde extends Me{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let n=t,o=e||(()=>null),a=i;if(t&&"object"==typeof t){const l=t;n=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=oR(o),n&&(n=oR(n)),a&&(a=oR(a)));const s=super.subscribe({next:n,error:o,complete:a});return t instanceof Rt&&t.add(s),s}};function ude(){return this._results[Symbol.iterator]()}class Vh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new U)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vh.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=ude)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const n=function Ia(r){return r.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function doe(r,t,e){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++){let n=r[i],o=t[i];if(e&&(n=e(n),o=e(o)),o!==n)return!1}return!0}(i._results,n,e))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=pde}return r})();const dde=Vi,hde=class extends dde{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e,null)}createEmbeddedViewImpl(t,e,i){const a=this._declarationTContainer.tView,s=xS(this._declarationLView,a,t,4096&this._declarationLView[St]?4096:16,null,a.declTNode,null,null,null,e||null,i||null);s[Bv]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[ul];return null!==c&&(s[ul]=c.createEmbeddedView(a)),IM(a,s,t),new hy(s)}};function pde(){return zS(gr(),pe())}function zS(r,t){return 4&r.type?new hde(t,r,Wf(r,t)):null}let Fi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Cde}return r})();function Cde(){return NU(gr(),pe())}const bde=Fi,kU=class extends bde{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new Ff(this._hostTNode,this._hostLView)}get parentInjector(){const t=DO(this._hostTNode,this._hostLView);if(S2(t)){const e=Xw(t,this._hostLView),i=qw(t);return new Ff(e[Fe].data[i+8],e)}return new Ff(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=LU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(t,e,i){let n,o;"number"==typeof i?n=i:null!=i&&(n=i.index,o=i.injector);const s=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(s,n,false),s}createComponent(t,e,i,n,o){const a=t&&!function $v(r){return"function"==typeof r}(t);let s;if(a)s=e;else{const m=e||{};s=m.index,i=m.injector,n=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const l=a?t:new py(li(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const g=(a?c:this.parentInjector).get(_l,null);g&&(o=g)}li(l.componentType??{});const p=l.create(c,n,null,o);return this.insertImpl(p.hostView,s,false),p}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const n=t._lView,o=n[Fe];if(function Mre(r){return vo(r[Qi])}(n)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=n[Qi],u=new kU(c,c[Rr],c[Qi]);u.detach(u.indexOf(t))}}const a=this._adjustIndex(e),s=this._lContainer;if(function eae(r,t,e,i){const n=Pr+i,o=e.length;i>0&&(e[n-1][ms]=t),i<o-Pr?(t[ms]=e[n],k2(e,Pr+i,t)):(e.push(t),t[ms]=null),t[Qi]=e;const a=t[Bv];null!==a&&e!==a&&function tae(r,t){const e=r[Of];t[Cn]!==t[Qi][Qi][Cn]&&(r[HB]=!0),null===e?r[Of]=[t]:e.push(t)}(a,t);const s=t[ul];null!==s&&s.insertView(r),t[St]|=128}(o,n,s,a),!i){const l=$O(a,s),c=n[xt],u=cS(c,s[dl]);null!==u&&function Zoe(r,t,e,i,n,o){i[Un]=n,i[Rr]=t,Jv(r,i,e,1,n,o)}(o,s[Rr],c,n,u,l)}return t.attachToViewContainerRef(),k2(sR(s),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=LU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=jO(this._lContainer,e);i&&(eS(sR(this._lContainer),e),sH(i[Fe],i))}detach(t){const e=this._adjustIndex(t,-1),i=jO(this._lContainer,e);return i&&null!=eS(sR(this._lContainer),e)?new hy(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function LU(r){return r[8]}function sR(r){return r[8]||(r[8]=[])}function NU(r,t){let e;const i=t[r.index];return vo(i)?e=i:(e=C3(i,t,null,r),t[r.index]=e,ES(t,e)),GU(e,t,r,i),new kU(e,r,t)}let GU=function VU(r,t,e,i){if(r[dl])return;let n;n=8&e.type?Gi(i):function wde(r,t){const e=r[xt],i=e.createComment(""),n=yo(t,r);return Rh(e,cS(e,n),i,function oae(r,t){return r.nextSibling(t)}(e,n),!1),i}(t,e),r[dl]=n};class lR{constructor(t){this.queryList=t,this.matches=null}clone(){return new lR(this.queryList)}setDirty(){this.queryList.setDirty()}}class cR{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let o=0;o<i;o++){const a=e.getByIndex(o);n.push(this.queries[a.indexInDeclarationView].clone())}return new cR(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zU(t,e).matches&&this.queries[e].setDirty()}}class BU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class uR{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,n);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new uR(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dR{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new dR(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const o=i[n];this.matchTNodeWithReadOption(t,e,Ede(e,o)),this.matchTNodeWithReadOption(t,e,Jw(e,t,o,!1,!1))}else i===Vi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Jw(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Se||n===Fi||n===Vi&&4&e.type)this.addMatch(e.index,-2);else{const o=Jw(e,t,n,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ede(r,t){const e=r.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Tde(r,t,e,i){return-1===e?function Dde(r,t){return 11&r.type?Wf(r,t):4&r.type?zS(r,t):null}(t,r):-2===e?function Ade(r,t,e){return e===Se?Wf(t,r):e===Vi?zS(t,r):e===Fi?NU(t,r):void 0}(r,t,i):Mh(r,r[Fe],e,t)}function HU(r,t,e,i){const n=t[ul].queries[i];if(null===n.matches){const o=r.data,a=e.matches,s=[];for(let l=0;l<a.length;l+=2){const c=a[l];s.push(c<0?null:Tde(t,o[c],a[l+1],e.metadata.read))}n.matches=s}return n.matches}function hR(r,t,e,i){const n=r.queries.getByIndex(e),o=n.matches;if(null!==o){const a=HU(r,t,n,e);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)i.push(a[s/2]);else{const c=o[s+1],u=t[-l];for(let d=Pr;d<u.length;d++){const h=u[d];h[Bv]===h[Qi]&&hR(h[Fe],h,c,i)}if(null!==u[Of]){const d=u[Of];for(let h=0;h<d.length;h++){const p=d[h];hR(p[Fe],p,c,i)}}}}}return i}function ye(r){const t=pe(),e=Yt(),i=p2();_O(i+1);const n=zU(e,i);if(r.dirty&&function Are(r){return 4==(4&r[St])}(t)===(2==(2&n.metadata.flags))){if(null===n.matches)r.reset([]);else{const o=n.crossesNgTemplate?hR(e,t,i,[]):HU(e,t,n,i);r.reset(o,lse),r.notifyOnChanges()}return!0}return!1}function Xe(r,t,e){const i=Yt();i.firstCreatePass&&(UU(i,new BU(r,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),jU(i,pe(),t)}function Tt(r,t,e,i){const n=Yt();if(n.firstCreatePass){const o=gr();UU(n,new BU(t,e,i),o.index),function Mde(r,t){const e=r.contentQueries||(r.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(r.queries.length-1,t)}(n,r),2==(2&e)&&(n.staticContentQueries=!0)}jU(n,pe(),e)}function _e(){return function Ode(r,t){return r[ul].queries[t].queryList}(pe(),p2())}function jU(r,t,e){const i=new Vh(4==(4&e));(function Rse(r,t,e,i){const n=w3(t);n.push(e),r.firstCreatePass&&S3(r).push(i,n.length-1)})(r,t,i,i.destroy),null===t[ul]&&(t[ul]=new cR),t[ul].queries.push(new lR(i))}function UU(r,t,e){null===r.queries&&(r.queries=new uR),r.queries.track(new dR(t,e))}function zU(r,t){return r.queries.getByIndex(t)}function sm(r,t){return zS(r,t)}const yR=new ee("Application Initializer");let _R=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=be(yR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const n of this.appInits){const o=n();if(yy(o))e.push(o);else if(ej(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(n=>{this.reject(n)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),sz=(()=>{class r{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Dl=new ee("LocaleId",{providedIn:"root",factory:()=>be(Dl,et.Optional|et.SkipSelf)||function Zde(){return typeof $localize<"u"&&$localize.locale||om}()});let $S=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fr(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Jde{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let lz=(()=>{class r{compileModuleSync(e){return new JM(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Rc(Yo(e).declarations).reduce((a,s)=>{const l=li(s);return l&&a.push(new py(l)),a},[]);return new Jde(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function dz(...r){}class Ee{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new U(!1),this.onMicrotaskEmpty=new U(!1),this.onStable=new U(!1),this.onError=new U(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&e,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function ihe(){let r=Ii.requestAnimationFrame,t=Ii.cancelAnimationFrame;if(typeof Zone<"u"&&r&&t){const e=r[Zone.__symbol__("OriginalDelegate")];e&&(r=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ohe(r){const t=()=>{!function rhe(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ii,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,bR(r),r.isCheckStableRunning=!0,CR(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),bR(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,n,o,a,s)=>{try{return hz(r),e.invokeTask(n,o,a,s)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||r.shouldCoalesceRunChangeDetection)&&t(),pz(r)}},onInvoke:(e,i,n,o,a,s,l)=>{try{return hz(r),e.invoke(n,o,a,s,l)}finally{r.shouldCoalesceRunChangeDetection&&t(),pz(r)}},onHasTask:(e,i,n,o)=>{e.hasTask(n,o),i===n&&("microTask"==o.change?(r._hasPendingMicrotasks=o.microTask,bR(r),CR(r)):"macroTask"==o.change&&(r.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,n,o)=>(e.handleError(n,o),r.runOutsideAngular(()=>r.onError.emit(o)),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new te(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+n,t,nhe,dz,dz);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const nhe={};function CR(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function bR(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function hz(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function pz(r){r._nesting--,CR(r)}class ahe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new U,this.onMicrotaskEmpty=new U,this.onStable=new U,this.onError=new U}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}const fz=new ee("",{providedIn:"root",factory:mz});function mz(){const r=be(Ee);let t=!0;return rn(new pi(n=>{t=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{n.next(t),n.complete()})}),new pi(n=>{let o;r.runOutsideAngular(()=>{o=r.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(t=!0,n.next(!0))})})});const a=r.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t&&(t=!1,r.runOutsideAngular(()=>{n.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(Tw()))}const gz=new ee(""),KS=new ee("");let xR,wR=(()=>{class r{constructor(e,i,n){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xR||(function she(r){xR=r}(n),n.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,n){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}whenStable(e,i,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,n){return[]}static#e=this.\u0275fac=function(i){return new(i||r)(K(Ee),K(SR),K(KS))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),SR=(()=>{class r{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return xR?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Yu=null;const vz=new ee("AllowMultipleToken"),ER=new ee("PlatformDestroyListeners"),DR=new ee("appBootstrapListener");class _z{constructor(t,e){this.name=t,this.token=e}}function bz(r,t,e=[]){const i=`Platform: ${t}`,n=new ee(i);return(o=[])=>{let a=TR();if(!a||a.injector.get(vz,!1)){const s=[...e,...o,{provide:n,useValue:!0}];r?r(s):function uhe(r){if(Yu&&!Yu.get(vz,!1))throw new te(400,!1);(function yz(){!function yre(r){KB=r}(()=>{throw new te(600,!1)})})(),Yu=r;const t=r.get(Sz);(function Cz(r){r.get(BH,null)?.forEach(e=>e())})(r)}(function wz(r=[],t){return vr.create({name:t,providers:[{provide:oM,useValue:"platform"},{provide:ER,useValue:new Set([()=>Yu=null])},...r]})}(s,i))}return function hhe(r){const t=TR();if(!t)throw new te(401,!1);return t}()}}function TR(){return Yu?.get(Sz)??null}let Sz=(()=>{class r{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const n=function phe(r="zone.js",t){return"noop"===r?new ahe:"zone.js"===r?new Ee(t):r}(i?.ngZone,function xz(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return n.run(()=>{const o=function Hue(r,t,e){return new QM(r,t,e)}(e.moduleType,this.injector,function Oz(r){return[{provide:Ee,useFactory:r},{provide:ny,multi:!0,useFactory:()=>{const t=be(mhe,{optional:!0});return()=>t.initialize()}},{provide:Az,useFactory:fhe},{provide:fz,useFactory:mz}]}(()=>n)),a=o.injector.get(Cl,null);return n.runOutsideAngular(()=>{const s=n.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{YS(this._modules,o),s.unsubscribe()})}),function Ez(r,t,e){try{const i=e();return yy(i)?i.catch(n=>{throw t.runOutsideAngular(()=>r.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>r.handleError(i)),i}}(a,n,()=>{const s=o.injector.get(_R);return s.runInitializers(),s.donePromise.then(()=>(function Kj(r){Ra(r,"Expected localeId to be defined"),"string"==typeof r&&($j=r.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Dl,om)||om),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const n=Dz({},i);return function lhe(r,t,e){const i=new JM(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,n))}_moduleDoBootstrap(e){const i=e.injector.get(qu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>i.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new te(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(ER,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||r)(K(vr))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Dz(r,t){return Array.isArray(t)?t.reduce(Dz,r):{...r,...t}}let qu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(Az),this.zoneIsStable=be(fz),this.componentTypes=[],this.components=[],this.isStable=be($S).hasPendingTasks.pipe(mr(e=>e?Be(!1):this.zoneIsStable),Iv(),Tw()),this._injector=be(_l)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const n=e instanceof $H;if(!this._injector.get(_R).done)throw!n&&function xf(r){const t=li(r)||Mr(r)||go(r);return null!==t&&t.standalone}(e),new te(405,!1);let a;a=n?e:this._injector.get(Fh).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const s=function che(r){return r.isBoundToModule}(a)?void 0:this._injector.get(am),c=a.create(vr.NULL,[],i||a.selector,s),u=c.location.nativeElement,d=c.injector.get(gz,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),YS(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;YS(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(DR,[]);i.push(...this._bootstrapListeners),i.forEach(n=>n(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>YS(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new te(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function YS(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const Az=new ee("",{providedIn:"root",factory:()=>be(Cl).handleError.bind(void 0)});function fhe(){const r=be(Ee),t=be(Cl);return e=>r.runOutsideAngular(()=>t.handleError(e))}let mhe=(()=>{class r{constructor(){this.zone=be(Ee),this.applicationRef=be(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let Ft=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=vhe}return r})();function vhe(r){return function yhe(r,t,e){if(Dh(r)&&!e){const i=Xo(r.index,t);return new hy(i,i)}return 47&r.type?new hy(t[Cn],t):null}(gr(),pe(),16==(16&r))}class Iz{constructor(){}supports(t){return OS(t)}create(t){return new xhe(t)}}const She=(r,t)=>t;class xhe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||She}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,o=null;for(;e||i;){const a=!i||e&&e.currentIndex<kz(i,n,o)?e:i,s=kz(a,n,o),l=a.currentIndex;if(a===i)n--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)n++;else{o||(o=[]);const c=s-n,u=l-n;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,f=p+h;u<=f&&f<c&&(o[h]=p+1)}o[a.previousIndex]=u-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!OS(t))throw new te(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n,o,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next}else n=0,function Ele(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{const e=r[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,s=>{a=this._trackByFn(n,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,n)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,n),i=!0),e=e._next,n++}),this.length=n;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,n)):t=this._addAfter(new Ehe(e,i),o,n),t}_verifyReinsertion(t,e,i,n){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,o=t._nextRemoved;return null===n?this._removalsHead=o:n._nextRemoved=o,null===o?this._removalsTail=n:o._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fz),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fz),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ehe{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dhe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Fz{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Dhe,this.map.set(e,i)),i.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kz(r,t,e){const i=r.previousIndex;if(null===i)return i;let n=0;return e&&i<e.length&&(n=e[i]),i+t+n}class Lz{constructor(){}supports(t){return t instanceof Map||FM(t)}create(){return new The}}class The{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||FM(t)))throw new te(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(n,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const o=n._prev,a=n._next;return o&&(o._next=a),a&&(a._prev=o),n._next=null,n._prev=null,n}const i=new Ahe(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ahe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nz(){return new Tl([new Iz])}let Tl=(()=>{class r{static#e=this.\u0275prov=ge({token:r,providedIn:"root",factory:Nz});constructor(e){this.factories=e}static create(e,i){if(null!=i){const n=i.factories.slice();e=e.concat(n)}return new r(e)}static extend(e){return{provide:r,useFactory:i=>r.create(e,i||Nz()),deps:[[r,new vl,new Fa]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(null!=i)return i;throw new te(901,!1)}}return r})();function Gz(){return new Ay([new Lz])}let Ay=(()=>{class r{static#e=this.\u0275prov=ge({token:r,providedIn:"root",factory:Gz});constructor(e){this.factories=e}static create(e,i){if(i){const n=i.factories.slice();e=e.concat(n)}return new r(e)}static extend(e){return{provide:r,useFactory:i=>r.create(e,i||Gz()),deps:[[r,new vl,new Fa]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(i)return i;throw new te(901,!1)}}return r})();const Rhe=bz(null,"core",[]);let Phe=(()=>{class r{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||r)(K(qu))};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();function um(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}let FR=null;function Xu(){return FR}class zhe{}const tt=new ee("DocumentToken");let kR=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return be($he)},providedIn:"platform"})}return r})();const Whe=new ee("Location Initialized");let $he=(()=>{class r extends kR{constructor(){super(),this._doc=be(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xu().getBaseHref(this._doc)}onPopState(e){const i=Xu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Xu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,n){this._history.pushState(e,i,n)}replaceState(e,i,n){this._history.replaceState(e,i,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return new r},providedIn:"platform"})}return r})();function LR(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function Wz(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function kc(r){return r&&"?"!==r[0]?"?"+r:r}let Hh=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return be(Kz)},providedIn:"root"})}return r})();const $z=new ee("appBaseHref");let Kz=(()=>{class r extends Hh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??be(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return LR(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+kc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${i}${n}`:i}pushState(e,i,n,o){const a=this.prepareExternalUrl(n+kc(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,n,o){const a=this.prepareExternalUrl(n+kc(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||r)(K(kR),K($z,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Khe=(()=>{class r extends Hh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=LR(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,n,o){let a=this.prepareExternalUrl(n+kc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,n,o){let a=this.prepareExternalUrl(n+kc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||r)(K(kR),K($z,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),Oy=(()=>{class r{constructor(e){this._subject=new U,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Xhe(r){if(new RegExp("^(https?:)?//").test(r)){const[,e]=r.split(/\/\/[^\/]+/);return e}return r}(Wz(Yz(i))),this._locationStrategy.onPopState(n=>{this._subject.emit({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+kc(i))}normalize(e){return r.stripTrailingSlash(function qhe(r,t){if(!r||!t.startsWith(r))return t;const e=t.substring(r.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Yz(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",n=null){this._locationStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+kc(i)),n)}replaceState(e,i="",n=null){this._locationStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+kc(i)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(n=>n(e,i))}subscribe(e,i,n){return this._subject.subscribe({next:e,error:i,complete:n})}static#e=this.normalizeQueryParams=kc;static#t=this.joinWithSlash=LR;static#i=this.stripTrailingSlash=Wz;static#n=this.\u0275fac=function(i){return new(i||r)(K(Hh))};static#r=this.\u0275prov=ge({token:r,factory:function(){return function Yhe(){return new Oy(K(Hh))}()},providedIn:"root"})}return r})();function Yz(r){return r.replace(/\/index.html$/,"")}function nW(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const i=e.indexOf("="),[n,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(n.trim()===t)return decodeURIComponent(o)}return null}const $R=/\s+/,rW=[];let Zu=(()=>{class r{constructor(e,i,n,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=n,this._renderer=o,this.initialClasses=rW,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split($R):rW}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split($R):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const n=this.stateMap.get(e);void 0!==n?(n.enabled!==i&&(n.changed=!0,n.enabled=i),n.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],n=e[1];n.changed?(this._toggleClass(i,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),n.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split($R).forEach(n=>{i?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n)})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Tl),T(Ay),T(Se),T(Mc))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return r})();class Fpe{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ba=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,n){this._viewContainer=e,this._template=i,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((n,o,a)=>{if(null==n.previousIndex)i.createEmbeddedView(this._template,new Fpe(n.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const s=i.get(o);i.move(s,a),aW(s,n)}});for(let n=0,o=i.length;n<o;n++){const s=i.get(n).context;s.index=n,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{aW(i.get(n.currentIndex),n)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Vi),T(Tl))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return r})();function aW(r,t){r.context.$implicit=t.item}let Zr=(()=>{class r{constructor(e,i){this._viewContainer=e,this._context=new kpe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sW("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sW("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return r})();class kpe{constructor(){this.$implicit=null,this.ngIf=null}}function sW(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${jn(t)}'.`)}class KR{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dm=(()=>{class r{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return r})(),l0=(()=>{class r{constructor(e,i,n){this.ngSwitch=n,n._addCase(),this._view=new KR(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Vi),T(dm,9))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return r})(),lW=(()=>{class r{constructor(e,i,n){n._addDefault(new KR(e,i))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Vi),T(dm,9))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return r})(),uW=(()=>{class r{constructor(e,i,n){this._ngEl=e,this._differs=i,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[n,o]=e.split("."),a=-1===n.indexOf("-")?void 0:_o.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,n,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,n,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ay),T(Mc))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return r})(),YR=(()=>{class r{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:n,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(n,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ri]})}return r})();class Npe{createSubscription(t,e){return YB(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){YB(()=>t.unsubscribe())}}class Gpe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Vpe=new Gpe,Bpe=new Npe;let qR=(()=>{class r{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(yy(e))return Vpe;if(ej(e))return Bpe;throw function ws(r,t){return new te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft,16))};static#t=this.\u0275pipe=mo({name:"async",type:r,pure:!1,standalone:!0})}return r})(),yr=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();const hW="browser";function pW(r){return"server"===r}let lfe=(()=>{class r{static#e=this.\u0275prov=ge({token:r,providedIn:"root",factory:()=>new cfe(K(tt),window)})}return r})();class cfe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ufe(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const i=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const o=n.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}n=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],n-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fW(this.window.history)||fW(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fW(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class mW{}class Ife extends zhe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eP extends Ife{static makeCurrent(){!function Uhe(r){FR||(FR=r)}(new eP)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ffe(){return Iy=Iy||document.querySelector("base"),Iy?Iy.getAttribute("href"):null}();return null==e?null:function kfe(r){d0=d0||document.createElement("a"),d0.setAttribute("href",r);const t=d0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Iy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nW(document.cookie,t)}}let d0,Iy=null,Nfe=(()=>{class r{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const tP=new ee("EventManagerPlugins");let CW=(()=>{class r{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||r)(K(tP),K(Ee))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();class bW{constructor(t){this._doc=t}}const iP="ng-app-id";let wW=(()=>{class r{constructor(e,i,n,o={}){this.doc=e,this.appId=i,this.nonce=n,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pW(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(n=>n.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${iP}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(n=>{null!=n.textContent&&i.set(n.textContent,n)}),i}return null}changeUsageCount(e,i){const n=this.styleRef;if(n.has(e)){const o=n.get(e);return o.usage+=i,o.usage}return n.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const n=this.styleNodesInDOM,o=n?.get(i);if(o?.parentNode===e)return n.delete(i),o.removeAttribute(iP),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(iP,this.appId),a}}addStyleToHost(e,i){const n=this.getStyleElement(e,i);e.appendChild(n);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(n):o.set(i,{elements:[n],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(ry),K(uM,8),K(Wu))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const nP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rP=/%COMP%/g,Hfe=new ee("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function xW(r,t){return t.map(e=>e.replace(rP,r))}let oP=(()=>{class r{constructor(e,i,n,o,a,s,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestory=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=pW(s),this.defaultRenderer=new aP(e,a,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fo.ShadowDom&&(i={...i,encapsulation:fo.Emulated});const n=this.getOrCreateRenderer(e,i);return n instanceof DW?n.applyToHost(e):n instanceof sP&&n.applyStyles(),n}getOrCreateRenderer(e,i){const n=this.rendererByCompId;let o=n.get(i.id);if(!o){const a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(i.encapsulation){case fo.Emulated:o=new DW(l,c,i,this.appId,u,a,s,d);break;case fo.ShadowDom:return new Wfe(l,c,e,i,a,s,this.nonce,d);default:o=new sP(l,c,i,u,a,s,d)}o.onDestroy=()=>n.delete(i.id),n.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||r)(K(CW),K(wW),K(ry),K(Hfe),K(tt),K(Wu),K(Ee),K(uM))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();class aP{constructor(t,e,i,n){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(nP[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(EW(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(EW(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new te(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const o=nP[n];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=nP[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(_o.DashCase|_o.Important)?t.style.setProperty(e,i,n&_o.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_o.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Xu().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function EW(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Wfe extends aP{constructor(t,e,i,n,o,a,s,l){super(t,o,a,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=xW(n.id,n.styles);for(const u of c){const d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sP extends aP{constructor(t,e,i,n,o,a,s,l){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestory=n,this.rendererUsageCount=0,this.styles=l?xW(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class DW extends sP{constructor(t,e,i,n,o,a,s,l){const c=n+"-"+i.id;super(t,e,i,o,a,s,l,c),this.contentAttr=function jfe(r){return"_ngcontent-%COMP%".replace(rP,r)}(c),this.hostAttr=function Ufe(r){return"_nghost-%COMP%".replace(rP,r)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let $fe=(()=>{class r extends bW{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const TW=["alt","control","meta","shift"],Kfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yfe={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let qfe=(()=>{class r extends bW{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,i,n){const o=r.parseEventName(i),a=r.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xu().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const o=r._normalizeKey(i.pop());let a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),TW.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=n,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let n=Kfe[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(n=e.code,o="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),TW.forEach(a=>{a!==n&&(0,Yfe[a])(e)&&(o+=a+".")}),o+=n,o===i)}static eventCallback(e,i,n){return o=>{r.matchEventFullKeyCode(o,e)&&n.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const OW=[{provide:Wu,useValue:hW},{provide:BH,useValue:function Xfe(){eP.makeCurrent()},multi:!0},{provide:tt,useFactory:function Qfe(){return function pae(r){qO=r}(document),document},deps:[]}],Jfe=bz(Rhe,"browser",OW),eme=new ee(""),MW=[{provide:KS,useClass:class Lfe{addToWindow(t){Ii.getAngularTestability=(i,n=!0)=>{const o=t.findTestabilityInTree(i,n);if(null==o)throw new te(5103,!1);return o},Ii.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ii.getAllAngularRootElements=()=>t.getAllRootElements(),Ii.frameworkStabilizers||(Ii.frameworkStabilizers=[]),Ii.frameworkStabilizers.push(i=>{const n=Ii.getAllAngularTestabilities();let o=n.length,a=!1;const s=function(l){a=a||l,o--,0==o&&i(a)};n.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Xu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:gz,useClass:wR,deps:[Ee,SR,KS]},{provide:wR,useClass:wR,deps:[Ee,SR,KS]}],RW=[{provide:oM,useValue:"root"},{provide:Cl,useFactory:function Zfe(){return new Cl},deps:[]},{provide:tP,useClass:$fe,multi:!0,deps:[tt,Ee,Wu]},{provide:tP,useClass:qfe,multi:!0,deps:[tt]},oP,wW,CW,{provide:ly,useExisting:oP},{provide:mW,useClass:Nfe,deps:[]},[]];let PW=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:ry,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||r)(K(eme,12))};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[...RW,...MW],imports:[yr,Phe]})}return r})(),IW=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt))};static#t=this.\u0275prov=ge({token:r,factory:function(i){let n=null;return n=i?new i:function ime(){return new IW(K(tt))}(),n},providedIn:"root"})}return r})();typeof window<"u"&&window;let cP=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(i){let n=null;return n=i?new(i||r):K(LW),n},providedIn:"root"})}return r})(),LW=(()=>{class r extends cP{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ci.NONE:return i;case ci.HTML:return yl(i,"HTML")?Qo(i):OH(this._doc,String(i)).toString();case ci.STYLE:return yl(i,"Style")?Qo(i):i;case ci.SCRIPT:if(yl(i,"Script"))return Qo(i);throw new te(5200,!1);case ci.URL:return yl(i,"URL")?Qo(i):fS(String(i));case ci.RESOURCE_URL:if(yl(i,"ResourceURL"))return Qo(i);throw new te(5201,!1);default:throw new te(5202,!1)}}bypassSecurityTrustHtml(e){return function Cae(r){return new fae(r)}(e)}bypassSecurityTrustStyle(e){return function bae(r){return new mae(r)}(e)}bypassSecurityTrustScript(e){return function wae(r){return new gae(r)}(e)}bypassSecurityTrustUrl(e){return function Sae(r){return new vae(r)}(e)}bypassSecurityTrustResourceUrl(e){return function xae(r){return new yae(r)}(e)}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt))};static#t=this.\u0275prov=ge({token:r,factory:function(i){let n=null;return n=i?new i:function ame(r){return new LW(r.get(tt))}(K(vr)),n},providedIn:"root"})}return r})();function GW(r){return!!r&&(r instanceof pi||jt(r.lift)&&jt(r.subscribe))}const{isArray:sme}=Array,{getPrototypeOf:lme,prototype:cme,keys:ume}=Object;function VW(r){if(1===r.length){const t=r[0];if(sme(t))return{args:t,keys:null};if(function dme(r){return r&&"object"==typeof r&&lme(r)===cme}(t)){const e=ume(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:r,keys:null}}const{isArray:hme}=Array;function uP(r){return ot(t=>function pme(r,t){return hme(t)?r(...t):r(t)}(r,t))}function BW(r,t){return r.reduce((e,i,n)=>(e[i]=t[n],e),{})}function jh(...r){const t=Pv(r),e=fB(r),{args:i,keys:n}=VW(r);if(0===i.length)return yn([],t);const o=new pi(function fme(r,t,e=Gu){return i=>{HW(t,()=>{const{length:n}=r,o=new Array(n);let a=n,s=n;for(let l=0;l<n;l++)HW(t,()=>{const c=yn(r[l],t);let u=!1;c.subscribe(Ni(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,n?a=>BW(n,a):Gu));return e?o.pipe(uP(e)):o}function HW(r,t,e){r?Sc(e,r,t):t()}const h0=Mv(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function Fy(...r){return function mme(){return wf(1)}()(yn(r,Pv(r)))}function hm(r){return new pi(t=>{ho(r()).subscribe(t)})}function pm(r,t){const e=jt(r)?r:()=>r,i=n=>n.error(e());return new pi(t?n=>t.schedule(i,0,n):i)}function dP(){return Zi((r,t)=>{let e=null;r._refCount++;const i=Ni(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const n=r._connection,o=e;e=null,n&&(!o||n===o)&&n.unsubscribe(),t.unsubscribe()});r.subscribe(i),i.closed||(e=r.connect())})}class hP extends pi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,JV(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt;const e=this.getSubject();t.add(this.source.subscribe(Ni(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.EMPTY)}return t}refCount(){return dP()(this)}}function Ci(r){return r<=0?()=>Ma:Zi((t,e)=>{let i=0;t.subscribe(Ni(e,n=>{++i<=r&&(e.next(n),r<=i&&e.complete())}))})}function _r(...r){const t=Pv(r);return Zi((e,i)=>{(t?Fy(r,e,t):Fy(r,e)).subscribe(i)})}function ui(r,t){return Zi((e,i)=>{let n=0;e.subscribe(Ni(i,o=>r.call(t,o,n++)&&i.next(o)))})}function p0(r){return Zi((t,e)=>{let i=!1;t.subscribe(Ni(e,n=>{i=!0,e.next(n)},()=>{i||e.next(r),e.complete()}))})}function jW(r=gme){return Zi((t,e)=>{let i=!1;t.subscribe(Ni(e,n=>{i=!0,e.next(n)},()=>i?e.complete():e.error(r())))})}function gme(){return new h0}function Uh(r,t){const e=arguments.length>=2;return i=>i.pipe(r?ui((n,o)=>r(n,o,i)):Gu,Ci(1),e?p0(t):jW(()=>new h0))}function fm(r,t){return jt(t)?Hn(r,t,1):Hn(r,1)}function Sn(r,t,e){const i=jt(r)||t||e?{next:r,error:t,complete:e}:r;return i?Zi((n,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let s=!0;n.subscribe(Ni(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Gu}function Ju(r){return Zi((t,e)=>{let o,i=null,n=!1;i=t.subscribe(Ni(e,void 0,void 0,a=>{o=ho(r(a,Ju(r)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):n=!0})),n&&(i.unsubscribe(),i=null,o.subscribe(e))})}function pP(r){return r<=0?()=>Ma:Zi((t,e)=>{let i=[];t.subscribe(Ni(e,n=>{i.push(n),r<i.length&&i.shift()},()=>{for(const n of i)e.next(n);e.complete()},void 0,()=>{i=null}))})}function f0(r){return ot(()=>r)}function mm(r){return Zi((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}const At="primary",ky=Symbol("RouteTitle");class Cme{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gm(r){return new Cme(r)}function bme(r,t,e){const i=e.path.split("/");if(i.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<r.length))return null;const n={};for(let o=0;o<i.length;o++){const a=i[o],s=r[o];if(a.startsWith(":"))n[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function Al(r,t){const e=r?Object.keys(r):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let o=0;o<e.length;o++)if(n=e[o],!UW(r[n],t[n]))return!1;return!0}function UW(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),i=[...t].sort();return e.every((n,o)=>i[o]===n)}return r===t}function zW(r){return r.length>0?r[r.length-1]:null}function ed(r){return GW(r)?r:yy(r)?yn(Promise.resolve(r)):Be(r)}const Sme={exact:function KW(r,t,e){if(!zh(r.segments,t.segments)||!m0(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!r.children[i]||!KW(r.children[i],t.children[i],e))return!1;return!0},subset:YW},WW={exact:function xme(r,t){return Al(r,t)},subset:function Eme(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>UW(r[e],t[e]))},ignored:()=>!0};function $W(r,t,e){return Sme[e.paths](r.root,t.root,e.matrixParams)&&WW[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function YW(r,t,e){return qW(r,t,t.segments,e)}function qW(r,t,e,i){if(r.segments.length>e.length){const n=r.segments.slice(0,e.length);return!(!zh(n,e)||t.hasChildren()||!m0(n,e,i))}if(r.segments.length===e.length){if(!zh(r.segments,e)||!m0(r.segments,e,i))return!1;for(const n in t.children)if(!r.children[n]||!YW(r.children[n],t.children[n],i))return!1;return!0}{const n=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!!(zh(r.segments,n)&&m0(r.segments,n,i)&&r.children[At])&&qW(r.children[At],t,o,i)}}function m0(r,t,e){return t.every((i,n)=>WW[e](r[n].parameters,i.parameters))}class vm{constructor(t=new bi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return Ame.serialize(this)}}class bi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g0(this)}}class Ly{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gm(this.parameters)),this._parameterMap}toString(){return QW(this)}}function zh(r,t){return r.length===t.length&&r.every((e,i)=>e.path===t[i].path)}let Ny=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return new fP},providedIn:"root"})}return r})();class fP{parse(t){const e=new Vme(t);return new vm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Gy(t.root,!0)}`,i=function Rme(r){const t=Object.keys(r).map(e=>{const i=r[e];return Array.isArray(i)?i.map(n=>`${v0(e)}=${v0(n)}`).join("&"):`${v0(e)}=${v0(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ome(r){return encodeURI(r)}(t.fragment)}`:""}`}}const Ame=new fP;function g0(r){return r.segments.map(t=>QW(t)).join("/")}function Gy(r,t){if(!r.hasChildren())return g0(r);if(t){const e=r.children[At]?Gy(r.children[At],!1):"",i=[];return Object.entries(r.children).forEach(([n,o])=>{n!==At&&i.push(`${n}:${Gy(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Tme(r,t){let e=[];return Object.entries(r.children).forEach(([i,n])=>{i===At&&(e=e.concat(t(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==At&&(e=e.concat(t(n,i)))}),e}(r,(i,n)=>n===At?[Gy(r.children[At],!1)]:[`${n}:${Gy(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[At]?`${g0(r)}/${e[0]}`:`${g0(r)}/(${e.join("//")})`}}function XW(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v0(r){return XW(r).replace(/%3B/gi,";")}function mP(r){return XW(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function y0(r){return decodeURIComponent(r)}function ZW(r){return y0(r.replace(/\+/g,"%20"))}function QW(r){return`${mP(r.path)}${function Mme(r){return Object.keys(r).map(t=>`;${mP(t)}=${mP(r[t])}`).join("")}(r.parameters)}`}const Pme=/^[^\/()?;#]+/;function gP(r){const t=r.match(Pme);return t?t[0]:""}const Ime=/^[^\/()?;=#]+/,kme=/^[^=?&#]+/,Nme=/^[^&#]+/;class Vme{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bi([],{}):new bi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[At]=new bi(t,e)),i}parseSegment(){const t=gP(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(t),new Ly(y0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Fme(r){const t=r.match(Ime);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const n=gP(this.remaining);n&&(i=n,this.capture(i))}t[y0(e)]=y0(i)}parseQueryParam(t){const e=function Lme(r){const t=r.match(kme);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Gme(r){const t=r.match(Nme);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const n=ZW(e),o=ZW(i);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(o)}else t[n]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gP(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new te(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=At);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[At]:new bi([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new te(4011,!1)}}function JW(r){return r.segments.length>0?new bi([],{[At]:r}):r}function e4(r){const t={};for(const i of Object.keys(r.children)){const o=e4(r.children[i]);if(i===At&&0===o.segments.length&&o.hasChildren())for(const[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Bme(r){if(1===r.numberOfChildren&&r.children[At]){const t=r.children[At];return new bi(r.segments.concat(t.segments),t.children)}return r}(new bi(r.segments,t))}function Wh(r){return r instanceof vm}function t4(r){let t;const n=JW(function e(o){const a={};for(const l of o.children){const c=e(l);a[l.outlet]=c}const s=new bi(o.url,a);return o===r&&(t=s),s}(r.root));return t??n}function n4(r,t,e,i){let n=r;for(;n.parent;)n=n.parent;if(0===t.length)return vP(n,n,n,e,i);const o=function jme(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new o4(!0,0,r);let t=0,e=!1;const i=r.reduce((n,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]="string"==typeof c?c.split("/"):c}),[...n,{outlets:s}]}if(o.segmentPath)return[...n,o.segmentPath]}return"string"!=typeof o?[...n,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?e=!0:".."===s?t++:""!=s&&n.push(s))}),n):[...n,o]},[]);return new o4(e,t,i)}(t);if(o.toRoot())return vP(n,n,new bi([],{}),e,i);const a=function Ume(r,t,e){if(r.isAbsolute)return new C0(t,!0,0);if(!e)return new C0(t,!1,NaN);if(null===e.parent)return new C0(e,!0,0);const i=_0(r.commands[0])?0:1;return function zme(r,t,e){let i=r,n=t,o=e;for(;o>n;){if(o-=n,i=i.parent,!i)throw new te(4005,!1);n=i.segments.length}return new C0(i,!1,n-o)}(e,e.segments.length-1+i,r.numberOfDoubleDots)}(o,n,r),s=a.processChildren?By(a.segmentGroup,a.index,o.commands):a4(a.segmentGroup,a.index,o.commands);return vP(n,a.segmentGroup,s,e,i)}function _0(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Vy(r){return"object"==typeof r&&null!=r&&r.outlets}function vP(r,t,e,i,n){let a,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=r===t?e:r4(r,t,e);const s=JW(e4(a));return new vm(s,o,n)}function r4(r,t,e){const i={};return Object.entries(r.children).forEach(([n,o])=>{i[n]=o===t?e:r4(o,t,e)}),new bi(r.segments,i)}class o4{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_0(i[0]))throw new te(4003,!1);const n=i.find(Vy);if(n&&n!==zW(i))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C0{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function a4(r,t,e){if(r||(r=new bi([],{})),0===r.segments.length&&r.hasChildren())return By(r,t,e);const i=function $me(r,t,e){let i=0,n=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=e.length)return o;const a=r.segments[n],s=e[i];if(Vy(s))break;const l=`${s}`,c=i<e.length-1?e[i+1]:null;if(n>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!l4(l,c,a))return o;i+=2}else{if(!l4(l,{},a))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(r,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const o=new bi(r.segments.slice(0,i.pathIndex),{});return o.children[At]=new bi(r.segments.slice(i.pathIndex),r.children),By(o,0,n)}return i.match&&0===n.length?new bi(r.segments,{}):i.match&&!r.hasChildren()?yP(r,t,e):i.match?By(r,0,n):yP(r,t,e)}function By(r,t,e){if(0===e.length)return new bi(r.segments,{});{const i=function Wme(r){return Vy(r[0])?r[0].outlets:{[At]:r}}(e),n={};if(!i[At]&&r.children[At]&&1===r.numberOfChildren&&0===r.children[At].segments.length){const o=By(r.children[At],t,e);return new bi(r.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(n[o]=a4(r.children[o],t,a))}),Object.entries(r.children).forEach(([o,a])=>{void 0===i[o]&&(n[o]=a)}),new bi(r.segments,n)}}function yP(r,t,e){const i=r.segments.slice(0,t);let n=0;for(;n<e.length;){const o=e[n];if(Vy(o)){const l=Kme(o.outlets);return new bi(i,l)}if(0===n&&_0(e[0])){i.push(new Ly(r.segments[t].path,s4(e[0]))),n++;continue}const a=Vy(o)?o.outlets[At]:`${o}`,s=n<e.length-1?e[n+1]:null;a&&s&&_0(s)?(i.push(new Ly(a,s4(s))),n+=2):(i.push(new Ly(a,{})),n++)}return new bi(i,{})}function Kme(r){const t={};return Object.entries(r).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=yP(new bi([],{}),0,i))}),t}function s4(r){const t={};return Object.entries(r).forEach(([e,i])=>t[e]=`${i}`),t}function l4(r,t,e){return r==e.path&&Al(t,e.parameters)}const Hy="imperative";class Ol{constructor(t,e){this.id=t,this.url=e}}class _P extends Ol{constructor(t,e,i="imperative",n=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $h extends Ol{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class b0 extends Ol{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jy extends Ol{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=16}}class CP extends Ol{constructor(t,e,i,n){super(t,e),this.error=i,this.target=n,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yme extends Ol{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qme extends Ol{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xme extends Ol{constructor(t,e,i,n,o){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zme extends Ol{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qme extends Ol{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jme{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ege{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tge{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ige{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nge{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rge{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oge{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uy,this.attachRef=null}}let Uy=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new oge,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class u4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=bP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return wP(t,this._root).map(e=>e.value)}}function bP(r,t){if(r===t.value)return t;for(const e of t.children){const i=bP(r,e);if(i)return i}return null}function wP(r,t){if(r===t.value)return[t];for(const e of t.children){const i=wP(r,e);if(i.length)return i.unshift(t),i}return[]}class Nc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ym(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class d4 extends u4{constructor(t,e){super(t),this.snapshot=e,SP(this,t)}toString(){return this.snapshot.toString()}}function h4(r,t){const e=function age(r,t){const a=new w0([],{},{},"",{},At,t,null,{});return new f4("",new Nc(a,[]))}(0,t),i=new fr([new Ly("",{})]),n=new fr({}),o=new fr({}),a=new fr({}),s=new fr(""),l=new _m(i,n,a,s,o,At,t,e.root);return l.snapshot=e.root,new d4(new Nc(l,[]),e)}class _m{constructor(t,e,i,n,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ot(c=>c[ky]))??Be(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ot(t=>gm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ot(t=>gm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p4(r,t="emptyOnly"){const e=r.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const n=e[i],o=e[i-1];if(n.routeConfig&&""===n.routeConfig.path)i--;else{if(o.component)break;i--}}return function sge(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class w0{get title(){return this.data?.[ky]}constructor(t,e,i,n,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class f4 extends u4{constructor(t,e){super(e),this.url=t,SP(this,e)}toString(){return m4(this._root)}}function SP(r,t){t.value._routerState=r,t.children.forEach(e=>SP(r,e))}function m4(r){const t=r.children.length>0?` { ${r.children.map(m4).join(", ")} } `:"";return`${r.value}${t}`}function xP(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Al(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Al(t.params,e.params)||r.paramsSubject.next(e.params),function wme(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Al(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.urlSubject.next(e.url),Al(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function EP(r,t){const e=Al(r.params,t.params)&&function Dme(r,t){return zh(r,t)&&r.every((e,i)=>Al(e.parameters,t[i].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||EP(r.parent,t.parent))}let DP=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new U,this.deactivateEvents=new U,this.attachEvents=new U,this.detachEvents=new U,this.parentContexts=be(Uy),this.location=be(Fi),this.changeDetector=be(Ft),this.environmentInjector=be(_l),this.inputBinder=be(S0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=e;const n=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new lge(e,s,n.injector);this.activated=n.createComponent(a,{index:n.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]})}return r})();class lge{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_m?this.route:t===Uy?this.childContexts:this.parent.get(t,e)}}const S0=new ee("");let g4=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,n=jh([i.queryParams,i.params,i.data]).pipe(mr(([o,a,s],l)=>(s={...o,...a,...s},0===l?Be(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const a=function jhe(r){const t=li(r);if(!t)return null;const e=new py(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(a)for(const{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,n)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();function zy(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const n=function uge(r,t,e){return t.children.map(i=>{for(const n of e.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return zy(r,i,n);return zy(r,i)})}(r,t,e);return new Nc(i,n)}{if(r.shouldAttach(t.value)){const o=r.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>zy(r,s)),a}}const i=function dge(r){return new _m(new fr(r.url),new fr(r.params),new fr(r.queryParams),new fr(r.fragment),new fr(r.data),r.outlet,r.component,r)}(t.value),n=t.children.map(o=>zy(r,o));return new Nc(i,n)}}const TP="ngNavigationCancelingError";function v4(r,t){const{redirectTo:e,navigationBehaviorOptions:i}=Wh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=y4(!1,0,t);return n.url=e,n.navigationBehaviorOptions=i,n}function y4(r,t,e){const i=new Error("NavigationCancelingError: "+(r||""));return i[TP]=!0,i.cancellationCode=t,e&&(i.url=e),i}function _4(r){return C4(r)&&Wh(r.url)}function C4(r){return r&&r[TP]}let b4=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["ng-component"]],standalone:!0,features:[tR],decls:1,vars:0,template:function(i,n){1&i&&q(0,"router-outlet")},dependencies:[DP],encapsulation:2})}return r})();function AP(r){const t=r.children&&r.children.map(AP),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=b4),e}function Ss(r){return r.outlet||At}function Wy(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class yge{constructor(t,e,i,n,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),xP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=ym(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,n[a],i),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const n=t.value,o=e?e.value:null;if(n===o)if(n.component){const a=i.getContext(n.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,o=ym(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],n);if(i&&i.outlet){const a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,o=ym(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const n=ym(e);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new rge(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ige(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,o=e?e.value:null;if(xP(n),n===o)if(n.component){const a=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const a=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),xP(s.route.value),this.activateChildRoutes(t,null,a.children)}else{const s=Wy(n.snapshot);a.attachRef=null,a.route=n,a.injector=s,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class w4{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class x0{constructor(t,e){this.component=t,this.route=e}}function _ge(r,t,e){const i=r._root;return $y(i,t?t._root:null,e,[i.value])}function Cm(r,t){const e=Symbol(),i=t.get(r,e);return i===e?"function"!=typeof r||function kne(r){return null!==Rw(r)}(r)?t.get(r):r:i}function $y(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const o=ym(t);return r.children.forEach(a=>{(function bge(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const o=r.value,a=t?t.value:null,s=e?e.getContext(r.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function wge(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!zh(r.url,t.url);case"pathParamsOrQueryParamsChange":return!zh(r.url,t.url)||!Al(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EP(r,t)||!Al(r.queryParams,t.queryParams);default:return!EP(r,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new w4(i)):(o.data=a.data,o._resolvedData=a._resolvedData),$y(r,t,o.component?s?s.children:null:e,i,n),l&&s&&s.outlet&&s.outlet.isActivated&&n.canDeactivateChecks.push(new x0(s.outlet.component,a))}else a&&Ky(t,s,n),n.canActivateChecks.push(new w4(i)),$y(r,null,o.component?s?s.children:null:e,i,n)})(a,o[a.value.outlet],e,i.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ky(s,e.getContext(a),n)),n}function Ky(r,t,e){const i=ym(r),n=r.value;Object.entries(i).forEach(([o,a])=>{Ky(a,n.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new x0(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}function Yy(r){return"function"==typeof r}function S4(r){return r instanceof h0||"EmptyError"===r?.name}const E0=Symbol("INITIAL_VALUE");function bm(){return mr(r=>jh(r.map(t=>t.pipe(Ci(1),_r(E0)))).pipe(ot(t=>{for(const e of t)if(!0!==e){if(e===E0)return E0;if(!1===e||e instanceof vm)return e}return!0}),ui(t=>t!==E0),Ci(1)))}function x4(r){return function Uie(...r){return XV(r)}(Sn(t=>{if(Wh(t))throw v4(0,t)}),ot(t=>!0===t))}class D0{constructor(t){this.segmentGroup=t||null}}class E4{constructor(t){this.urlTree=t}}function wm(r){return pm(new D0(r))}function D4(r){return pm(new E4(r))}class jge{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new te(4002,!1)}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return Be(i);if(n.numberOfChildren>1||!n.children[At])return pm(new te(4e3,!1));n=n.children[At]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,n){const o=this.createSegmentGroup(t,e.root,i,n);return new vm(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([n,o])=>{if("string"==typeof o&&o.startsWith(":")){const s=o.substring(1);i[n]=e[s]}else i[n]=o}),i}createSegmentGroup(t,e,i,n){const o=this.createSegments(t,e.segments,i,n);let a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,n)}),new bi(o,a)}createSegments(t,e,i,n){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,n):this.findOrReturn(o,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new te(4001,!1);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}const OP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uge(r,t,e,i,n){const o=MP(r,t,e);return o.matched?(i=function hge(r,t){return r.providers&&!r._injector&&(r._injector=eR(r.providers,t,`Route: ${r.path}`)),r._injector??t}(t,i),function Vge(r,t,e,i){const n=t.canMatch;return n&&0!==n.length?Be(n.map(a=>{const s=Cm(a,r);return ed(function Age(r){return r&&Yy(r.canMatch)}(s)?s.canMatch(t,e):r.runInContext(()=>s(t,e)))})).pipe(bm(),x4()):Be(!0)}(i,t,e).pipe(ot(a=>!0===a?o:{...OP}))):Be(o)}function MP(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...OP}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const n=(t.matcher||bme)(e,r,t);if(!n)return{...OP};const o={};Object.entries(n.posParams??{}).forEach(([s,l])=>{o[s]=l.path});const a=n.consumed.length>0?{...o,...n.consumed[n.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function T4(r,t,e,i){return e.length>0&&function $ge(r,t,e){return e.some(i=>T0(r,t,i)&&Ss(i)!==At)}(r,e,i)?{segmentGroup:new bi(t,Wge(i,new bi(e,r.children))),slicedSegments:[]}:0===e.length&&function Kge(r,t,e){return e.some(i=>T0(r,t,i))}(r,e,i)?{segmentGroup:new bi(r.segments,zge(r,0,e,i,r.children)),slicedSegments:e}:{segmentGroup:new bi(r.segments,r.children),slicedSegments:e}}function zge(r,t,e,i,n){const o={};for(const a of i)if(T0(r,e,a)&&!n[Ss(a)]){const s=new bi([],{});o[Ss(a)]=s}return{...n,...o}}function Wge(r,t){const e={};e[At]=t;for(const i of r)if(""===i.path&&Ss(i)!==At){const n=new bi([],{});e[Ss(i)]=n}return e}function T0(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Zge{constructor(t,e,i,n,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.allowRedirects=!0,this.applyRedirects=new jge(this.urlSerializer,this.urlTree)}noMatchError(t){return new te(4002,!1)}recognize(){const t=T4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,At).pipe(Ju(e=>{if(e instanceof E4)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof D0?this.noMatchError(e):e}),ot(e=>{const i=new w0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),n=new Nc(i,e),o=new f4("",n),a=function Hme(r,t,e=null,i=null){return n4(t4(r),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,At).pipe(Ju(i=>{throw i instanceof D0?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=p4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,n,!0)}processChildren(t,e,i){const n=[];for(const o of Object.keys(i.children))"primary"===o?n.unshift(o):n.push(o);return yn(n).pipe(fm(o=>{const a=i.children[o],s=function gge(r,t){const e=r.filter(i=>Ss(i)===t);return e.push(...r.filter(i=>Ss(i)!==t)),e}(e,o);return this.processSegmentGroup(t,s,a,o)}),function yme(r,t){return Zi(function vme(r,t,e,i,n){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(Ni(a,u=>{const d=c++;l=s?r(l,u,d):(s=!0,u),i&&a.next(l)},n&&(()=>{s&&a.next(l),a.complete()})))}}(r,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),p0(null),function _me(r,t){const e=arguments.length>=2;return i=>i.pipe(r?ui((n,o)=>r(n,o,i)):Gu,pP(1),e?p0(t):jW(()=>new h0))}(),Hn(o=>{if(null===o)return wm(i);const a=A4(o);return function Qge(r){r.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}(a),Be(a)}))}processSegment(t,e,i,n,o,a){return yn(e).pipe(fm(s=>this.processSegmentAgainstRoute(s._injector??t,e,s,i,n,o,a).pipe(Ju(l=>{if(l instanceof D0)return Be(null);throw l}))),Uh(s=>!!s),Ju(s=>{if(S4(s))return function qge(r,t,e){return 0===t.length&&!r.children[e]}(i,n,o)?Be([]):wm(i);throw s}))}processSegmentAgainstRoute(t,e,i,n,o,a,s){return function Yge(r,t,e,i){return!!(Ss(r)===i||i!==At&&T0(t,e,r))&&("**"===r.path||MP(t,r,e).matched)}(i,n,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,a,s):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,o,a):wm(n):wm(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,o,a){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?D4(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Hn(a=>{const s=new bi(a,{});return this.processSegment(t,e,s,a,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,o,a){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=MP(e,n,o);if(!s)return wm(e);const d=this.applyRedirects.applyRedirectCommands(l,n.redirectTo,u);return n.redirectTo.startsWith("/")?D4(d):this.applyRedirects.lineralizeSegments(n,d).pipe(Hn(h=>this.processSegment(t,i,e,h.concat(c),a,!1)))}matchSegmentAgainstRoute(t,e,i,n,o,a){let s;if("**"===i.path){const l=n.length>0?zW(n).parameters:{};s=Be({snapshot:new w0(n,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O4(i),Ss(i),i.component??i._loadedComponent??null,i,M4(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else s=Uge(e,i,n,t).pipe(ot(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new w0(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O4(i),Ss(i),i.component??i._loadedComponent??null,i,M4(i)),consumedSegments:c,remainingSegments:u}:null));return s.pipe(mr(l=>null===l?wm(e):this.getChildConfig(t=i._injector??t,i,n).pipe(mr(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:p}=l,{segmentGroup:f,slicedSegments:m}=T4(e,h,p,c);if(0===m.length&&f.hasChildren())return this.processChildren(u,c,f).pipe(ot(v=>null===v?null:[new Nc(d,v)]));if(0===c.length&&0===m.length)return Be([new Nc(d,[])]);const g=Ss(i)===o;return this.processSegment(u,c,f,m,g?At:o,!0).pipe(ot(v=>[new Nc(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Be({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Be({routes:e._loadedRoutes,injector:e._loadedInjector}):function Gge(r,t,e,i){const n=t.canLoad;return void 0===n||0===n.length?Be(!0):Be(n.map(a=>{const s=Cm(a,r);return ed(function xge(r){return r&&Yy(r.canLoad)}(s)?s.canLoad(t,e):r.runInContext(()=>s(t,e)))})).pipe(bm(),x4())}(t,e,i).pipe(Hn(n=>n?this.configLoader.loadChildren(t,e).pipe(Sn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Hge(r){return pm(y4(!1,3))}())):Be({routes:[],injector:t})}}function Jge(r){const t=r.value.routeConfig;return t&&""===t.path}function A4(r){const t=[],e=new Set;for(const i of r){if(!Jge(i)){t.push(i);continue}const n=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==n?(n.children.push(...i.children),e.add(n)):t.push(i)}for(const i of e){const n=A4(i.children);t.push(new Nc(i.value,n))}return t.filter(i=>!e.has(i))}function O4(r){return r.data||{}}function M4(r){return r.resolve||{}}function R4(r){return"string"==typeof r.title||null===r.title}function RP(r){return mr(t=>{const e=r(t);return e?yn(e).pipe(ot(()=>t)):Be(t)})}const Sm=new ee("ROUTES");let PP=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=be(lz)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Be(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ed(e.loadComponent()).pipe(ot(P4),Sn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),mm(()=>{this.componentLoaders.delete(e)})),n=new hP(i,()=>new Me).pipe(dP());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c;return Array.isArray(s)?c=s:(l=s.create(e).injector,c=l.get(Sm,[],et.Self|et.Optional).flat()),{routes:c.map(AP),injector:l}}),mm(()=>{this.childrenLoaders.delete(i)})),a=new hP(o,()=>new Me).pipe(dP());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return ed(e()).pipe(ot(P4),Hn(i=>i instanceof yU||Array.isArray(i)?Be(i):yn(this.compiler.compileModuleAsync(i))))}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function P4(r){return function ave(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let A0=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.configLoader=be(PP),this.environmentInjector=be(_l),this.urlSerializer=be(Ny),this.rootContexts=be(Uy),this.inputBindingEnabled=null!==be(S0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=n=>this.events.next(new ege(n)),this.configLoader.onLoadStartListener=n=>this.events.next(new Jme(n))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new fr({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hy,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(i=>0!==i.id),ot(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),mr(i=>{let n=!1,o=!1;return Be(i).pipe(Sn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(a=>{const s=e.browserUrlTree.toString(),l=!e.navigated||a.extractedUrl.toString()!==s||s!==e.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const u="";return this.events.next(new jy(a.id,e.serializeUrl(i.rawUrl),u,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),Ma}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return I4(a.source)&&(e.browserUrlTree=a.extractedUrl),Be(a).pipe(mr(u=>{const d=this.transitions?.getValue();return this.events.next(new _P(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Ma:Promise.resolve(u)}),function eve(r,t,e,i,n,o){return Hn(a=>function Xge(r,t,e,i,n,o,a="emptyOnly"){return new Zge(r,t,e,i,n,a,o).recognize()}(r,t,e,i,a.extractedUrl,n,o).pipe(ot(({state:s,tree:l})=>({...a,targetSnapshot:s,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Sn(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);e.setBrowserUrl(h,u)}e.browserUrlTree=u.urlAfterRedirects}const d=new Yme(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:p,extras:f}=a,m=new _P(u,this.urlSerializer.serialize(d),h,p);this.events.next(m);const g=h4(0,this.rootComponentType).snapshot;return Be(i={...a,targetSnapshot:g,urlAfterRedirects:d,extras:{...f,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new jy(a.id,e.serializeUrl(i.extractedUrl),u,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),Ma}}),Sn(a=>{const s=new qme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),ot(a=>i={...a,guards:_ge(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Mge(r,t){return Hn(e=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Be({...e,guardsResult:!0}):function Rge(r,t,e,i){return yn(r).pipe(Hn(n=>function Nge(r,t,e,i,n){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Be(o.map(s=>{const l=Wy(t)??n,c=Cm(s,l);return ed(function Tge(r){return r&&Yy(r.canDeactivate)}(c)?c.canDeactivate(r,t,e,i):l.runInContext(()=>c(r,t,e,i))).pipe(Uh())})).pipe(bm()):Be(!0)}(n.component,n.route,e,t,i)),Uh(n=>!0!==n,!0))}(a,i,n,r).pipe(Hn(s=>s&&function Sge(r){return"boolean"==typeof r}(s)?function Pge(r,t,e,i){return yn(t).pipe(fm(n=>Fy(function Fge(r,t){return null!==r&&t&&t(new tge(r)),Be(!0)}(n.route.parent,i),function Ige(r,t){return null!==r&&t&&t(new nge(r)),Be(!0)}(n.route,i),function Lge(r,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function Cge(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(a)).filter(a=>null!==a).map(a=>hm(()=>Be(a.guards.map(l=>{const c=Wy(a.node)??e,u=Cm(l,c);return ed(function Dge(r){return r&&Yy(r.canActivateChild)}(u)?u.canActivateChild(i,r):c.runInContext(()=>u(i,r))).pipe(Uh())})).pipe(bm())));return Be(o).pipe(bm())}(r,n.path,e),function kge(r,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Be(!0);const n=i.map(o=>hm(()=>{const a=Wy(t)??e,s=Cm(o,a);return ed(function Ege(r){return r&&Yy(r.canActivate)}(s)?s.canActivate(t,r):a.runInContext(()=>s(t,r))).pipe(Uh())}));return Be(n).pipe(bm())}(r,n.route,e))),Uh(n=>!0!==n,!0))}(i,o,r,t):Be(s)),ot(s=>({...e,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),Sn(a=>{if(i.guardsResult=a.guardsResult,Wh(a.guardsResult))throw v4(0,a.guardsResult);const s=new Xme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),ui(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),RP(a=>{if(a.guards.canActivateChecks.length)return Be(a).pipe(Sn(s=>{const l=new Zme(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),mr(s=>{let l=!1;return Be(s).pipe(function tve(r,t){return Hn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return Be(e);let o=0;return yn(n).pipe(fm(a=>function ive(r,t,e,i){const n=r.routeConfig,o=r._resolve;return void 0!==n?.title&&!R4(n)&&(o[ky]=n.title),function nve(r,t,e,i){const n=function rve(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===n.length)return Be({});const o={};return yn(n).pipe(Hn(a=>function ove(r,t,e,i){const n=Wy(t)??i,o=Cm(r,n);return ed(o.resolve?o.resolve(t,e):n.runInContext(()=>o(t,e)))}(r[a],t,e,i).pipe(Uh(),Sn(s=>{o[a]=s}))),pP(1),f0(o),Ju(a=>S4(a)?Ma:pm(a)))}(o,r,t,i).pipe(ot(a=>(r._resolvedData=a,r.data=p4(r,e).resolve,n&&R4(n)&&(r.data[ky]=n.title),null)))}(a.route,i,r,t)),Sn(()=>o++),pP(1),Hn(a=>o===n.length?Be(e):Ma))})}(e.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),Sn(s=>{const l=new Qme(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),RP(a=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Sn(u=>{l.component=u}),ot(()=>{})));for(const u of l.children)c.push(...s(u));return c};return jh(s(a.targetSnapshot.root)).pipe(p0(),Ci(1))}),RP(()=>this.afterPreactivation()),ot(a=>{const s=function cge(r,t,e){const i=zy(r,t._root,e?e._root:void 0);return new d4(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:s}}),Sn(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((r,t,e,i)=>ot(n=>(new yge(t,n.targetRouterState,n.currentRouterState,e,i).activate(r),n)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ci(1),Sn({next:a=>{n=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new $h(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{n=!0}}),mm(()=>{n||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ju(a=>{if(o=!0,C4(a)){_4(a)||(e.navigated=!0,e.restoreHistory(i,!0));const s=new b0(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(s),_4(a)){const l=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||I4(i.source)};e.scheduleNavigation(l,Hy,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const s=new CP(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(s);try{i.resolve(e.errorHandler(a))}catch(l){i.reject(l)}}return Ma}))}))}cancelNavigationTransition(e,i,n){const o=new b0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function I4(r){return r!==Hy}let F4=(()=>{class r{buildTitle(e){let i,n=e.root;for(;void 0!==n;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(o=>o.outlet===At);return i}getResolvedTitleForRoute(e){return e.data[ky]}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return be(sve)},providedIn:"root"})}return r})(),sve=(()=>{class r extends F4{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||r)(K(IW))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),lve=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return be(uve)},providedIn:"root"})}return r})();class cve{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let uve=(()=>{class r extends cve{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const O0=new ee("",{providedIn:"root",factory:()=>({})});let dve=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:function(){return be(hve)},providedIn:"root"})}return r})(),hve=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ta=(()=>((ta=ta||{})[ta.COMPLETE=0]="COMPLETE",ta[ta.FAILED=1]="FAILED",ta[ta.REDIRECTING=2]="REDIRECTING",ta))();function k4(r,t){r.events.pipe(ui(e=>e instanceof $h||e instanceof b0||e instanceof CP||e instanceof jy),ot(e=>e instanceof $h||e instanceof jy?ta.COMPLETE:e instanceof b0&&(0===e.code||1===e.code)?ta.REDIRECTING:ta.FAILED),ui(e=>e!==ta.REDIRECTING),Ci(1)).subscribe(()=>{t()})}function pve(r){throw r}function fve(r,t,e){return t.parse("/")}const mve={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=be(sz),this.isNgZoneEnabled=!1,this.options=be(O0,{optional:!0})||{},this.pendingTasks=be($S),this.errorHandler=this.options.errorHandler||pve,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fve,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=be(dve),this.routeReuseStrategy=be(lve),this.titleStrategy=be(F4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=be(Sm,{optional:!0})?.flat()??[],this.navigationTransitions=be(A0),this.urlSerializer=be(Ny),this.location=be(Oy),this.componentInputBindingEnabled=!!be(S0,{optional:!0}),this.isNgZoneEnabled=be(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=h4(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hy,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,n){const o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){const l={...n};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(AP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a;let d,u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=t4(n?n.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return n4(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const n=Wh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Hy,null,i)}navigate(e,i={skipLocationChange:!1}){return function vve(r){for(let t=0;t<r.length;t++)if(null==r[t])throw new te(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(n){i=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return i}isActive(e,i){let n;if(n=!0===i?{...mve}:!1===i?{...gve}:i,Wh(e))return $W(this.currentUrlTree,e,n);const o=this.parseUrl(e);return $W(this.currentUrlTree,o,n)}removeEmptyProps(e){return Object.keys(e).reduce((i,n)=>{const o=e[n];return null!=o&&(i[n]=o),i},{})}scheduleNavigation(e,i,n,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h});const u=this.pendingTasks.add();return k4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const n=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(n,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(n,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),M0=(()=>{class r{constructor(e,i,n,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=n,this.renderer=o,this.el=a,this.locationStrategy=s,this.href=null,this.commands=null,this.onChanges=new Me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof $h&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,n,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||n||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function RH(r,t,e){return function Vae(r,t){return"src"===t&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===t&&("base"===r||"link"===r)?MH:eM}(t,e)(r)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const n=this.renderer,o=this.el.nativeElement;null!==i?n.setAttribute(o,e,i):n.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||r)(T(kr),T(_m),gl("tabindex"),T(Mc),T(Se),T(Hh))};static#t=this.\u0275dir=Q({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,n){1&i&&se("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&i&&je("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",um],skipLocationChange:["skipLocationChange","skipLocationChange",um],replaceUrl:["replaceUrl","replaceUrl",um],routerLink:"routerLink"},standalone:!0,features:[N3,ri]})}return r})();class L4{}let Cve=(()=>{class r{constructor(e,i,n,o,a){this.router=e,this.injector=n,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof $h),fm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const n=[];for(const o of i){o.providers&&!o._injector&&(o._injector=eR(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&n.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&n.push(this.processRoutes(s,o.children??o._loadedRoutes))}return yn(n).pipe(wf())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;n=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Be(null);const o=n.pipe(Hn(a=>null===a?Be(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?yn([o,this.loader.loadComponent(i)]).pipe(wf()):o})}static#e=this.\u0275fac=function(i){return new(i||r)(K(kr),K(lz),K(_l),K(L4),K(PP))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const IP=new ee("");let N4=(()=>{class r{constructor(e,i,n,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=n,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _P?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $h?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jy&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof c4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();function Gc(r,t){return{\u0275kind:r,\u0275providers:t}}function V4(){const r=be(vr);return t=>{const e=r.get(qu);if(t!==e.components[0])return;const i=r.get(kr),n=r.get(B4);1===r.get(FP)&&i.initialNavigation(),r.get(H4,null,et.Optional)?.setUpPreloading(),r.get(IP,null,et.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}const B4=new ee("",{factory:()=>new Me}),FP=new ee("",{providedIn:"root",factory:()=>1}),H4=new ee("");function xve(r){return Gc(0,[{provide:H4,useExisting:Cve},{provide:L4,useExisting:r}])}const j4=new ee("ROUTER_FORROOT_GUARD"),Dve=[Oy,{provide:Ny,useClass:fP},kr,Uy,{provide:_m,useFactory:function G4(r){return r.routerState.root},deps:[kr]},PP,[]];function Tve(){return new _z("Router",kr)}let U4=(()=>{class r{constructor(e){}static forRoot(e,i){return{ngModule:r,providers:[Dve,[],{provide:Sm,multi:!0,useValue:e},{provide:j4,useFactory:Rve,deps:[[kr,new Fa,new vl]]},{provide:O0,useValue:i||{}},i?.useHash?{provide:Hh,useClass:Khe}:{provide:Hh,useClass:Kz},{provide:IP,useFactory:()=>{const r=be(lfe),t=be(Ee),e=be(O0),i=be(A0),n=be(Ny);return e.scrollOffset&&r.setOffset(e.scrollOffset),new N4(n,i,r,t,e)}},i?.preloadingStrategy?xve(i.preloadingStrategy).\u0275providers:[],{provide:_z,multi:!0,useFactory:Tve},i?.initialNavigation?Pve(i):[],i?.bindToComponentInputs?Gc(8,[g4,{provide:S0,useExisting:g4}]).\u0275providers:[],[{provide:z4,useFactory:V4},{provide:DR,multi:!0,useExisting:z4}]]}}static forChild(e){return{ngModule:r,providers:[{provide:Sm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||r)(K(j4,8))};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();function Rve(r){return"guarded"}function Pve(r){return["disabled"===r.initialNavigation?Gc(3,[{provide:yR,multi:!0,useFactory:()=>{const t=be(kr);return()=>{t.setUpLocationChangeListener()}}},{provide:FP,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?Gc(2,[{provide:FP,useValue:0},{provide:yR,multi:!0,deps:[vr],useFactory:t=>{const e=t.get(Whe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const n=t.get(kr),o=t.get(B4);k4(n,()=>{i(!0)}),t.get(A0).afterPreactivation=()=>(i(!0),o.closed?Be(void 0):o),n.initialNavigation()}))}}]).\u0275providers:[]]}const z4=new ee("");function W4(...r){const t=fB(r),{args:e,keys:i}=VW(r),n=new pi(o=>{const{length:a}=e;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let d=!1;ho(e[u]).subscribe(Ni(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?BW(i,s):s),o.complete())}))}});return t?n.pipe(uP(t)):n}let $4=(()=>{class r{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Mc),T(Se))};static#t=this.\u0275dir=Q({type:r})}return r})(),Kh=(()=>{class r extends $4{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,features:[fe]})}return r})();const Cr=new ee("NgValueAccessor"),kve={provide:Cr,useExisting:It(()=>ia),multi:!0},Nve=new ee("CompositionEventMode");let ia=(()=>{class r extends $4{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lve(){const r=Xu()?Xu().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Mc),T(Se),T(Nve,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){1&i&&se("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[Ve([kve]),fe]})}return r})();function td(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Y4(r){return null!=r&&"number"==typeof r.length}const ar=new ee("NgValidators"),id=new ee("NgAsyncValidators"),Gve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xs{static min(t){return function q4(r){return t=>{if(td(t.value)||td(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function X4(r){return t=>{if(td(t.value)||td(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return function Z4(r){return td(r.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Q4(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function J4(r){return td(r.value)||Gve.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function e5(r){return t=>td(t.value)||!Y4(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return t5(t)}static pattern(t){return function n5(r){if(!r)return R0;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if(td(i.value))return null;const n=i.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}(t)}static nullValidator(t){return null}static compose(t){return c5(t)}static composeAsync(t){return u5(t)}}function t5(r){return t=>Y4(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}function R0(r){return null}function r5(r){return null!=r}function o5(r){return yy(r)?yn(r):r}function a5(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function s5(r,t){return t.map(e=>e(r))}function l5(r){return r.map(t=>function Vve(r){return!r.validate}(t)?t:e=>t.validate(e))}function c5(r){if(!r)return null;const t=r.filter(r5);return 0==t.length?null:function(e){return a5(s5(e,t))}}function kP(r){return null!=r?c5(l5(r)):null}function u5(r){if(!r)return null;const t=r.filter(r5);return 0==t.length?null:function(e){return W4(s5(e,t).map(o5)).pipe(ot(a5))}}function LP(r){return null!=r?u5(l5(r)):null}function d5(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function h5(r){return r._rawValidators}function p5(r){return r._rawAsyncValidators}function NP(r){return r?Array.isArray(r)?r:[r]:[]}function P0(r,t){return Array.isArray(r)?r.includes(t):r===t}function f5(r,t){const e=NP(t);return NP(r).forEach(n=>{P0(e,n)||e.push(n)}),e}function m5(r,t){return NP(t).filter(e=>!P0(r,e))}class g5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qr extends g5{get formDirective(){return null}get path(){return null}}class Ml extends g5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Es=(()=>{class r extends v5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ml,2))};static#t=this.\u0275dir=Q({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){2&i&&Ge("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[fe]})}return r})(),Rl=(()=>{class r extends v5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Qr,10))};static#t=this.\u0275dir=Q({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){2&i&&Ge("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[fe]})}return r})();const qy="VALID",F0="INVALID",xm="PENDING",Xy="DISABLED";function BP(r){return(k0(r)?r.validators:r)||null}function HP(r,t){return(k0(t)?t.asyncValidators:r)||null}function k0(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function _5(r,t,e){const i=r.controls;if(!(t?Object.keys(i):i).length)throw new te(1e3,"");if(!i[e])throw new te(1001,"")}function C5(r,t,e){r._forEachChild((i,n)=>{if(void 0===e[n])throw new te(1002,"")})}class L0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qy}get invalid(){return this.status===F0}get pending(){return this.status==xm}get disabled(){return this.status===Xy}get enabled(){return this.status!==Xy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(f5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(f5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(m5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(m5(t,this._rawAsyncValidators))}hasValidator(t){return P0(this._rawValidators,t)}hasAsyncValidator(t){return P0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xy,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qy||this.status===xm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xy:qy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xm,this._hasOwnPendingAsyncValidator=!0;const e=o5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?Xy:this.errors?F0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xm)?xm:this._anyControlsHaveStatus(F0)?F0:qy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){k0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Uve(r){return Array.isArray(r)?kP(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function zve(r){return Array.isArray(r)?LP(r):r||null}(this._rawAsyncValidators)}}class Zy extends L0{constructor(t,e,i){super(BP(e),HP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){C5(this,0,t),Object.keys(t).forEach(i=>{_5(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const n=this.controls[i];n&&n.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,n)=>((i.enabled||this.disabled)&&(e[n]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((n,o)=>{i=e(i,n,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class b5 extends Zy{}const Yh=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Qy}),Qy="always";function N0(r,t){return[...t.path,r]}function Jy(r,t,e=Qy){jP(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function $ve(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&w5(r,t)})}(r,t),function Yve(r,t){const e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function Kve(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&w5(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Wve(r,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function G0(r,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),B0(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function V0(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function jP(r,t){const e=h5(r);null!==t.validator?r.setValidators(d5(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const i=p5(r);null!==t.asyncValidator?r.setAsyncValidators(d5(i,t.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const n=()=>r.updateValueAndValidity();V0(t._rawValidators,n),V0(t._rawAsyncValidators,n)}function B0(r,t){let e=!1;if(null!==r){if(null!==t.validator){const n=h5(r);if(Array.isArray(n)&&n.length>0){const o=n.filter(a=>a!==t.validator);o.length!==n.length&&(e=!0,r.setValidators(o))}}if(null!==t.asyncValidator){const n=p5(r);if(Array.isArray(n)&&n.length>0){const o=n.filter(a=>a!==t.asyncValidator);o.length!==n.length&&(e=!0,r.setAsyncValidators(o))}}}const i=()=>{};return V0(t._rawValidators,i),V0(t._rawAsyncValidators,i),e}function w5(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function S5(r,t){jP(r,t)}function zP(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function x5(r,t){r._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function WP(r,t){if(!t)return null;let e,i,n;return Array.isArray(t),t.forEach(o=>{o.constructor===ia?e=o:function Zve(r){return Object.getPrototypeOf(r.constructor)===Kh}(o)?i=o:n=o}),n||i||e||null}const Jve={provide:Qr,useExisting:It(()=>nd)},e_=(()=>Promise.resolve())();let nd=(()=>{class r extends Qr{constructor(e,i,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._directives=new Set,this.ngSubmit=new U,this.form=new Zy({},kP(e),LP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){e_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Jy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){e_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){e_.then(()=>{const i=this._findContainer(e.path),n=new Zy({});S5(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){e_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){e_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,x5(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||r)(T(ar,10),T(id,10),T(Yh,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,n){1&i&&se("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([Jve]),fe]})}return r})();function E5(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function D5(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Em=class extends L0{constructor(t=null,e,i){super(BP(e),HP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=D5(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){E5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){E5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){D5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let T5=(()=>{class r extends Qr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return N0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,features:[fe]})}return r})();const iye={provide:Ml,useExisting:It(()=>Dm)},O5=(()=>Promise.resolve())();let Dm=(()=>{class r extends Ml{constructor(e,i,n,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new Em,this._registered=!1,this.name="",this.update=new U,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=WP(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){O5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,n=0!==i&&um(i);O5.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?N0(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||r)(T(Qr,9),T(ar,10),T(id,10),T(Cr,10),T(Ft,8),T(Yh,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ve([iye]),fe,ri]})}return r})(),Pl=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return r})(),R5=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();const $P=new ee("NgModelWithFormControlWarning"),sye={provide:Ml,useExisting:It(()=>KP)};let KP=(()=>{class r extends Ml{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,n,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new U,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=WP(0,n)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&G0(i,this,!1),Jy(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}zP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&G0(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||r)(T(ar,10),T(id,10),T(Cr,10),T($P,8),T(Yh,8))};static#i=this.\u0275dir=Q({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ve([sye]),fe,ri]})}return r})();const lye={provide:Qr,useExisting:It(()=>Ds)};let Ds=(()=>{class r extends Qr{constructor(e,i,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new U,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(B0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Jy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){G0(e.control||null,e,!1),function Qve(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,x5(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,n=this.form.get(e.path);i!==n&&(G0(i||null,e),(r=>r instanceof Em)(n)&&(Jy(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);S5(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function qve(r,t){return B0(r,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jP(this.form,this),this._oldForm&&B0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||r)(T(ar,10),T(id,10),T(Yh,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,n){1&i&&se("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([lye]),fe,ri]})}return r})();const cye={provide:Qr,useExisting:It(()=>H0)};let H0=(()=>{class r extends T5{constructor(e,i,n){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(n)}_checkParentType(){F5(this._parent)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Qr,13),T(ar,10),T(id,10))};static#t=this.\u0275dir=Q({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ve([cye]),fe]})}return r})();const uye={provide:Qr,useExisting:It(()=>j0)};let j0=(()=>{class r extends Qr{constructor(e,i,n){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return N0(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){F5(this._parent)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Qr,13),T(ar,10),T(id,10))};static#t=this.\u0275dir=Q({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ve([uye]),fe]})}return r})();function F5(r){return!(r instanceof H0||r instanceof Ds||r instanceof j0)}const dye={provide:Ml,useExisting:It(()=>rd)};let rd=(()=>{class r extends Ml{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,n,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new U,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=WP(0,o)}ngOnChanges(e){this._added||this._setUpControl(),zP(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return N0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||r)(T(Qr,13),T(ar,10),T(id,10),T(Cr,10),T($P,8))};static#i=this.\u0275dir=Q({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ve([dye]),fe,ri]})}return r})();let qh=(()=>{class r{constructor(){this._validator=R0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):R0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,features:[ri]})}return r})();const xye={provide:ar,useExisting:It(()=>U0),multi:!0};let U0=(()=>{class r extends qh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function N5(r){return"number"==typeof r?r:parseInt(r,10)}(e),this.createValidator=e=>t5(e)}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&je("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ve([xye]),fe]})}return r})(),z5=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[R5]})}return r})();class W5 extends L0{constructor(t,e,i){super(BP(e),HP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){C5(this,0,t),t.forEach((i,n)=>{_5(this,!1,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function $5(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let Tm=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new r;return e.useNonNullable=!0,e}group(e,i=null){const n=this._reduceControls(e);let o={};return $5(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Zy(n,o)}record(e,i=null){const n=this._reduceControls(e);return new b5(n,i)}control(e,i,n){let o={};return this.useNonNullable?($5(i)?o=i:(o.validators=i,o.asyncValidators=n),new Em(e,{...o,nonNullable:!0})):new Em(e,i,n)}array(e,i,n){const o=e.map(a=>this._createControl(a));return new W5(o,i,n)}_reduceControls(e){const i={};return Object.keys(e).forEach(n=>{i[n]=this._createControl(e[n])}),i}_createControl(e){return e instanceof Em||e instanceof L0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),K5=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Yh,useValue:e.callSetDisabledState??Qy}]}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[z5]})}return r})(),Dye=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:$P,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Yh,useValue:e.callSetDisabledState??Qy}]}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[z5]})}return r})();class z0{}class W0{}class Ts{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const n=e.slice(0,i),o=n.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ts?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ts;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ts?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Tye{encodeKey(t){return Y5(t)}encodeValue(t){return Y5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Oye=/%(\d[a-f0-9])/gi,Mye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y5(r){return encodeURIComponent(r).replace(Oye,(t,e)=>Mye[e]??t)}function $0(r){return`${r}`}class od{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Tye,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Aye(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{const o=n.indexOf("="),[a,s]=-1==o?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],n=Array.isArray(i)?i.map($0):[$0(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const n=t[i];Array.isArray(n)?n.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new od({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push($0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const n=i.indexOf($0(t.value));-1!==n&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Rye{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function q5(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function X5(r){return typeof Blob<"u"&&r instanceof Blob}function Z5(r){return typeof FormData<"u"&&r instanceof FormData}class t_{constructor(t,e,i,n){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Pye(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ts),this.context||(this.context=new Rye),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+a}}else this.params=new od,this.urlWithParams=e}serializeBody(){return null===this.body?null:q5(this.body)||X5(this.body)||Z5(this.body)||function Iye(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof od?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z5(this.body)?null:X5(this.body)?this.body.type||null:q5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof od?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new t_(e,i,o,{params:c,headers:l,context:u,reportProgress:s,responseType:n,withCredentials:a})}}var xn=(()=>((xn=xn||{})[xn.Sent=0]="Sent",xn[xn.UploadProgress=1]="UploadProgress",xn[xn.ResponseHeader=2]="ResponseHeader",xn[xn.DownloadProgress=3]="DownloadProgress",xn[xn.Response=4]="Response",xn[xn.User=5]="User",xn))();class QP{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ts,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class JP extends QP{constructor(t={}){super(t),this.type=xn.ResponseHeader}clone(t={}){return new JP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Am extends QP{constructor(t={}){super(t),this.type=xn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Am({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Q5 extends QP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function eI(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Om=(()=>{class r{constructor(e){this.handler=e}request(e,i,n={}){let o;if(e instanceof t_)o=e;else{let l,c;l=n.headers instanceof Ts?n.headers:new Ts(n.headers),n.params&&(c=n.params instanceof od?n.params:new od({fromObject:n.params})),o=new t_(e,i,void 0!==n.body?n.body:null,{headers:l,context:n.context,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const a=Be(o).pipe(fm(l=>this.handler.handle(l)));if(e instanceof t_||"events"===n.observe)return a;const s=a.pipe(ui(l=>l instanceof Am));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(ot(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(ot(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(ot(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(ot(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new od).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,eI(n,i))}post(e,i,n={}){return this.request("POST",e,eI(n,i))}put(e,i,n={}){return this.request("PUT",e,eI(n,i))}static#e=this.\u0275fac=function(i){return new(i||r)(K(z0))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();function t$(r,t){return t(r)}function kye(r,t){return(e,i)=>t.intercept(e,{handle:n=>r(n,i)})}const Nye=new ee(""),i_=new ee(""),i$=new ee("");function Gye(){let r=null;return(t,e)=>{null===r&&(r=(be(Nye,{optional:!0})??[]).reduceRight(kye,t$));const i=be($S),n=i.add();return r(t,e).pipe(mm(()=>i.remove(n)))}}let n$=(()=>{class r extends z0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=be($S)}handle(e){if(null===this.chain){const n=Array.from(new Set([...this.injector.get(i_),...this.injector.get(i$,[])]));this.chain=n.reduceRight((o,a)=>function Lye(r,t,e){return(i,n)=>e.runInContext(()=>t(i,o=>r(o,n)))}(o,a,this.injector),t$)}const i=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(mm(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(K(W0),K(_l))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const jye=/^\)\]\}',?\n/;let o$=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new te(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?yn(i.\u0275loadImpl()):Be(null)).pipe(mr(()=>new pi(o=>{const a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((m,g)=>a.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const s=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=a.statusText||"OK",g=new Ts(a.getAllResponseHeaders()),v=function Uye(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(a)||e.url;return l=new JP({headers:g,status:a.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:y}=c(),_=null;204!==g&&(_=typeof a.response>"u"?a.responseText:a.response),0===g&&(g=_?200:0);let b=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof _){const w=_;_=_.replace(jye,"");try{_=""!==_?JSON.parse(_):null}catch(E){_=w,b&&(b=!1,_={error:E,text:_})}}b?(o.next(new Am({body:_,headers:m,status:g,statusText:v,url:y||void 0})),o.complete()):o.error(new Q5({error:_,headers:m,status:g,statusText:v,url:y||void 0}))},d=m=>{const{url:g}=c(),v=new Q5({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});o.error(v)};let h=!1;const p=m=>{h||(o.next(c()),h=!0);let g={type:xn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&a.responseText&&(g.partialText=a.responseText),o.next(g)},f=m=>{let g={type:xn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),o.next(g)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",p),null!==s&&a.upload&&a.upload.addEventListener("progress",f)),a.send(s),o.next({type:xn.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",d),e.reportProgress&&(a.removeEventListener("progress",p),null!==s&&a.upload&&a.upload.removeEventListener("progress",f)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(K(mW))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const tI=new ee("XSRF_ENABLED"),a$=new ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),s$=new ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class l${}let $ye=(()=>{class r{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=nW(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(Wu),K(a$))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();function Kye(r,t){const e=r.url.toLowerCase();if(!be(tI)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return t(r);const i=be(l$).getToken(),n=be(s$);return null!=i&&!r.headers.has(n)&&(r=r.clone({headers:r.headers.set(n,i)})),t(r)}var Wi=(()=>((Wi=Wi||{})[Wi.Interceptors=0]="Interceptors",Wi[Wi.LegacyInterceptors=1]="LegacyInterceptors",Wi[Wi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wi[Wi.NoXsrfProtection=3]="NoXsrfProtection",Wi[Wi.JsonpSupport=4]="JsonpSupport",Wi[Wi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wi[Wi.Fetch=6]="Fetch",Wi))();function Yye(...r){const t=[Om,o$,n$,{provide:z0,useExisting:n$},{provide:W0,useExisting:o$},{provide:i_,useValue:Kye,multi:!0},{provide:tI,useValue:!0},{provide:l$,useClass:$ye}];for(const e of r)t.push(...e.\u0275providers);return function tM(r){return{\u0275providers:r}}(t)}const c$=new ee("LEGACY_INTERCEPTOR_FN");function qye(){return function Xh(r,t){return{\u0275kind:r,\u0275providers:t}}(Wi.LegacyInterceptors,[{provide:c$,useFactory:Gye},{provide:i_,useExisting:c$,multi:!0}])}let iI,Xye=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[Yye(qye())]})}return r})(),Y0=(()=>{class r{constructor(e){this.http=e}GetColorList(){return[{code:"c0",name:"black"},{code:"c1",name:"Red"},{code:"c2",name:"Green"},{code:"c3",name:"Yellow"},{code:"c4",name:"White"}]}GetCustomer(){return this.http.get("http://localhost:3000/customer")}Savecustomer(e){return console.log(e),this.http.post("http://localhost:3000/customer",e)}GetCustomerbycode(e){return this.http.get("http://localhost:3000/customer/"+e)}GetAssociate(){return this.http.get("http://localhost:3000/associate")}GetAssociatebycode(e){return this.http.get("http://localhost:3000/associate/"+e)}GetCountry(){return this.http.get("http://localhost:3000/country")}SaveAssociate(e,i){return this.http.put("http://localhost:3000/associate/"+i,e)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Om))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Te(r){return null!=r&&"false"!=`${r}`}function gi(r,t=0){return u$(r)?Number(r):t}function u$(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function q0(r){return Array.isArray(r)?r:[r]}function En(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Vc(r){return r instanceof Se?r.nativeElement:r}function d$(r,t=/\s+/){const e=[];if(null!=r){const i=Array.isArray(r)?r:`${r}`.split(t);for(const n of i){const o=`${n}`.trim();o&&e.push(o)}}return e}try{iI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iI=!1}let Mm,Xt=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function sfe(r){return r===hW}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||r)(K(Wu))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const h$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function p$(){if(Mm)return Mm;if("object"!=typeof document||!document)return Mm=new Set(h$),Mm;let r=document.createElement("input");return Mm=new Set(h$.filter(t=>(r.setAttribute("type",t),r.type===t))),Mm}let n_,X0,Zh,nI;function As(r){return function i_e(){if(null==n_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>n_=!0}))}finally{n_=n_||!1}return n_}()?r:!!r.capture}function f$(){if(null==Zh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Zh=!1,Zh;if("scrollBehavior"in document.documentElement.style)Zh=!0;else{const r=Element.prototype.scrollTo;Zh=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Zh}function r_(){if("object"!=typeof document||!document)return 0;if(null==X0){const r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",r.appendChild(e),document.body.appendChild(r),X0=0,0===r.scrollLeft&&(r.scrollLeft=1,X0=0===r.scrollLeft?1:2),r.remove()}return X0}function Rm(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const t=r.shadowRoot.activeElement;if(t===r)break;r=t}return r}function Bc(r){return r.composedPath?r.composedPath()[0]:r.target}function rI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const m$=As({passive:!0});let o_e=(()=>{class r{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ma;const i=Vc(e),n=this._monitoredElements.get(i);if(n)return n.subject;const o=new Me,a="cdk-text-field-autofilled",s=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,m$),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",s,m$)}}),o}stopMonitoring(e){const i=Vc(e),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt),K(Ee))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),a_e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();function Dn(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}class m_e extends Rt{constructor(t,e){super()}schedule(t,e=0){return this}}const J0={setInterval(r,t,...e){const{delegate:i}=J0;return i?.setInterval?i.setInterval(r,t,...e):setInterval(r,t,...e)},clearInterval(r){const{delegate:t}=J0;return(t?.clearInterval||clearInterval)(r)},delegate:void 0};class aI extends m_e{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return J0.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&J0.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(o){i=!0,n=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,bf(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const sI={now:()=>(sI.delegate||Date).now(),delegate:void 0};class s_{constructor(t,e=s_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}s_.now=sI.now;class lI extends s_{constructor(t,e=s_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ex=new lI(aI),g_e=ex;function tx(r,t=ex){return Zi((e,i)=>{let n=null,o=null,a=null;const s=()=>{if(n){n.unsubscribe(),n=null;const c=o;o=null,i.next(c)}};function l(){const c=a+r,u=t.now();if(u<c)return n=this.schedule(void 0,c-u),void i.add(n);s()}e.subscribe(Ni(i,c=>{o=c,a=t.now(),n||(n=t.schedule(l,r),i.add(n))},()=>{s(),i.complete()},void 0,()=>{o=n=null}))})}function cI(r){return ui((t,e)=>r<=e)}function Dt(r){return Zi((t,e)=>{ho(r).subscribe(Ni(e,()=>e.complete(),xw)),!e.closed&&t.subscribe(e)})}let v$=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),v_e=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Vc(e);return new pi(n=>{const a=this._observeElement(i).subscribe(n);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Me,n=this._mutationObserverFactory.create(o=>i.next(o));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:n}=this._observedElements.get(e);i&&i.disconnect(),n.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||r)(K(v$))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),uI=(()=>{class r{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=gi(e),this._subscribe()}constructor(e,i,n){this._contentObserver=e,this._elementRef=i,this._ngZone=n,this.event=new U,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(tx(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(T(v_e),T(Se),T(Ee))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return r})(),ix=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[v$]})}return r})();const y$=new Set;let Qh,y_e=(()=>{class r{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C_e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function __e(r,t){if(!y$.has(r))try{Qh||(Qh=document.createElement("style"),t&&(Qh.nonce=t),Qh.setAttribute("type","text/css"),document.head.appendChild(Qh)),Qh.sheet&&(Qh.sheet.insertRule(`@media ${r} {body{ }}`,0),y$.add(r))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt),K(uM,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function C_e(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let b_e=(()=>{class r{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _$(q0(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){let o=jh(_$(q0(e)).map(a=>this._registerQuery(a).observable));return o=Fy(o.pipe(Ci(1)),o.pipe(cI(1),tx(0))),o.pipe(ot(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new pi(a=>{const s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(_r(i),ot(({matches:a})=>({query:e,matches:a})),Dt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||r)(K(y_e),K(Ee))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function _$(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function dI(r,t,e){const i=nx(r,t);i.some(n=>n.trim()==e.trim())||(i.push(e.trim()),r.setAttribute(t,i.join(" ")))}function l_(r,t,e){const n=nx(r,t).filter(o=>o!=e.trim());n.length?r.setAttribute(t,n.join(" ")):r.removeAttribute(t)}function nx(r,t){return(r.getAttribute(t)||"").match(/\S+/g)||[]}const b$="cdk-describedby-message",rx="cdk-describedby-host";let hI=0,w$=(()=>{class r{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+hI++,this._document=e,this._id=be(ry)+"-"+hI++}describe(e,i,n){if(!this._canBeDescribed(e,i))return;const o=pI(i,n);"string"!=typeof i?(S$(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,n),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,n){if(!i||!this._isElementNode(e))return;const o=pI(i,n);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${rx}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(rx);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const n=this._document.createElement("div");S$(n,this._id),n.textContent=e,i&&n.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(n),this._messageRegistry.set(pI(e,i),{messageElement:n,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const n=this._document.createElement("div");n.style.visibility="hidden",n.classList.add(e),n.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&n.setAttribute("platform","server"),this._document.body.appendChild(n),this._messagesContainer=n}_removeCdkDescribedByReferenceIds(e){const i=nx(e,"aria-describedby").filter(n=>0!=n.indexOf(b$));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const n=this._messageRegistry.get(i);dI(e,"aria-describedby",n.messageElement.id),e.setAttribute(rx,this._id),n.referenceCount++}_removeMessageReference(e,i){const n=this._messageRegistry.get(i);n.referenceCount--,l_(e,"aria-describedby",n.messageElement.id),e.removeAttribute(rx)}_isElementDescribedByMessage(e,i){const n=nx(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=n.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const n=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!n||o&&o.trim()===n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(Xt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function pI(r,t){return"string"==typeof r?`${t||""}/${r}`:r}function S$(r,t){r.id||(r.id=`${b$}-${t}-${hI++}`)}class x${constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Me,this._typeaheadSubscription=Rt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Me,this.change=new Me,t instanceof Vh&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const n=e.toArray().indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Sn(e=>this._pressedLetters.push(e)),tx(t),ui(()=>this._pressedLetters.length>0),ot(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let n=1;n<i.length+1;n++){const o=(this._activeItemIndex+n)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&n){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&n){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((n||Dn(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const n=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Vh?this._items.toArray():this._items}}class E$ extends x${setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class D$ extends x${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let c_=(()=>{class r{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function S_e(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function w_e(r){try{return r.frameElement}catch{return null}}(function R_e(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(e));if(i&&(-1===A$(i)||!this.isVisible(i)))return!1;let n=e.nodeName.toLowerCase(),o=A$(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function O_e(r){let t=r.nodeName.toLowerCase(),e="input"===t&&r.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==o:"video"===n?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function M_e(r){return!function E_e(r){return function T_e(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function x_e(r){let t=r.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(r)||function D_e(r){return function A_e(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||T$(r))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function T$(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let t=r.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function A$(r){if(!T$(r))return null;const t=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class P_e{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,n,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(n)return n}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ci(1)).subscribe(t)}}let u_=(()=>{class r{constructor(e,i,n){this._checker=e,this._ngZone=i,this._document=n}create(e,i=!1){return new P_e(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||r)(K(c_),K(Ee),K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),I_e=(()=>{class r{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Te(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Te(e)}constructor(e,i,n){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Rm(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(u_),T(tt))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[ri]})}return r})();function O$(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function M$(r){const t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const F_e=new ee("cdk-input-modality-detector-options"),k_e={ignoreKeys:[18,17,224,91,16]},Fm=As({passive:!0,capture:!0});let L_e=(()=>{class r{get mostRecentModality(){return this._modality.value}constructor(e,i,n,o){this._platform=e,this._mostRecentTarget=null,this._modality=new fr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(O$(a)?"keyboard":"mouse"),this._mostRecentTarget=Bc(a))},this._onTouchstart=a=>{M$(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bc(a))},this._options={...k_e,...o},this.modalityDetected=this._modality.pipe(cI(1)),this.modalityChanged=this.modalityDetected.pipe(Iv()),e.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Fm),n.addEventListener("mousedown",this._onMousedown,Fm),n.addEventListener("touchstart",this._onTouchstart,Fm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fm),document.removeEventListener("mousedown",this._onMousedown,Fm),document.removeEventListener("touchstart",this._onTouchstart,Fm))}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt),K(Ee),K(tt),K(F_e,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const N_e=new ee("liveAnnouncerElement",{providedIn:"root",factory:function G_e(){return null}}),V_e=new ee("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let B_e=0,H_e=(()=>{class r{constructor(e,i,n,o){this._ngZone=i,this._defaultOptions=o,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...i){const n=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=n&&n.politeness?n.politeness:"polite"),null==a&&n&&(a=n.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id="cdk-live-announcer-"+B_e++,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){const o=i[n],a=o.getAttribute("aria-owns");a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||r)(K(N_e,8),K(Ee),K(tt),K(V_e,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const j_e=new ee("cdk-focus-monitor-default-options"),ox=As({passive:!0,capture:!0});let Uc=(()=>{class r{constructor(e,i,n,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=s=>{for(let c=Bc(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const n=Vc(e);if(!this._platform.isBrowser||1!==n.nodeType)return Be(null);const o=function r_e(r){if(function n_e(){if(null==nI){const r=typeof document<"u"?document.head:null;nI=!(!r||!r.createShadowRoot&&!r.attachShadow)}return nI}()){const t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return i&&(a.checkChildren=!0),a.subject;const s={checkChildren:i,subject:new Me,rootNode:o};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const i=Vc(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){const o=Vc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const n=this._elementInfo.get(i),o=Bc(e);!n||!n.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),n)}_onBlur(e,i){const n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ox),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ox)}),this._rootNodeFocusListenerCount.set(i,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ox),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ox),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((n,o)=>{(o===e||n.checkChildren&&o.contains(e))&&i.push([o,n])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if("mouse"!==n||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||r)(K(Ee),K(Xt),K(L_e),K(tt,8),K(j_e,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),P$=(()=>{class r{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new U}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Uc))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return r})();const I$="cdk-high-contrast-black-on-white",F$="cdk-high-contrast-white-on-black",fI="cdk-high-contrast-active";let k$=(()=>{class r{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=be(b_e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fI,I$,F$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(fI,I$):2===i&&e.add(fI,F$)}}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt),K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),d_=(()=>{class r{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||r)(K(k$))};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ix]})}return r})();const U_e=new ee("cdk-dir-doc",{providedIn:"root",factory:function z_e(){return be(tt)}}),W_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let an=(()=>{class r{constructor(e){this.value="ltr",this.change=new U,e&&(this.value=function $_e(r){const t=r?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?W_e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(K(U_e,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),h_=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();const K_e=["text"];function Y_e(r,t){if(1&r&&q(0,"mat-pseudo-checkbox",6),2&r){const e=de();H("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function q_e(r,t){1&r&&q(0,"mat-pseudo-checkbox",7),2&r&&H("disabled",de().disabled)}function X_e(r,t){if(1&r&&(O(0,"span",8),F(1),A()),2&r){const e=de();L(1),He("(",e.group.label,")")}}const Z_e=[[["mat-icon"]],"*"],Q_e=["mat-icon","*"];let J_e=(()=>{class r{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#i=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#n=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return r})(),eCe=(()=>{class r{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#i=this.EXITING="195ms"}return r})();const iCe=new ee("mat-sanity-checks",{providedIn:"root",factory:function tCe(){return!0}});let ht=(()=>{class r{constructor(e,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!rI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||r)(K(k$),K(iCe,8),K(tt))};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[h_,h_]})}return r})();function ad(r){return class extends r{get disabled(){return this._disabled}set disabled(t){this._disabled=Te(t)}constructor(...t){super(...t),this._disabled=!1}}}function Jh(r,t){return class extends r{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function ep(r){return class extends r{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Te(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function mI(r,t=0){return class extends r{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?gi(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function G$(r){return class extends r{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function V$(r){return class extends r{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new pi(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const nCe=new ee("MAT_DATE_LOCALE",{providedIn:"root",factory:function rCe(){return be(Dl)}});class br{constructor(){this._localeChanges=new Me,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),n=this.isValid(e);return i&&n?!this.compareDate(t,e):i==n}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const tp=new ee("mat-date-formats"),oCe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function gI(r,t){const e=Array(r);for(let i=0;i<r;i++)e[i]=t(i);return e}let aCe=(()=>{class r extends br{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return gI(12,n=>this._format(i,new Date(2017,n,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return gI(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return gI(7,n=>this._format(i,new Date(2017,0,n+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,n){let o=this._createDateWithOverflow(e,i,n);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const n=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(n,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+i)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(oCe.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,n){const o=new Date;return o.setFullYear(e,i,n),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const n=new Date;return n.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),n.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(n)}static#e=this.\u0275fac=function(i){return new(i||r)(K(nCe,8),K(Xt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const sCe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let lCe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[{provide:br,useClass:aCe}]})}return r})(),cCe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[{provide:tp,useValue:sCe}],imports:[lCe]})}return r})(),B$=(()=>{class r{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),H$=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,ht]})}return r})();class uCe{constructor(t,e,i,n=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const j$=As({passive:!0,capture:!0});class dCe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Bc(t);e&&this._events.get(t.type)?.forEach((i,n)=>{(n===e||n.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,n){const o=this._events.get(e);if(o){const a=o.get(i);a?a.add(n):o.set(i,new Set([n]))}else this._events.set(e,new Map([[i,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,j$)})}removeHandler(t,e,i){const n=this._events.get(t);if(!n)return;const o=n.get(e);o&&(o.delete(i),0===o.size&&n.delete(e),0===n.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,j$)))}}const U$={enterDuration:225,exitDuration:150},z$=As({passive:!0,capture:!0}),W$=["mousedown","touchstart"],$$=["mouseup","mouseleave","touchend","touchcancel"];class km{static#e=this._eventManager=new dCe;constructor(t,e,i,n){this._target=t,this._ngZone=e,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Vc(i))}fadeInRipple(t,e,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...U$,...i.animation};i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const a=i.radius||function pCe(r,t,e){const i=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),n=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+n*n)}(t,e,n),s=t-n.left,l=e-n.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,f="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===n.width&&0===n.height,m=new uCe(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!f&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),y=()=>this._destroyRipple(m);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",y),g={onTransitionEnd:v,onTransitionCancel:y}}),this._activeRipples.set(m,g),(f||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...U$,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Vc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,W$.forEach(i=>{km._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$$.forEach(e=>{this._triggerElement.addEventListener(e,this,z$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=O$(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!M$(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(W$.forEach(e=>km._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&$$.forEach(e=>t.removeEventListener(e,this,z$)))}}const Lm=new ee("mat-ripple-global-options");let zc=(()=>{class r{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,n,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new km(this,i,e,n)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...n}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee),T(Xt),T(Lm,8),T(Ai,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return r})(),sd=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,ht]})}return r})(),fCe=(()=>{class r{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,n){2&i&&Ge("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal","minimal"===n.appearance)("mat-pseudo-checkbox-full","full"===n.appearance)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return r})(),K$=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht]})}return r})();const vI=new ee("MAT_OPTION_PARENT_COMPONENT"),yI=new ee("MatOptgroup");let mCe=0;class Y${constructor(t,e=!1){this.source=t,this.isUserInput=e}}let gCe=(()=>{class r{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Te(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,n,o){this._element=e,this._changeDetectorRef=i,this._parent=n,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+mCe++,this.onSelectionChange=new U,this._stateChanges=new Me}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Dn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Y$(this,e))}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&Xe(K_e,7),2&i){let o;ye(o=_e())&&(n._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return r})(),ip=(()=>{class r extends gCe{constructor(e,i,n,o){super(e,i,n,o)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(vI,8),T(yI,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,n){1&i&&se("click",function(){return n._selectViaInteraction()})("keydown",function(a){return n._handleKeydown(a)}),2&i&&(Fc("id",n.id),je("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),Ge("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},exportAs:["matOption"],features:[fe],ngContentSelectors:Q_e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(qt(Z_e),ue(0,Y_e,1,2,"mat-pseudo-checkbox",0),Le(1),O(2,"span",1,2),Le(4,1),A(),ue(5,q_e,1,1,"mat-pseudo-checkbox",3),ue(6,X_e,2,1,"span",4),q(7,"div",5)),2&i&&(H("ngIf",n.multiple),L(5),H("ngIf",!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator),L(1),H("ngIf",n.group&&n.group._inert),L(1),H("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[zc,Zr,fCe],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();function q$(r,t,e){if(e.length){let i=t.toArray(),n=e.toArray(),o=0;for(let a=0;a<r+1;a++)i[a].group&&i[a].group===n[o]&&o++;return o}return 0}function X$(r,t,e,i){return r<e?r:r+t>e+i?Math.max(0,r-i+t):e}let ax=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[sd,yr,ht,K$]})}return r})();class vCe extends Me{constructor(t=1/0,e=1/0,i=sI){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:n,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!n&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:n}=this,o=n.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:n}=this,o=(n?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!n){const a=e.now();let s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}}class _Ce{constructor(t){this._box=t,this._destroyed=new Me,this._resizeSubject=new Me,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new pi(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ui(e=>e.some(i=>i.target===t)),function yCe(r,t,e){let i,n=!1;return r&&"object"==typeof r?({bufferSize:i=1/0,windowTime:t=1/0,refCount:n=!1,scheduler:e}=r):i=r??1/0,Tw({connector:()=>new vCe(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}({bufferSize:1,refCount:!0}),Dt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let CCe=(()=>{class r{constructor(){this._observers=new Map,this._ngZone=be(Ee)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const n=i?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new _Ce(n)),this._observers.get(n).observe(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Z${}class bCe{}const Wc="*";function Kn(r,t){return{type:7,name:r,definitions:t,options:{}}}function oi(r,t=null){return{type:4,styles:t,timings:r}}function _I(r,t=null){return{type:3,steps:r,options:t}}function Q$(r,t=null){return{type:2,steps:r,options:t}}function ze(r){return{type:6,styles:r,offset:null}}function vi(r,t,e){return{type:0,name:r,styles:t,options:e}}function Nm(r){return{type:5,steps:r}}function Jt(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}function sx(r=null){return{type:9,options:r}}function lx(r,t,e=null){return{type:11,selector:r,animation:t,options:e}}class f_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class J${constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const n=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(n)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const wCe=["notch"],SCe=["matFormFieldNotchedOutline",""],xCe=["*"],ECe=["textField"],DCe=["iconPrefixContainer"],TCe=["textPrefixContainer"];function ACe(r,t){1&r&&q(0,"span",19)}function OCe(r,t){if(1&r&&(O(0,"label",17),Le(1,1),ue(2,ACe,1,0,"span",18),A()),2&r){const e=de(2);H("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),je("for",e._control.id)("aria-owns",e._control.id),L(2),H("ngIf",!e.hideRequiredMarker&&e._control.required)}}function MCe(r,t){1&r&&ue(0,OCe,3,6,"label",16),2&r&&H("ngIf",de()._hasFloatingLabel())}function RCe(r,t){1&r&&q(0,"div",20)}function PCe(r,t){}function ICe(r,t){1&r&&ue(0,PCe,0,0,"ng-template",22),2&r&&(de(2),H("ngTemplateOutlet",en(1)))}function FCe(r,t){if(1&r&&(O(0,"div",21),ue(1,ICe,1,1,"ng-template",9),A()),2&r){const e=de();H("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),L(1),H("ngIf",!e._forceDisplayInfixLabel())}}function kCe(r,t){1&r&&(O(0,"div",23,24),Le(2,2),A())}function LCe(r,t){1&r&&(O(0,"div",25,26),Le(2,3),A())}function NCe(r,t){}function GCe(r,t){1&r&&ue(0,NCe,0,0,"ng-template",22),2&r&&(de(),H("ngTemplateOutlet",en(1)))}function VCe(r,t){1&r&&(O(0,"div",27),Le(1,4),A())}function BCe(r,t){1&r&&(O(0,"div",28),Le(1,5),A())}function HCe(r,t){1&r&&q(0,"div",29)}function jCe(r,t){1&r&&(O(0,"div",30),Le(1,6),A()),2&r&&H("@transitionMessages",de()._subscriptAnimationState)}function UCe(r,t){if(1&r&&(O(0,"mat-hint",34),F(1),A()),2&r){const e=de(2);H("id",e._hintLabelId),L(1),Ct(e.hintLabel)}}function zCe(r,t){if(1&r&&(O(0,"div",31),ue(1,UCe,2,2,"mat-hint",32),Le(2,7),q(3,"div",33),Le(4,8),A()),2&r){const e=de();H("@transitionMessages",e._subscriptAnimationState),L(1),H("ngIf",e.hintLabel)}}const WCe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$Ce=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let $c=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-label"]]})}return r})();const KCe=new ee("MatError");let YCe=0,cx=(()=>{class r{constructor(){this.align="start",this.id="mat-mdc-hint-"+YCe++}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,n){2&i&&(Fc("id",n.id),je("align",null),Ge("mat-mdc-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"}})}return r})();const qCe=new ee("MatPrefix"),e6=new ee("MatSuffix");let t6=(()=>{class r{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ve([{provide:e6,useExisting:r}])]})}return r})();const i6=new ee("FloatingLabelParent");let n6=(()=>{class r{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=be(CCe),this._ngZone=be(Ee),this._parent=be(i6),this._resizeSubscription=new Rt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function XCe(r){if(null!==r.offsetParent)return r.scrollWidth;const e=r.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return r})();const r6="mdc-line-ripple--active",ux="mdc-line-ripple--deactivating";let o6=(()=>{class r{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=n=>{const o=this._elementRef.nativeElement.classList,a=o.contains(ux);"opacity"===n.propertyName&&a&&o.remove(r6,ux)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ux),e.add(r6)}deactivate(){this._elementRef.nativeElement.classList.add(ux)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee))};static#t=this.\u0275dir=Q({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return r})(),a6=(()=>{class r{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee))};static#t=this.\u0275cmp=we({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,n){if(1&i&&Xe(wCe,5),2&i){let o;ye(o=_e())&&(n._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mdc-notched-outline--notched",n.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:SCe,ngContentSelectors:xCe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,n){1&i&&(qt(),q(0,"div",0),O(1,"div",1,2),Le(3),A(),q(4,"div",3))},encapsulation:2,changeDetection:0})}return r})();const ZCe={transitionMessages:Kn("transitionMessages",[vi("enter",ze({opacity:1,transform:"translateY(0%)"})),Jt("void => enter",[ze({opacity:0,transform:"translateY(-5px)"}),oi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r})}return r})();const m_=new ee("MatFormField"),QCe=new ee("MAT_FORM_FIELD_DEFAULT_OPTIONS");let s6=0,Fl=(()=>{class r{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Te(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,n,o,a,s,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=n,this._dir=o,this._platform=a,this._defaults=s,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+s6++,this._hintLabelId="mat-mdc-hint-"+s6++,this._subscriptAnimationState="",this._destroyed=new Me,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=!!s?.hideRequiredMarker,s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Dt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),rn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Dt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,n=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,a=n?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(Ee),T(an),T(Xt),T(QCe,8),T(Ai,8),T(tt))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,$c,5),Tt(o,$c,7),Tt(o,bI,5),Tt(o,qCe,5),Tt(o,e6,5),Tt(o,KCe,5),Tt(o,cx,5)),2&i){let a;ye(a=_e())&&(n._labelChildNonStatic=a.first),ye(a=_e())&&(n._labelChildStatic=a.first),ye(a=_e())&&(n._formFieldControl=a.first),ye(a=_e())&&(n._prefixChildren=a),ye(a=_e())&&(n._suffixChildren=a),ye(a=_e())&&(n._errorChildren=a),ye(a=_e())&&(n._hintChildren=a)}},viewQuery:function(i,n){if(1&i&&(Xe(ECe,5),Xe(DCe,5),Xe(TCe,5),Xe(n6,5),Xe(a6,5),Xe(o6,5)),2&i){let o;ye(o=_e())&&(n._textField=o.first),ye(o=_e())&&(n._iconPrefixContainer=o.first),ye(o=_e())&&(n._textPrefixContainer=o.first),ye(o=_e())&&(n._floatingLabel=o.first),ye(o=_e())&&(n._notchedOutline=o.first),ye(o=_e())&&(n._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,n){2&i&&Ge("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===n._animationMode)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary","accent"!==n.color&&"warn"!==n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ve([{provide:m_,useExisting:r},{provide:i6,useExisting:r}])],ngContentSelectors:$Ce,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,n){1&i&&(qt(WCe),ue(0,MCe,1,1,"ng-template",null,0,sm),O(2,"div",1,2),se("click",function(a){return n._control.onContainerClick(a)}),ue(4,RCe,1,0,"div",3),O(5,"div",4),ue(6,FCe,2,2,"div",5),ue(7,kCe,3,0,"div",6),ue(8,LCe,3,0,"div",7),O(9,"div",8),ue(10,GCe,1,1,"ng-template",9),Le(11),A(),ue(12,VCe,2,0,"div",10),ue(13,BCe,2,0,"div",11),A(),ue(14,HCe,1,0,"div",12),A(),O(15,"div",13),ue(16,jCe,2,1,"div",14),ue(17,zCe,5,2,"div",15),A()),2&i&&(L(2),Ge("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),L(2),H("ngIf",!n._hasOutline()&&!n._control.disabled),L(2),H("ngIf",n._hasOutline()),L(1),H("ngIf",n._hasIconPrefix),L(1),H("ngIf",n._hasTextPrefix),L(2),H("ngIf",!n._hasOutline()||n._forceDisplayInfixLabel()),L(2),H("ngIf",n._hasTextSuffix),L(1),H("ngIf",n._hasIconSuffix),L(1),H("ngIf",!n._hasOutline()),L(1),Ge("mat-mdc-form-field-subscript-dynamic-size","dynamic"===n.subscriptSizing),H("ngSwitch",n._getDisplayedMessages()),L(1),H("ngSwitchCase","error"),L(1),H("ngSwitchCase","hint"))},dependencies:[Zr,YR,dm,l0,cx,n6,a6,o6],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ZCe.transitionMessages]},changeDetection:0})}return r})(),wI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,yr,ix,ht]})}return r})();const u6=new ee("MAT_INPUT_VALUE_ACCESSOR"),tbe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ibe=0;const nbe=G$(class{constructor(r,t,e,i){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Me}});let Kc=(()=>{class r extends nbe{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(xs.required)??!1}set required(e){this._required=Te(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&p$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Te(e)}constructor(e,i,n,o,a,s,l,c,u,d){super(s,o,a,n),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+ibe++,this.focused=!1,this.stateChanges=new Me,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>p$().has(f)),this._iOSKeyupListener=f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){tbe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(Ml,10),T(nd,8),T(Ds,8),T(B$),T(u6,10),T(o_e),T(Ee),T(m_,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,n){1&i&&se("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&i&&(Fc("id",n.id)("disabled",n.disabled)("required",n.required),je("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),Ge("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ve([{provide:bI,useExisting:r}]),fe,ri]})}return r})(),rbe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,wI,wI,a_e,ht]})}return r})();const obe=["addListener","removeListener"],abe=["addEventListener","removeEventListener"],sbe=["on","off"];function Os(r,t,e,i){if(jt(e)&&(i=e,e=void 0),i)return Os(r,t,e).pipe(uP(i));const[n,o]=function ube(r){return jt(r.addEventListener)&&jt(r.removeEventListener)}(r)?abe.map(a=>s=>r[a](t,s,e)):function lbe(r){return jt(r.addListener)&&jt(r.removeListener)}(r)?obe.map(d6(r,t)):function cbe(r){return jt(r.on)&&jt(r.off)}(r)?sbe.map(d6(r,t)):[];if(!n&&YA(r))return Hn(a=>Os(a,t,e))(ho(r));if(!n)throw new TypeError("Invalid event target");return new pi(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return n(s),()=>o(s)})}function d6(r,t){return e=>i=>r[e](t,i)}const g_={schedule(r){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=g_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const n=t(o=>{e=void 0,r(o)});return new Rt(()=>e?.(n))},requestAnimationFrame(...r){const{delegate:t}=g_;return(t?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:t}=g_;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};new class hbe extends lI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}(class dbe extends aI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=g_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(n=o[o.length-1])||void 0===n?void 0:n.id)!==e&&(g_.cancelAnimationFrame(e),t._scheduled=void 0)}});let SI,fbe=1;const dx={};function h6(r){return r in dx&&(delete dx[r],!0)}const mbe={setImmediate(r){const t=fbe++;return dx[t]=!0,SI||(SI=Promise.resolve()),SI.then(()=>h6(t)&&r()),t},clearImmediate(r){h6(r)}},{setImmediate:gbe,clearImmediate:vbe}=mbe,hx={setImmediate(...r){const{delegate:t}=hx;return(t?.setImmediate||gbe)(...r)},clearImmediate(r){const{delegate:t}=hx;return(t?.clearImmediate||vbe)(r)},delegate:void 0};new class _be extends lI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}(class ybe extends aI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(n=o[o.length-1])||void 0===n?void 0:n.id)!==e&&(hx.clearImmediate(e),t._scheduled=void 0)}});function xI(r=0,t,e=g_e){let i=-1;return null!=t&&(pB(t)?e=t:i=t),new pi(n=>{let o=function wbe(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;o<0&&(o=0);let a=0;return e.schedule(function(){n.closed||(n.next(a++),0<=i?this.schedule(void 0,i):n.complete())},o)})}function p6(r,t=ex){return function bbe(r){return Zi((t,e)=>{let i=!1,n=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=n;n=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(Ni(e,c=>{i=!0,n=c,o||ho(r(c)).subscribe(o=Ni(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>xI(r,t))}let px=(()=>{class r{constructor(e,i,n){this._ngZone=e,this._platform=i,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pi(i=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(p6(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Be()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ui(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let n=Vc(i),o=e.getElementRef().nativeElement;do{if(n==o)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Os(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Ee),K(Xt),K(tt,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),EI=(()=>{class r{constructor(e,i,n,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=n,this.dir=o,this._destroyed=new Me,this._elementScrolled=new pi(a=>this.ngZone.runOutsideAngular(()=>Os(this.elementRef.nativeElement,"scroll").pipe(Dt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),n&&0!=r_()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==r_()?e.left=e.right:1==r_()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;f$()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",n="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?n:i:"end"==e&&(e=a?i:n),a&&2==r_()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==r_()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(px),T(Ee),T(an,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return r})(),Yc=(()=>{class r{constructor(e,i,n){this._platform=e,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=n,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),n=e.documentElement,o=n.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(p6(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||r)(K(Xt),K(Ee),K(tt,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),qc=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})(),DI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[h_,qc,h_,qc]})}return r})();class TI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Gm extends TI{constructor(t,e,i,n,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=o}}class Vm extends TI{constructor(t,e,i,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Dbe extends TI{constructor(t){super(),this.element=t instanceof Se?t.nativeElement:t}}class AI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Gm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Vm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Dbe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Tbe extends AI{constructor(t,e,i,n,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector||vr.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);-1!==n&&e.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Abe=(()=>{class r extends Vm{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Fi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[fe]})}return r})(),ld=(()=>{class r extends AI{constructor(e,i,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new U,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fh),T(Fi),T(tt))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fe]})}return r})(),Bm=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})();const f6=f$();class Obe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=En(-this._previousScrollPosition.left),t.style.top=En(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,n=this._document.body.style,o=i.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),f6&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),f6&&(i.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Mbe{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(ui(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class m6{enable(){}disable(){}attach(){}}function OI(r,t){return t.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function g6(r,t){return t.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class Rbe{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();OI(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Pbe=(()=>{class r{constructor(e,i,n,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new m6,this.close=a=>new Mbe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Obe(this._viewportRuler,this._document),this.reposition=a=>new Rbe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static#e=this.\u0275fac=function(i){return new(i||r)(K(px),K(Yc),K(Ee),K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class v_{constructor(t){if(this.scrollStrategy=new m6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Ibe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let v6=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Fbe=(()=>{class r extends v6{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=n=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(n)):s.next(n);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(Ee,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),kbe=(()=>{class r extends v6{constructor(e,i,n){super(e),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Bc(o)},this._clickListener=o=>{const a=Bc(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(Xt),K(Ee,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),fx=(()=>{class r{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||rI()){const n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove()}const i=this._document.createElement("div");i.classList.add(e),rI()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(Xt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class y_{constructor(t,e,i,n,o,a,s,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=Rt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=En(this._config.width),t.height=En(this._config.height),t.minWidth=En(this._config.minWidth),t.minHeight=En(this._config.minHeight),t.maxWidth=En(this._config.maxWidth),t.maxHeight=En(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const n=q0(e||[]).filter(o=>!!o);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Dt(rn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const y6="cdk-overlay-connected-position-bounding-box",Lbe=/([A-Za-z%]+)$/;class _6{get positions(){return this._preferredPositions}constructor(t,e,i,n,o){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=Rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(y6),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,n,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(y6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let n,o;if("center"==i.originX)n=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;n="start"==i.originX?a:s}return e.left<0&&(n-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:n,y:o}}_getOverlayPoint(t,e,i){let n,o;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,e,i,n){const o=b6(e);let{x:a,y:s}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=l),c&&(s+=c);let h=0-s,p=s+o.height-i.height,f=this._subtractOverflows(o.width,0-a,a+o.width-i.width),m=this._subtractOverflows(o.height,h,p),g=f*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,o=i.right-e.x,a=C6(this._overlayRef.getConfig().minHeight),s=C6(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=n)&&(t.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=b6(e),o=this._viewportRect,a=Math.max(t.x+n.width-o.width,0),s=Math.max(t.y+n.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,d=0;return u=n.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,d=n.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),n=new Ibe(t,i);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let o,a,s,u,d,h;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)s=i.height-t.y+2*this._viewportMargin,o=i.height-s+this._viewportMargin;else{const p=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;o=2*p,a=t.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-f/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)h=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)d=t.x,u=i.right-t.x;else{const p=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;u=2*p,d=t.x-p,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-f/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=En(i.height),n.top=En(i.top),n.bottom=En(i.bottom),n.width=En(i.width),n.left=En(i.left),n.right=En(i.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(n.maxHeight=En(o)),a&&(n.maxWidth=En(a))}this._lastBoundingBoxSize=i,np(this._boundingBox.style,n)}_resetBoundingBoxStyles(){np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){const u=this._viewportRuler.getViewportScrollPosition();np(i,this._getExactOverlayY(e,t,u)),np(i,this._getExactOverlayX(e,t,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(n?i.maxHeight=En(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(n?i.maxWidth=En(a.maxWidth):o&&(i.maxWidth="")),np(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":n.top=En(o.y),n}_getExactOverlayX(t,e,i){let a,n={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?n.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":n.left=En(o.x),n}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:g6(t,i),isOriginOutsideView:OI(t,i),isOverlayClipped:g6(e,i),isOverlayOutsideView:OI(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&q0(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Se)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function np(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function C6(r){if("number"!=typeof r&&null!=r){const[t,e]=r.split(Lbe);return e&&"px"!==e?null:parseFloat(t)}return r||null}function b6(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const w6="cdk-global-overlay-wrapper";class Nbe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(w6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:s}=i,l=!("100%"!==n&&"100vw"!==n||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",f="",m="";l?m="flex-start":"center"===u?(m="center",h?f=d:p=d):h?"left"===u||"end"===u?(m="flex-end",p=d):("right"===u||"start"===u)&&(m="flex-start",f=d):"left"===u||"start"===u?(m="flex-start",p=d):("right"===u||"end"===u)&&(m="flex-end",f=d),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,e.justifyContent=m,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(w6),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Gbe=(()=>{class r{constructor(e,i,n,o){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=o}global(){return new Nbe}flexibleConnectedTo(e){return new _6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Yc),K(tt),K(Xt),K(fx))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Vbe=0,Jr=(()=>{class r{constructor(e,i,n,o,a,s,l,c,u,d,h,p){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(e){const i=this._createHostElement(),n=this._createPaneElement(i),o=this._createPortalOutlet(n),a=new v_(e);return a.direction=a.direction||this._directionality.value,new y_(o,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Vbe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(qu)),new Tbe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Pbe),K(fx),K(Fh),K(Gbe),K(Fbe),K(vr),K(Ee),K(tt),K(an),K(Oy),K(kbe),K(Ai,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Bbe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],S6=new ee("cdk-connected-overlay-scroll-strategy");let MI=(()=>{class r{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return r})(),x6=(()=>{class r{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Te(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Te(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Te(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Te(e)}get push(){return this._push}set push(e){this._push=Te(e)}constructor(e,i,n,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rt.EMPTY,this._attachSubscription=Rt.EMPTY,this._detachSubscription=Rt.EMPTY,this._positionSubscription=Rt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new U,this.positionChange=new U,this.attach=new U,this.detach=new U,this.overlayKeydown=new U,this.overlayOutsideClick=new U,this._templatePortal=new Vm(i,n),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Bbe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Dn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new v_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof MI?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Ebe(r,t=!1){return Zi((e,i)=>{let n=0;e.subscribe(Ni(i,o=>{const a=r(o,n++);(a||t)&&i.next(o),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Jr),T(Vi),T(Fi),T(S6),T(an,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ri]})}return r})();const jbe={provide:S6,deps:[Jr],useFactory:function Hbe(r){return()=>r.scrollStrategies.reposition()}};let rp=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[Jr,jbe],imports:[h_,Bm,DI,DI]})}return r})();function E6(r,t){return t?e=>Fy(t.pipe(Ci(1),function Ube(){return Zi((r,t)=>{r.subscribe(Ni(t,xw))})}()),e.pipe(E6(r))):Hn((e,i)=>r(e,i).pipe(Ci(1),f0(e)))}const Wbe=["panel"];function $be(r,t){if(1&r&&(O(0,"div",0,1),Le(2),A()),2&r){const e=t.id,i=de();H("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),je("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const Kbe=["*"],Ybe=Kn("panelAnimation",[vi("void, hidden",ze({opacity:0,transform:"scaleY(0.8)"})),Jt(":enter, hidden => visible",[_I([oi("0.03s linear",ze({opacity:1})),oi("0.12s cubic-bezier(0, 0, 0.2, 1)",ze({transform:"scaleY(1)"}))])]),Jt(":leave, visible => hidden",[oi("0.075s linear",ze({opacity:0}))])]);let qbe=0;class Xbe{constructor(t,e){this.source=t,this.option=e}}const Zbe=ep(class{}),D6=new ee("mat-autocomplete-default-options",{providedIn:"root",factory:function Qbe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let Jbe=(()=>{class r extends Zbe{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Te(e)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(e){this._autoSelectActiveOption=Te(e)}set classList(e){this._classList=e&&e.length?d$(e).reduce((i,n)=>(i[n]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(e,i,n,o){super(),this._changeDetectorRef=e,this._elementRef=i,this._defaults=n,this._activeOptionChanges=Rt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new U,this.opened=new U,this.closed=new U,this.optionActivated=new U,this._classList={},this.id="mat-autocomplete-"+qbe++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!n.autoActiveFirstOption,this._autoSelectActiveOption=!!n.autoSelectActiveOption}ngAfterContentInit(){this._keyManager=new E$(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new Xbe(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}_setThemeClasses(e){e["mat-primary"]="primary"===this._color,e["mat-warn"]="warn"===this._color,e["mat-accent"]="accent"===this._color}_skipPredicate(e){return e.disabled}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(Se),T(D6),T(Xt))};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&(Xe(Vi,7),Xe(Wbe,5)),2&i){let o;ye(o=_e())&&(n.template=o.first),ye(o=_e())&&(n.panel=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[fe]})}return r})(),RI=(()=>{class r extends Jbe{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Te(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_skipPredicate(e){return!1}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,yI,5),Tt(o,ip,5)),2&i){let a;ye(a=_e())&&(n.optionGroups=a),ye(a=_e())&&(n.options=a)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[Ve([{provide:vI,useExisting:r}]),fe],ngContentSelectors:Kbe,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(i,n){1&i&&(qt(),ue(0,$be,3,5,"ng-template"))},dependencies:[Zu],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Ybe]},changeDetection:0})}return r})();const ewe={provide:Cr,useExisting:It(()=>mx),multi:!0},T6=new ee("mat-autocomplete-scroll-strategy"),iwe={provide:T6,deps:[Jr],useFactory:function twe(r){return()=>r.scrollStrategies.reposition()}};let nwe=(()=>{class r{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Te(e)}constructor(e,i,n,o,a,s,l,c,u,d,h){this._element=e,this._overlay=i,this._viewContainerRef=n,this._zone=o,this._changeDetectorRef=a,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Rt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Me,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=hm(()=>{const p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(_r(p),mr(()=>rn(...p.map(f=>f.onSelectionChange)))):this._zone.onStable.pipe(Ci(1),mr(()=>this.optionSelections))}),this._trackedModal=null,this._scrollStrategy=s}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return rn(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ui(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ui(()=>this._overlayAttached)):Be()).pipe(ot(e=>e instanceof Y$?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return rn(Os(this._document,"click"),Os(this._document,"auxclick"),Os(this._document,"touchend")).pipe(ui(e=>{const i=Bc(e),n=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e.keyCode,n=Dn(e);if(27===i&&!n&&e.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,a=38===i||40===i;9===i||a&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):a&&this._canOpen()&&this.openPanel(),(a||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,n=i.value;"number"===i.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._pendingAutoselectedOption=null,this._onChange(n),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(Ci(1)),i=this.autocomplete.options.changes.pipe(Sn(()=>this._positionStrategy.reapplyLastPosition()),function zbe(r,t=ex){const e=xI(r,t);return E6(()=>e)}(0));return rn(e,i).pipe(mr(()=>(this._zone.run(()=>{const n=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),Ci(1)).subscribe(n=>this._setValueAndClose(n))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(e){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const i=e?e.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(i=>{i!==e&&i.selected&&i.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new Vm(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,this._handleOverlayEvents(e),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new v_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let a;a="above"===this.position?o:"below"===this.position?i:[...i,...o],e.withPositions(a)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let n=0;n<e.options.length;n++)if(!e.options.get(n).disabled){i=n;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const i=this.autocomplete,n=q$(e,i.options,i.optionGroups);if(0===e&&1===n)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[e];if(o){const a=o._getHostElement(),s=X$(a.offsetTop,a.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(s)}}}_handleOverlayEvents(e){e.keydownEvents().subscribe(i=>{(27===i.keyCode&&!Dn(i)||38===i.keyCode&&Dn(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),e.outsidePointerEvents().subscribe()}_applyModalPanelOwnership(){const e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=this.autocomplete.id;this._trackedModal&&l_(this._trackedModal,"aria-owns",i),dI(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(l_(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Jr),T(Fi),T(Ee),T(Ft),T(T6),T(an,8),T(m_,9),T(tt,8),T(Yc),T(D6,8))};static#t=this.\u0275dir=Q({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[ri]})}return r})(),mx=(()=>{class r extends nwe{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,n){1&i&&se("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(a){return n._handleInput(a)})("keydown",function(a){return n._handleKeydown(a)})("click",function(){return n._handleClick()}),2&i&&je("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Ve([ewe]),fe]})}return r})(),rwe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[iwe],imports:[rp,ax,ht,yr,qc,ax,ht]})}return r})();function owe(r,t){if(1&r&&(O(0,"mat-option",6),F(1),A()),2&r){const e=t.$implicit;H("value",e.code),L(1),ea("",e.code," | ",e.name,"")}}let awe=(()=>{class r{constructor(e){this.service=e,this.colorarray=["Red","Green","Yellow"],this.formcontrol=new Em(""),this.colorarraylist=this.service.GetColorList()}ngOnInit(){this.filteroptionslist=this.formcontrol.valueChanges.pipe(_r(""),ot(e=>this._LISTFILTER(e||"")))}_FILTER(e){const i=e.toLocaleLowerCase();return this.colorarray.filter(n=>n.toLocaleLowerCase().includes(i))}_LISTFILTER(e){const i=e.toLocaleLowerCase();return this.colorarraylist.filter(n=>n.name.toLocaleLowerCase().includes(i)||n.code.toLocaleLowerCase().includes(i))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Y0))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-autocomplete"]],decls:9,vars:5,consts:[[1,"example-form"],[1,"example-full-width"],["matInput","",3,"matAutocomplete","formControl"],["autoActiveFirstOption",""],["auto",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){if(1&i&&(O(0,"h3"),F(1,"Auto Complete"),A(),O(2,"form",0)(3,"mat-form-field",1),q(4,"input",2),O(5,"mat-autocomplete",3,4),ue(7,owe,2,3,"mat-option",5),nR(8,"async"),A()()()),2&i){const o=en(6);L(4),H("matAutocomplete",o)("formControl",n.formcontrol),L(3),H("ngForOf",rR(8,3,n.filteroptionslist))}},dependencies:[Ba,Kc,Fl,ip,RI,mx,Pl,ia,Es,Rl,KP,nd,qR]})}return r})();class swe{}function PI(r){return r&&"function"==typeof r.connect&&!(r instanceof hP)}class A6{applyChanges(t,e,i,n,o){t.forEachOperation((a,s,l)=>{let c,u;if(null==a.previousIndex){const d=i(a,s,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(e.remove(s),u=3):(c=e.get(s),e.move(c,l),u=2);o&&o({context:c?.context,operation:u,record:a})})}detach(){}}class II{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,n){this._multiple=t,this._emitChanges=i,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Me,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let lwe=(()=>{class r{constructor(){this._listeners=[]}notify(e,i){for(let n of this._listeners)n(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const __=new ee("_ViewRepeater"),cwe=["trigger"],uwe=["panel"];function dwe(r,t){if(1&r&&(O(0,"span",10),F(1),A()),2&r){const e=de();L(1),Ct(e.placeholder)}}function hwe(r,t){if(1&r&&(O(0,"span",14),F(1),A()),2&r){const e=de(2);L(1),Ct(e.triggerValue)}}function pwe(r,t){1&r&&Le(0,0,["*ngSwitchCase","true"])}function fwe(r,t){1&r&&(O(0,"span",11),ue(1,hwe,2,1,"span",12),ue(2,pwe,1,0,"ng-content",13),A()),2&r&&(H("ngSwitch",!!de().customTrigger),L(2),H("ngSwitchCase",!0))}function mwe(r,t){if(1&r){const e=_i();Pa(),Oh(),O(0,"div",15,16),se("@transformPanel.done",function(n){return at(e),st(de()._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){return at(e),st(de()._handleKeydown(n))}),Le(2,1),A()}if(2&r){const e=de();(function Fj(r,t,e){_s(Zo,El,qf(pe(),r,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),H("ngClass",e.panelClass)("@transformPanel","showing"),je("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const gwe=[[["mat-select-trigger"]],"*"],vwe=["mat-select-trigger","*"],ywe={transformPanelWrap:Kn("transformPanelWrap",[Jt("* => void",lx("@transformPanel",[sx()],{optional:!0}))]),transformPanel:Kn("transformPanel",[vi("void",ze({opacity:0,transform:"scale(1, 0.8)"})),Jt("void => showing",oi("120ms cubic-bezier(0, 0, 0.2, 1)",ze({opacity:1,transform:"scale(1, 1)"}))),Jt("* => void",oi("100ms linear",ze({opacity:0})))])};let M6=0;const R6=new ee("mat-select-scroll-strategy"),Cwe=new ee("MAT_SELECT_CONFIG"),bwe={provide:R6,deps:[Jr],useFactory:function _we(r){return()=>r.scrollStrategies.reposition()}},wwe=new ee("MatSelectTrigger");class Swe{constructor(t,e){this.source=t,this.value=e}}const xwe=ep(mI(ad(G$(class{constructor(r,t,e,i,n){this._elementRef=r,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=n,this.stateChanges=new Me}}))));let Ewe=(()=>{class r extends xwe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(xs.required)??!1}set required(e){this._required=Te(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Te(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Te(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=gi(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,n,o,a,s,l,c,u,d,h,p,f,m){super(a,o,l,c,d),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=n,this._dir=s,this._parentFormField=u,this._liveAnnouncer=f,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(g,v)=>g===v,this._uid="mat-select-"+M6++,this._triggerAriaLabelledBy=null,this._destroy=new Me,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+M6++,this._panelDoneAnimatingStream=new Me,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=hm(()=>{const g=this.options;return g?g.changes.pipe(_r(g),mr(()=>rn(...g.map(v=>v.onSelectionChange)))):this._ngZone.onStable.pipe(Ci(1),mr(()=>this.optionSelectionChanges))}),this.openedChange=new U,this._openedStream=this.openedChange.pipe(ui(g=>g),ot(()=>{})),this._closedStream=this.openedChange.pipe(ui(g=>!g),ot(()=>{})),this.selectionChange=new U,this.valueChange=new U,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=m?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new II(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Iv(),Dt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Dt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(_r(null),Dt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&l_(this._trackedModal,"aria-owns",i),dI(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(l_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,n=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Dn(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const s=this.selected;a.onKeydown(e);const l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,n=e.keyCode,o=40===n||38===n,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==n&&32!==n||!i.activeItem||Dn(e))if(!a&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{const s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ci(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return null!=n.value&&this._compareWith(n.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new E$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=rn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),rn(...this.options.map(i=>i._stateChanges)).pipe(Dt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,n)=>this.sortComparator?this.sortComparator(i,n,e):e.indexOf(i)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(n=>n.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||r)(T(Yc),T(Ft),T(Ee),T(B$),T(Se),T(an,8),T(nd,8),T(Ds,8),T(m_,8),T(Ml,10),gl("tabindex"),T(R6),T(H_e),T(Cwe,8))};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&(Xe(cwe,5),Xe(uwe,5),Xe(x6,5)),2&i){let o;ye(o=_e())&&(n.trigger=o.first),ye(o=_e())&&(n.panel=o.first),ye(o=_e())&&(n._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[fe,ri]})}return r})(),C_=(()=>{class r extends Ewe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Dt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const n=this.panel.nativeElement,o=q$(e,this.options,this.optionGroups),a=i._getHostElement();n.scrollTop=0===e&&1===o?0:X$(a.offsetTop,a.offsetHeight,n.scrollTop,n.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Swe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof MI?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Te(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-select"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,wwe,5),Tt(o,ip,5),Tt(o,yI,5)),2&i){let a;ye(a=_e())&&(n.customTrigger=a.first),ye(a=_e())&&(n.options=a),ye(a=_e())&&(n.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,n){1&i&&se("keydown",function(a){return n._handleKeydown(a)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&i&&(je("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),Ge("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ve([{provide:bI,useExisting:r},{provide:vI,useExisting:r}]),fe],ngContentSelectors:vwe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,n){if(1&i&&(qt(gwe),O(0,"div",0,1),se("click",function(){return n.toggle()}),O(3,"div",2),ue(4,dwe,2,1,"span",3),ue(5,fwe,3,2,"span",4),A(),O(6,"div",5)(7,"div",6),Pa(),O(8,"svg",7),q(9,"path",8),A()()()(),ue(10,mwe,3,9,"ng-template",9),se("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&i){const o=en(1);L(3),H("ngSwitch",n.empty),je("id",n._valueId),L(1),H("ngSwitchCase",!0),L(1),H("ngSwitchCase",!1),L(5),H("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[Zu,dm,l0,lW,x6,MI],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ywe.transformPanel]},changeDetection:0})}return r})(),P6=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[bwe],imports:[yr,rp,ax,ht,qc,wI,ax,ht]})}return r})(),Dwe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-input"]],decls:13,vars:0,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text"],[1,"example-form"],["matInput","","placeholder","Ex. Pizza","value","Sushi"]],template:function(i,n){1&i&&(O(0,"h2"),F(1,"Angular Material - Input"),A(),O(2,"mat-form-field",0),q(3,"input",1),A(),O(4,"form",2)(5,"mat-form-field",0)(6,"mat-label"),F(7,"Favorite food"),A(),q(8,"input",3),A(),O(9,"mat-form-field",0)(10,"mat-label"),F(11,"Leave a comment"),A(),q(12,"mat-select"),A()())},dependencies:[Kc,Fl,$c,C_,Pl,Rl,nd],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]})}return r})(),Xc=(()=>{class r{constructor(e){this.http=e,this.localServerSideUrl="http://localhost:8080/",this.baseUrl=this.getHost()}getHost(){return"4200"==window.location.port?this.localServerSideUrl:window.location.protocol+"//"+window.location.host+"/"}getAllPlayer(){return this.http.get(`${this.baseUrl}webapi/players`)}savePlayer(e){return this.http.post(`${this.baseUrl}webapi/admin/players`,e)}editPlayer(e){return this.http.post(`${this.baseUrl}webapi/admin/players`,e)}getPlayerById(e){return this.http.get(`${this.baseUrl}webapi/players/`+e)}updatePlayersHandicap(e){return this.http.post(`${this.baseUrl}webapi/players/ghin`,e)}createEventTee(e){const i=`${this.baseUrl}webapi/admin/game/grouping`;return console.log("eventGroupUrl="+i),this.http.post(i,e)}getAllEvent(){return this.http.get(`${this.baseUrl}webapi/events`)}getEventById(e){return this.http.get(`${this.baseUrl}webapi/events/`+e)}getUpcomingEvent(){return this.http.get(`${this.baseUrl}webapi/events/upcoming`)}submitScore(e){const i=`${this.baseUrl}webapi/admin/game/submitScore`;return console.log("eventGroupUrl="+i),this.http.post(i,e)}deleteEvent(e){const i=`${this.baseUrl}webapi/admin/events/`+e;return console.log("eventUrl="+i),this.http.delete(i)}updateLast3Score(){return this.http.get(`${this.baseUrl}webapi/player/last3score`)}getDonations(){return this.http.get(`${this.baseUrl}webapi/donations`)}getLatestEvent(){return this.http.get(`${this.baseUrl}webapi/events/latest`)}static#e=this.\u0275fac=function(i){return new(i||r)(K(Om))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Twe=["*"],Mwe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Rwe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Pwe=new ee("MAT_CARD_CONFIG");let Zc=(()=>{class r{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||r)(T(Pwe,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,n){2&i&&Ge("mat-mdc-card-outlined","outlined"===n.appearance)("mdc-card--outlined","outlined"===n.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Twe,decls:1,vars:0,template:function(i,n){1&i&&(qt(),Le(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return r})(),Hm=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return r})(),Qc=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return r})(),jm=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return r})(),Um=(()=>{class r{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mat-mdc-card-actions-align-end","end"===n.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return r})(),op=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Rwe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,n){1&i&&(qt(Mwe),Le(0),O(1,"div",0),Le(2,1),A(),Le(3,2))},encapsulation:2,changeDetection:0})}return r})(),b_=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return r})(),gx=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return r})(),I6=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return r})(),F6=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-mdc-card-md-image","mdc-card__media"]})}return r})(),k6=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"]})}return r})(),vx=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return r})(),kwe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,yr,ht]})}return r})(),Lwe=(()=>{class r{constructor(e){this.service=e}ngOnInit(){this.service.getUpcomingEvent().subscribe(e=>{this.editdata=e,console.log("event==="+this.editdata)}),this.service.getLatestEvent().subscribe(e=>{this.olddata=e,console.log("event==="+this.olddata)})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Xc))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-home"]],decls:101,vars:0,consts:[[1,"home-container"],[1,"slide"],["src","/assets/pgc.jpg",1,"homeimg"],[1,"paragraph"],[2,"font-family","Georgia, serif","color","#4b93ec","font-size","36px"],[2,"font-family","Georgia, serif","color","#4b93ec","font-size","26px"],[2,"font-family","Arial"],[2,"color","#006400","font-family","Georgia, 'Times New Roman', Times, serif"],[2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","20px"],[1,"card-class"],["mat-card-image","","src","https://cdn.sanity.io/images/arkm1m4f/production/fd847ab15e660a3b5bddcb938d0ca301c9c013b1-1600x899.jpg","alt","Photo of a Shiba Inu"],["mat-card-image","","src","https://www.theclubatmorganhill.com/images/Hole_10_green_view_edited_1.jpg","alt","Photo of a Shiba Inu"],["mat-card-image","","src","https://golfdigest.sports.sndimg.com/content/dam/images/golfdigest/fullset/course-photos-for-places-to-play/Forsgate-cc-Palmer-1-NewJersey-7507.png.rend.hgtvcom.966.725.suffix/1689103050805.png","alt","Photo of a Shiba Inu"],["mat-card-image","","src","https://www.golfdigest.com/content/dam/images/golfdigest/fullset/2023/1/Old%20Bridge%20air.jpg","alt","Photo of a Shiba Inu"],["mat-card-image","","src","https://assets.simpleviewinc.com/simpleview/image/upload/crm/galenacountryil/Digital-2K-long-General-number-1-looking-back-Autumn-2021-1a-_064C046D-5056-A36A-068322D237540902-064bffb45056a36_064c142d-5056-a36a-06e3d7b571e18522.jpg","alt","Photo of a Shiba Inu"]],template:function(i,n){1&i&&(O(0,"div",0)(1,"div",1),q(2,"img",2),A(),O(3,"div",3)(4,"h1",4),F(5," Welcome to The New Jersey Princeton Golf Club"),A(),O(6,"h1",5),F(7,"\u65b0\u6cfd\u897f\u666e\u6797\u65af\u987f\u9ad8\u5c14\u592b\u7403\u4ff1\u4e50\u90e8"),A(),O(8,"p",6),F(9," Every golf season Princeton Golf Club hosts 4 to 5 golf games to attract golf enthusiasts around New Jersey and surrounding areas to meet and compete. This is a place where you can make new friends and enjoy a couple of golf games. "),A(),O(10,"p"),F(11," Priceton Golf Club started in 2008 and it has since hosted many successful seasons of golf tournament. Please join us if you love golf and would like to meet some new friends. "),A(),O(12,"h1",7),F(13,"*************** 2025 PGC Golf Tournament Events ***************"),A(),q(14,"br"),A(),O(15,"div",8)(16,"mat-card",9)(17,"mat-card-header")(18,"mat-card-title"),F(19,"2025 PGC Masters Invitational"),A(),O(20,"mat-card-subtitle"),F(21,"Sponsor: Jeff Ye"),A(),O(22,"mat-card-subtitle"),F(23,"Date: 05-02-2025"),A(),O(24,"mat-card-subtitle"),F(25,"Location: The Architects Golf Club"),A()(),q(26,"img",10),O(27,"mat-card-content")(28,"p"),F(29," 2025 PGC Masters Invitational is sponsored by Jeff Ye. It will be hosted at the beautiful The Architects Golf Club. "),q(30,"br"),F(31," \u4eca\u5e74PGC\u7684\u9996\u573a\u8d5b\u4e8b\u5373\u5c06\u5f00\u542f\uff01\u6bd4\u8d5b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u4e3e\u529e\u76db\u5927\u7684\u9881\u5956\u665a\u5bb4\uff0c\u5e76\u51c6\u5907\u4e86\u591a\u9879\u60ca\u559c\u62bd\u5956\u3002\u4e3a\u4e86\u5ba3\u4f20\u548c\u63a8\u5e7f PGC\uff0c\u672c\u6b21\u8d5b\u4e8b\u5609\u5bbe\u5c06\u548c\u4f1a\u5458\u6536\u8d39\u76f8\u540c\uff0c\u4e0d\u6536\u53d6\u989d\u5916\u8d39\u7528\uff01 \u673a\u4f1a\u96be\u5f97\uff0c\u540d\u989d\u6709\u9650\uff0c\u6b22\u8fce\u5e7f\u5927\u7403\u53cb\u8e0a\u8dc3\u62a5\u540d\uff0c\u4e00\u8d77\u6325\u6746\u7ade\u6280\uff0c\u5171\u4eab\u9ad8\u7403\u76db\u5bb4\uff01 "),A()(),q(32,"mat-card-footer"),A(),O(33,"mat-card",9)(34,"mat-card-header")(35,"mat-card-title"),F(36,"2025 PGC Open"),A(),O(37,"mat-card-subtitle"),F(38,"Sponsor: Kai Yang"),A(),O(39,"mat-card-subtitle"),F(40,"Date: 06-08-2025"),A(),O(41,"mat-card-subtitle"),F(42,"Location: The Morgan Hill Golf Club"),A()(),q(43,"img",11),O(44,"mat-card-content")(45,"p"),F(46," 2025 PGC Open is sponsored by Kai Yang. It will be hosted at the beautiful The Morgan Hill Golf Club. "),q(47,"br"),F(48," \u4eca\u5e74PGC\u7684\u9996\u573a\u8d5b\u4e8b\u5373\u5c06\u5f00\u542f\uff01\u6bd4\u8d5b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u4e3e\u529e\u76db\u5927\u7684\u9881\u5956\u665a\u5bb4\uff0c\u5e76\u51c6\u5907\u4e86\u591a\u9879\u60ca\u559c\u62bd\u5956\u3002\u4e3a\u4e86\u5ba3\u4f20\u548c\u63a8\u5e7f PGC\uff0c\u672c\u6b21\u8d5b\u4e8b\u5609\u5bbe\u5c06\u548c\u4f1a\u5458\u6536\u8d39\u76f8\u540c\uff0c\u4e0d\u6536\u53d6\u989d\u5916\u8d39\u7528\uff01 \u673a\u4f1a\u96be\u5f97\uff0c\u540d\u989d\u6709\u9650\uff0c\u6b22\u8fce\u5e7f\u5927\u7403\u53cb\u8e0a\u8dc3\u62a5\u540d\uff0c\u4e00\u8d77\u6325\u6746\u7ade\u6280\uff0c\u5171\u4eab\u9ad8\u7403\u76db\u5bb4\uff01 "),A()(),q(49,"mat-card-footer"),A(),O(50,"mat-card",9)(51,"mat-card-header")(52,"mat-card-title"),F(53,"2025 PGC Classic"),A(),O(54,"mat-card-subtitle"),F(55,"Sponsor: Jack Li & Alan Long"),A(),O(56,"mat-card-subtitle"),F(57,"Date: 07-27-2025"),A(),O(58,"mat-card-subtitle"),F(59,"Location: The Forsgate Golf Country Club Plamer Course"),A()(),q(60,"img",12),O(61,"mat-card-content")(62,"p"),F(63," 2025 PGC Masters Invitational is sponsored by Jack Li and Alan Long. It will be hosted at the beautiful Forsgate Golf Country Club Plamer Course. "),q(64,"br"),F(65," \u4eca\u5e74PGC\u7684\u9996\u573a\u8d5b\u4e8b\u5373\u5c06\u5f00\u542f\uff01\u6bd4\u8d5b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u4e3e\u529e\u76db\u5927\u7684\u9881\u5956\u665a\u5bb4\uff0c\u5e76\u51c6\u5907\u4e86\u591a\u9879\u60ca\u559c\u62bd\u5956\u3002\u4e3a\u4e86\u5ba3\u4f20\u548c\u63a8\u5e7f PGC\uff0c\u672c\u6b21\u8d5b\u4e8b\u5609\u5bbe\u5c06\u548c\u4f1a\u5458\u6536\u8d39\u76f8\u540c\uff0c\u4e0d\u6536\u53d6\u989d\u5916\u8d39\u7528\uff01 \u673a\u4f1a\u96be\u5f97\uff0c\u540d\u989d\u6709\u9650\uff0c\u6b22\u8fce\u5e7f\u5927\u7403\u53cb\u8e0a\u8dc3\u62a5\u540d\uff0c\u4e00\u8d77\u6325\u6746\u7ade\u6280\uff0c\u5171\u4eab\u9ad8\u7403\u76db\u5bb4\uff01 "),A()(),q(66,"mat-card-footer"),A(),O(67,"mat-card",9)(68,"mat-card-header")(69,"mat-card-title"),F(70,"2025 PGC Cup"),A(),O(71,"mat-card-subtitle"),F(72,"Sponsor: Ping Tian & Nara Wang"),A(),O(73,"mat-card-subtitle"),F(74,"Date: 08-10-2025"),A(),O(75,"mat-card-subtitle"),F(76,"Location: The Old Bridge Golf Club"),A()(),q(77,"img",13),O(78,"mat-card-content")(79,"p"),F(80," 2025 PGC Cup is sponsored by Ping Tian and Nara Wang. It will be hosted at the beautiful The Old Bridge Golf Club. "),q(81,"br"),F(82," \u4eca\u5e74PGC\u7684\u9996\u573a\u8d5b\u4e8b\u5373\u5c06\u5f00\u542f\uff01\u6bd4\u8d5b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u4e3e\u529e\u76db\u5927\u7684\u9881\u5956\u665a\u5bb4\uff0c\u5e76\u51c6\u5907\u4e86\u591a\u9879\u60ca\u559c\u62bd\u5956\u3002\u4e3a\u4e86\u5ba3\u4f20\u548c\u63a8\u5e7f PGC\uff0c\u672c\u6b21\u8d5b\u4e8b\u5609\u5bbe\u5c06\u548c\u4f1a\u5458\u6536\u8d39\u76f8\u540c\uff0c\u4e0d\u6536\u53d6\u989d\u5916\u8d39\u7528\uff01 \u673a\u4f1a\u96be\u5f97\uff0c\u540d\u989d\u6709\u9650\uff0c\u6b22\u8fce\u5e7f\u5927\u7403\u53cb\u8e0a\u8dc3\u62a5\u540d\uff0c\u4e00\u8d77\u6325\u6746\u7ade\u6280\uff0c\u5171\u4eab\u9ad8\u7403\u76db\u5bb4\uff01 "),A()(),q(83,"mat-card-footer"),A(),O(84,"mat-card",9)(85,"mat-card-header")(86,"mat-card-title"),F(87,"2025 PGC Championship"),A(),O(88,"mat-card-subtitle"),F(89,"Date: 09-07-2025"),A(),O(90,"mat-card-subtitle"),F(91,"Sponsor: Heping Wang & Zili Ma"),A(),O(92,"mat-card-subtitle"),F(93,"Location: The Eagle Ridge Golf Club"),A()(),q(94,"img",14),O(95,"mat-card-content")(96,"p"),F(97," 2025 PGC Championship is sponsored by Heping Wang and Zili Ma. It will be hosted at the beautiful The Eagle Ridge Golf Club. "),q(98,"br"),F(99," \u4eca\u5e74PGC\u7684\u9996\u573a\u8d5b\u4e8b\u5373\u5c06\u5f00\u542f\uff01\u6bd4\u8d5b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u4e3e\u529e\u76db\u5927\u7684\u9881\u5956\u665a\u5bb4\uff0c\u5e76\u51c6\u5907\u4e86\u591a\u9879\u60ca\u559c\u62bd\u5956\u3002\u4e3a\u4e86\u5ba3\u4f20\u548c\u63a8\u5e7f PGC\uff0c\u672c\u6b21\u8d5b\u4e8b\u5609\u5bbe\u5c06\u548c\u4f1a\u5458\u6536\u8d39\u76f8\u540c\uff0c\u4e0d\u6536\u53d6\u989d\u5916\u8d39\u7528\uff01 \u673a\u4f1a\u96be\u5f97\uff0c\u540d\u989d\u6709\u9650\uff0c\u6b22\u8fce\u5e7f\u5927\u7403\u53cb\u8e0a\u8dc3\u62a5\u540d\uff0c\u4e00\u8d77\u6325\u6746\u7ade\u6280\uff0c\u5171\u4eab\u9ad8\u7403\u76db\u5bb4\uff01 "),A()(),q(100,"mat-card-footer"),A()()())},dependencies:[Zc,Qc,b_,op,gx,jm,Hm],styles:[".home-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;background-color:#f5f5f5;border-radius:0;box-shadow:0 0 #0000001a;height:1200px}h1[_ngcontent-%COMP%]{color:#042135;font-family:verdana}p[_ngcontent-%COMP%]{color:#020614e7;line-height:1.6;font-family:verdana}.paragraph[_ngcontent-%COMP%]{font:16px Play;position:relative;padding-top:20px}.homeimg[_ngcontent-%COMP%]{max-width:100%;width:100%;max-height:60%}.Slide[_ngcontent-%COMP%]{position:relative;border:1px solid blue;min-width:100%;height:100%;transition:.5s;background-color:#000}.Slide1[_ngcontent-%COMP%]{position:relative;border:1px solid blue;max-width:100%;width:100%;max-height:60%;transition:.5s;opacity:.4}.user[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;border-radius:50%;background-repeat:no-repeat;background-position:center center;background-size:cover;position:absolute;left:5%}.groupuser[_ngcontent-%COMP%]{position:relative;left:20%}.inlineh4[_ngcontent-%COMP%]{display:inline-block}.inlineh1[_ngcontent-%COMP%]{display:inline-block;color:#df5719}.card-class[_ngcontent-%COMP%]{margin:2%;width:98%;text-align:left;float:left}"]})}return r})();const Nwe=["*"];let yx;function w_(r){return function Gwe(){if(void 0===yx&&(yx=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(yx=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return yx}()?.createHTML(r)||r}function L6(r){return Error(`Unable to find icon with the name "${r}"`)}function N6(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function G6(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class ap{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let _x=(()=>{class r{constructor(e,i,n,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(e,i,n){return this.addSvgIconInNamespace("",e,i,n)}addSvgIconLiteral(e,i,n){return this.addSvgIconLiteralInNamespace("",e,i,n)}addSvgIconInNamespace(e,i,n,o){return this._addSvgIconConfig(e,i,new ap(n,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,n,o){const a=this._sanitizer.sanitize(ci.HTML,n);if(!a)throw G6(n);const s=w_(a);return this._addSvgIconConfig(e,i,new ap("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,n){return this._addSvgIconSetConfig(e,new ap(i,null,n))}addSvgIconSetLiteralInNamespace(e,i,n){const o=this._sanitizer.sanitize(ci.HTML,i);if(!o)throw G6(i);const a=w_(o);return this._addSvgIconSetConfig(e,new ap("",a,n))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ci.RESOURCE_URL,e);if(!i)throw N6(e);const n=this._cachedIconsByUrl.get(i);return n?Be(Cx(n)):this._loadSvgIconFromConfig(new ap(e,null)).pipe(Sn(o=>this._cachedIconsByUrl.set(i,o)),ot(o=>Cx(o)))}getNamedSvgIcon(e,i=""){const n=V6(i,e);let o=this._svgIconConfigs.get(n);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(n,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):pm(L6(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Be(Cx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ot(i=>Cx(i)))}_getSvgFromIconSetConfigs(e,i){const n=this._extractIconWithNameFromAnySet(e,i);return n?Be(n):W4(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ju(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ci.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Be(null)})))).pipe(ot(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw L6(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let n=i.length-1;n>=0;n--){const o=i[n];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Sn(i=>e.svgText=i),ot(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Be(null):this._fetchIcon(e).pipe(Sn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,n){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,n);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),n);const s=this._svgElementFromString(w_("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,n)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const i=this._svgElementFromString(w_("<svg></svg>")),n=e.attributes;for(let o=0;o<n.length;o++){const{name:a,value:s}=n[o];"id"!==a&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:n}=e,o=n?.withCredentials??!1;if(!this._httpClient)throw function Vwe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(ci.RESOURCE_URL,i);if(!a)throw N6(i);const s=this._inProgressUrlFetches.get(a);if(s)return s;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ot(c=>w_(c)),mm(()=>this._inProgressUrlFetches.delete(a)),Tw());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,n){return this._svgIconConfigs.set(V6(e,i),n),this}_addSvgIconSetConfig(e,i){const n=this._iconSetConfigs.get(e);return n?n.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let n=0;n<this._resolvers.length;n++){const o=this._resolvers[n](i,e);if(o)return Hwe(o)?new ap(o.url,null,o.options):new ap(o,null)}}static#e=this.\u0275fac=function(i){return new(i||r)(K(Om,8),K(cP),K(tt,8),K(Cl))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Cx(r){return r.cloneNode(!0)}function V6(r,t){return r+":"+t}function Hwe(r){return!(!r.url||!r.options)}const jwe=Jh(class{constructor(r){this._elementRef=r}}),Uwe=new ee("MAT_ICON_DEFAULT_OPTIONS"),zwe=new ee("mat-icon-location",{providedIn:"root",factory:function Wwe(){const r=be(tt),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),B6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$we=B6.map(r=>`[${r}]`).join(", "),Kwe=/^url\(['"]?#(.*?)['"]?\)$/;let bx=(()=>{class r extends jwe{get inline(){return this._inline}set inline(e){this._inline=Te(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,n,o,a,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Rt.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),n||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const n=e.childNodes[i];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>e.classList.remove(n)),i.forEach(n=>e.classList.add(n)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((n,o)=>{n.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll($we),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)B6.forEach(a=>{const s=i[o],l=s.getAttribute(a),c=l?l.match(Kwe):null;if(c){let u=n.get(s);u||(u=[],n.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,n]=this._splitIconName(e);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe(Ci(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${n}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(_x),gl("aria-hidden"),T(zwe),T(Cl),T(Uwe,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,n){2&i&&(je("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),Ge("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fe],ngContentSelectors:Nwe,decls:1,vars:0,template:function(i,n){1&i&&(qt(),Le(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return r})(),Ywe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,ht]})}return r})();const H6=["mat-button",""],FI=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],kI=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],j6=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Xwe=["mat-mini-fab",""],Qwe=["mat-icon-button",""],Jwe=["*"],U6={capture:!0},z6=["focus","click","mouseenter","touchstart"],S_="mat-button-ripple-uninitialized";let eSe=(()=>{class r{constructor(){this._document=be(tt,{optional:!0}),this._animationMode=be(Ai,{optional:!0}),this._globalRippleOptions=be(Lm,{optional:!0}),this._platform=be(Xt),this._ngZone=be(Ee),this._onInteraction=e=>{if(e.target===this._document)return;const n=e.target.closest(`[${S_}]`);n&&(n.removeAttribute(S_),this._appendRipple(n))},this._ngZone.runOutsideAngular(()=>{for(const e of z6)this._document?.addEventListener(e,this._onInteraction,U6)})}ngOnDestroy(){for(const e of z6)this._document?.removeEventListener(e,this._onInteraction,U6)}_appendRipple(e){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const n=new tSe(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);n.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new km(n,this._ngZone,i,this._platform).setupTriggerEvents(e),e.append(i)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(S_);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const n=new zc(new Se(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return n._isInitialized=!0,n.trigger=e,e.append(i),n}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class tSe{constructor(t,e,i){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,i)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const iSe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],nSe=Jh(ad(ep(class{constructor(r){this._elementRef=r}})));let wx=(()=>{class r extends nSe{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,i,n,o){super(e),this._platform=i,this._ngZone=n,this._animationMode=o,this._focusMonitor=be(Uc),this._rippleLoader=be(eSe),this._isFab=!1;const a=e.nativeElement.classList;for(const s of iSe)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{a.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,features:[fe,ri]})}return r})(),oSe=(()=>{class r extends wx{constructor(e,i,n,o){super(e,i,n,o),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,features:[fe]})}return r})(),ja=(()=>{class r extends wx{constructor(e,i,n,o){super(e,i,n,o)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(Ee),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(i,n){2&i&&(je("disabled",n.disabled||null),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fe],attrs:H6,ngContentSelectors:kI,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(qt(FI),q(0,"span",0),Le(1),O(2,"span",1),Le(3,1),A(),Le(4,2),q(5,"span",2)(6,"span",3)),2&i&&Ge("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return r})(),x_=(()=>{class r extends oSe{constructor(e,i,n,o){super(e,i,n,o)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(Ee),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(i,n){2&i&&(je("disabled",n.disabled||null)("tabindex",n.disabled?-1:n.tabIndex)("aria-disabled",n.disabled.toString()),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[fe],attrs:H6,ngContentSelectors:kI,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(qt(FI),q(0,"span",0),Le(1),O(2,"span",1),Le(3,1),A(),Le(4,2),q(5,"span",2)(6,"span",3)),2&i&&Ge("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',j6],encapsulation:2,changeDetection:0})}return r})();const aSe=new ee("mat-mdc-fab-default-options",{providedIn:"root",factory:W6});function W6(){return{color:"accent"}}const $6=W6();let sSe=(()=>{class r extends wx{constructor(e,i,n,o,a){super(e,i,n,o),this._options=a,this._isFab=!0,this._options=this._options||$6,this.color=this.defaultColor=this._options.color||$6.color}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(Ee),T(Ai,8),T(aSe,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["button","mat-mini-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(i,n){2&i&&(je("disabled",n.disabled||null),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fe],attrs:Xwe,ngContentSelectors:kI,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(qt(FI),q(0,"span",0),Le(1),O(2,"span",1),Le(3,1),A(),Le(4,2),q(5,"span",2)(6,"span",3)),2&i&&Ge("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return r})(),Sx=(()=>{class r extends wx{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,i,n,o){super(e,i,n,o)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(Ee),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(i,n){2&i&&(je("disabled",n.disabled||null),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fe],attrs:Qwe,ngContentSelectors:Jwe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(qt(),q(0,"span",0),Le(1),q(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',j6],encapsulation:2,changeDetection:0})}return r})(),LI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,sd,ht]})}return r})(),lSe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-card"]],decls:81,vars:0,consts:[[1,"card-class"],["mat-card-sm-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-button",""],["mat-card-md-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-card-lg-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-card-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"]],template:function(i,n){1&i&&(O(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),F(3,"Nihira Techiees"),A(),O(4,"mat-card-subtitle"),F(5,"Angular 15 - Material UI"),A()(),q(6,"img",1),O(7,"mat-card-content")(8,"p"),F(9," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(10,"mat-card-actions")(11,"button",2)(12,"mat-icon"),F(13,"thumb_up"),A(),F(14," Like"),A(),O(15,"button",2)(16,"mat-icon"),F(17,"share"),A(),F(18," Share"),A()(),q(19,"mat-card-footer"),A(),O(20,"mat-card",0)(21,"mat-card-header")(22,"mat-card-title"),F(23,"Nihira Techiees"),A(),O(24,"mat-card-subtitle"),F(25,"Angular 15 - Material UI"),A()(),q(26,"img",3),O(27,"mat-card-content")(28,"p"),F(29," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(30,"mat-card-actions")(31,"button",2)(32,"mat-icon"),F(33,"thumb_up"),A(),F(34," Like"),A(),O(35,"button",2)(36,"mat-icon"),F(37,"share"),A(),F(38," Share"),A()(),q(39,"mat-card-footer"),A(),O(40,"mat-card",0)(41,"mat-card-header")(42,"mat-card-title"),F(43,"Nihira Techiees"),A(),O(44,"mat-card-subtitle"),F(45,"Angular 15 - Material UI"),A()(),q(46,"img",4),O(47,"mat-card-content")(48,"p"),F(49," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(50,"mat-card-actions")(51,"button",2)(52,"mat-icon"),F(53,"thumb_up"),A(),F(54," Like"),A(),O(55,"button",2)(56,"mat-icon"),F(57,"share"),A(),F(58," Share"),A()(),q(59,"mat-card-footer"),A(),q(60,"br"),O(61,"mat-card",0)(62,"mat-card-header")(63,"mat-card-title"),F(64,"Nihira Techiees"),A(),O(65,"mat-card-subtitle"),F(66,"Angular 15 - Material UI"),A()(),q(67,"img",5),O(68,"mat-card-content")(69,"p"),F(70," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(71,"mat-card-actions")(72,"button",2)(73,"mat-icon"),F(74,"thumb_up"),A(),F(75," Like"),A(),O(76,"button",2)(77,"mat-icon"),F(78,"share"),A(),F(79," Share"),A()(),q(80,"mat-card-footer"),A())},dependencies:[bx,ja,Zc,Um,Qc,b_,op,gx,k6,F6,I6,jm,Hm],styles:[".card-class[_ngcontent-%COMP%]{margin:3%;width:18%;text-align:left;float:left}"]})}return r})();const cSe=["knob"],uSe=["valueIndicatorContainer"];function dSe(r,t){if(1&r&&(O(0,"div",4,5)(2,"div",6)(3,"span",7),F(4),A()()()),2&r){const e=de();L(4),Ct(e.valueIndicatorText)}}const hSe=["trackActive"];function pSe(r,t){if(1&r&&q(0,"div"),2&r){const e=t.$implicit,i=t.index,n=de(3);(function _j(r){_s(_ce,El,r,!0)})(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Yr("transform",n._calcTickMarkTransform(i))}}function fSe(r,t){if(1&r&&(La(0),ue(1,pSe,1,4,"div",11),Na()),2&r){const e=de(2);L(1),H("ngForOf",e._tickMarks)}}function mSe(r,t){if(1&r&&(O(0,"div",8,9),ue(2,fSe,2,1,"ng-container",10),A()),2&r){const e=de();L(2),H("ngIf",e._cachedWidth)}}function gSe(r,t){if(1&r&&q(0,"mat-slider-visual-thumb",7),2&r){const e=de();H("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const vSe=["*"],xx=new ee("_MatSlider"),K6=new ee("_MatSliderThumb"),Y6=new ee("_MatSliderRangeThumb"),q6=new ee("_MatSliderVisualThumb");let ySe=(()=>{class r{constructor(e,i,n,o){this._cdr=e,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const s=this._hostElement.getBoundingClientRect(),l=this._isSliderThumbHovered(a,s);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{0===a.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=n.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,i){const n=i.width/2,l=e.clientY-(i.y+n);return Math.pow(e.clientX-(i.x+n),2)+Math.pow(l,2)<Math.pow(n,2)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(Ee),T(Se),T(xx))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,n){if(1&i&&(Xe(zc,5),Xe(cSe,5),Xe(uSe,5)),2&i){let o;ye(o=_e())&&(n._ripple=o.first),ye(o=_e())&&(n._knob=o.first),ye(o=_e())&&(n._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Ve([{provide:q6,useExisting:r}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,n){1&i&&(ue(0,dSe,5,1,"div",0),q(1,"div",1,2)(3,"div",3)),2&i&&(H("ngIf",n.discrete),L(3),H("matRippleDisabled",!0))},dependencies:[Zr,zc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return r})();const _Se=Jh(ep(class{constructor(r){this._elementRef=r}}),"primary");let CSe=(()=>{class r extends _Se{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e);const i=this._getInput(2),n=this._getInput(1);i&&(i.disabled=this._disabled),n&&(n.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=Te(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=Te(e)}get min(){return this._min}set min(e){const i=gi(e,this._min);this._min!==i&&this._updateMin(i)}_updateMin(e){const i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const i=this._getInput(2),n=this._getInput(1),o=i.value,a=n.value;n.min=e.new,i.min=Math.max(e.new,n.value),n.max=Math.min(i.max,i.value),n._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),o!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMinNonRange(e){const i=this._getInput(2);if(i){const n=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){const i=gi(e,this._max);this._max!==i&&this._updateMax(i)}_updateMax(e){const i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const i=this._getInput(2),n=this._getInput(1),o=i.value,a=n.value;i.max=e.new,n.max=Math.min(e.new,i.value),i.min=n.value,i._updateWidthInactive(),n._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),o!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMaxNonRange(e){const i=this._getInput(2);if(i){const n=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){const i=gi(e,this._step);this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),i=this._getInput(1),n=e.value,o=i.value,a=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<a?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),n!==e.value&&this._onValueChange(e),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const e=this._getInput(2);if(e){const i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,n,o,a,s,l){super(o),this._ngZone=e,this._cdr=i,this._platform=n,this._dir=a,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===l,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),i=this._getInput(1);this._isRange=!!e&&!!i,this._cdr.detectChanges();const n=this._getThumb(2);this._rippleRadius=n._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),i=this._getInput(1);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),i=this._getInput(1);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),i=this._getInput(2);return!(!e||!i)&&i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const i=e.getSibling(),n=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),n._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=i:e._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const n=this._getThumb(e.thumbPosition);i.length<3?n._hostElement.classList.add("mdc-slider__thumb--short-value"):n._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),i=this._getInput(1);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,n=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*n-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const i=e.getSibling();if(!i||!this._cachedWidth)return;const n=Math.abs(i.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${n})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${n})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const i=this._getValue();let n=Math.max(Math.round((i-this.min)/e),0),o=Math.max(Math.round((this.max-i)/e),0);this._isRtl?n++:o++,this._tickMarks=Array(n).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(e){const i=this._getValue(),n=this._getValue(1),o=Math.max(Math.floor((n-this.min)/e),0),a=Math.max(Math.floor((i-n)/e)+1,0),s=Math.max(Math.floor((this.max-i)/e),0);this._tickMarks=Array(o).fill(1).concat(Array(a).fill(0),Array(s).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ee),T(Ft),T(Xt),T(Se),T(an,8),T(Lm,8),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-slider"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,K6,5),Tt(o,Y6,4)),2&i){let a;ye(a=_e())&&(n._input=a.first),ye(a=_e())&&(n._inputs=a)}},viewQuery:function(i,n){if(1&i&&(Xe(hSe,5),Xe(q6,5)),2&i){let o;ye(o=_e())&&(n._trackActive=o.first),ye(o=_e())&&(n._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(i,n){2&i&&Ge("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Ve([{provide:xx,useExisting:r}]),fe],ngContentSelectors:vSe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(i,n){1&i&&(qt(),Le(0),O(1,"div",0),q(2,"div",1),O(3,"div",2),q(4,"div",3,4),A(),ue(6,mSe,3,1,"div",5),A(),ue(7,gSe,1,3,"mat-slider-visual-thumb",6),q(8,"mat-slider-visual-thumb",7)),2&i&&(L(6),H("ngIf",n.showTickMarks),L(1),H("ngIf",n._isRange),L(1),H("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[Ba,Zr,ySe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();const wSe={provide:Cr,useExisting:It(()=>NI),multi:!0},SSe={provide:Cr,useExisting:It(()=>X6),multi:!0};let NI=(()=>{class r{get value(){return gi(this._hostElement.value)}set value(e){const i=gi(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return gi(this._hostElement.min)}set min(e){this._hostElement.min=gi(e).toString(),this._cdr.detectChanges()}get max(){return gi(this._hostElement.max)}set max(e){this._hostElement.max=gi(e).toString(),this._cdr.detectChanges()}get step(){return gi(this._hostElement.step)}set step(e){this._hostElement.step=gi(e).toString(),this._cdr.detectChanges()}get disabled(){return Te(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=Te(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,n,o){this._ngZone=e,this._elementRef=i,this._cdr=n,this._slider=o,this.valueChange=new U,this.dragStart=new U,this.dragEnd=new U,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Me,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const i=e.clientX-this._slider._cachedLeft,n=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),c=Math.round((this._slider._isRtl?1-i/n:i/n)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/o)*o;if(u===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ee),T(Se),T(Ft),T(xx))};static#t=this.\u0275dir=Q({type:r,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,n){1&i&&se("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&i&&je("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Ve([wSe,{provide:K6,useExisting:r}])]})}return r})(),X6=(()=>{class r extends NI{getSibling(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling}getMinPos(){const e=this.getSibling();return!this._isLeftThumb&&e?e.translateX:0}getMaxPos(){const e=this.getSibling();return this._isLeftThumb&&e?e.translateX:this._slider._cachedWidth}_setIsLeftThumb(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl}constructor(e,i,n,o){super(e,n,o,i),this._cdr=o,this._isEndThumb=this._hostElement.hasAttribute("matSliderEndThumb"),this._setIsLeftThumb(),this.thumbPosition=this._isEndThumb?2:1}_getDefaultValue(){return this._isEndThumb&&this._slider._isRange?this.max:this.min}_onInput(){super._onInput(),this._updateSibling(),this._isActive||this._updateWidthInactive()}_onNgControlValueChange(){super._onNgControlValueChange(),this.getSibling()?._updateMinMax()}_onPointerDown(e){this.disabled||0!==e.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),super._onPointerDown(e))}_onPointerUp(){super._onPointerUp(),this._sibling&&setTimeout(()=>{this._sibling._updateWidthInactive(),this._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})}_onPointerMove(e){super._onPointerMove(e),!this._slider.step&&this._isActive&&this._updateSibling()}_fixValue(e){super._fixValue(e),this._sibling?._updateMinMax()}_clamp(e){return Math.max(Math.min(e,this.getMaxPos()),this.getMinPos())}_updateMinMax(){const e=this.getSibling();e&&(this._isEndThumb?(this.min=Math.max(this._slider.min,e.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,e.value)))}_updateWidthActive(){const e=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=`${(this._slider._cachedWidth+this._slider._inputPadding-e)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+e}px`,this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`}_updateWidthInactive(){const e=this.getSibling();if(!e)return;const n=this._isEndThumb?this.value-(this.value-e.value)/2:this.value+(e.value-this.value)/2;this._hostElement.style.width=this._slider._cachedWidth*(this._slider.min<this._slider.max?this._isEndThumb?(this.max-n)/(this._slider.max-this._slider.min):(n-this.min)/(this._slider.max-this._slider.min):1)+24+"px",this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}_updateStaticStyles(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)}_updateSibling(){const e=this.getSibling();e&&(e._updateMinMax(),this._isActive?e._updateWidthActive():e._updateWidthInactive())}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e,this._updateWidthInactive(),this._updateSibling())}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ee),T(xx),T(Se),T(Ft))};static#t=this.\u0275dir=Q({type:r,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[Ve([SSe,{provide:Y6,useExisting:r}]),fe]})}return r})(),xSe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,yr,sd]})}return r})(),ESe=(()=>{class r{constructor(){this.selectedvalue=25,this.startvalue=30,this.endvalue=70}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-slider"]],decls:25,vars:8,consts:[["min","20","step","10","max","100","discrete","true","showTickMarks","true"],["matSliderThumb","",3,"ngModel","ngModelChange"],["min","20","step","10","max","100","color","accent","discrete","true","showTickMarks","true"],["matSliderStartThumb","",3,"ngModel","ngModelChange"],["matSliderEndThumb","",3,"ngModel","ngModelChange"],["disabled","tr\n","min","20","step","10","max","100","discrete","true","showTickMarks","true"]],template:function(i,n){1&i&&(O(0,"h2"),F(1,"Basic Slider"),A(),O(2,"mat-slider",0)(3,"input",1),se("ngModelChange",function(a){return n.selectedvalue=a}),A()(),q(4,"br"),O(5,"label"),F(6),A(),O(7,"h2"),F(8,"Range Slider"),A(),O(9,"mat-slider",2)(10,"input",3),se("ngModelChange",function(a){return n.startvalue=a}),A(),O(11,"input",4),se("ngModelChange",function(a){return n.endvalue=a}),A()(),q(12,"br"),O(13,"label"),F(14),A(),q(15,"br"),O(16,"label"),F(17),A(),O(18,"h2"),F(19,"Disabled Slider"),A(),O(20,"mat-slider",5)(21,"input",1),se("ngModelChange",function(a){return n.selectedvalue=a}),A()(),q(22,"br"),O(23,"label"),F(24),A()),2&i&&(L(3),H("ngModel",n.selectedvalue),L(3),He("Selected slider value is ",n.selectedvalue,""),L(4),H("ngModel",n.startvalue),L(1),H("ngModel",n.endvalue),L(3),He("Selected slider Start value is ",n.startvalue,""),L(3),He("Selected slider End value is ",n.endvalue,""),L(4),H("ngModel",n.selectedvalue),L(3),He("Selected slider value is ",n.selectedvalue,""))},dependencies:[CSe,NI,X6,ia,Es,Dm],styles:["mat-slider[_ngcontent-%COMP%]{width:400px}"]})}return r})();const DSe=["tooltip"],Z6=new ee("mat-tooltip-scroll-strategy"),OSe={provide:Z6,deps:[Jr],useFactory:function ASe(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}},RSe=new ee("mat-tooltip-default-options",{providedIn:"root",factory:function MSe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Q6="tooltip-panel",J6=As({passive:!0});let NSe=(()=>{class r{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Te(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=gi(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=gi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,n,o,a,s,l,c,u,d,h,p){this._overlay=e,this._elementRef=i,this._scrollDispatcher=n,this._viewContainerRef=o,this._ngZone=a,this._platform=s,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Me,this._scrollStrategy=u,this._document=p,h&&(this._showDelay=h.showDelay,this._hideDelay=h.hideDelay,h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Dt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,n])=>{e.removeEventListener(i,n,J6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const n=this._createOverlay(i);this._detach(),this._portal=this._portal||new Gm(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Se)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return n.positionChanges.pipe(Dt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${Q6}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Dt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Dt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Dn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,n=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...n.main,...o.main}),this._addOffset({...n.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i||"below"==i?n={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?n={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(n={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i?n={overlayX:"center",overlayY:"bottom"}:"below"==i?n={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?n={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(n={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ci(1),Dt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:n,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const s=this._overlayRef;if(s){const l=`${this._cssClassPrefix}-${Q6}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],n=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,n),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const n=i.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,n])=>{this._elementRef.nativeElement.addEventListener(i,n,J6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;i!==n&&!n.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,n=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),("on"===e||!i.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return r})(),GSe=(()=>{class r extends NSe{constructor(e,i,n,o,a,s,l,c,u,d,h,p){super(e,i,n,o,a,s,l,c,u,d,h,p),this._tooltipComponent=BSe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const n=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=n?-8:8:"end"===e.originX&&(e.offsetX=n?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Jr),T(Se),T(px),T(Fi),T(Ee),T(Xt),T(w$),T(Uc),T(Z6),T(an,8),T(RSe,8),T(tt))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mat-mdc-tooltip-disabled",n.disabled)},exportAs:["matTooltip"],features:[fe]})}return r})(),VSe=(()=>{class r{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Me,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,n=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:n),i.classList.add(e?n:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(Ai,8))};static#t=this.\u0275dir=Q({type:r})}return r})(),BSe=(()=>{class r extends VSe{constructor(e,i,n){super(e,n),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(Se),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(i,n){if(1&i&&Xe(DSe,7),2&i){let o;ye(o=_e())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,n){1&i&&se("mouseleave",function(a){return n._handleMouseLeave(a)}),2&i&&Yr("zoom",n.isVisible()?1:null)},features:[fe],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,n){1&i&&(O(0,"div",0,1),se("animationend",function(a){return n._handleAnimationEnd(a)}),O(2,"div",2),F(3),A()()),2&i&&(Ge("mdc-tooltip--multiline",n._isMultiline),H("ngClass",n.tooltipClass),L(3),Ct(n.message))},dependencies:[Zu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return r})(),HSe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[OSe],imports:[d_,yr,rp,ht,ht,qc]})}return r})();function jSe(r,t){if(1&r&&(O(0,"mat-option",19),F(1),A()),2&r){const e=t.$implicit;H("value",e),L(1),He(" ",e," ")}}function USe(r,t){if(1&r){const e=_i();O(0,"mat-form-field",16)(1,"mat-select",17),se("selectionChange",function(n){return at(e),st(de(2)._changePageSize(n.value))}),ue(2,jSe,2,2,"mat-option",18),A()()}if(2&r){const e=de(2);H("appearance",e._formFieldAppearance)("color",e.color),L(1),H("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),L(1),H("ngForOf",e._displayedPageSizeOptions)}}function zSe(r,t){if(1&r&&(O(0,"div",20),F(1),A()),2&r){const e=de(2);L(1),Ct(e.pageSize)}}function WSe(r,t){if(1&r&&(O(0,"div",12)(1,"div",13),F(2),A(),ue(3,USe,3,8,"mat-form-field",14),ue(4,zSe,2,1,"div",15),A()),2&r){const e=de();L(1),HM("id",e._pageSizeLabelId),L(1),He(" ",e._intl.itemsPerPageLabel," "),L(1),H("ngIf",e._displayedPageSizeOptions.length>1),L(1),H("ngIf",e._displayedPageSizeOptions.length<=1)}}function $Se(r,t){if(1&r){const e=_i();O(0,"button",21),se("click",function(){return at(e),st(de().firstPage())}),Pa(),O(1,"svg",7),q(2,"path",22),A()()}if(2&r){const e=de();H("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),je("aria-label",e._intl.firstPageLabel)}}function KSe(r,t){if(1&r){const e=_i();Pa(),Oh(),O(0,"button",23),se("click",function(){return at(e),st(de().lastPage())}),Pa(),O(1,"svg",7),q(2,"path",24),A()()}if(2&r){const e=de();H("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),je("aria-label",e._intl.lastPageLabel)}}let Ex=(()=>{class r{constructor(){this.changes=new Me,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,n)=>{if(0==n||0==i)return`0 of ${n}`;const o=e*i;return`${o+1} \u2013 ${o<(n=Math.max(n,0))?Math.min(o+i,n):o+i} of ${n}`}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const qSe={provide:Ex,deps:[[new Fa,new vl,Ex]],useFactory:function YSe(r){return r||new Ex}},ZSe=new ee("MAT_PAGINATOR_DEFAULT_OPTIONS"),QSe=ad(V$(class{}));let JSe=(()=>{class r extends QSe{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(gi(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=gi(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(gi(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>gi(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Te(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Te(e)}constructor(e,i,n){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new U,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:o,pageSizeOptions:a,hidePageSize:s,showFirstLastButtons:l}=n;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=s&&(this._hidePageSize=s),null!=l&&(this._showFirstLastButtons=l)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const n=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[fe]})}return r})(),e0e=0,e8=(()=>{class r extends JSe{constructor(e,i,n){super(e,i,n),this._pageSizeLabelId="mat-paginator-page-size-label-"+e0e++,this._formFieldAppearance=n?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ex),T(Ft),T(ZSe,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[fe],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,n){1&i&&(O(0,"div",0)(1,"div",1),ue(2,WSe,5,4,"div",2),O(3,"div",3)(4,"div",4),F(5),A(),ue(6,$Se,3,5,"button",5),O(7,"button",6),se("click",function(){return n.previousPage()}),Pa(),O(8,"svg",7),q(9,"path",8),A()(),Oh(),O(10,"button",9),se("click",function(){return n.nextPage()}),Pa(),O(11,"svg",7),q(12,"path",10),A()(),ue(13,KSe,3,5,"button",11),A()()()),2&i&&(L(2),H("ngIf",!n.hidePageSize),L(3),He(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),L(1),H("ngIf",n.showFirstLastButtons),L(1),H("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),je("aria-label",n._intl.previousPageLabel),L(3),H("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),je("aria-label",n._intl.nextPageLabel),L(3),H("ngIf",n.showFirstLastButtons))},dependencies:[Ba,Zr,Sx,Fl,C_,ip,GSe],styles:[".mat-mdc-paginator{display:block}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return r})(),t0e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[qSe],imports:[yr,LI,P6,HSe]})}return r})();const i0e=["mat-sort-header",""];function n0e(r,t){if(1&r){const e=_i();O(0,"div",3),se("@arrowPosition.start",function(){return at(e),st(de()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return at(e),st(de()._disableViewStateAnimation=!1)}),q(1,"div",4),O(2,"div",5),q(3,"div",6)(4,"div",7)(5,"div",8),A()()}if(2&r){const e=de();H("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),L(2),H("@indicator",e._getArrowDirectionState()),L(1),H("@leftPointer",e._getArrowDirectionState()),L(1),H("@rightPointer",e._getArrowDirectionState())}}const r0e=["*"],t8=new ee("MAT_SORT_DEFAULT_OPTIONS"),o0e=V$(ad(class{}));let GI=(()=>{class r extends o0e{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Te(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Me,this.start="asc",this._direction="",this.sortChange=new U}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let n=function a0e(r,t){let e=["asc","desc"];return"desc"==r&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=n.indexOf(this.direction)+1;return o>=n.length&&(o=0),n[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(T(t8,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[fe,ri]})}return r})();const cd=eCe.ENTERING+" "+J_e.STANDARD_CURVE,zm={indicator:Kn("indicator",[vi("active-asc, asc",ze({transform:"translateY(0px)"})),vi("active-desc, desc",ze({transform:"translateY(10px)"})),Jt("active-asc <=> active-desc",oi(cd))]),leftPointer:Kn("leftPointer",[vi("active-asc, asc",ze({transform:"rotate(-45deg)"})),vi("active-desc, desc",ze({transform:"rotate(45deg)"})),Jt("active-asc <=> active-desc",oi(cd))]),rightPointer:Kn("rightPointer",[vi("active-asc, asc",ze({transform:"rotate(45deg)"})),vi("active-desc, desc",ze({transform:"rotate(-45deg)"})),Jt("active-asc <=> active-desc",oi(cd))]),arrowOpacity:Kn("arrowOpacity",[vi("desc-to-active, asc-to-active, active",ze({opacity:1})),vi("desc-to-hint, asc-to-hint, hint",ze({opacity:.54})),vi("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ze({opacity:0})),Jt("* => asc, * => desc, * => active, * => hint, * => void",oi("0ms")),Jt("* <=> *",oi(cd))]),arrowPosition:Kn("arrowPosition",[Jt("* => desc-to-hint, * => desc-to-active",oi(cd,Nm([ze({transform:"translateY(-25%)"}),ze({transform:"translateY(0)"})]))),Jt("* => hint-to-desc, * => active-to-desc",oi(cd,Nm([ze({transform:"translateY(0)"}),ze({transform:"translateY(25%)"})]))),Jt("* => asc-to-hint, * => asc-to-active",oi(cd,Nm([ze({transform:"translateY(25%)"}),ze({transform:"translateY(0)"})]))),Jt("* => hint-to-asc, * => active-to-asc",oi(cd,Nm([ze({transform:"translateY(0)"}),ze({transform:"translateY(-25%)"})]))),vi("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ze({transform:"translateY(0)"})),vi("hint-to-desc, active-to-desc, desc",ze({transform:"translateY(-25%)"})),vi("hint-to-asc, active-to-asc, asc",ze({transform:"translateY(25%)"}))]),allowChildren:Kn("allowChildren",[Jt("* <=> *",[lx("@*",sx(),{optional:!0})])])};let Dx=(()=>{class r{constructor(){this.changes=new Me}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const l0e={provide:Dx,deps:[[new Fa,new vl,Dx]],useFactory:function s0e(r){return r||new Dx}},c0e=ad(class{});let u0e=(()=>{class r extends c0e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Te(e)}constructor(e,i,n,o,a,s,l,c){super(),this._intl=e,this._changeDetectorRef=i,this._sort=n,this._columnDef=o,this._focusMonitor=a,this._elementRef=s,this._ariaDescriber=l,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",c?.arrowPosition&&(this.arrowPosition=c?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=rn(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Dx),T(Ft),T(GI,8),T("MAT_SORT_HEADER_COLUMN_DEF",8),T(Uc),T(Se),T(w$,8),T(t8,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,n){1&i&&se("click",function(){return n._handleClick()})("keydown",function(a){return n._handleKeydown(a)})("mouseenter",function(){return n._setIndicatorHintVisible(!0)})("mouseleave",function(){return n._setIndicatorHintVisible(!1)}),2&i&&(je("aria-sort",n._getAriaSortAttribute()),Ge("mat-sort-header-disabled",n._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[fe],attrs:i0e,ngContentSelectors:r0e,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,n){1&i&&(qt(),O(0,"div",0)(1,"div",1),Le(2),A(),ue(3,n0e,6,6,"div",2),A()),2&i&&(Ge("mat-sort-header-sorted",n._isSorted())("mat-sort-header-position-before","before"===n.arrowPosition),je("tabindex",n._isDisabled()?null:0)("role",n._isDisabled()?null:"button"),L(3),H("ngIf",n._renderArrow()))},dependencies:[Zr],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[zm.indicator,zm.leftPointer,zm.rightPointer,zm.arrowOpacity,zm.arrowPosition,zm.allowChildren]},changeDetection:0})}return r})(),d0e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[l0e],imports:[yr,ht]})}return r})();const h0e=[[["caption"]],[["colgroup"],["col"]]],p0e=["caption","colgroup, col"];function VI(r){return class extends r{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Te(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Wm=new ee("CDK_TABLE");let $m=(()=>{class r{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkCellDef",""]]})}return r})(),Km=(()=>{class r{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkHeaderCellDef",""]]})}return r})(),Tx=(()=>{class r{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkFooterCellDef",""]]})}return r})();class v0e{}const y0e=VI(v0e);let Jc=(()=>{class r extends y0e{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Te(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(i){return new(i||r)(T(Wm,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,$m,5),Tt(o,Km,5),Tt(o,Tx,5)),2&i){let a;ye(a=_e())&&(n.cell=a.first),ye(a=_e())&&(n.headerCell=a.first),ye(a=_e())&&(n.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ve([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),fe]})}return r})();class BI{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let HI=(()=>{class r extends BI{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Jc),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[fe]})}return r})(),jI=(()=>{class r extends BI{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const n=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}static#e=this.\u0275fac=function(i){return new(i||r)(T(Jc),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[fe]})}return r})();class n8{constructor(){this.tasks=[],this.endTasks=[]}}const UI=new ee("_COALESCED_STYLE_SCHEDULER");let r8=(()=>{class r{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Me}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new n8,this._getScheduleObservable().pipe(Dt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new n8;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?yn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ci(1))}static#e=this.\u0275fac=function(i){return new(i||r)(K(Ee))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),zI=(()=>{class r{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof E_?e.headerCell.template:this instanceof D_?e.footerCell.template:e.cell.template}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Tl))};static#t=this.\u0275dir=Q({type:r,features:[ri]})}return r})();class _0e extends zI{}const C0e=VI(_0e);let E_=(()=>{class r extends C0e{constructor(e,i,n){super(e,i),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Tl),T(Wm,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[fe,ri]})}return r})();class b0e extends zI{}const w0e=VI(b0e);let D_=(()=>{class r extends w0e{constructor(e,i,n){super(e,i),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Tl),T(Wm,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[fe,ri]})}return r})(),Ax=(()=>{class r extends zI{constructor(e,i,n){super(e,i),this._table=n}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Tl),T(Wm,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[fe]})}return r})(),eu=(()=>{class r{static#e=this.mostRecentCellOutlet=null;constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(i){return new(i||r)(T(Fi))};static#i=this.\u0275dir=Q({type:r,selectors:[["","cdkCellOutlet",""]]})}return r})(),WI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&Sl(0,0)},dependencies:[eu],encapsulation:2})}return r})(),KI=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&Sl(0,0)},dependencies:[eu],encapsulation:2})}return r})(),Ox=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["ng-template","cdkNoDataRow",""]]})}return r})();const o8=["top","bottom","left","right"];class S0e{constructor(t,e,i,n,o=!0,a=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=n,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const n of t)if(n.nodeType===n.ELEMENT_NODE){i.push(n);for(let o=0;o<n.children.length;o++)i.push(n.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const n of i)this._removeStickyStyle(n,e)})}updateStickyColumns(t,e,i,n=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,s=this._getCellWidths(o,n),l=this._getStickyStartColumnPositions(s,e),c=this._getStickyEndColumnPositions(s,i),u=e.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,p=h?"right":"left",f=h?"left":"right";for(const m of t)for(let g=0;g<a;g++){const v=m.children[g];e[g]&&this._addStickyStyle(v,p,l[g],g===u),i[g]&&this._addStickyStyle(v,f,c[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:s.slice(0,u+1).map((m,g)=>e[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:s.slice(d).map((m,g)=>i[g+d]?m:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const n="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],s=[],l=[];for(let u=0,d=0;u<n.length;u++){if(!o[u])continue;a[u]=d;const h=n[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const p=h.getBoundingClientRect().height;d+=p,s[u]=p}const c=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<n.length;u++){if(!o[u])continue;const d=a[u],h=u===c;for(const p of l[u])this._addStickyStyle(p,i,d,h)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:a,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:a,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(n=>!n)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);o8.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,n){t.classList.add(this._stickCellCss),n&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const n of o8)t.style[n]&&(i+=e[n]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],n=t.children;for(let o=0;o<n.length;o++)i.push(n[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let n=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=n,n+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let n=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=n,n+=t[o]);return i}}const YI=new ee("CDK_SPL");let Mx=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","rowOutlet",""]]})}return r})(),Rx=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","headerRowOutlet",""]]})}return r})(),Px=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","footerRowOutlet",""]]})}return r})(),Ix=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","noDataRowOutlet",""]]})}return r})(),Fx=(()=>{class r{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Te(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Te(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,n,o,a,s,l,c,u,d,h,p){this._differs=e,this._changeDetectorRef=i,this._elementRef=n,this._dir=a,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=p,this._onDestroy=new Me,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new U,this.viewChange=new fr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Dt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),PI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(n,o,a)=>this._getEmbeddedViewArgs(n.item,a),n=>n.item.data,n=>{1===n.operation&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(n=>{i.get(n.currentIndex).context.$implicit=n.item.data}),this._updateNoDataRow(),this._ngZone&&Ee.isInAngularZone()?this._ngZone.onStable.pipe(Ci(1),Dt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._elementRef.nativeElement.querySelector("thead");n&&(n.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),n=this._elementRef.nativeElement.querySelector("tfoot");n&&(n.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let s=0;s<i.length;s++)this._renderRows[s].rowDef===o&&a.push(i[s]);this._addStickyColumnStyles(a,o)}),n.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let o=this._data[n];const a=this._getRenderRowsForData(o,n,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let s=0;s<a.length;s++){let l=a[s];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,n){return this._getRowDefs(e,i).map(a=>{const s=n&&n.has(a)?n.get(a):[];if(s.length){const l=s.shift();return l.dataIndex=i,l}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),kx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=kx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=kx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=kx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,s)=>a||!!s.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||n||o}_switchDataSource(e){this._data=[],PI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;PI(this.dataSource)?e=this.dataSource.connect(this):GW(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Be(this.dataSource)),this._renderChangeSubscription=e.pipe(Dt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const n=Array.from(i.columns||[]).map(s=>this._columnDefsByName.get(s)),o=n.map(s=>s.sticky),a=n.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let n=0;n<e.viewContainer.length;n++){const o=e.viewContainer.get(n);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&n.push(o)}return n}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,n,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,n);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let n of this._getCellTemplates(e))eu.mostRecentCellOutlet&&eu.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,n=e.length;i<n;i++){const a=e.get(i).context;a.count=n,a.first=0===i,a.last=i===n-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const n=this._columnDefsByName.get(i);return e.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of i){const o=this._document.createElement(n.tag);o.setAttribute("role","rowgroup");for(const a of n.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,n)=>i||n.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new S0e(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Be()).pipe(Dt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const n=this._noDataRowOutlet.viewContainer;if(i){const o=n.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else n.clear();this._isShowingNoDataRow=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Tl),T(Ft),T(Se),gl("role"),T(an,8),T(tt),T(Xt),T(__),T(UI),T(Yc),T(YI,12),T(Ee,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,Ox,5),Tt(o,Jc,5),Tt(o,Ax,5),Tt(o,E_,5),Tt(o,D_,5)),2&i){let a;ye(a=_e())&&(n._noDataRow=a.first),ye(a=_e())&&(n._contentColumnDefs=a),ye(a=_e())&&(n._contentRowDefs=a),ye(a=_e())&&(n._contentHeaderRowDefs=a),ye(a=_e())&&(n._contentFooterRowDefs=a)}},viewQuery:function(i,n){if(1&i&&(Xe(Mx,7),Xe(Rx,7),Xe(Px,7),Xe(Ix,7)),2&i){let o;ye(o=_e())&&(n._rowOutlet=o.first),ye(o=_e())&&(n._headerRowOutlet=o.first),ye(o=_e())&&(n._footerRowOutlet=o.first),ye(o=_e())&&(n._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ve([{provide:Wm,useExisting:r},{provide:__,useClass:A6},{provide:UI,useClass:r8},{provide:YI,useValue:null}])],ngContentSelectors:p0e,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,n){1&i&&(qt(h0e),Le(0),Le(1,1),Sl(2,0)(3,1)(4,2)(5,3))},dependencies:[Mx,Rx,Px,Ix],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return r})();function kx(r,t){return r.concat(Array.from(t))}let E0e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[DI]})}return r})();const D0e=[[["caption"]],[["colgroup"],["col"]]],T0e=["caption","colgroup, col"];let s8=(()=>{class r extends Fx{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[Ve([{provide:Fx,useExisting:r},{provide:Wm,useExisting:r},{provide:UI,useClass:r8},{provide:__,useClass:A6},{provide:YI,useValue:null}]),fe],ngContentSelectors:T0e,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,n){1&i&&(qt(D0e),Le(0),Le(1,1),Sl(2,0)(3,1)(4,2)(5,3))},dependencies:[Mx,Rx,Px,Ix],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return r})(),qI=(()=>{class r extends $m{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matCellDef",""]],features:[Ve([{provide:$m,useExisting:r}]),fe]})}return r})(),XI=(()=>{class r extends Km{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matHeaderCellDef",""]],features:[Ve([{provide:Km,useExisting:r}]),fe]})}return r})(),ZI=(()=>{class r extends Jc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ve([{provide:Jc,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),fe]})}return r})(),QI=(()=>{class r extends HI{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[fe]})}return r})(),JI=(()=>{class r extends jI{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[fe]})}return r})(),l8=(()=>{class r extends E_{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ve([{provide:E_,useExisting:r}]),fe]})}return r})(),c8=(()=>{class r extends Ax{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ve([{provide:Ax,useExisting:r}]),fe]})}return r})(),u8=(()=>{class r extends WI{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Ve([{provide:WI,useExisting:r}]),fe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&Sl(0,0)},dependencies:[eu],encapsulation:2})}return r})(),d8=(()=>{class r extends KI{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Ve([{provide:KI,useExisting:r}]),fe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&Sl(0,0)},dependencies:[eu],encapsulation:2})}return r})(),k0e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,E0e,ht]})}return r})();class N0e extends swe{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new fr([]),this._filter=new fr(""),this._internalPageChanges=new Me,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const n=e[i];if(u$(n)){const o=Number(n);return o<9007199254740991?o:n}return n},this.sortData=(e,i)=>{const n=i.active,o=i.direction;return n&&""!=o?e.sort((a,s)=>{let l=this.sortingDataAccessor(a,n),c=this.sortingDataAccessor(s,n);const u=typeof l,d=typeof c;u!==d&&("number"===u&&(l+=""),"number"===d&&(c+=""));let h=0;return null!=l&&null!=c?l>c?h=1:l<c&&(h=-1):null!=l?h=1:null!=c&&(h=-1),h*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const n=Object.keys(e).reduce((a,s)=>a+e[s]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=n.indexOf(o)},this._data=new fr(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?rn(this._sort.sortChange,this._sort.initialized):Be(null),e=this._paginator?rn(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Be(null),n=jh([this._data,this._filter]).pipe(ot(([s])=>this._filterData(s))),o=jh([n,t]).pipe(ot(([s])=>this._orderData(s))),a=jh([o,e]).pipe(ot(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(s=>this._renderData.next(s))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,i);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class G0e extends N0e{}function V0e(r,t){}class Lx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let h8=(()=>{class r extends AI{constructor(e,i,n,o,a,s,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=n}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const n=Rm(),o=this._elementRef.nativeElement;(!n||n===this._document.body||n===o||o.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Rm();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Rm())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(u_),T(tt,8),T(Lx),T(c_),T(Ee),T(y_),T(Uc))};static#t=this.\u0275cmp=we({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(i,n){if(1&i&&Xe(ld,7),2&i){let o;ye(o=_e())&&(n._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,n){2&i&&je("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[fe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){1&i&&ue(0,V0e,0,0,"ng-template",0)},dependencies:[ld],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return r})();class eF{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Me,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Dn(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const p8=new ee("DialogScrollStrategy"),B0e=new ee("DialogData"),H0e=new ee("DefaultDialogConfig"),U0e={provide:p8,deps:[Jr],useFactory:function j0e(r){return()=>r.scrollStrategies.block()}};let z0e=0,f8=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,n,o,a,s){this._overlay=e,this._injector=i,this._defaultOptions=n,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._ariaHiddenElements=new Map,this.afterAllClosed=hm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_r(void 0))),this._scrollStrategy=s}open(e,i){(i={...this._defaultOptions||new Lx,...i}).id=i.id||"cdk-dialog-"+z0e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new eF(a,i),l=this._attachContainer(a,s,i);return s.containerInstance=l,this._attachDialogContent(e,s,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){tF(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){tF(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),tF(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new v_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,n){const o=n.injector||n.viewContainerRef?.injector,a=[{provide:Lx,useValue:n},{provide:eF,useValue:i},{provide:y_,useValue:e}];let s;n.container?"function"==typeof n.container?s=n.container:(s=n.container.type,a.push(...n.container.providers(n))):s=h8;const l=new Gm(s,n.viewContainerRef,vr.create({parent:o||this._injector,providers:a}),n.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,n,o){if(e instanceof Vi){const a=this._createInjector(o,i,n,void 0);let s={$implicit:o.data,dialogRef:i};o.templateContext&&(s={...s,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),n.attachTemplatePortal(new Vm(e,null,s,a))}else{const a=this._createInjector(o,i,n,this._injector),s=n.attachComponentPortal(new Gm(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=s.instance}}_createInjector(e,i,n,o){const a=e.injector||e.viewContainerRef?.injector,s=[{provide:B0e,useValue:e.data},{provide:eF,useValue:i}];return e.providers&&("function"==typeof e.providers?s.push(...e.providers(i,e,n)):s.push(...e.providers)),e.direction&&(!a||!a.get(an,null,{optional:!0}))&&s.push({provide:an,useValue:{value:e.direction,change:Be()}}),vr.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let n=i.length-1;n>-1;n--){const o=i[n];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||r)(K(Jr),K(vr),K(H0e,8),K(r,12),K(fx),K(p8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();function tF(r,t){let e=r.length;for(;e--;)t(r[e])}let W0e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[f8,U0e],imports:[rp,Bm,d_,Bm]})}return r})();function $0e(r,t){}class Nx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const iF="mdc-dialog--open",m8="mdc-dialog--opening",g8="mdc-dialog--closing";let q0e=(()=>{class r extends h8{constructor(e,i,n,o,a,s,l,c){super(e,i,n,o,a,s,l,c),this._animationStateChanged=new U}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(u_),T(tt,8),T(Nx),T(c_),T(Ee),T(y_),T(Uc))};static#t=this.\u0275cmp=we({type:r,selectors:[["ng-component"]],features:[fe],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return r})();const v8="--mat-dialog-transition-duration";function y8(r){return null==r?null:"number"==typeof r?r:r.endsWith("ms")?gi(r.substring(0,r.length-2)):r.endsWith("s")?1e3*gi(r.substring(0,r.length-1)):"0"===r?0:null}let X0e=(()=>{class r extends q0e{constructor(e,i,n,o,a,s,l,c,u){super(e,i,n,o,a,s,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?y8(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?y8(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(v8,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(m8,iF)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(iF),this._animationsEnabled?(this._hostElement.style.setProperty(v8,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(g8)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(m8,g8)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(u_),T(tt,8),T(Nx),T(c_),T(Ee),T(y_),T(Ai,8),T(Uc))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,n){2&i&&(Fc("id",n._config.id),je("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),Ge("_mat-animation-noopable",!n._animationsEnabled))},features:[fe],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,n){1&i&&(O(0,"div",0)(1,"div",1),ue(2,$0e,0,0,"ng-template",2),A()())},dependencies:[ld],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return r})();class sp{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Me,this._beforeClosed=new Me,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(ui(n=>"opened"===n.state),Ci(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ui(n=>"closed"===n.state),Ci(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),rn(this.backdropClick(),this.keydownEvents().pipe(ui(n=>27===n.keyCode&&!this.disableClose&&!Dn(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),function Z0e(r,t,e){r._closeInteractionType=t,r.close(e)}(this,"keydown"===n.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ui(e=>"closing"===e.state),Ci(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ym=new ee("MatMdcDialogData"),Q0e=new ee("mat-mdc-dialog-default-options"),_8=new ee("mat-mdc-dialog-scroll-strategy"),exe={provide:_8,deps:[Jr],useFactory:function J0e(r){return()=>r.scrollStrategies.block()}};let txe=0,ixe=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,n,o,a,s,l,c,u,d){this._overlay=e,this._defaultOptions=n,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._idPrefix="mat-dialog-",this.dialogConfigClass=Nx,this.afterAllClosed=hm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_r(void 0))),this._scrollStrategy=s,this._dialog=i.get(f8)}open(e,i){let n;(i={...this._defaultOptions||new Nx,...i}).id=i.id||`${this._idPrefix}${txe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Lx,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(a,s,l)=>(n=new this._dialogRefConstructor(a,i,l),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:n}])});return n.componentInstance=o.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(n);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),T_=(()=>{class r extends ixe{constructor(e,i,n,o,a,s,l,c){super(e,i,o,s,l,a,sp,X0e,Ym,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||r)(K(Jr),K(vr),K(Oy,8),K(Q0e,8),K(_8),K(r,12),K(fx),K(Ai,8))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),nxe=0,Gx=(()=>{class r{constructor(e,i,n){this._dialogRef=e,this._elementRef=i,this._dialog=n,this.id="mat-mdc-dialog-title-"+nxe++}ngOnInit(){this._dialogRef||(this._dialogRef=function rxe(r,t){let e=r.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(i){return new(i||r)(T(sp,8),T(Se),T(T_))};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,n){2&i&&Fc("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return r})(),Vx=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return r})(),Bx=(()=>{class r{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,n){2&i&&Ge("mat-mdc-dialog-actions-align-center","center"===n.align)("mat-mdc-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}})}return r})(),oxe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[T_,exe],imports:[W0e,rp,Bm,ht,ht]})}return r})(),nF=(()=>{class r{constructor(e,i,n,o){this.data=e,this.ref=i,this.buildr=n,this.service=o,this.closemessage="closed using directive",this.myform=this.buildr.group({id:this.buildr.control(""),fName:this.buildr.control(""),lName:this.buildr.control(""),ghinNumber:this.buildr.control(""),phone:this.buildr.control(""),email:this.buildr.control(""),nickName:this.buildr.control(""),chineseNickName:this.buildr.control(""),handicap:this.buildr.control(""),clubId:this.buildr.control(""),clubName:this.buildr.control("")})}ngOnInit(){this.inputdata=this.data,this.inputdata.code>0&&this.setpopupdata(this.inputdata.code)}setpopupdata(e){this.service.getPlayerById(e).subscribe(i=>{this.editdata=i,this.myform.setValue({id:this.editdata.golferId,fName:this.editdata.fName,lName:this.editdata.lName,ghinNumber:this.editdata.ghinNumber,phone:this.editdata.phone,email:this.editdata.email,nickName:this.editdata.nickName,chineseNickName:this.editdata.chineseNickName,handicap:this.editdata.handicap,clubId:this.editdata.clubId,clubName:this.editdata.clubName})})}closepopup(){this.ref.close("Closed using function")}Saveuser(){this.service.savePlayer(this.myform.value).subscribe(e=>{this.closepopup()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ym),T(sp),T(Tm),T(Xc))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-popup"]],decls:53,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","id","matInput",""],["formControlName","fName","matInput",""],["formControlName","lName","matInput",""],["formControlName","ghinNumber","matInput",""],["formControlName","phone","matInput",""],["formControlName","email","matInput",""],["formControlName","nickName","matInput",""],["formControlName","chineseNickName","matInput",""],["formControlName","handicap","matInput",""],["formControlName","clubId","matInput",""],["formControlName","clubName","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,n){1&i&&(O(0,"form",0),se("ngSubmit",function(){return n.Saveuser()}),O(1,"h1",1),F(2),A(),O(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),F(6,"Golfer Id"),A(),q(7,"input",4),A(),O(8,"mat-form-field",3)(9,"mat-label"),F(10,"First Name"),A(),q(11,"input",5),A(),O(12,"mat-form-field",3)(13,"mat-label"),F(14,"Last Name"),A(),q(15,"input",6),A(),O(16,"mat-form-field",3)(17,"mat-label"),F(18,"Ghin Number"),A(),q(19,"input",7),A(),O(20,"mat-form-field",3)(21,"mat-label"),F(22,"Phone Number"),A(),q(23,"input",8),A(),O(24,"mat-form-field",3)(25,"mat-label"),F(26,"Email"),A(),q(27,"input",9),A(),O(28,"mat-form-field",3)(29,"mat-label"),F(30,"Nick Name"),A(),q(31,"input",10),A(),O(32,"mat-form-field",3)(33,"mat-label"),F(34,"Chinese Nick Name"),A(),q(35,"input",11),A(),O(36,"mat-form-field",3)(37,"mat-label"),F(38,"Handicap"),A(),q(39,"input",12),A(),O(40,"mat-form-field",3)(41,"mat-label"),F(42,"Club ID"),A(),q(43,"input",13),A(),O(44,"mat-form-field",3)(45,"mat-label"),F(46,"Club Name"),A(),q(47,"input",14),A()(),O(48,"div",15)(49,"button",16),F(50,"Save"),A(),O(51,"a",17),se("click",function(){return n.closepopup()}),F(52,"Close"),A()()()),2&i&&(H("formGroup",n.myform),L(2),Ct(n.inputdata.title))},dependencies:[Kc,Fl,$c,x_,ja,Gx,Vx,Bx,Pl,ia,Es,Rl,Ds,rd],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:25%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]})}return r})(),axe=(()=>{class r{constructor(e,i,n){this.data=e,this.ref=i,this.service=n}ngOnInit(){this.inputdata=this.data,this.inputdata.code>0&&this.service.GetCustomerbycode(this.inputdata.code).subscribe(e=>{this.custdata=e})}closepopup(){this.ref.close("closing from detail")}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ym),T(sp),T(Y0))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-userdetail"]],decls:22,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"]],template:function(i,n){1&i&&(O(0,"h1",0),F(1),A(),O(2,"div",1)(3,"h2"),F(4,"Customer Name : "),O(5,"b"),F(6),A()(),O(7,"h2"),F(8,"Customer Email : "),O(9,"b"),F(10),A()(),O(11,"h2"),F(12,"Customer Phone : "),O(13,"b"),F(14),A()(),O(15,"h2"),F(16,"Customer Status : "),O(17,"b"),F(18),A()()(),O(19,"div",2)(20,"button",3),se("click",function(){return n.closepopup()}),F(21,"Close"),A()()),2&i&&(L(1),Ct(n.inputdata.title),L(5),Ct(n.custdata.name),L(4),Ct(n.custdata.email),L(4),Ct(n.custdata.phone),L(4),Ct(n.custdata.status))},dependencies:[ja,Gx,Vx,Bx]})}return r})();function sxe(r,t){1&r&&(O(0,"th",15),F(1," Code"),A())}function lxe(r,t){if(1&r&&(O(0,"td",16),F(1),A()),2&r){const e=t.$implicit;L(1),Ct(e.id)}}function cxe(r,t){1&r&&(O(0,"th",15),F(1," Name"),A())}function uxe(r,t){if(1&r&&(O(0,"td",16),F(1),A()),2&r){const e=t.$implicit;L(1),Ct(e.name)}}function dxe(r,t){1&r&&(O(0,"th",15),F(1," Email"),A())}function hxe(r,t){if(1&r&&(O(0,"td",16),F(1),A()),2&r){const e=t.$implicit;L(1),Ct(e.email)}}function pxe(r,t){1&r&&(O(0,"th",15),F(1," Phone"),A())}function fxe(r,t){if(1&r&&(O(0,"td",16),F(1),A()),2&r){const e=t.$implicit;L(1),Ct(e.phone)}}function mxe(r,t){1&r&&(O(0,"th",15),F(1," Status"),A())}function gxe(r,t){if(1&r&&(O(0,"td",16),F(1),A()),2&r){const e=t.$implicit;L(1),Ct(e.status)}}function vxe(r,t){1&r&&(O(0,"th",17),F(1," Action"),A())}function yxe(r,t){if(1&r){const e=_i();O(0,"td",16)(1,"button",18),se("click",function(){const o=at(e).$implicit;return st(de().editcustomer(o.id))}),F(2,"Edit"),A(),O(3,"button",19),F(4,"Delete"),A(),O(5,"button",18),se("click",function(){const o=at(e).$implicit;return st(de().detailcustomer(o.id))}),F(6,"Detail"),A()()}}function _xe(r,t){1&r&&q(0,"tr",20)}function Cxe(r,t){1&r&&q(0,"tr",21)}const bxe=function(){return[5,10,20]};let wxe=(()=>{class r{constructor(e,i){this.service=e,this.dialog=i,this.displayedColumns=["code","name","email","phone","status","action"],this.loadcustomer()}loadcustomer(){this.service.GetCustomer().subscribe(e=>{this.customerlist=e,this.dataSource=new G0e(this.customerlist),this.dataSource.paginator=this.paginatior,this.dataSource.sort=this.sort})}Filterchange(e){this.dataSource.filter=e.target.value}editcustomer(e){this.Openpopup(e,"Edit Customer",nF)}detailcustomer(e){this.Openpopup(e,"Customer Detail",axe)}addcustomer(){this.Openpopup(0,"Add Customer",nF)}Openpopup(e,i,n){this.dialog.open(n,{width:"40%",enterAnimationDuration:"1000ms",exitAnimationDuration:"1000ms",data:{title:i,code:e}}).afterClosed().subscribe(a=>{this.loadcustomer()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Y0),T(T_))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-table"]],viewQuery:function(i,n){if(1&i&&(Xe(e8,5),Xe(GI,5)),2&i){let o;ye(o=_e())&&(n.paginatior=o.first),ye(o=_e())&&(n.sort=o.first)}},decls:31,vars:5,consts:[["matInput","","placeholder","Enter the text",3,"keyup"],["mat-raised-button","","color","primary",2,"margin-left","60%",3,"click"],["matSort","","mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","code"],["mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-form-field")(3,"input",0),se("keyup",function(a){return n.Filterchange(a)}),A()(),O(4,"button",1),se("click",function(){return n.addcustomer()}),F(5,"Add User (+)"),A()(),O(6,"mat-card-content")(7,"table",2),La(8,3),ue(9,sxe,2,0,"th",4),ue(10,lxe,2,1,"td",5),Na(),La(11,6),ue(12,cxe,2,0,"th",4),ue(13,uxe,2,1,"td",5),Na(),La(14,7),ue(15,dxe,2,0,"th",4),ue(16,hxe,2,1,"td",5),Na(),La(17,8),ue(18,pxe,2,0,"th",4),ue(19,fxe,2,1,"td",5),Na(),La(20,9),ue(21,mxe,2,0,"th",4),ue(22,gxe,2,1,"td",5),Na(),La(23,10),ue(24,vxe,2,0,"th",11),ue(25,yxe,7,0,"td",5),Na(),ue(26,_xe,1,0,"tr",12),ue(27,Cxe,1,0,"tr",13),A()(),q(28,"br"),O(29,"mat-card-footer"),q(30,"mat-paginator",14),A()()),2&i&&(L(7),H("dataSource",n.dataSource),L(19),H("matHeaderRowDef",n.displayedColumns),L(1),H("matRowDefColumns",n.displayedColumns),L(3),H("pageSizeOptions",function DU(r,t,e){const i=$r()+r,n=pe();return n[i]===Et?wl(n,i,e?t.call(e):t()):function fy(r,t){return r[t]}(n,i)}(4,bxe)))},dependencies:[Kc,Fl,ja,Zc,Qc,b_,op,s8,XI,l8,ZI,qI,c8,QI,JI,u8,d8,e8,GI,u0e],styles:["mat-card[_ngcontent-%COMP%]{margin:2%}button[_ngcontent-%COMP%]{margin:2px}th[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}"]})}return r})();const Sxe=["mat-calendar-body",""];function xxe(r,t){if(1&r&&(O(0,"tr",3)(1,"td",4),F(2),A()()),2&r){const e=de();L(1),Yr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),je("colspan",e.numCols),L(1),He(" ",e.label," ")}}function Exe(r,t){if(1&r&&(O(0,"td",4),F(1),A()),2&r){const e=de(2);Yr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),je("colspan",e._firstRowOffset),L(1),He(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Dxe(r,t){if(1&r){const e=_i();O(0,"td",8)(1,"button",9),se("click",function(n){const a=at(e).$implicit;return st(de(2)._cellClicked(a,n))})("focus",function(n){const a=at(e).$implicit;return st(de(2)._emitActiveDateChange(a,n))}),O(2,"span",10),F(3),A(),q(4,"span",11),A()()}if(2&r){const e=t.$implicit,i=t.index,n=de().index,o=de();Yr("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),je("data-mat-row",n)("data-mat-col",i),L(1),Ge("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(n,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,n,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),H("ngClass",e.cssClasses)("tabindex",o._isActiveCell(n,i)?0:-1),je("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),L(1),Ge("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),L(1),He(" ",e.displayValue," ")}}function Txe(r,t){if(1&r&&(O(0,"tr",5),ue(1,Exe,2,6,"td",6),ue(2,Dxe,5,48,"td",7),A()),2&r){const e=t.$implicit,i=t.index,n=de();L(1),H("ngIf",0===i&&n._firstRowOffset),L(1),H("ngForOf",e)}}function Axe(r,t){if(1&r&&(O(0,"th",5)(1,"span",6),F(2),A(),O(3,"span",7),F(4),A()()),2&r){const e=t.$implicit;L(2),Ct(e.long),L(2),Ct(e.narrow)}}const Oxe=["*"];function Mxe(r,t){}function Rxe(r,t){if(1&r){const e=_i();O(0,"mat-month-view",5),se("activeDateChange",function(n){return at(e),st(de().activeDate=n)})("_userSelection",function(n){return at(e),st(de()._dateSelected(n))})("dragStarted",function(n){return at(e),st(de()._dragStarted(n))})("dragEnded",function(n){return at(e),st(de()._dragEnded(n))}),A()}if(2&r){const e=de();H("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Pxe(r,t){if(1&r){const e=_i();O(0,"mat-year-view",6),se("activeDateChange",function(n){return at(e),st(de().activeDate=n)})("monthSelected",function(n){return at(e),st(de()._monthSelectedInYearView(n))})("selectedChange",function(n){return at(e),st(de()._goToDateInView(n,"month"))}),A()}if(2&r){const e=de();H("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Ixe(r,t){if(1&r){const e=_i();O(0,"mat-multi-year-view",7),se("activeDateChange",function(n){return at(e),st(de().activeDate=n)})("yearSelected",function(n){return at(e),st(de()._yearSelectedInMultiYearView(n))})("selectedChange",function(n){return at(e),st(de()._goToDateInView(n,"year"))}),A()}if(2&r){const e=de();H("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Fxe(r,t){}const kxe=["button"];function Lxe(r,t){1&r&&(Pa(),O(0,"svg",3),q(1,"path",4),A())}const Nxe=[[["","matDatepickerToggleIcon",""]]],Gxe=["[matDatepickerToggleIcon]"];let A_=(()=>{class r{constructor(){this.changes=new Me,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class rF{constructor(t,e,i,n,o={},a=t,s){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=n,this.cssClasses=o,this.compareValue=a,this.rawValue=s}}let Vxe=1;const b8=As({passive:!1,capture:!0}),ud=As({passive:!0,capture:!0}),Hx=As({passive:!0});let qm=(()=>{class r{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=be(Xt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new U,this.previewChange=new U,this.activeDateChange=new U,this.dragStarted=new U,this.dragEnded=new U,this._didDragSinceMouseDown=!1,this._enterHandler=n=>{if(this._skipNextFocus&&"focus"===n.type)this._skipNextFocus=!1;else if(n.target&&this.isRange){const o=this._getCellFromElement(n.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:n}))}},this._touchmoveHandler=n=>{if(!this.isRange)return;const o=w8(n),a=o?this._getCellFromElement(o):null;o!==n.target&&(this._didDragSinceMouseDown=!0),aF(n.target)&&n.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:n}))},this._leaveHandler=n=>{null!==this.previewEnd&&this.isRange&&("blur"!==n.type&&(this._didDragSinceMouseDown=!0),n.target&&this._getCellFromElement(n.target)&&(!n.relatedTarget||!this._getCellFromElement(n.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:n})))},this._mousedownHandler=n=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=n.target&&this._getCellFromElement(n.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:n})})},this._mouseupHandler=n=>{if(!this.isRange)return;const o=aF(n.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const a=this._getCellFromElement(o);this.dragEnded.emit({value:a?.rawValue??null,event:n})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:n})})},this._touchendHandler=n=>{const o=w8(n);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+Vxe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const n=e.nativeElement;n.addEventListener("touchmove",this._touchmoveHandler,b8),n.addEventListener("mouseenter",this._enterHandler,ud),n.addEventListener("focus",this._enterHandler,ud),n.addEventListener("mouseleave",this._leaveHandler,ud),n.addEventListener("blur",this._leaveHandler,ud),n.addEventListener("mousedown",this._mousedownHandler,Hx),n.addEventListener("touchstart",this._mousedownHandler,Hx),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:n,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?o-n[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,b8),e.removeEventListener("mouseenter",this._enterHandler,ud),e.removeEventListener("focus",this._enterHandler,ud),e.removeEventListener("mouseleave",this._leaveHandler,ud),e.removeEventListener("blur",this._leaveHandler,ud),e.removeEventListener("mousedown",this._mousedownHandler,Hx),e.removeEventListener("touchstart",this._mousedownHandler,Hx),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let n=e*this.numCols+i;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return sF(e,this.startValue,this.endValue)}_isRangeEnd(e){return lF(e,this.startValue,this.endValue)}_isInRange(e){return cF(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return sF(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][n-1];if(!o){const a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][n+1];if(!o){const a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return lF(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return cF(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return sF(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return lF(e,this.previewStart,this.previewEnd)}_isInPreview(e){return cF(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=aF(e);if(i){const n=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(n&&o)return this.rows[parseInt(n)][parseInt(o)]}return null}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee))};static#t=this.\u0275cmp=we({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ri],attrs:Sxe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(ue(0,xxe,3,6,"tr",0),ue(1,Txe,3,2,"tr",1),O(2,"label",2),F(3),A(),O(4,"label",2),F(5),A()),2&i&&(H("ngIf",n._firstRowOffset<n.labelMinRequiredCells),L(1),H("ngForOf",n.rows),L(1),H("id",n._startDateLabelId),L(1),He(" ",n.startDateAccessibleName,"\n"),L(1),H("id",n._endDateLabelId),L(1),He(" ",n.endDateAccessibleName,"\n"))},dependencies:[Zu,Ba,Zr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return r})();function oF(r){return"TD"===r?.nodeName}function aF(r){let t;return oF(r)?t=r:oF(r.parentNode)?t=r.parentNode:oF(r.parentNode?.parentNode)&&(t=r.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function sF(r,t,e){return null!==e&&t!==e&&r<e&&r===t}function lF(r,t,e){return null!==t&&t!==e&&r>=t&&r===e}function cF(r,t,e,i){return i&&null!==t&&null!==e&&t!==e&&r>=t&&r<=e}function w8(r){const t=r.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class eo{constructor(t,e){this.start=t,this.end=e}}let dd=(()=>{class r{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Me,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),Bxe=(()=>{class r extends dd{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new r(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||r)(K(br))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const S8={provide:dd,deps:[[new Fa,new vl,dd],br],useFactory:function jxe(r,t){return r||new Bxe(t)}},jx=new ee("MAT_DATE_RANGE_SELECTION_STRATEGY");let x8=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,n,o,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=n,this._dir=o,this._rangeStrategy=a,this._rerenderSubscription=Rt.EMPTY,this.activeDrag=null,this.selectedChange=new U,this._userSelection=new U,this.dragStarted=new U,this.dragEnded=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,n=this._getDateFromDayOfMonth(i);let o,a;this._selected instanceof eo?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Dn(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const n=i?i.rawValue:null,o=this._rangeStrategy.createPreview(n,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&n){const a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:i[s]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,o=this._firstWeekOffset;n<e;n++,o++){7==o&&(this._weeks.push([]),o=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new rF(n+1,i[n],l,s,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,n,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof eo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(tp,8),T(br,8),T(an,8),T(jx,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&Xe(qm,5),2&i){let o;ye(o=_e())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ri],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,n){1&i&&(O(0,"table",0)(1,"thead",1)(2,"tr"),ue(3,Axe,5,2,"th",2),A(),O(4,"tr"),q(5,"th",3),A()(),O(6,"tbody",4),se("selectedValueChange",function(a){return n._dateSelected(a)})("activeDateChange",function(a){return n._updateActiveDate(a)})("previewChange",function(a){return n._previewChanged(a)})("dragStarted",function(a){return n.dragStarted.emit(a)})("dragEnded",function(a){return n._dragEnded(a)})("keyup",function(a){return n._handleCalendarBodyKeyup(a)})("keydown",function(a){return n._handleCalendarBodyKeydown(a)}),A()()),2&i&&(L(3),H("ngForOf",n._weekdays),L(3),H("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[Ba,qm],encapsulation:2,changeDetection:0})}return r})();const ra=24;let E8=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),D8(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,n){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new U,this.yearSelected=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-O_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,o=[];n<ra;n++)o.push(i+n),4==o.length&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,n=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(o)}_updateActiveDate(e){const n=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-O_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ra-O_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-ra:-ra);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*ra:ra);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return O_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new rF(e,n,n,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof eo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(br,8),T(an,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&Xe(qm,5),2&i){let o;ye(o=_e())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(O(0,"table",0)(1,"thead",1)(2,"tr"),q(3,"th",2),A()(),O(4,"tbody",3),se("selectedValueChange",function(a){return n._yearSelected(a)})("activeDateChange",function(a){return n._updateActiveDate(a)})("keyup",function(a){return n._handleCalendarBodyKeyup(a)})("keydown",function(a){return n._handleCalendarBodyKeydown(a)}),A()()),2&i&&(L(4),H("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[qm],encapsulation:2,changeDetection:0})}return r})();function D8(r,t,e,i,n){const o=r.getYear(t),a=r.getYear(e),s=T8(r,i,n);return Math.floor((o-s)/ra)===Math.floor((a-s)/ra)}function O_(r,t,e,i){return function $xe(r,t){return(r%t+t)%t}(r.getYear(t)-T8(r,e,i),ra)}function T8(r,t,e){let i=0;return e?i=r.getYear(e)-ra+1:t&&(i=r.getYear(t)),i}let A8=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,n,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new U,this.monthSelected=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const n=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,e[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(e,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(n,"year"):void 0;return new rF(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof eo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(tp,8),T(br,8),T(an,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&Xe(qm,5),2&i){let o;ye(o=_e())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(O(0,"table",0)(1,"thead",1)(2,"tr"),q(3,"th",2),A()(),O(4,"tbody",3),se("selectedValueChange",function(a){return n._monthSelected(a)})("activeDateChange",function(a){return n._updateActiveDate(a)})("keyup",function(a){return n._handleCalendarBodyKeyup(a)})("keydown",function(a){return n._handleCalendarBodyKeydown(a)}),A()()),2&i&&(L(4),H("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[qm],encapsulation:2,changeDetection:0})}return r})(),Kxe=1,Yxe=(()=>{class r{constructor(e,i,n,o,a){this._intl=e,this.calendar=i,this._dateAdapter=n,this._dateFormats=o,this._id="mat-calendar-header-"+Kxe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-ra)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:ra)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):D8(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-O_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+ra-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1))]}static#e=this.\u0275fac=function(i){return new(i||r)(T(A_),T(It(()=>hF)),T(br,8),T(tp,8),T(Ft))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Oxe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,n){1&i&&(qt(),O(0,"div",0)(1,"div",1)(2,"button",2),se("click",function(){return n.currentPeriodClicked()}),O(3,"span",3),F(4),A(),Pa(),O(5,"svg",4),q(6,"polygon",5),A()(),Oh(),q(7,"div",6),Le(8),O(9,"button",7),se("click",function(){return n.previousClicked()}),A(),O(10,"button",8),se("click",function(){return n.nextClicked()}),A()()(),O(11,"label",9),F(12),A()),2&i&&(L(2),je("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),L(2),Ct(n.periodButtonText),L(1),Ge("mat-calendar-invert","month"!==n.calendar.currentView),L(4),H("disabled",!n.previousEnabled()),je("aria-label",n.prevButtonLabel),L(1),H("disabled",!n.nextEnabled()),je("aria-label",n.nextButtonLabel),L(1),H("id",n._periodButtonLabelId),L(1),Ct(n.periodButtonDescription))},dependencies:[ja,Sx],encapsulation:2,changeDetection:0})}return r})(),hF=(()=>{class r{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,n,o){this._dateAdapter=i,this._dateFormats=n,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new U,this.yearSelected=new U,this.monthSelected=new U,this.viewChanged=new U(!0),this._userSelection=new U,this._userDragDrop=new U,this._activeDrag=null,this.stateChanges=new Me,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Gm(this.headerComponent||Yxe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,n=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||n||e.dateFilter;if(o&&!o.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof eo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||r)(T(A_),T(br,8),T(tp,8),T(Ft))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(Xe(x8,5),Xe(A8,5),Xe(E8,5)),2&i){let o;ye(o=_e())&&(n.monthView=o.first),ye(o=_e())&&(n.yearView=o.first),ye(o=_e())&&(n.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ve([S8]),ri],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,n){1&i&&(ue(0,Mxe,0,0,"ng-template",0),O(1,"div",1),ue(2,Rxe,1,11,"mat-month-view",2),ue(3,Pxe,1,6,"mat-year-view",3),ue(4,Ixe,1,6,"mat-multi-year-view",4),A()),2&i&&(H("cdkPortalOutlet",n._calendarHeaderPortal),L(1),H("ngSwitch",n.currentView),L(1),H("ngSwitchCase","month"),L(1),H("ngSwitchCase","year"),L(1),H("ngSwitchCase","multi-year"))},dependencies:[dm,l0,P$,ld,x8,A8,E8],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return r})();const O8={transformPanel:Kn("transformPanel",[Jt("void => enter-dropdown",oi("120ms cubic-bezier(0, 0, 0.2, 1)",Nm([ze({opacity:0,transform:"scale(1, 0.8)"}),ze({opacity:1,transform:"scale(1, 1)"})]))),Jt("void => enter-dialog",oi("150ms cubic-bezier(0, 0, 0.2, 1)",Nm([ze({opacity:0,transform:"scale(0.7)"}),ze({transform:"none",opacity:1})]))),Jt("* => void",oi("100ms linear",ze({opacity:0})))]),fadeInCalendar:Kn("fadeInCalendar",[vi("void",ze({opacity:0})),vi("enter",ze({opacity:1})),Jt("void => *",oi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let qxe=0;const M8=new ee("mat-datepicker-scroll-strategy"),Zxe={provide:M8,deps:[Jr],useFactory:function Xxe(r){return()=>r.scrollStrategies.reposition()}},Qxe=Jh(class{constructor(r){this._elementRef=r}});let Jxe=(()=>{class r extends Qxe{constructor(e,i,n,o,a,s){super(e),this._changeDetectorRef=i,this._globalModel=n,this._dateAdapter=o,this._rangeSelectionStrategy=a,this._subscriptions=new Rt,this._animationDone=new Me,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=s.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,n=e.value,o=i instanceof eo;if(o&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(n,i,e.event);this._model.updateSelection(a,this)}else n&&(o||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(dd),T(br),T(jx,8),T(A_))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&Xe(hF,5),2&i){let o;ye(o=_e())&&(n._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,n){1&i&&FS("@transformPanel.start",function(a){return n._handleAnimationEvent(a)})("@transformPanel.done",function(a){return n._handleAnimationEvent(a)}),2&i&&(GS("@transformPanel",n._animationState),Ge("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[fe],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,n){if(1&i&&(O(0,"div",0)(1,"mat-calendar",1),se("yearSelected",function(a){return n.datepicker._selectYear(a)})("monthSelected",function(a){return n.datepicker._selectMonth(a)})("viewChanged",function(a){return n.datepicker._viewChanged(a)})("_userSelection",function(a){return n._handleUserSelection(a)})("_userDragDrop",function(a){return n._handleUserDragDrop(a)}),A(),ue(2,Fxe,0,0,"ng-template",2),O(3,"button",3),se("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),F(4),A()()),2&i){let o;Ge("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),je("aria-modal",!0)("aria-labelledby",null!==(o=n._dialogLabelId)&&void 0!==o?o:void 0),L(1),H("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),L(1),H("cdkPortalOutlet",n._actionsPortal),L(1),Ge("cdk-visually-hidden",!n._closeButtonFocused),H("color",n.color||"primary"),L(1),Ct(n._closeButtonText)}},dependencies:[Zu,ja,I_e,ld,hF],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[O8.transformPanel,O8.fadeInCalendar]},changeDetection:0})}return r})(),R8=(()=>{class r{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Te(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Te(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Te(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=d$(e)}get opened(){return this._opened}set opened(e){Te(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,n,o,a,s,l){this._overlay=e,this._ngZone=i,this._viewContainerRef=n,this._dateAdapter=a,this._dir=s,this._model=l,this._inputStateChanges=Rt.EMPTY,this._document=be(tt),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new U,this.monthSelected=new U,this.viewChanged=new U(!0),this.openedStream=new U,this.closedStream=new U,this._opened=!1,this.id="mat-datepicker-"+qxe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Me,this._scrollStrategy=o}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof _6&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Rm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:n,location:o}=this._componentRef;n._startExitAnimation(),n._animationDone.pipe(Ci(1)).subscribe(()=>{const a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Gm(Jxe,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new v_({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(n).subscribe(o=>{o&&o.preventDefault(),this.close()}),n.keydownEvents().subscribe(o=>{const a=o.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&o.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>n.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",a="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:a}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return rn(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ui(n=>27===n.keyCode&&!Dn(n)||this.datepickerInput&&Dn(n,"altKey")&&38===n.keyCode&&i.every(o=>!Dn(n,o)))))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Jr),T(Ee),T(Fi),T(M8),T(br,8),T(an,8),T(dd))};static#t=this.\u0275dir=Q({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ri]})}return r})(),P8=(()=>{class r extends R8{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ve([S8,{provide:R8,useExisting:r}]),fe],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}return r})();class Ux{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let eEe=(()=>{class r{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Te(e),n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new Ux(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ux(this,this._elementRef.nativeElement))}})}constructor(e,i,n){this._elementRef=e,this._dateAdapter=i,this._dateFormats=n,this.dateChange=new U,this.dateInput=new U,this.stateChanges=new Me,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Rt.EMPTY,this._localeSubscription=Rt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMinDate();return!s||!a||this._dateAdapter.compareDate(s,a)<=0?null:{matDatepickerMin:{min:s,actual:a}}},this._maxValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMaxDate();return!s||!a||this._dateAdapter.compareDate(s,a)>=0?null:{matDatepickerMax:{max:s,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function tEe(r,t){const e=Object.keys(r);for(let i of e){const{previousValue:n,currentValue:o}=r[i];if(!t.isDateInstance(n)||!t.isDateInstance(o))return!0;if(!t.sameDate(n,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Dn(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!Dn(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const o=!this._dateAdapter.sameDate(n,this.value);!n||o?this._cvaOnChange(n):(e&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(n),this.dateInput.emit(new Ux(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ux(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(br,8),T(tp,8))};static#t=this.\u0275dir=Q({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ri]})}return r})();const iEe={provide:Cr,useExisting:It(()=>zx),multi:!0},nEe={provide:ar,useExisting:It(()=>zx),multi:!0};let zx=(()=>{class r extends eEe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,n,o){super(e,i,n),this._formField=o,this._closedSubscription=Rt.EMPTY,this._validator=xs.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(br,8),T(tp,8),T(m_,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,n){1&i&&se("input",function(a){return n._onInput(a.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(a){return n._onKeydown(a)}),2&i&&(Fc("disabled",n.disabled),je("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ve([iEe,nEe,{provide:u6,useExisting:r}]),fe]})}return r})(),rEe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","matDatepickerToggleIcon",""]]})}return r})(),I8=(()=>{class r{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Te(e)}constructor(e,i,n){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Rt.EMPTY;const o=Number(n);this.tabIndex=o||0===o?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Be(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Be(),n=this.datepicker?rn(this.datepicker.openedStream,this.datepicker.closedStream):Be();this._stateChanges.unsubscribe(),this._stateChanges=rn(this._intl.changes,e,i,n).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||r)(T(A_),T(Ft),gl("tabindex"))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,rEe,5),2&i){let a;ye(a=_e())&&(n._customIcon=a.first)}},viewQuery:function(i,n){if(1&i&&Xe(kxe,5),2&i){let o;ye(o=_e())&&(n._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,n){1&i&&se("click",function(a){return n._open(a)}),2&i&&(je("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),Ge("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ri],ngContentSelectors:Gxe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,n){1&i&&(qt(Nxe),O(0,"button",0,1),ue(2,Lxe,2,0,"svg",2),Le(3),A()),2&i&&(H("disabled",n.disabled)("disableRipple",n.disableRipple),je("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),L(2),H("ngIf",!n._customIcon))},dependencies:[Zr,Sx],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return r})(),sEe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[A_,Zxe],imports:[yr,LI,rp,d_,Bm,ht,qc]})}return r})();const lEe=["input"],cEe=["*"];let k8=0;class L8{constructor(t,e){this.source=t,this.value=e}}const uEe={provide:Cr,useExisting:It(()=>fF),multi:!0},N8=new ee("MatRadioGroup"),dEe=new ee("mat-radio-default-options",{providedIn:"root",factory:function hEe(){return{color:"accent"}}});let pEe=(()=>{class r{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Te(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+k8++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new U}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new L8(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft))};static#t=this.\u0275dir=Q({type:r,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return r})();class fEe{constructor(t){this._elementRef=t}}const mEe=ep(mI(fEe));let gEe=(()=>{class r extends mEe{get checked(){return this._checked}set checked(e){const i=Te(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Te(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Te(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,n,o,a,s,l,c){super(i),this._changeDetector=n,this._focusMonitor=o,this._radioDispatcher=a,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++k8,this.id=this._uniqueId,this.change=new U,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===s,c&&(this.tabIndex=gi(c,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new L8(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&Xe(lEe,5),2&i){let o;ye(o=_e())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[fe]})}return r})(),fF=(()=>{class r extends pEe{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["mat-radio-group"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,mF,5),2&i){let a;ye(a=_e())&&(n._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Ve([uEe,{provide:N8,useExisting:r}]),fe]})}return r})(),mF=(()=>{class r extends gEe{constructor(e,i,n,o,a,s,l,c){super(e,i,n,o,a,s,l,c)}static#e=this.\u0275fac=function(i){return new(i||r)(T(N8,8),T(Se),T(Ft),T(Uc),T(lwe),T(Ai,8),T(dEe,8),gl("tabindex"))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,n){1&i&&se("focus",function(){return n._inputElement.nativeElement.focus()}),2&i&&(je("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ge("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("mat-mdc-radio-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[fe],ngContentSelectors:cEe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,n){if(1&i&&(qt(),O(0,"div",0,1)(2,"div",2)(3,"div",3),se("click",function(a){return n._onTouchTargetClick(a)}),A(),O(4,"input",4,5),se("change",function(a){return n._onInputInteraction(a)}),A(),O(6,"div",6),q(7,"div",7)(8,"div",8),A(),O(9,"div",9),q(10,"div",10),A()(),O(11,"label",11),Le(12),A()()),2&i){const o=en(1);Ge("mdc-form-field--align-end","before"==n.labelPosition),L(2),Ge("mdc-radio--disabled",n.disabled),L(2),H("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),je("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),L(5),H("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),L(2),H("for",n.inputId)}},dependencies:[zc],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return r})(),vEe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,yr,sd,ht]})}return r})();const yEe=["input"],_Ee=["label"],CEe=["*"],bEe=new ee("mat-checkbox-default-options",{providedIn:"root",factory:G8});function G8(){return{color:"accent",clickAction:"check-indeterminate"}}const wEe={provide:Cr,useExisting:It(()=>B8),multi:!0};class SEe{}let xEe=0;const V8=G8(),EEe=mI(Jh(ep(ad(class{constructor(r){this._elementRef=r}}))));let DEe=(()=>{class r extends EEe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Te(e)}constructor(e,i,n,o,a,s,l){super(i),this._changeDetectorRef=n,this._ngZone=o,this._animationMode=s,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new U,this.indeterminateChange=new U,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||V8,this.color=this.defaultColor=this._options.color||V8.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++xEe}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Te(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Te(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Te(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,n=this._getAnimationTargetElement();if(i!==e&&n&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(i){vs()};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&(Xe(yEe,5),Xe(_Ee,5),Xe(zc,5)),2&i){let o;ye(o=_e())&&(n._inputElement=o.first),ye(o=_e())&&(n._labelElement=o.first),ye(o=_e())&&(n.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[fe]})}return r})(),B8=(()=>{class r extends DEe{constructor(e,i,n,o,a,s){super("mat-mdc-checkbox-",e,i,n,o,a,s),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new SEe;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(Ee),gl("tabindex"),T(Ai,8),T(bEe,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,n){2&i&&(Fc("id",n.id),je("tabindex",null)("aria-label",null)("aria-labelledby",null),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Ve([wEe]),fe],ngContentSelectors:CEe,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,n){if(1&i&&(qt(),O(0,"div",0),se("click",function(a){return n._preventBubblingFromLabel(a)}),O(1,"div",1,2)(3,"div",3),se("click",function(){return n._onTouchTargetClick()}),A(),O(4,"input",4,5),se("blur",function(){return n._onBlur()})("click",function(){return n._onInputClick()})("change",function(a){return n._onInteractionEvent(a)}),A(),q(6,"div",6),O(7,"div",7),Pa(),O(8,"svg",8),q(9,"path",9),A(),Oh(),q(10,"div",10),A(),q(11,"div",11),A(),O(12,"label",12,13),Le(14),A()()),2&i){const o=en(2);Ge("mdc-form-field--align-end","before"==n.labelPosition),L(4),Ge("mdc-checkbox--selected",n.checked),H("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled)("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex),je("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("name",n.name)("value",n.value),L(7),H("matRippleTrigger",o)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),L(1),H("for",n.inputId)}},dependencies:[zc],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})(),H8=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({})}return r})(),OEe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,sd,H8,ht,H8]})}return r})();function MEe(r,t){if(1&r&&(O(0,"mat-option",21),F(1),A()),2&r){const e=t.$implicit;H("value",e),L(1),Ct(e)}}function REe(r,t){if(1&r&&(O(0,"mat-option",21),F(1),A()),2&r){const e=t.$implicit;H("value",e),L(1),He(" ",e," ")}}let PEe=(()=>{class r{constructor(e){this.builder=e,this.countrylist=["India","USA","Singapore","UK"],this.termlist=["15days","30days","45days","60days"],this.customerform=this.builder.group({name:this.builder.control("",xs.required),email:this.builder.control("",xs.compose([xs.required,xs.required])),phone:this.builder.control("",xs.required),country:this.builder.control("",xs.required),address:this.builder.control("",xs.required),term:this.builder.control("",xs.required),dob:this.builder.control(new Date(2e3,3,25)),gender:this.builder.control("Male"),status:this.builder.control(!0)})}ngOnInit(){this.customerform.setValue({name:"Nihira Techiees",email:"nihiratechiees@gmail.com",phone:"77678899",country:"USA",term:"45days",address:"add1",dob:new Date(2001,2,3),gender:"Male",status:!0})}SaveCustomer(){console.log(this.customerform.value)}clearform(){this.customerform.reset()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Tm))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-formdesign"]],decls:54,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"mat-50"],["formControlName","name","matInput",""],["matInput","","formControlName","email"],["matInput","","formControlName","phone"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","address"],["formControlName","term","matInput","",3,"matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],["matInput","","formControlName","dob",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["formControlName","gender","color","primary"],["value","Male"],["value","Female"],["formControlName","status","color","warn"],[2,"margin","2%","text-align","right"],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(i,n){if(1&i&&(O(0,"form",0),se("ngSubmit",function(){return n.SaveCustomer()}),O(1,"mat-card")(2,"mat-card-content")(3,"mat-form-field",1)(4,"mat-label"),F(5,"Name"),A(),q(6,"input",2),A(),O(7,"mat-form-field",1)(8,"mat-label"),F(9,"Email"),A(),q(10,"input",3),A(),O(11,"mat-form-field",1)(12,"mat-label"),F(13,"Phone"),A(),q(14,"input",4),A(),O(15,"mat-form-field",1)(16,"mat-label"),F(17,"Country"),A(),O(18,"mat-select",5),ue(19,MEe,2,2,"mat-option",6),A()(),O(20,"mat-form-field")(21,"mat-label"),F(22,"Address"),A(),q(23,"textarea",7),A(),O(24,"mat-form-field",1)(25,"mat-label"),F(26,"Term"),A(),q(27,"input",8),O(28,"mat-autocomplete",9,10),ue(30,REe,2,2,"mat-option",6),A()(),O(31,"mat-form-field",1)(32,"mat-label"),F(33,"Date of Birth"),A(),q(34,"input",11)(35,"mat-datepicker-toggle",12),O(36,"mat-hint"),F(37,"dd/MM/yyyy"),A(),q(38,"mat-datepicker",null,13),A(),O(40,"div")(41,"mat-radio-group",14)(42,"mat-radio-button",15),F(43,"Male"),A(),O(44,"mat-radio-button",16),F(45,"Female"),A()(),O(46,"mat-checkbox",17),F(47,"Is Active"),A()()(),O(48,"mat-card-footer")(49,"div",18)(50,"button",19),F(51,"Save"),A(),O(52,"button",20),se("click",function(){return n.clearform()}),F(53,"Clear"),A()()()()()),2&i){const o=en(29),a=en(39);H("formGroup",n.customerform),L(19),H("ngForOf",n.countrylist),L(8),H("matAutocomplete",o),L(3),H("ngForOf",n.termlist),L(4),H("matDatepicker",a),L(1),H("for",a)}},dependencies:[Ba,Kc,Fl,$c,cx,t6,C_,ip,RI,mx,ja,Zc,Qc,b_,P8,zx,I8,fF,mF,B8,Pl,ia,Es,Rl,Ds,rd],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]})}return r})();function IEe(r,t){if(1&r&&(O(0,"mat-option",8),F(1),A()),2&r){const e=t.$implicit;H("value",e.id),L(1),He(" ",e.name,"")}}function FEe(r,t){if(1&r&&(O(0,"mat-option",8),F(1),A()),2&r){const e=t.$implicit;H("value",e.code),L(1),Ct(e.name)}}function kEe(r,t){if(1&r){const e=_i();O(0,"mat-card",9)(1,"mat-card-content")(2,"h1"),F(3),A(),O(4,"mat-form-field",1)(5,"mat-label"),F(6,"Title"),A(),q(7,"input",10),A(),O(8,"mat-form-field",1)(9,"mat-label"),F(10,"Coutry"),A(),O(11,"input",11),se("keyup",function(){const o=at(e).index;return st(de().autochange(o))}),A(),O(12,"mat-autocomplete",null,12),ue(14,FEe,2,2,"mat-option",3),nR(15,"async"),A()(),O(16,"mat-form-field")(17,"mat-label"),F(18,"Title"),A(),q(19,"textarea",13),A()()()}if(2&r){const e=t.index,i=en(13),n=de();H("formGroupName",e),L(3),He("Address - ",e+1,""),L(8),H("matAutocomplete",i),L(3),H("ngForOf",rR(15,4,n.filteroptions))}}let LEe=(()=>{class r{constructor(e,i){this.builder=e,this.service=i,this.myform=this.builder.group({id:this.builder.control(""),name:this.builder.control(""),address:this.builder.array([])})}ngOnInit(){this.LoadAssociate(),this.LoadCountry()}Saveassociate(){this.service.SaveAssociate(this.myform.value,this.myform.value.id).subscribe(e=>{alert("Saved")})}LoadAssociate(){this.service.GetAssociate().subscribe(e=>{this.associatellist=e})}LoadCountry(){this.service.GetCountry().subscribe(e=>{this.countrylist=e})}autochange(e){this.addressarray=this.myform.get("address");const n=this.addressarray.at(e).get("country");this.filteroptions=n.valueChanges.pipe(_r(""),ot(o=>this._Listfilter(n.value||"")))}_Listfilter(e){const i=e.toLocaleLowerCase();return this.countrylist.filter(n=>n.name.toLocaleLowerCase().includes(i)||n.code.toLocaleLowerCase().includes(i))}addaddress(){""!=this.myform.value.id?(this.addressarray=this.myform.get("address"),this.addressarray.push(this.createaddrow())):alert("Please choose associate")}createaddrow(){return this.builder.group({title:this.builder.control(""),country:this.builder.control(""),fulladdress:this.builder.control("")})}get getaddress(){return this.myform.get("address")}cuschange(e){this.service.GetAssociatebycode(e).subscribe(i=>{for(this.editdata=i,this.addressarray=this.myform.get("address");0!==this.addressarray.length;)this.addressarray.removeAt(0);for(let n=0;n<this.editdata.address.length;n++)this.addaddress();this.myform.setValue({id:this.editdata.id,name:this.editdata.name,address:this.editdata.address})})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Tm),T(Y0))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-associate"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"mat-50"],["formControlName","id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["formArrayName","address"],["class","mat-elevation-z8",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],[1,"mat-elevation-z8",3,"formGroupName"],["matInput","","formControlName","title"],["matInput","","formControlName","country",3,"matAutocomplete","keyup"],["auto",""],["matInput","","formControlName","fulladdress"]],template:function(i,n){1&i&&(O(0,"form",0),se("ngSubmit",function(){return n.Saveassociate()}),O(1,"mat-card")(2,"mat-card-content")(3,"mat-form-field",1)(4,"mat-label"),F(5,"Associate"),A(),O(6,"mat-select",2),se("selectionChange",function(a){return n.cuschange(a.value)}),ue(7,IEe,2,2,"mat-option",3),A()(),O(8,"a",4),se("click",function(){return n.addaddress()}),F(9,"Add Address"),A(),O(10,"div",5),ue(11,kEe,20,6,"mat-card",6),A()(),O(12,"mat-card-actions")(13,"button",7),F(14,"Save"),A()()()()),2&i&&(H("formGroup",n.myform),L(7),H("ngForOf",n.associatellist),L(4),H("ngForOf",n.getaddress.controls))},dependencies:[Ba,Kc,Fl,$c,C_,ip,RI,mx,x_,ja,Zc,Um,Qc,Pl,ia,Es,Rl,Ds,rd,H0,j0,qR],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]})}return r})();function kl(r){return null==r||""===r?null:r}function ae(r,t){return void 0===t&&(t=!1),null!=r&&(""!==r||t)}function Qe(r){return!ae(r)}function oa(r){return null==r||0===r.length}function M_(r){return null!=r&&"function"==typeof r.toString?r.toString():null}function hd(r){if(void 0!==r){if(null===r||""===r)return null;if("number"==typeof r)return isNaN(r)?void 0:r;var t=parseInt(r,10);return isNaN(t)?void 0:t}}function Wx(r){if(void 0!==r)return null!==r&&""!==r&&("boolean"==typeof r?r:/true/i.test(r))}function gF(r,t){return(r?JSON.stringify(r):null)===(t?JSON.stringify(t):null)}function lp(r){if(r instanceof Set||r instanceof Map){var t=[];return r.forEach(function(e){return t.push(e)}),t}return Object.values(r)}var VEe=Object.freeze({__proto__:null,makeNull:kl,exists:ae,missing:Qe,missingOrEmpty:oa,toStringOrNull:M_,attrToNumber:hd,attrToBoolean:Wx,attrToString:function NEe(r){if(null!=r&&""!==r)return r},jsonEquals:gF,defaultComparator:function GEe(r,t,e){void 0===e&&(e=!1);var i=null==r,n=null==t;if(r&&r.toNumber&&(r=r.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function o(a,s){return a>s?1:a<s?-1:0}if("string"!=typeof r||!e)return o(r,t);try{return r.localeCompare(t)}catch{return o(r,t)}},values:lp}),BEe=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},r.prototype.getUniqueKey=function(t,e){t=M_(t);for(var i=0;;){var n=void 0;if(t?(n=t,0!==i&&(n+="_"+i)):e?(n=e,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}},r}(),HEe=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jEe=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function Lr(r,t){var e,i;if(null!=r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)t(n.toString(),r[n]);return}try{for(var o=HEe(Object.entries(r)),a=o.next();!a.done;a=o.next()){var s=jEe(a.value,2);t(s[0],s[1])}}catch(u){e={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}}function vF(r){for(var t={},e=Object.keys(r),i=0;i<e.length;i++){var n=e[i];t[n]=r[n]}return t}function $x(r,t){if(r){var e=r,i={};return Object.keys(e).forEach(function(n){if(!(t&&t.indexOf(n)>=0)){var o=e[n],a=Kx(o)&&o.constructor===Object;i[n]=a?$x(o):o}}),i}}function pd(r){if(!r)return[];var t=Object;if("function"==typeof t.values)return t.values(r);var e=[];for(var i in r)r.hasOwnProperty(i)&&r.propertyIsEnumerable(i)&&e.push(r[i]);return e}function aa(r,t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),ae(t)&&Lr(t,function(n,o){var a=r[n];a!==o&&(i&&null==a&&null!=o&&"object"==typeof o&&o.constructor===Object&&(r[n]=a={}),Kx(o)&&Kx(a)&&!Array.isArray(a)?aa(a,o,e,i):(e||void 0!==o)&&(r[n]=o))})}function Xm(r,t,e){if(t&&r){if(!e)return r[t];for(var i=t.split("."),n=r,o=0;o<i.length;o++){if(null==n)return;n=n[i[o]]}return n}}function j8(r,t,e){void 0===t&&(t=[]),Object.keys(r).forEach(function(a){"object"==typeof r[a]&&!t.includes(a)&&(r[a]=void 0)});var i=Object.getPrototypeOf(r),n={};Object.getOwnPropertyNames(i).forEach(function(a){"function"!=typeof i[a]||t.includes(a)||(n[a]={value:function(){console.warn(function(a){return"AG Grid: Grid API function ".concat(a,"() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(e)}(a))},writable:!0})}),Object.defineProperties(r,n)}function Kx(r){return"object"==typeof r&&null!==r}var UEe=Object.freeze({__proto__:null,iterateObject:Lr,cloneObject:vF,deepCloneDefinition:$x,getAllValuesInObject:pd,mergeDeep:aa,getValueUsingField:Xm,removeAllReferences:j8,isNonNullObject:Kx}),U8={};function cp(r,t){U8[t]||(r(),U8[t]=!0)}function We(r){cp(function(){return console.warn("AG Grid: "+r)},r)}function Ms(r){cp(function(){return console.error("AG Grid: "+r)},r)}function Yx(r){if(r.name)return r.name;var t=/function\s+([^\(]+)/.exec(r.toString());return t&&2===t.length?t[1].trim():null}function qx(r){return!!(r&&r.constructor&&r.call&&r.apply)}function z8(r){W8(r,400)}var yF=[],_F=!1;function CF(r){yF.push(r),!_F&&(_F=!0,window.setTimeout(function(){var t=yF.slice();yF.length=0,_F=!1,t.forEach(function(e){return e()})},0))}function W8(r,t){void 0===t&&(t=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(e){return e()})},t)}function sa(r,t){var e;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){r.apply(o,i)},t)}}function bF(r,t){var e=0;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=(new Date).getTime();a-e<t||(e=a,r.apply(this,i))}}function wF(r,t,e,i){void 0===e&&(e=100);var n=(new Date).getTime(),o=null,a=!1,s=function(){var l=(new Date).getTime()-n>e;(r()||l)&&(t(),a=!0,null!=o&&(window.clearInterval(o),o=null),l&&i&&console.warn(i))};s(),a||(o=window.setInterval(s,10))}var $Ee=Object.freeze({__proto__:null,doOnce:cp,warnOnce:We,errorOnce:Ms,getFunctionName:Yx,isFunction:qx,executeInAWhile:z8,executeNextVMTurn:CF,executeAfter:W8,debounce:sa,throttle:bF,waitUntil:wF,compose:function zEe(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return r.reduce(function(i,n){return n(i)},e)}},noop:function(){}}),ie=(()=>((ie=ie||{}).CommunityCoreModule="@ag-grid-community/core",ie.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ie.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ie.CsvExportModule="@ag-grid-community/csv-export",ie.EnterpriseCoreModule="@ag-grid-enterprise/core",ie.RowGroupingModule="@ag-grid-enterprise/row-grouping",ie.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",ie.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ie.MenuModule="@ag-grid-enterprise/menu",ie.SetFilterModule="@ag-grid-enterprise/set-filter",ie.MultiFilterModule="@ag-grid-enterprise/multi-filter",ie.StatusBarModule="@ag-grid-enterprise/status-bar",ie.SideBarModule="@ag-grid-enterprise/side-bar",ie.RangeSelectionModule="@ag-grid-enterprise/range-selection",ie.MasterDetailModule="@ag-grid-enterprise/master-detail",ie.RichSelectModule="@ag-grid-enterprise/rich-select",ie.GridChartsModule="@ag-grid-enterprise/charts",ie.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ie.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ie.ExcelExportModule="@ag-grid-enterprise/excel-export",ie.ClipboardModule="@ag-grid-enterprise/clipboard",ie.SparklinesModule="@ag-grid-enterprise/sparklines",ie.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",ie.AngularModule="@ag-grid-community/angular",ie.ReactModule="@ag-grid-community/react",ie.VueModule="@ag-grid-community/vue",ie))(),R_=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},$8=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Ze=function(){function r(){}return r.register=function(t){r.__register(t,!0,void 0)},r.registerModules=function(t){r.__registerModules(t,!0,void 0)},r.__register=function(t,e,i){r.runVersionChecks(t),void 0!==i?(r.areGridScopedModules=!0,void 0===r.gridModulesMap[i]&&(r.gridModulesMap[i]={}),r.gridModulesMap[i][t.moduleName]=t):r.globalModulesMap[t.moduleName]=t,r.setModuleBased(e)},r.__unRegisterGridModules=function(t){delete r.gridModulesMap[t]},r.__registerModules=function(t,e,i){r.setModuleBased(e),t&&t.forEach(function(n){return r.__register(n,e,i)})},r.isValidModuleVersion=function(t){var e=R_(t.version.split(".")||[],2),i=e[0],n=e[1],o=R_(r.currentModuleVersion.split(".")||[],2);return i===o[0]&&n===o[1]},r.runVersionChecks=function(t){if(r.currentModuleVersion||(r.currentModuleVersion=t.version),t.version?r.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: ".concat(e.message))}},r.setModuleBased=function(t){void 0===r.moduleBased?r.moduleBased=t:r.moduleBased!==t&&cp(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(t,e,i){var n;if(this.__isRegistered(t,i))return!0;var a,o=e+t;if(r.isBundled)a="AG Grid: unable to use ".concat(e," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(r.moduleBased||void 0===r.moduleBased){var s=null===(n=Object.entries(ie).find(function(l){return R_(l,2)[1]===t}))||void 0===n?void 0:n[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(r.areGridScopedModules?" for gridId: ".concat(i):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(s," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(s," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else a="AG Grid: unable to use ".concat(e," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/");return cp(function(){console.warn(a)},o),!1},r.__warnEnterpriseChartDisabled=function(t){var i="ag-charts-enterprise:"+t,o="AG Grid: the '".concat(t,"' chart type is not supported in AG Charts Community. See ").concat("https://ag-grid.com/javascript-data-grid/integrated-charts/"," for more details.");cp(function(){console.warn(o)},i)},r.__isRegistered=function(t,e){var i;return!!r.globalModulesMap[t]||!(null===(i=r.gridModulesMap[e])||void 0===i||!i[t])},r.__getRegisteredModules=function(t){return $8($8([],R_(lp(r.globalModulesMap)),!1),R_(lp(r.gridModulesMap[t]||{})),!1)},r.__getGridRegisteredModules=function(t){var e;return lp(null!==(e=r.gridModulesMap[t])&&void 0!==e?e:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),qEe=function(){function r(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return lp(this.beanWrappers).map(function(t){return t.beanInstance})},r.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},r.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),ae(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},r.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Lr(this.beanWrappers,function(i,n){var o;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,n.bean.name),s=new(n.bean.bind.apply(n.bean,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([null],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1)));n.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},r.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i;return i=t.prototype.constructor?Yx(t.prototype.constructor):""+t,void console.error("Context item ".concat(i," is not a bean"))}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},r.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(n,o){var a=n.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);i[s.attributeName]=l})})})},r.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(n,o){Lr(n.autowireMethods,function(a,s){if("agConstructor"!==a){var l=e.getBeansForParameters(s,o);i[a].apply(i,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var n=i.constructor;n.hasOwnProperty("__agBeanMetaData")&&e(n.__agBeanMetaData,this.getBeanName(n)),i=Object.getPrototypeOf(i)}},r.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},r.prototype.getBeansForParameters=function(t,e){var i=this,n=[];return t&&Lr(t,function(o,a){var s=i.lookupBeanInstance(e,a);n[Number(o)]=s}),n},r.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var n=this.beanWrappers[e];return n?n.beanInstance:(i||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},r.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach(function(n){return i.callLifeCycleMethodsOnBean(n,e)})},r.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var n={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=i&&(n[l]=!0)})}),Object.keys(n).forEach(function(a){return t[a]()})},r.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Ze.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},r.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(i){e.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy"),"function"==typeof i.destroy&&i.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function Zm(r,t,e){var i=up(r.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function j(r,t,e){var i=up(r.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function Oi(r,t,e){var i=up(r.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function oe(r){return function(t){up(t).beanName=r}}function C(r){return function(t,e,i){K8(t,r,!1,0,e,null)}}function gt(r){return function(t,e,i){K8(t,r,!0,0,e,null)}}function K8(r,t,e,i,n,o){if(null!==t)if("number"!=typeof o){var a=up(r.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:n,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Ua(r){return function(t,e,i){var o,n="function"==typeof t?t:t.constructor;if("number"==typeof i){var a=void 0;e?(o=up(n),a=e):(o=up(n),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][i]=r}}}function up(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var Y8=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Xx=function(r,t){return function(e,i){t(e,i,r)}},Ll=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(t,e,i,n){if(void 0===i&&(i=null),void 0===n&&(n=null),this.frameworkOverrides=e,this.gridOptionsService=t,i){var o=t.useAsyncEvents();this.addGlobalListener(i,o)}n&&this.addGlobalListener(n,!1)},r.prototype.setFrameworkOverrides=function(t){this.frameworkOverrides=t},r.prototype.getListeners=function(t,e,i){var n=e?this.allAsyncListeners:this.allSyncListeners,o=n.get(t);return!o&&i&&n.set(t,o=new Set),o},r.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},r.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i,!0).add(e)},r.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1);var n=this.getListeners(t,i,!1);n&&(n.delete(e),0===n.size)&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t)},r.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},r.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},r.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},r.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},r.prototype.dispatchToListeners=function(t,e){var n,i=this,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var h,l=null!==(n=this.getListeners(o,e,!1))&&void 0!==n?n:new Set,c=new Set(l);c.size>0&&(h=l,c.forEach(function(p){if(h.has(p)){var f=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming(function(){return p(t)})}:function(){return p(t)};e?i.dispatchAsync(f):f()}})),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(d){var h=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming(function(){return d(o,t)})}:function(){return d(o,t)};e?i.dispatchAsync(h):h()})},r.prototype.dispatchAsync=function(t){var e=this;this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(e.flushAsyncQueue.bind(e),0)}),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},Y8([Xx(0,Ua("gridOptionsService")),Xx(1,Ua("frameworkOverrides")),Xx(2,Ua("globalEventListener")),Xx(3,Ua("globalSyncEventListener"))],r.prototype,"setBeans",null),Y8([oe("eventService")],r)}(),SF=function(){function r(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return r.prototype.wrap=function(t){var e=this,i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=function(n){e.frameworkOverrides.wrapOutgoing(function(){return t(n)})},this.wrappedListeners.set(t,i)),i},r.prototype.wrapGlobal=function(t){var e=this,i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=function(n,o){e.frameworkOverrides.wrapOutgoing(function(){return t(n,o)})},this.wrappedGlobalListeners.set(t,i)),i},r.prototype.unwrap=function(t){var e;return null!==(e=this.wrappedListeners.get(t))&&void 0!==e?e:t},r.prototype.unwrapGlobal=function(t){var e;return null!==(e=this.wrappedGlobalListeners.get(t))&&void 0!==e?e:t},r}(),P_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},XEe={resizable:!0,sortable:!0},ZEe=0;function q8(){return ZEe++}var bt=function(){function r(t,e,i,n){this.instanceId=q8(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Ll,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=n,this.setState(t)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=t.sortIndex,i=t.initialSortIndex;void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var n=t.hide;this.visible=void 0!==n?!n:!t.initialHide,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var a=t.flex,s=t.initialFlex;void 0!==a?this.flex=a:void 0!==s&&(this.flex=s)},r.prototype.setColDef=function(t,e,i){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(t){this.parent=t},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},r.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=ae(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=ae(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},r.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},r.prototype.initTooltip=function(){this.tooltipEnabled=ae(this.colDef.tooltipField)||ae(this.colDef.tooltipValueGetter)||ae(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(t){var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(t){return!(Qe(this.colDef)||Qe(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){return!!this.colDef.filter},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.addEventListener=function(t,e){var i,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new SF(this.frameworkOverrides));var o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(e))&&void 0!==n?n:e;this.eventService.addEventListener(t,o)},r.prototype.removeEventListener=function(t,e){var i,n,o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e))&&void 0!==n?n:e;this.eventService.removeEventListener(t,o)},r.prototype.createColumnFunctionCallbackParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})},r.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},r.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},r.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},r.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},r.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},r.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},r.prototype.getColDefValue=function(t){var e;return null!==(e=this.colDef[t])&&void 0!==e?e:XEe[t]},r.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},r.prototype.setMoving=function(t,e){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},r.prototype.createColumnEvent=function(t,e){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:e})},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(t,e){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},r.prototype.isSortAscending=function(){return"asc"===this.sort},r.prototype.isSortDescending=function(){return"desc"===this.sort},r.prototype.isSortNone=function(){return Qe(this.sort)},r.prototype.isSorting=function(){return ae(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(t,e,i){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var n=this.createColumnEvent("filterChanged",e);i&&aa(n,i),this.eventService.dispatchEvent(n)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},r.prototype.setLastLeftPinned=function(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},r.prototype.isPinnedLeft=function(){return"left"===this.pinned},r.prototype.isPinnedRight=function(){return"right"===this.pinned},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(t,e){var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},r.prototype.getColumnGroupPaddingInfo=function(){var t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,i=!0;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},r.prototype.createBaseColDefParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})},r.prototype.getColSpan=function(t){if(Qe(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},r.prototype.getRowSpan=function(t){if(Qe(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},r.prototype.setActualWidth=function(t,e,i){void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},r.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(t){ae(this.minWidth)&&this.setActualWidth(this.minWidth,t)},r.prototype.setRowGroupActive=function(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},r.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},r.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},r.prototype.getMenuTabs=function(t){We("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var e=this.getColDef().menuTabs;return null==e&&(e=t),e},r.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:t})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",P_([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),P_([C("columnUtils")],r.prototype,"columnUtils",void 0),P_([C("columnHoverService")],r.prototype,"columnHoverService",void 0),P_([C("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),P_([j],r.prototype,"initialise",null),r}(),ei=function(){function r(t,e,i,n){this.localEventService=new Ll,this.expandable=!1,this.instanceId=q8(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=n}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDED_CHANGED})},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(t){this.children=t},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof bt?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},r.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(i){return i.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(i){return i.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,i=!1,n=this.findChildrenRemovingPadding(),o=0,a=n.length;o<a;o++){var s=n[o];if(s.isVisible()){var l=s.getColumnGroupShow();"open"===l?(t=!0,i=!0):"closed"===l?(e=!0,i=!0):(t=!0,e=!0)}}var c=t&&e&&i;this.expandable!==c&&(this.expandable=c,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDABLE_CHANGED}))}},r.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(i){i.forEach(function(n){n instanceof r&&n.isPadding()?e(n.children):t.push(n)})};return e(this.children),t},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([Oi],r.prototype,"destroy",null),r}(),JEe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Ut(r){if(r&&r.length)return r[r.length-1]}function tu(r,t,e){return null==r&&null==t||null!=r&&null!=t&&r.length===t.length&&r.every(function(i,n){return e?e(i,t[n]):t[n]===i})}function X8(r){return r.sort(function(t,e){return t-e})}function xF(r,t){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}function wo(r,t){var e=r.indexOf(t);e>=0&&r.splice(e,1)}function Z8(r,t){for(var e=0;e<t.length;e++)xF(r,t[e])}function Q8(r,t){for(var e=0;e<t.length;e++)wo(r,t[e])}function I_(r,t,e){r.splice(e,0,t)}function EF(r,t,e){Q8(r,t),t.slice().reverse().forEach(function(i){return I_(r,i,e)})}function Rs(r,t){return r.indexOf(t)>-1}function J8(r){return[].concat.apply([],r)}function DF(r,t){null==t||null==r||t.forEach(function(e){return r.push(e)})}var aDe=Object.freeze({__proto__:null,existsAndNotEmpty:function eDe(r){return null!=r&&r.length>0},last:Ut,areEqual:tu,shallowCompare:function tDe(r,t){return tu(r,t)},sortNumerically:X8,removeRepeatsFromArray:function iDe(r,t){if(r)for(var e=r.length-2;e>=0;e--)r[e]===t&&r[e+1]===t&&r.splice(e+1,1)},removeFromUnorderedArray:xF,removeFromArray:wo,removeAllFromUnorderedArray:Z8,removeAllFromArray:Q8,insertIntoArray:I_,insertArrayIntoArray:function nDe(r,t,e){if(null!=r&&null!=t)for(var i=t.length-1;i>=0;i--)I_(r,t[i],e)},moveInArray:EF,includes:Rs,flatten:J8,pushAll:DF,toStrings:function rDe(r){return r.map(M_)},forEachReverse:function oDe(r,t){if(null!=r)for(var e=r.length-1;e>=0;e--)t(r[e],e)}}),eK="__ag_Grid_Stop_Propagation",sDe=["touchstart","touchend","touchmove","touchcancel","scroll"],TF={};function Ps(r){r[eK]=!0}function Is(r){return!0===r[eK]}var r,AF=(r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof TF[e])return TF[e];var i=document.createElement(r[e]||"div");return TF[e="on"+e]=e in i});function Zx(r,t,e){for(var i=t;i;){var n=r.getDomData(i,e);if(n)return n;i=i.parentElement}return null}function Qx(r,t){return!(!t||!r)&&iK(t).indexOf(r)>=0}function tK(r){for(var t=[],e=r.target;e;)t.push(e),e=e.parentElement;return t}function iK(r){var t=r;return t.path?t.path:t.composedPath?t.composedPath():tK(t)}function nK(r,t,e,i){var n=Rs(sDe,e);r&&r.addEventListener&&r.addEventListener(t,e,i,n?{passive:!0}:void 0)}var lDe=Object.freeze({__proto__:null,stopPropagationForAgGrid:Ps,isStopPropagationForAgGrid:Is,isEventSupported:AF,getCtrlForEventTarget:Zx,isElementInEventPath:Qx,createEventPath:tK,getEventPath:iK,addSafePassiveEventListener:nK}),dp=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},z=function(){function r(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Ll),this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},r.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},r.prototype.addManagedListener=function(t,e,i){var n=this;if(!this.destroyed){t instanceof HTMLElement?nK(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var o=function(){return t.removeEventListener(e,i),n.destroyFunctions=n.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(t,e){var i=this;this.gridOptionsService.addEventListener(t,e);var n=function(){return i.gridOptionsService.removeEventListener(t,e),i.destroyFunctions=i.destroyFunctions.filter(function(o){return o!==n}),null};return this.destroyFunctions.push(n),n},r.prototype.addManagedPropertyListener=function(t,e){return this.destroyed?function(){return null}:this.setupGridOptionListener(t,e)},r.prototype.addManagedPropertyListeners=function(t,e){var i=this;if(!this.destroyed){var n=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===i.lastChangeSetIdLookup[n])return;i.lastChangeSetIdLookup[n]=a.changeSet.id}e({type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source})};t.forEach(function(a){return i.setupGridOptionListener(a,o)})}},r.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},r.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},r.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},r.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},r.prototype.destroyBeans=function(t,e){var i=this;return t&&t.forEach(function(n){return i.destroyBean(n,e)}),[]},r.EVENT_DESTROYED="destroyed",dp([C("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),dp([C("context")],r.prototype,"context",void 0),dp([C("eventService")],r.prototype,"eventService",void 0),dp([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),dp([C("localeService")],r.prototype,"localeService",void 0),dp([C("environment")],r.prototype,"environment",void 0),dp([Oi],r.prototype,"destroy",null),r}(),cDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jx=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uDe=function(r,t){return function(e,i){t(e,i,r)}},dDe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cDe(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,i,n,o){var a=new BEe,s=this.extractExistingTreeData(n),l=s.existingCols,c=s.existingGroups;a.addExistingKeys(s.existingColKeys);var d=this.recursivelyCreateColumns(e,0,i,l,a,c,o),h=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+h);var p=this.balanceColumnTree(d,0,h,a);return this.columnUtils.depthFirstOriginalTreeSearch(null,p,function(m,g){m instanceof ei&&m.setupExpandable(),m.setOriginalParent(g)}),{columnTree:p,treeDept:h}},t.prototype.extractExistingTreeData=function(e){var i=[],n=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof ei)n.push(a);else{var l=a;o.push(l.getId()),i.push(l)}}),{existingCols:i,existingGroups:n,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,i){var n=this;return e.map(function(o){return n.createAutoGroupTreeItem(i,o)})},t.prototype.createAutoGroupTreeItem=function(e,i){for(var n=this.findDepth(e),o=i,a=n-1;a>=0;a--){var s=new ei(null,"FAKE_PATH_".concat(i.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return 0===n&&i.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var i=0,n=e;n&&n[0]&&n[0]instanceof ei;)i++,n=n[0].getChildren();return i},t.prototype.balanceColumnTree=function(e,i,n,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof ei){var c=l,u=this.balanceColumnTree(c.getChildren(),i+1,n,o);c.setChildren(u),a.push(c)}else{for(var d=void 0,h=void 0,p=n-1;p>=i;p--){var f=o.getUniqueKey(null,null),m=this.createMergedColGroupDef(null),g=new ei(m,f,!0,i);this.createBean(g),h&&h.setChildren([g]),h=g,d||(d=h)}if(d&&h){if(a.push(d),e.some(function(y){return y instanceof ei})){h.setChildren([l]);continue}h.setChildren(e);break}a.push(l)}}return a},t.prototype.findMaxDept=function(e,i){for(var n=i,o=0;o<e.length;o++){var a=e[o];if(a instanceof ei){var l=this.findMaxDept(a.getChildren(),i+1);n<l&&(n=l)}}return n},t.prototype.recursivelyCreateColumns=function(e,i,n,o,a,s,l){if(!e)return[];for(var c=new Array(e.length),u=0;u<c.length;u++){var d=e[u];c[u]=this.isColumnGroup(d)?this.createColumnGroup(n,d,i,o,a,s,l):this.createColumn(n,d,o,a,l)}return c},t.prototype.createColumnGroup=function(e,i,n,o,a,s,l){var c=this.createMergedColGroupDef(i),u=a.getUniqueKey(c.groupId||null,null),d=new ei(c,u,!1,n);this.createBean(d);var h=this.findExistingGroup(i,s);h&&s.splice(h.idx,1);var p=h?.group;p&&d.setExpanded(p.isExpanded());var f=this.recursivelyCreateColumns(c.children,n+1,e,o,a,s,l);return d.setChildren(f),d},t.prototype.createMergedColGroupDef=function(e){var i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,e),i},t.prototype.createColumn=function(e,i,n,o,a){var s=this.findExistingColumn(i,n);s&&n?.splice(s.idx,1);var l=s?.column;if(l){var u=this.addColumnDefaultAndTypes(i,l.getColId());l.setColDef(u,i,a),this.applyColumnState(l,u,a)}else{var c=o.getUniqueKey(i.colId,i.field);u=this.addColumnDefaultAndTypes(i,c),l=new bt(u,i,c,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,i,n){var o=hd(i.flex);if(void 0!==o&&e.setFlex(o),e.getFlex()<=0){var s=hd(i.width);if(null!=s)e.setActualWidth(s,n);else{var l=e.getActualWidth();e.setActualWidth(l,n)}}void 0!==i.sort&&e.setSort("asc"==i.sort||"desc"==i.sort?i.sort:void 0,n);var c=hd(i.sortIndex);void 0!==c&&e.setSortIndex(c);var u=Wx(i.hide);void 0!==u&&e.setVisible(!u,n),void 0!==i.pinned&&e.setPinned(i.pinned)},t.prototype.findExistingColumn=function(e,i){if(i)for(var n=0;n<i.length;n++){var o=i[n].getUserProvidedColDef();if(o){if(null!=e.colId){if(i[n].getId()===e.colId)return{idx:n,column:i[n]};continue}if(null!=e.field){if(o.field===e.field)return{idx:n,column:i[n]};continue}if(o===e)return{idx:n,column:i[n]}}}},t.prototype.findExistingGroup=function(e,i){if(null!=e.groupId)for(var o=0;o<i.length;o++){var a=i[o];if(a.getColGroupDef()&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,i){var n={};aa(n,this.gridOptionsService.get("defaultColDef"),!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(n,e,i);a&&this.assignColumnTypes(a,n),aa(n,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&aa(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n},t.prototype.assignColumnTypes=function(e,i){if(e.length){var n=Object.assign({},JEe);Lr(this.gridOptionsService.get("columnTypes")||{},function(a,s){a in n?console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden.")):(s.type&&We("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[a]=s)}),e.forEach(function(a){var s=n[a.trim()];s?aa(i,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Jx([C("columnUtils")],t.prototype,"columnUtils",void 0),Jx([C("dataTypeService")],t.prototype,"dataTypeService",void 0),Jx([uDe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),Jx([oe("columnFactory")],t)}(z),Tn=function(){function r(t,e,i,n){this.displayedChildren=[],this.localEventService=new Ll,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=n}return r.createUniqueId=function(t,e){return t+"_"+e},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(t){this.parent=t},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},r.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(n){n instanceof r&&n.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Ut(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(t){return{type:t}},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(i){t===i&&(e=!0),i instanceof r&&i.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},r.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},r.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},r.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},r.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof bt?t.push(e):e instanceof r&&e.addDisplayedLeafColumns(t)})},r.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof bt?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},r.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(n){if(!(n instanceof r)||n.displayedChildren&&n.displayedChildren.length)switch(n.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:t.displayedChildren.push(n)}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),x=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",r.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",r.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",r.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",r.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",r.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_STATE_UPDATED="stateUpdated",r.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ROW_COUNT_READY="rowCountReady",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",r}(),rK=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(t){var i,e=this.existingIds[t];return this.existingIds[t]=i="number"!=typeof e?0:e+1,i},r}(),pDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OF=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},fd="ag-Grid-AutoColumn",fDe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return pDe(t,r),t.prototype.createAutoGroupColumns=function(e){var i=this,n=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){n.push(i.createOneAutoGroupColumn(s,l))}):n.push(this.createOneAutoGroupColumn()),n},t.prototype.updateAutoGroupColumns=function(e,i){var n=this;e.forEach(function(o,a){return n.updateOneAutoGroupColumn(o,a,i)})},t.prototype.createOneAutoGroupColumn=function(e,i){var n;n=e?"".concat(fd,"-").concat(e.getId()):fd;var o=this.createAutoGroupColDef(n,e,i);o.colId=n;var a=new bt(o,null,n,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,i,n){var o=e.getColDef(),a="string"==typeof o.showRowGroup?o.showRowGroup:void 0,s=null!=a?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,i);e.setColDef(l,null,n),this.columnFactory.applyColumnState(e,l,n)},t.prototype.createAutoGroupColDef=function(e,i,n){var o=this.createBaseColDef(i);return aa(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.addColumnDefaultAndTypes(o,e),this.gridOptionsService.get("treeData")||Qe(o.field)&&Qe(o.valueGetter)&&Qe(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1),n&&n>0&&(o.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(o.valueGetter||null!=o.field)&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var i=this.gridOptionsService.get("autoGroupColumnDef"),o={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},OF([C("columnModel")],t.prototype,"columnModel",void 0),OF([C("columnFactory")],t.prototype,"columnFactory",void 0),OF([oe("autoGroupColService")],t)}(z),mDe=/[&<>"']/g,gDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function An(r,t){if(null==r)return null;var e=r.toString().toString();return t?e:e.replace(mDe,function(i){return gDe[i]})}function oK(r){return r&&null!=r?r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(n){return n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")}).join(" "):null}function aK(r){return r.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var _De=Object.freeze({__proto__:null,utf8_encode:function vDe(r){var t=String.fromCharCode;function n(d,h){return t(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&10!==d){var p=d.toString(16).toUpperCase().padStart(4,"0");return"_x".concat(p,"_")}if(!(4294967168&d))return t(d);var f="";return 4294965248&d?4294901760&d?4292870144&d||(f=t(d>>18&7|240),f+=n(d,12),f+=n(d,6)):(function i(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}(d),f=t(d>>12&15|224),f+=n(d,6)):f=t(d>>6&31|192),f+t(63&d|128)}for(var a=function e(d){var h=[];if(!d)return[];for(var m,g,p=d.length,f=0;f<p;)(m=d.charCodeAt(f++))>=55296&&m<=56319&&f<p?56320==(64512&(g=d.charCodeAt(f++)))?h.push(((1023&m)<<10)+(1023&g)+65536):(h.push(m),f--):h.push(m);return h}(r),s=a.length,l=-1,u="";++l<s;)u+=o(a[l]);return u},capitalise:function yDe(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()},escapeString:An,camelCaseToHumanText:oK,camelCaseToHyphenated:aK});function md(r){var t=new Map;return r.forEach(function(e){return t.set(e[0],e[1])}),t}var wDe=Object.freeze({__proto__:null,convertToMap:md,mapById:function CDe(r,t){var e=new Map;return r.forEach(function(i){return e.set(t(i),i)}),e},keys:function bDe(r){var t=[];return r.forEach(function(e,i){return t.push(i)}),t}}),SDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wr=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},xDe=function(r,t){return function(e,i){t(e,i,r)}},la=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},ca=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},MF=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DDe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.viewportRowLeft={},e.viewportRowRight={},e.viewportRowCenter={},e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.changeEventsDispatching=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return SDe(t,r),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var i=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(n){return e.buildAutoGroupColumns(Qm(n.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(n){return e.onAutoGroupColumnDefChanged(Qm(n.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(n){return e.onSharedColDefChanged(Qm(n.source))}),this.addManagedPropertyListener("pivotMode",function(n){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),Qm(n.source))}),this.addManagedListener(this.eventService,x.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))},t.prototype.onAutoGroupColumnDefChanged=function(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)},t.prototype.onSharedColDefChanged=function(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,i){var n=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(n,i)},t.prototype.recreateColumnDefs=function(e){this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,i){var n={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){n[a.getInstanceId()]=a}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(a){n[a.getInstanceId()]=null});var o=Object.values(n).filter(function(a){return null!=a});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,i){var n=this,o=e?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,l=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,i);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return n.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(i,a),this.extractPivotColumns(i,a),this.extractValueColumns(i,a),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(i)},t.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},t.prototype.dispatchNewColumnsLoaded=function(e){this.eventService.dispatchEvent({type:x.EVENT_NEW_COLUMNS_LOADED,source:e}),"gridInitializing"===e&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,i=this.primaryColumns;if(i){var n=i.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return n.indexOf(a)<0});this.gridColumns=ca(ca([],la(o),!1),la(n),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var i=e,n=[];null!=i;)n.push(i),i=this.getDisplayedColAfter(i);return n},t.prototype.checkViewportColumns=function(e){void 0===e&&(e=!1),null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:x.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})},t.prototype.setViewportPosition=function(e,i,n){void 0===n&&(n=!1),(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,i){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,i){if(Qe(this.secondaryColumns))return null;var n=this.getPrimaryColumn(i),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn;tu(s,e)&&l===n&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var i,n;this.gridOptionsService.get("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Ut(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Ut(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===i,e),o.setFirstRightPinned(o===n,e)})},t.prototype.autoSizeColumns=function(e){var i=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return i.autoSizeColumns(e)});else{var n=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,c=void 0===l?"api":l;this.animationFrameService.flushAllFrames();for(var u=[],d=-1,h=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=a??h;0!==d;)d=0,this.actionOnGridColumns(n,function(f){if(u.indexOf(f)>=0)return!1;var m=i.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(m>0){var g=i.normaliseColumnWidth(f,m);f.setActualWidth(g,c),u.push(f),d++}return!0},c);p||this.autoSizeColumnGroupsByColumns(n,c,s),this.dispatchColumnResizedEvent(u,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,i,n,o){void 0===o&&(o=null),e&&e.length&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:i,source:n})},t.prototype.dispatchColumnChangedEvent=function(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i&&1==i.length?i[0]:null,source:n})},t.prototype.dispatchColumnMovedEvent=function(e){var i=e.movedColumns;this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MOVED,columns:i,column:i&&1===i.length?i[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,i){if(e.length){var n=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()});this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:n,source:i})}},t.prototype.dispatchColumnVisibleEvent=function(e,i){if(e.length){var n=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()});this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:n,source:i})}},t.prototype.autoSizeColumn=function(e,i,n){e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,i,n){var o,a,s,l,d,c=new Set;this.getGridColumns(e).forEach(function(_){for(var b=_.getParent();b&&b!=n;)b.isPadding()||c.add(b),b=b.getParent()});try{for(var p=MF(c),f=p.next();!f.done;f=p.next()){var m=f.value;try{for(var g=(s=void 0,MF(this.ctrlsService.getHeaderRowContainerCtrls())),v=g.next();!v.done&&!(d=v.value.getHeaderCtrlForColumn(m));v=g.next());}catch(_){s={error:_}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(i)}}catch(_){o={error:_}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return[]},t.prototype.autoSizeAllColumns=function(e,i){var n=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return n.autoSizeAllColumns(e,i)});else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:i,source:e})}},t.prototype.getColumnsFromTree=function(e){var i=[],n=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof bt?i.push(s):s instanceof ei&&n(s.getChildren())}};return n(e),i},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,i,n,o){for(var c,a=[],s=null,l=function(d){var y,h=i[d],p=i.length-d,f=Math.min(h.getColSpan(e),p),m=[h];if(f>1){for(var g=f-1,v=1;v<=g;v++)m.push(i[d+v]);d+=g}n?(y=!1,m.forEach(function(b){n(b)&&(y=!0)})):y=!0,y&&(0===a.length&&s&&o&&o(h)&&a.push(s),a.push(h)),s=h,c=d},u=0;u<i.length;u++)l(u),u=c;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(a){var s=a.getLeft();return ae(s)&&s>i.viewportLeft})},t.prototype.isColumnAtEdge=function(e,i){var n=this.getAllDisplayedColumns();if(!n.length)return!1;var a,o="first"===i;if(e instanceof Tn){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:Ut(s)}else a=e;return(o?n[0]:Ut(n))===a},t.prototype.getAriaColumnIndex=function(e){var i;return i=e instanceof Tn?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(i)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var i=e.getLeft()||0,n=i+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200;return!(i<o&&n<o||i>a&&n>a)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,i,n,o,a,s){var l=this;if(e&&!oa(e)){var c=!1;e.forEach(function(d){if(d){var h=l.getPrimaryColumn(d);if(h){if(n){if(i.indexOf(h)>=0)return;i.push(h)}else{if(i.indexOf(h)<0)return;wo(i,h)}o(h),c=!0}}}),c&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:a,columns:i,column:1===i.length?i[0]:null,source:s}))}},t.prototype.setRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,x.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),i)},t.prototype.setRowGroupActive=function(e,i,n){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,n),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([i],!1,n),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([i],!0,n))},t.prototype.addRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.addPivotColumns=function(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(n){return n.setPivotActive(!0,i)},x.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPivotColumns=function(e,i){this.setPrimaryColumnList(e,this.pivotColumns,x.EVENT_COLUMN_PIVOT_CHANGED,!0,function(n,o){o.setPivotActive(n,i)},i)},t.prototype.removePivotColumns=function(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(n){return n.setPivotActive(!1,i)},x.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPrimaryColumnList=function(e,i,n,o,a,s){var l=this;if(this.gridColumns){var c=new Map;i.forEach(function(u,d){return c.set(u,d)}),i.length=0,ae(e)&&e.forEach(function(u){var d=l.getPrimaryColumn(u);d&&i.push(d)}),i.forEach(function(u,d){var h=c.get(u);void 0!==h?o&&h!==d||c.delete(u):c.set(u,0)}),(this.primaryColumns||[]).forEach(function(u){var d=i.indexOf(u)>=0;a(d,u)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,ca([],la(c.keys()),!1),s)}},t.prototype.setValueColumns=function(e,i){this.setPrimaryColumnList(e,this.valueColumns,x.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),i)},t.prototype.setValueActive=function(e,i,n){if(e!==i.isValueActive()&&(i.setValueActive(e,n),e&&!i.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}},t.prototype.addValueColumns=function(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),x.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.removeValueColumns=function(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),x.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.normaliseColumnWidth=function(e,i){var n=e.getMinWidth();ae(n)&&i<n&&(i=n);var o=e.getMaxWidth();return ae(o)&&e.isGreaterThanMax(i)&&(i=o),i},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,i,n,o){var a=this,s=[];e.forEach(function(l){var c=a.getPrimaryOrGridColumn(l.key);if(c&&(s.push({width:l.newWidth,ratios:[1],columns:[c]}),"shift"===a.gridOptionsService.get("colResizeDefault")&&(i=!i),i)){var d=a.getDisplayedColAfter(c);if(!d)return;var h=c.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[d]})}}),0!==s.length&&this.resizeColumnSets({resizeSets:s,finished:n,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var n=e.width,o=0,a=0,s=!0;return e.columns.forEach(function(u){var d=u.getMinWidth();o+=d||0;var h=u.getMaxWidth();ae(h)&&h>0?a+=h:s=!1}),n>=o&&(!s||n<=a)},t.prototype.resizeColumnSets=function(e){var i=this,n=e.resizeSets,o=e.finished,a=e.source;if(!n||n.every(function(f){return i.checkMinAndMaxWidthsForSet(f)})){var c=[],u=[];n.forEach(function(f){var m=f.width,g=f.columns,v=f.ratios,y={},_={};g.forEach(function(P){return u.push(P)});for(var b=!0,w=0,E=function(){if(++w>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";b=!1;var P=[],I=0,k=m;g.forEach(function(B,Y){_[B.getId()]?k-=y[B.getId()]:(P.push(B),I+=v[Y])});var N=1/I;P.forEach(function(B,Y){var me;Y===P.length-1?me=k:(me=Math.round(v[Y]*m*N),k-=me);var W=B.getMinWidth(),$=B.getMaxWidth();ae(W)&&me<W?(me=W,_[B.getId()]=!0,b=!0):ae($)&&$>0&&me>$&&(me=$,_[B.getId()]=!0,b=!0),y[B.getId()]=me})};b&&"break"!==E(););g.forEach(function(P){var I=y[P.getId()];P.getActualWidth()!==I&&(P.setActualWidth(I,a),c.push(P))})});var d=c.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:u,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var p=u.concat(h);(d||o)&&this.dispatchColumnResizedEvent(p,o,a,h)}else o&&this.dispatchColumnResizedEvent(n&&n.length>0?n[0].columns:null,o,a)},t.prototype.setColumnAggFunc=function(e,i,n){if(e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(i),this.dispatchColumnChangedEvent(x.EVENT_COLUMN_VALUE_CHANGED,[o],n))}},t.prototype.moveRowGroupColumn=function(e,i,n){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,i);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,o),this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:1===a.length?a[0]:null,source:n})}},t.prototype.moveColumns=function(e,i,n,o){if(void 0===o&&(o=!0),this.gridColumns){if(this.columnAnimationService.start(),i>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var a=this.getGridColumns(e);!this.doesMovePassRules(a,i)||(EF(this.gridColumns,a,i),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:a,source:n,toIndex:i,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,i){var n=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(n)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,i){var n=this.gridColumns.slice();return EF(n,e,i),n},t.prototype.sortColumnsLikeGridColumns=function(e){var i=this;!e||e.length<=1||e.filter(function(o){return i.gridColumns.indexOf(o)<0}).length>0||e.sort(function(o,a){return i.gridColumns.indexOf(o)-i.gridColumns.indexOf(a)})},t.prototype.doesMovePassLockedPositions=function(e){var i=0,n=!0;return e.forEach(function(a){var s=function(a){return a?!0===a||"left"===a?0:2:1}(a.getColDef().lockPosition);s<i&&(n=!1),i=s}),n},t.prototype.doesMovePassMarryChildren=function(e){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof ei){var o=n,a=o.getColGroupDef();if(a&&a.marryChildren){var l=[];o.getLeafColumns().forEach(function(p){var f=e.indexOf(p);l.push(f)}),Math.max.apply(Math,l)-Math.min.apply(Math,l)>o.getLeafColumns().length-1&&(i=!1)}}}),i},t.prototype.moveColumnByIndex=function(e,i,n){this.gridColumns&&this.moveColumns([this.gridColumns[e]],i,n)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(n,o){return e.gridColumns.indexOf(n)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&i.sort(function(n,o){return e.lastPrimaryOrder.indexOf(n)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=n,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return null!==(e=this.gridColumns)&&void 0!==e?e:[]},t.prototype.isEmpty=function(){return oa(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return oa(this.rowGroupColumns)},t.prototype.setColumnsVisible=function(e,i,n){void 0===i&&(i=!1),this.applyColumnState({state:e.map(function(o){return{colId:"string"==typeof o?o:o.getColId(),hide:!i}})},n)},t.prototype.setColumnsPinned=function(e,i,n){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");var o;this.columnAnimationService.start(),o=!0===i||"left"===i?"left":"right"===i?"right":null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o&&(a.setPinned(o),!0)},n,function(){return{type:x.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:n}}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,i,n,o){var a=this;if(!oa(e)){var s=[];if(e.forEach(function(c){if(c){var u=a.getGridColumn(c);u&&!1!==i(u)&&s.push(u)}}),s.length&&(this.updateDisplayedColumns(n),ae(o)&&o)){var l=o();l.columns=s,l.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var i=this.getAllDisplayedColumns(),n=i.indexOf(e);return n>0?i[n-1]:null},t.prototype.getDisplayedColAfter=function(e){var i=this.getAllDisplayedColumns(),n=i.indexOf(e);return n<i.length-1?i[n+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,i){for(var n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a="After"===i?Ut(o):o[0],s="getDisplayedCol".concat(i);;){var l=this[s](a);if(!l)return null;var c=this.getColumnGroupAtLevel(l,n);if(c!==e)return c}},t.prototype.getColumnGroupAtLevel=function(e,i){for(var n=e.getParent();!(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=i);)n=n.getParent();return n},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=null!=e.getSort()?e.getSort():null,s=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:n,flex:l}},t.prototype.getColumnState=function(){if(Qe(this.primaryColumns)||!this.isAlive())return[];var i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i},t.prototype.orderColumnStateList=function(e){var i=md(this.gridColumns.map(function(n,o){return[n.getColId(),o]}));e.sort(function(n,o){return(i.has(n.colId)?i.get(n.colId):-1)-(i.has(o.colId)?i.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){var i=this;if(!oa(this.primaryColumns)){var n=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),n&&(l=l.concat(n)),l.forEach(function(c){var u=i.getColumnStateFromColDef(c);Qe(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=a++),Qe(u.pivotIndex)&&u.pivot&&(u.pivotIndex=s++),o.push(u)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var i=function(g,v){return g??v??null},n=e.getColDef(),o=i(n.sort,n.initialSort),a=i(n.sortIndex,n.initialSortIndex),s=i(n.hide,n.initialHide),l=i(n.pinned,n.initialPinned),c=i(n.width,n.initialWidth),u=i(n.flex,n.initialFlex),d=i(n.rowGroupIndex,n.initialRowGroupIndex),h=i(n.rowGroup,n.initialRowGroup);null==d&&(null==h||0==h)&&(d=null,h=null);var p=i(n.pivotIndex,n.initialPivotIndex),f=i(n.pivot,n.initialPivot);null==p&&(null==f||0==f)&&(p=null,f=null);var m=i(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:c,flex:u,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:m}},t.prototype.applyColumnState=function(e,i){var n=this;if(oa(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(c,u,d){var h=n.compareColumnStatesAndDispatchEvents(i);n.autoGroupsNeedBuilding=!0;var p=u.slice(),f={},m={},g=[],v=[],y=0,_=n.rowGroupColumns.slice(),b=n.pivotColumns.slice();c.forEach(function(P){var I=P.colId||"";if(I.startsWith(fd))return g.push(P),void v.push(P);var N=d(I);N?(n.syncColumnWithStateItem(N,P,e.defaultState,f,m,!1,i),wo(p,N)):(v.push(P),y+=1)});var w=function(P){return n.syncColumnWithStateItem(P,null,e.defaultState,f,m,!1,i)};p.forEach(w);var E=function(P,I,k,N){var B=P[k.getId()],Y=P[N.getId()],ne=null!=B,me=null!=Y;if(ne&&me)return B-Y;if(ne)return-1;if(me)return 1;var W=I.indexOf(k),$=I.indexOf(N),Z=W>=0;return Z&&$>=0?W-$:Z?-1:1};n.rowGroupColumns.sort(E.bind(n,f,_)),n.pivotColumns.sort(E.bind(n,m,b)),n.updateGridColumns();var M=n.groupAutoColumns?n.groupAutoColumns.slice():[];return g.forEach(function(P){var I=n.getAutoColumn(P.colId);wo(M,I),n.syncColumnWithStateItem(I,P,e.defaultState,null,null,!0,i)}),M.forEach(w),n.applyOrderAfterApplyState(e),n.updateDisplayedColumns(i),n.dispatchEverythingChanged(i),h(),{unmatchedAndAutoStates:v,unmatchedCount:y}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(c){return n.getPrimaryColumn(c)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||ae(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(c){return n.getSecondaryColumn(c)}).unmatchedCount),this.columnAnimationService.finish(),0===l},t.prototype.applyOrderAfterApplyState=function(e){var i=this;if(e.applyOrder&&e.state){var n=[],o={};e.state.forEach(function(s){if(s.colId&&!o[s.colId]){var l=i.gridColumnsMap[s.colId];l&&(n.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId();null!=o[l]||(l.startsWith(fd)?I_(n,s,a++):n.push(s))}),n=this.placeLockedColumns(n),!this.doesMovePassMarryChildren(n))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=n}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var i=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=i.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,_,b,w){if(!tu(_.map(w),b.map(w))){var I=new Set(_);b.forEach(function(B){I.delete(B)||I.add(B)});var k=ca([],la(I),!1);i.eventService.dispatchEvent({type:y,columns:k,column:1===k.length?k[0]:null,source:e})}},c=function(y){var _=[];return s.forEach(function(b){var w=a[b.getColId()];w&&y(w,b)&&_.push(b)}),_},u=function(y){return y.getColId()};l(x.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,i.rowGroupColumns,u),l(x.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,i.pivotColumns,u);var h=c(function(y,_){var b=null!=y.aggFunc,w=b!=_.isValueActive(),E=b&&y.aggFunc!=_.getAggFunc();return w||E});h.length>0&&i.dispatchColumnChangedEvent(x.EVENT_COLUMN_VALUE_CHANGED,h,e),i.dispatchColumnResizedEvent(c(function(y,_){return y.width!=_.getActualWidth()}),!0,e),i.dispatchColumnPinnedEvent(c(function(y,_){return y.pinned!=_.getPinned()}),e),i.dispatchColumnVisibleEvent(c(function(y,_){return y.hide==_.isVisible()}),e);var v=c(function(y,_){return y.sort!=_.getSort()||y.sortIndex!=_.getSortIndex()});v.length>0&&i.sortController.dispatchSortChangedEvents(e,v),i.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,i){if(e&&0!=e.length){for(var n=i(e[0]),o=1;o<e.length;o++)if(n!==i(e[o]))return;return n}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,i){var n=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),c=o.filter(function(d){return s[d.colId]}),u=[];c.forEach(function(d,h){var p=l&&l[h];if(p&&p.colId!==d.colId){var f=n.getGridColumn(p.colId);f&&u.push(f)}}),u.length&&this.dispatchColumnMovedEvent({movedColumns:u,source:i,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,i,n,o,a,s,l){if(e){var c=function(P,I){var k={value1:void 0,value2:void 0},N=!1;return i&&(void 0!==i[P]&&(k.value1=i[P],N=!0),ae(I)&&void 0!==i[I]&&(k.value2=i[I],N=!0)),!N&&n&&(void 0!==n[P]&&(k.value1=n[P]),ae(I)&&void 0!==n[I]&&(k.value2=n[I])),k},u=c("hide").value1;void 0!==u&&e.setVisible(!u,l);var d=c("pinned").value1;void 0!==d&&e.setPinned(d);var h=this.columnUtils.calculateColMinWidth(e.getColDef()),p=c("flex").value1;if(void 0!==p&&e.setFlex(p),null==p){var f=c("width").value1;null!=f&&null!=h&&f>=h&&e.setActualWidth(f,l)}var m=c("sort").value1;void 0!==m&&e.setSort("desc"===m||"asc"===m?m:void 0,l);var g=c("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!s&&e.isPrimary()){var v=c("aggFunc").value1;void 0!==v&&("string"==typeof v?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(ae(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),wo(this.valueColumns,e))));var y=c("rowGroup","rowGroupIndex"),_=y.value1,b=y.value2;(void 0!==_||void 0!==b)&&("number"==typeof b||_?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&"number"==typeof b&&(o[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),wo(this.rowGroupColumns,e)));var w=c("pivot","pivotIndex"),E=w.value1,M=w.value2;(void 0!==E||void 0!==M)&&("number"==typeof M||E?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&"number"==typeof M&&(a[e.getId()]=M)):e.isPivotActive()&&(e.setPivotActive(!1,l),wo(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,i){var n=[];return e&&e.forEach(function(o){var a=i(o);a&&n.push(a)}),n},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,i,n){if(!e||!n)return null;if("string"==typeof e&&n[e])return n[e];for(var o=0;o<i.length;o++)if(this.columnsMatch(i[o],e))return i[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var i=e.getColDef().showRowGroup;if(!i)return null;if(!0===i)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(i);return n?[n]:null},t.prototype.getAutoColumn=function(e){var i=this;return this.groupAutoColumns&&ae(this.groupAutoColumns)&&!Qe(this.groupAutoColumns)&&this.groupAutoColumns.find(function(n){return i.columnsMatch(n,e)})||null},t.prototype.columnsMatch=function(e,i){var n=e===i,o=e.getColDef()===i,a=e.getColId()==i;return n||o||a},t.prototype.getDisplayNameForColumn=function(e,i,n){if(void 0===n&&(n=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,i);return n?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,i,n){var o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,e,i,n):null},t.prototype.getDisplayNameForColumnGroup=function(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)},t.prototype.getHeaderName=function(e,i,n,o,a){var s=e.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:e,column:i,columnGroup:n,providedColumnGroup:o,location:a});return"function"==typeof s?s(l):"string"==typeof s?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?oK(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,i){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return i;var s,n=e.getColDef().pivotValueColumn,a=null;if(ae(n)){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,c=void 0!==e.getColDef().pivotTotalColumnIds;if(l&&!c)return i;a=n?n.getAggFunc():null,s=!0}else{var u=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();u&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var h="string"==typeof a?a:"func",f=this.localeService.getLocaleTextFunc()(h,h);return"".concat(f,"(").concat(i,")")}return i},t.prototype.getColumnGroup=function(e,i){if(!e)return null;if(e instanceof Tn)return e;var n=this.getAllDisplayedTrees(),o="number"==typeof i,a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(s){if(s instanceof Tn){var l=s;(o?e===l.getGroupId()&&i===l.getPartId():e===l.getGroupId())&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(n,o){return n.setValueActive(o,e)},function(){},function(){},function(n){var o=n.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},function(n){return null!=n.initialAggFunc&&""!=n.initialAggFunc}),this.valueColumns.forEach(function(n){var o=n.getColDef();null!=o.aggFunc&&""!=o.aggFunc?n.setAggFunc(o.aggFunc):n.getAggFunc()||n.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(n,o){return n.setRowGroupActive(o,e)},function(n){return n.rowGroupIndex},function(n){return n.initialRowGroupIndex},function(n){return n.rowGroup},function(n){return n.initialRowGroup})},t.prototype.extractColumns=function(e,i,n,o,a,s,l){void 0===e&&(e=[]),void 0===i&&(i=[]);var c=[],u=[];(this.primaryColumns||[]).forEach(function(p){var f=e.indexOf(p)<0,m=p.getColDef(),g=Wx(s(m)),v=Wx(l(m)),y=hd(o(m)),_=hd(a(m));(void 0!==g?g:void 0!==y?null!==y&&y>=0:f?void 0!==v?v:void 0!==_&&null!=_&&_>=0:i.indexOf(p)>=0)&&((f?null!=y||null!=_:null!=y)?c.push(p):u.push(p))});var d=function(p){var f=o(p.getColDef()),m=a(p.getColDef());return f??m};c.sort(function(p,f){var m=d(p),g=d(f);return m===g?0:m<g?-1:1});var h=[].concat(c);return i.forEach(function(p){u.indexOf(p)>=0&&h.push(p)}),u.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),i.forEach(function(p){h.indexOf(p)<0&&n(p,!1)}),h.forEach(function(p){i.indexOf(p)<0&&n(p,!0)}),h},t.prototype.extractPivotColumns=function(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(n,o){return n.setPivotActive(o,e)},function(n){return n.pivotIndex},function(n){return n.initialPivotIndex},function(n){return n.pivot},function(n){return n.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(this.primaryColumnTree){var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(n){if(n instanceof ei){var o=n.getColGroupDef(),a={groupId:n.getGroupId(),open:o?o.openByDefault:void 0};i.push(a)}}),this.setColumnGroupState(i,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof ei&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,i){var n=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];e.forEach(function(s){var c=s.open,u=n.getProvidedColumnGroup(s.groupId);u&&u.isExpanded()!==c&&(n.logger.log("columnGroupOpened("+u.getGroupId()+","+c+")"),u.setExpanded(c),o.push(u))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),o.length&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===ei.length?o[0]:void 0,columnGroups:o}),this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,i,n){var o;o=e instanceof ei?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:i}],n)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof ei&&n.getId()===e&&(i=n)}),i},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&Qe(this.secondaryColumns)?this.gridColumns.filter(function(n){var o=e.groupAutoColumns&&Rs(e.groupAutoColumns,n),a=e.valueColumns&&Rs(e.valueColumns,n);return o||a}):this.gridColumns.filter(function(n){return e.groupAutoColumns&&Rs(e.groupAutoColumns,n)||n.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var i=!1;return e.forEach(function(n){ae(n.getColDef().colSpan)&&(i=!0)}),i},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(function(n){var o=n.getColDef(),a=o.showRowGroup;o&&ae(a)&&(e.groupDisplayColumns.push(n),"string"==typeof a?e.groupDisplayColumnsMap[a]=n:!0===a&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=n}))})},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return ae(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,i){var n=this;if(this.gridColumns){var o=e&&e.length>0;if(o||!Qe(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,i);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return n.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var i=this.gridOptionsService.get("processPivotResultColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef");if(i||n){var o=function(a){a.forEach(function(s){if(ae(s.children)){var c=s;n&&n(c),o(c.children)}else i&&i(s)})};e&&o(e)}},t.prototype.updateGridColumns=function(){var a,e=this,i=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){var o=md(this.groupAutoColumns.map(function(c){return[c,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(c){return!o.has(c)}),this.lastPrimaryOrder=ca(ca([],la(this.groupAutoColumns),!1),la(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(c){return!o.has(c)}),this.lastSecondaryOrder=ca(ca([],la(this.groupAutoColumns),!1),la(this.lastSecondaryOrder),!1))}if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(c){return void 0!==e.gridColumnsMap[c.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return e.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),tu(i,this.gridBalancedTree)||this.eventService.dispatchEvent({type:x.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(i){return i.isAutoHeight()}).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||We("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))},t.prototype.orderGridColsLike=function(e){if(!Qe(e)){var i=md(e.map(function(u,d){return[u,d]})),n=!0;if(this.gridColumns.forEach(function(u){i.has(u)&&(n=!1)}),!n){var o=md(this.gridColumns.map(function(u){return[u,!0]})),a=e.filter(function(u){return o.has(u)}),s=md(a.map(function(u){return[u,!0]})),l=this.gridColumns.filter(function(u){return!s.has(u)}),c=a.slice();l.forEach(function(u){var d=u.getOriginalParent();if(d){for(var h=[];!h.length&&d;)d.getLeafColumns().forEach(function(g){var v=c.indexOf(g)>=0,y=h.indexOf(g)<0;v&&y&&h.push(g)}),d=d.getOriginalParent();if(h.length){var f=h.map(function(g){return c.indexOf(g)}),m=Math.max.apply(Math,ca([],la(f),!1));I_(c,u,m+1)}else c.push(u)}else c.push(u)}),this.gridColumns=c}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,i=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(i=i.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?i:i.filter(function(n){return n.isVisible()||n.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var i=[],n=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;"right"===s?o.push(a):"left"===s||!0===s?i.push(a):n.push(a)}),ca(ca(ca([],la(i),!1),la(n),!1),la(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(Qe(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinColumnsAriaOrder=function(){var e,i,n=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=MF(n),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.getPinned();d?!0===d||"left"===d?o.push(u):s.push(u):a.push(u)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}this.ariaOrderColumns=o.concat(a).concat(s)},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var i=this;if(this.primaryColumns){var n=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=i.getWidthOfColsInList(a);a.forEach(function(c){s-=c.getActualWidth(),c.setLeft(s,e)})}else{var l=0;a.forEach(function(c){c.setLeft(l,e),l+=c.getActualWidth()})}Z8(n,a)}),n.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(i){i instanceof Tn&&i.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(n){n instanceof bt&&i.push(n)})},t.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||0===this.viewportRight},t.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,i){var n;switch(e){case"left":n=this.viewportRowLeft[i];break;case"right":n=this.viewportRowRight[i];break;default:n=this.viewportRowCenter[i]}return Qe(n)&&(n=[]),n},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(n){return e[n.getId()]=!0});var i=function(n,o,a){for(var s=!1,l=0;l<n.length;l++){var c=n[l],u=!1;if(c instanceof bt)u=!0===e[c.getId()];else{var h=c.getDisplayedChildren();h&&(u=i(h,o,a+1))}u&&(s=!0,o[a]||(o[a]=[]),o[a].push(c))}return s};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var i=this.viewportColumns.map(function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")}).join("#"),n=this.viewportColumnsHash!==i;return n&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),n},t.prototype.refreshFlexedColumns=function(e){var i;void 0===e&&(e={});var n=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols)for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}var c=0,u=[],d=0,h=0;for(l=0;l<this.displayedColumnsCenter.length;l++)this.displayedColumnsCenter[l].getFlex()&&l>o?(u.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=null!==(i=this.displayedColumnsCenter[l].getMinWidth())&&void 0!==i?i:0):c+=this.displayedColumnsCenter[l].getActualWidth();if(!u.length)return[];var f=[];c+d>this.flexViewportWidth&&(u.forEach(function(P){var I;return P.setActualWidth(null!==(I=P.getMinWidth())&&void 0!==I?I:0,n)}),f=u,u=[]);var g,m=[];e:for(;;){var v=(g=this.flexViewportWidth-c)/h;for(l=0;l<u.length;l++){var y=u[l],_=v*y.getFlex(),b=0,w=y.getMinWidth(),E=y.getMaxWidth();if(ae(w)&&_<w?b=w:ae(E)&&_>E&&(b=E),b){y.setActualWidth(b,n),xF(u,y),h-=y.getFlex(),f.push(y),c+=y.getActualWidth();continue e}m[l]=Math.round(_)}break}var M=g;return u.forEach(function(P,I){P.setActualWidth(Math.min(m[I],M),n),f.push(P),M-=m[I]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,n,u),u},t.prototype.sizeColumnsToFit=function(e,i,n,o){var s,l,c,u,d,a=this;if(void 0===i&&(i="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,i,n,o)});else{var h={};o&&(null===(s=o?.columnLimits)||void 0===s||s.forEach(function($){var Z=$.key,ce=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]])}return e}($,["key"]);h["string"==typeof Z?Z:Z.getColId()]=ce}));var p=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(p);if(!(e<=0||!p.length||f)){var m=[],g=[];p.forEach(function($){!0===$.getColDef().suppressSizeToFit?g.push($):m.push($)});var v=m.slice(0),y=!1,_=function($){wo(m,$),g.push($)};for(m.forEach(function($){var Z,ce;$.resetActualWidth(i);var De=h?.[$.getId()],ke=null!==(Z=De?.minWidth)&&void 0!==Z?Z:o?.defaultMinWidth,Oe=null!==(ce=De?.maxWidth)&&void 0!==ce?ce:o?.defaultMaxWidth,nt=$.getActualWidth();"number"==typeof ke&&nt<ke?$.setActualWidth(ke,i,!0):"number"==typeof Oe&&nt>Oe&&$.setActualWidth(Oe,i,!0)});!y;){y=!0;var b=e-this.getWidthOfColsInList(g);if(b<=0)m.forEach(function($){var Z,ce,De=null!==(ce=null===(Z=h?.[$.getId()])||void 0===Z?void 0:Z.minWidth)&&void 0!==ce?ce:o?.defaultMinWidth;"number"!=typeof De?$.setMinimum(i):$.setActualWidth(De,i,!0)});else for(var w=b/this.getWidthOfColsInList(m),E=b,M=m.length-1;M>=0;M--){var P=m[M],I=h?.[P.getId()],k=null!==(l=I?.minWidth)&&void 0!==l?l:o?.defaultMinWidth,N=null!==(c=I?.maxWidth)&&void 0!==c?c:o?.defaultMaxWidth,B=null!==(u=P.getMinWidth())&&void 0!==u?u:0,Y=null!==(d=P.getMaxWidth())&&void 0!==d?d:Number.MAX_VALUE,ne="number"==typeof k&&k>B?k:P.getMinWidth(),me="number"==typeof N&&N<Y?N:P.getMaxWidth(),W=Math.round(P.getActualWidth()*w);ae(ne)&&W<ne?(W=ne,_(P),y=!1):ae(me)&&W>me?(W=me,_(P),y=!1):0===M&&(W=E),P.setActualWidth(W,i,!0),E-=W}}v.forEach(function($){$.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(v,!0,i)}}},t.prototype.buildDisplayedTrees=function(e){var i=[],n=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":i.push(s);break;case"right":n.push(s);break;default:o.push(s)}});var a=new rK;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var i=function(n){e.displayedColumnsAndGroupsMap[n.getUniqueId()]=n};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(i){i instanceof Tn&&i.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||n||i)this.groupAutoColumns=null;else{var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||e)return this.groupAutoColumns=s,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")},t.prototype.autoColsEqual=function(e,i){return tu(e,i,function(n,o){return n.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(i,n){return i+n.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(var n=0;n<i.length;n++){var o=this[i[n]]();if(o.length)return e?Ut(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,i){e.setAutoHeaderHeight(i)&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(function(n){return n.isAutoHeaderHeight()}).map(function(n){return n.getAutoHeaderHeight()||0});return Math.max.apply(Math,ca([e],la(i),!1))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.get("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,i){var n=e.getUserProvidedColDef();if(!n)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(o,n,i),!0},t.prototype.isColumnGroupingLocked=function(e){var i=this.gridOptionsService.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===i)&&(-1===i||i>this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()}))},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,i){var n=this,o={},a=function(s,l,c,u,d,h){if(!l.length||!n.primaryColumns)return[];for(var p=Object.keys(s),f=new Set(p),m=new Set(p),g=new Set(l.map(function(k){var N=k.getColId();return m.delete(N),N}).concat(p)),v=[],y={},_=0,b=0;b<n.primaryColumns.length;b++){var w=n.primaryColumns[b].getColId();g.has(w)&&(v.push(w),y[w]=_++)}var E=1e3,M=!1,P=0,I=function(k){for(var N=y[k],B=P;B<N;B++){var Y=v[B];m.has(Y)&&(s[Y][d]=E++,m.delete(Y))}P=N};l.forEach(function(k){var N=k.getColId();if(f.has(N))I(N),s[N][d]=E++;else{var B=k.getColDef();(null===B[d]||void 0===B[d]&&null==B[h])&&(M||(B[c]||void 0===B[c]&&B[u]?I(N):(m.forEach(function(me){s[me][d]=E+y[me]}),E+=v.length,M=!0)),o[N]||(o[N]={colId:N}),o[N][d]=E++)}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(i,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,i=this.gridOptionsService.get("autoSizeStrategy");if(i){var n=i.type;setTimeout(function(){if("fitGridWidth"===n){var o=i.columnLimits,a=i.defaultMinWidth,s=i.defaultMaxWidth,l=o?.map(function(c){return{key:c.colId,minWidth:c.minWidth,maxWidth:c.maxWidth}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else"fitProvidedWidth"===n&&e.sizeColumnsToFit(i.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,i=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"===i?.type){var n=i.colIds,o=i.skipHeader;setTimeout(function(){n?e.autoSizeColumns({columns:n,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns("autosizeColumns",o)})}},wr([C("expressionService")],t.prototype,"expressionService",void 0),wr([C("columnFactory")],t.prototype,"columnFactory",void 0),wr([C("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),wr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),wr([C("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),wr([C("columnUtils")],t.prototype,"columnUtils",void 0),wr([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),wr([C("autoGroupColService")],t.prototype,"autoGroupColService",void 0),wr([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),wr([gt("valueCache")],t.prototype,"valueCache",void 0),wr([gt("animationFrameService")],t.prototype,"animationFrameService",void 0),wr([C("sortController")],t.prototype,"sortController",void 0),wr([C("columnDefFactory")],t.prototype,"columnDefFactory",void 0),wr([j],t.prototype,"init",null),wr([Oi],t.prototype,"destroyColumns",null),wr([xDe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),wr([oe("columnModel")],t)}(z);function Qm(r){return"gridOptionsUpdated"===r?"gridOptionsChanged":r}var TDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ODe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return TDe(t,r),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var i=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e),a=hd(e.width),s=hd(e.initialWidth);return Math.max(Math.min(null!=a?a:null!=s?s:200,n),i)},t.prototype.getOriginalPathForColumn=function(e,i){var n=[],o=!1,a=function(s,l){for(var c=0;c<s.length;c++){if(o)return;var u=s[c];u instanceof ei?(a(u.getChildren(),l+1),n[l]=u):u===e&&(o=!0)}};return a(i,0),o?n:null},t.prototype.depthFirstOriginalTreeSearch=function(e,i,n){var o=this;i&&i.forEach(function(a){a instanceof ei&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),n),n(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,i){var n=this;e&&e.forEach(function(o){o instanceof Tn&&n.depthFirstAllColumnTreeSearch(o.getChildren(),i),i(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,i){var n=this;e&&e.forEach(function(o){o instanceof Tn&&n.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),i),i(o)})},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnUtils")],t),t}(z),MDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PDe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return MDe(t,r),t.prototype.createDisplayedGroups=function(e,i,n,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],c=e,u=function(){var d=c;c=[];for(var h=0,p=function(w){var E=h;h=w;var M=d[E],I=(M instanceof Tn?M.getProvidedColumnGroup():M).getOriginalParent();if(null!=I){var N=a.createColumnGroup(I,i,s,n);for(k=E;k<w;k++)N.addChild(d[k]);c.push(N)}else for(var k=E;k<w;k++)l.push(d[k])},f=1;f<d.length;f++){var m=d[f],v=(m instanceof Tn?m.getProvidedColumnGroup():m).getOriginalParent(),y=d[h];v!==(y instanceof Tn?y.getProvidedColumnGroup():y).getOriginalParent()&&p(f)}h<d.length&&p(d.length)};c.length;)u();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,i,n,o){var a=e.getGroupId(),s=i.getInstanceIdForKey(a),c=n[Tn.createUniqueId(a,s)];return c&&c.getProvidedColumnGroup()!==e&&(c=null),ae(c)?c.reset():(c=new Tn(e,a,s,o),this.context.createBean(c)),c},t.prototype.mapOldGroupsById=function(e){var i={},n=function(o){o.forEach(function(a){if(a instanceof Tn){var s=a;i[a.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),i},t.prototype.setupParentsIntoColumns=function(e,i){var n=this;e.forEach(function(o){if(o.setParent(i),o instanceof Tn){var a=o;n.setupParentsIntoColumns(a.getChildren(),a)}})},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("displayedGroupCreator")],t),t}(z),gd=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},vd=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},IDe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Nl=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=vd(vd([],gd(r.FUNCTIONAL_PROPERTIES),!1),gd(r.CALLBACK_PROPERTIES),!1),r.ALL_PROPERTIES=vd(vd(vd(vd(vd(vd([],gd(r.ARRAY_PROPERTIES),!1),gd(r.OBJECT_PROPERTIES),!1),gd(r.STRING_PROPERTIES),!1),gd(r.NUMBER_PROPERTIES),!1),gd(r.FUNCTION_PROPERTIES),!1),gd(r.BOOLEAN_PROPERTIES),!1),r}(),RF=function(){return RF=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},RF.apply(this,arguments)},sK=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},lK=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},eE=function(){function r(){}var t;return r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},r.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},r.combineAttributesAndGridOptions=function(e,i){"object"!=typeof e&&(e={});var n=RF({},e);return r.getGridOptionKeys().forEach(function(a){var s=i[a];typeof s<"u"&&s!==r.VUE_OMITTED_PROPERTY&&(n[a]=s)}),n},r.processOnChange=function(e,i){if(e){var n={},o=!1;if(Object.keys(e).filter(function(s){return r.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){n[s]=e[s],o=!0}),o){i.__internalUpdateGridOptions(n);var a={type:x.EVENT_COMPONENT_STATE_CHANGED};Lr(n,function(s,l){a[s]=l}),i.dispatchEvent(a)}}},t=r,r.EVENTS=lp(x),r.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",r.EXCLUDED_INTERNAL_EVENTS=[x.EVENT_SCROLLBAR_WIDTH_CHANGED,x.EVENT_CHECKBOX_CHANGED,x.EVENT_HEIGHT_SCALE_CHANGED,x.EVENT_BODY_HEIGHT_CHANGED,x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,x.EVENT_SCROLL_VISIBILITY_CHANGED,x.EVENT_COLUMN_HOVER_CHANGED,x.EVENT_FLASH_CELLS,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,x.EVENT_DISPLAYED_ROWS_CHANGED,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,x.EVENT_POPUP_TO_FRONT,x.EVENT_STORE_UPDATED,x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,x.EVENT_FILL_START,x.EVENT_FILL_END,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,x.EVENT_FULL_WIDTH_ROW_FOCUSED,x.EVENT_HEADER_HEIGHT_CHANGED,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,x.EVENT_CELL_FOCUS_CLEARED,x.EVENT_GRID_STYLES_CHANGED,x.EVENT_FILTER_DESTROYED,x.EVENT_ROW_DATA_UPDATE_STARTED,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,x.EVENT_DATA_TYPES_INFERRED,x.EVENT_FIELD_VALUE_CHANGED,x.EVENT_FIELD_PICKER_VALUE_SELECTED,x.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,x.EVENT_SUPPRESS_MENU_HIDE_CHANGED,x.EVENT_SUPPRESS_FIELD_DOT_NOTATION,x.EVENT_ROW_COUNT_READY,x.EVENT_SIDE_BAR_UPDATED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(e){return!Rs(r.EXCLUDED_INTERNAL_EVENTS,e)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)}),r.STRING_PROPERTIES=Nl.STRING_PROPERTIES,r.OBJECT_PROPERTIES=Nl.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=Nl.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=Nl.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=Nl.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=Nl.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=Nl.ALL_PROPERTIES,r.ALL_PROPERTIES_AND_CALLBACKS=lK(lK([],sK(t.ALL_PROPERTIES),!1),sK(t.EVENT_CALLBACKS),!1),r.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(r.ALL_PROPERTIES_AND_CALLBACKS),r}(),FDe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LDe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.componentsMappedByName={},e}return FDe(t,r),t.prototype.setupComponents=function(e){var i=this;e&&e.forEach(function(n){return i.addComponent(n)})},t.prototype.addComponent=function(e){var n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("agStackComponentsRegistry")],t),t}(z);function za(r,t,e){null==e||"string"==typeof e&&""==e?PF(r,t):Wa(r,t,e)}function Wa(r,t,e){r.setAttribute(cK(t),e.toString())}function PF(r,t){r.removeAttribute(cK(t))}function cK(r){return"aria-".concat(r)}function On(r,t){t?r.setAttribute("role",t):r.removeAttribute("role")}function uK(r){return"asc"===r?"ascending":"desc"===r?"descending":"mixed"===r?"other":"none"}function dK(r){return parseInt(r.getAttribute("aria-posinset"),10)}function hK(r){return r.getAttribute("aria-label")}function yd(r,t){za(r,"label",t)}function tE(r,t){za(r,"labelledby",t)}function IF(r,t){za(r,"live",t)}function pK(r,t){za(r,"atomic",t)}function fK(r,t){za(r,"relevant",t)}function mK(r,t){za(r,"level",t)}function FF(r,t){za(r,"disabled",t)}function iE(r,t){za(r,"hidden",t)}function kF(r,t){za(r,"activedescendant",t)}function iu(r,t){Wa(r,"expanded",t)}function gK(r){PF(r,"expanded")}function LF(r,t){Wa(r,"setsize",t)}function NF(r,t){Wa(r,"posinset",t)}function vK(r,t){Wa(r,"multiselectable",t)}function yK(r,t){Wa(r,"rowcount",t)}function GF(r,t){Wa(r,"rowindex",t)}function _K(r,t){Wa(r,"colcount",t)}function VF(r,t){Wa(r,"colindex",t)}function CK(r,t){Wa(r,"colspan",t)}function bK(r,t){Wa(r,"sort",t)}function wK(r){PF(r,"sort")}function Jm(r,t){za(r,"selected",t)}function BF(r,t){za(r,"controls",t.id),tE(t,r.id)}function HF(r,t){return void 0===t?r("ariaIndeterminate","indeterminate"):!0===t?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var jF,nE,UF,zF,WF,$F,KF,YF,BDe=Object.freeze({__proto__:null,setAriaRole:On,getAriaSortState:uK,getAriaLevel:function NDe(r){return parseInt(r.getAttribute("aria-level"),10)},getAriaPosInSet:dK,getAriaLabel:hK,setAriaLabel:yd,setAriaLabelledBy:tE,setAriaDescribedBy:function GDe(r,t){za(r,"describedby",t)},setAriaLive:IF,setAriaAtomic:pK,setAriaRelevant:fK,setAriaLevel:mK,setAriaDisabled:FF,setAriaHidden:iE,setAriaActiveDescendant:kF,setAriaExpanded:iu,removeAriaExpanded:gK,setAriaSetSize:LF,setAriaPosInSet:NF,setAriaMultiSelectable:vK,setAriaRowCount:yK,setAriaRowIndex:GF,setAriaColCount:_K,setAriaColIndex:VF,setAriaColSpan:CK,setAriaSort:bK,removeAriaSort:wK,setAriaSelected:Jm,setAriaChecked:function VDe(r,t){Wa(r,"checked",void 0===t?"mixed":t)},setAriaControls:BF,getAriaCheckboxStateName:HF});function Gl(){return void 0===jF&&(jF=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),jF}function qF(){if(void 0===nE)if(Gl()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(nE=null!=r[1]?parseFloat(r[1]):0)}else nE=0;return nE}function rE(){if(void 0===UF){var r=window;UF=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return UF}function XF(){return void 0===zF&&(zF=/(firefox)/i.test(navigator.userAgent)),zF}function ZF(){return void 0===WF&&(WF=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),WF}function nu(){return void 0===$F&&($F=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),$F}function QF(){return!Gl()||qF()>=15}function oE(r){if(!r)return null;var t=r.tabIndex,e=r.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||XF())?t.toString():null}function SK(){if(!document.body)return-1;var r=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var i=2*r;if(e.style.height=i+"px",i>t||e.clientHeight!==i)break;r=i}return document.body.removeChild(e),r}function xK(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function EK(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function DK(){return null==YF&&TK(),YF}function TK(){var r=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",r.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(YF=e,KF=0===e)}function JF(){return null==KF&&TK(),KF}var HDe=Object.freeze({__proto__:null,isBrowserSafari:Gl,getSafariVersion:qF,isBrowserChrome:rE,isBrowserFirefox:XF,isMacOsUserAgent:ZF,isIOSUserAgent:nu,browserSupportsPreventScroll:QF,getTabIndex:oE,getMaxDivHeight:SK,getBodyWidth:xK,getBodyHeight:EK,getScrollbarWidth:DK,isInvisibleScrollbar:JF});function eg(r,t){return r.toString().padStart(t,"0")}function AK(r,t){for(var e=[],i=r;i<=t;i++)e.push(i);return e}function ek(r,t,e){return"number"!=typeof r?"":r.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}var $De=Object.freeze({__proto__:null,padStartWidthZeros:eg,createArrayOfNumbers:AK,cleanNumber:function jDe(r){return"string"==typeof r&&(r=parseInt(r,10)),"number"==typeof r?Math.floor(r):null},decToHex:function UDe(r,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&r),r>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function zDe(r,t,e){return"number"!=typeof r?"":ek(Math.round(100*r)/100,t,e)},formatNumberCommas:ek,sum:function WDe(r){return null==r?null:r.reduce(function(t,e){return t+e},0)}}),tk=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function $a(r,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!r)return null;var i=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(n){return eg(n,2)}).join(e);return t&&(i+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(n){return eg(n,2)}).join(":")),i}var ik=function(r){if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function tg(r,t){void 0===t&&(t="YYYY-MM-DD");var e=eg(r.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(r.getFullYear())},MMMM:function(){return i[r.getMonth()]},MMM:function(){return i[r.getMonth()].slice(0,3)},MM:function(){return eg(r.getMonth()+1,2)},Mo:function(){return"".concat(r.getMonth()+1).concat(ik(r.getMonth()+1))},M:function(){return"".concat(r.getMonth()+1)},Do:function(){return"".concat(r.getDate()).concat(ik(r.getDate()))},DD:function(){return eg(r.getDate(),2)},D:function(){return"".concat(r.getDate())},dddd:function(){return n[r.getDay()]},ddd:function(){return n[r.getDay()].slice(0,3)},dd:function(){return n[r.getDay()].slice(0,2)},do:function(){return"".concat(r.getDay()).concat(ik(r.getDay()))},d:function(){return"".concat(r.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function So(r){if(!r)return null;var t=tk(r.split(" "),2),e=t[0],i=t[1];if(!e)return null;var n=e.split("-").map(function(f){return parseInt(f,10)});if(3!==n.filter(function(f){return!isNaN(f)}).length)return null;var o=tk(n,3),a=o[0],s=o[1],l=o[2],c=new Date(a,s-1,l);if(c.getFullYear()!==a||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!i||"00:00:00"===i)return c;var u=tk(i.split(":").map(function(f){return parseInt(f,10)}),3),d=u[0],h=u[1],p=u[2];return d>=0&&d<24&&c.setHours(d),h>=0&&h<60&&c.setMinutes(h),p>=0&&p<60&&c.setSeconds(p),c}var aE,KDe=Object.freeze({__proto__:null,serialiseDate:$a,dateToFormattedString:tg,parseDateTimeFromString:So}),qDe=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function nk(r,t,e){for(var i=r.parentElement,n=i&&i.firstChild;n;)t&&n.classList.toggle(t,n===r),e&&n.classList.toggle(e,n!==r),n=n.nextSibling}var OK="[tabindex], input, select, button, textarea, [href]",rk="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function ok(r){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(r,"input, select, button, textarea"),n=t.call(r,rk),o=ua(r);return i&&!n&&o}function Nt(r,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;r.classList.toggle("ag-hidden",!t),i||iE(r,!t)}function MK(r,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;r.classList.toggle("ag-invisible",!t),i||iE(r,!t)}function ig(r,t){var e="disabled",i=t?function(n){return n.setAttribute(e,"")}:function(n){return n.removeAttribute(e)};i(r),hk(r.querySelectorAll("input"),function(n){return i(n)})}function hp(r,t,e){for(var i=0;r;){if(r.classList.contains(t))return!0;if(r=r.parentElement,"number"==typeof e){if(++i>e)break}else if(r===e)break}return!1}function _d(r){var t=window.getComputedStyle(r),i=t.width,n=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,c=t.paddingRight,u=t.paddingBottom,d=t.paddingLeft,h=t.marginTop,p=t.marginRight,f=t.marginBottom,m=t.marginLeft,g=t.boxSizing;return{height:parseFloat(t.height||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(c||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(m||"0"),boxSizing:g}}function F_(r){var t=_d(r);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function pp(r){var t=_d(r);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function ak(r){var t=_d(r);return Math.ceil(r.offsetHeight+(t.marginBottom+t.marginTop))}function k_(r){var t=_d(r);return Math.ceil(r.offsetWidth+(t.marginLeft+t.marginRight))}function sk(r){var t=r.getBoundingClientRect(),e=_d(r);return{top:t.top+(e.borderTopWidth||0),left:t.left+(e.borderLeftWidth||0),right:t.right+(e.borderRightWidth||0),bottom:t.bottom+(e.borderBottomWidth||0)}}function L_(){if("boolean"==typeof aE)return aE;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(r),r.scrollLeft=1,aE=0===Math.floor(r.scrollLeft),document.body.removeChild(r),aE}function N_(r,t){var e=r.scrollLeft;return t&&(e=Math.abs(e),rE()&&!L_()&&(e=r.scrollWidth-r.clientWidth-e)),e}function G_(r,t,e){e&&(L_()?t*=-1:(Gl()||rE())&&(t=r.scrollWidth-r.clientWidth-t)),r.scrollLeft=t}function Yn(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function Vl(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function lk(r){return!!r.offsetParent}function ua(r){return r.checkVisibility?r.checkVisibility({checkVisibilityCSS:!0}):!(!lk(r)||"visible"!==window.getComputedStyle(r).visibility)}function xo(r){var t=document.createElement("div");return t.innerHTML=(r||"").trim(),t.firstChild}function ck(r,t,e){e&&e.nextSibling===t||(e?e.nextSibling?r.insertBefore(t,e.nextSibling):r.appendChild(t):r.firstChild&&r.firstChild!==t&&r.insertAdjacentElement("afterbegin",t))}function uk(r,t){for(var e=0;e<t.length;e++){var i=t[e],n=r.children[e];n!==i&&r.insertBefore(i,n)}}function RK(r,t,e){e?e.insertAdjacentElement("afterend",t):r.firstChild?r.insertAdjacentElement("afterbegin",t):r.appendChild(t)}function dk(r,t){var e,i;if(t)try{for(var n=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),o=n.next();!o.done;o=n.next()){var a=qDe(o.value,2),s=a[0],l=a[1];if(s&&s.length&&null!=l){var c=aK(s),u=l.toString(),d=u.replace(/\s*!important/g,"");r.style.setProperty(c,d,d.length!=u.length?"important":void 0)}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}}function PK(r){return r.clientWidth<r.scrollWidth}function IK(r){return r.clientHeight<r.scrollHeight}function V_(r,t){"flex"===t?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Ka(r,t)}function Ka(r,t){t=sE(t),r.style.width=t.toString(),r.style.maxWidth=t.toString(),r.style.minWidth=t.toString()}function fp(r,t){t=sE(t),r.style.height=t.toString(),r.style.maxHeight=t.toString(),r.style.minHeight=t.toString()}function sE(r){return"number"==typeof r?"".concat(r,"px"):r}function B_(r){return r instanceof Node||r instanceof HTMLElement}function FK(r){if(null==r)return[];var t=[];return hk(r,function(e){return t.push(e)}),t}function kK(r,t){if(r)for(var e=0;e<r.length;e++){var i=r[e];t(i.name,i.value)}}function Bl(r,t,e){null==e?r.removeAttribute(t):r.setAttribute(t,e.toString())}function hk(r,t){if(null!=r)for(var e=0;e<r.length;e++)t(r[e])}function pk(r,t){r.then(function(e){var i=e.getGui();null!=i&&("object"==typeof i?t.appendChild(i):t.innerHTML=i)})}var ZDe=Object.freeze({__proto__:null,radioCssClass:nk,FOCUSABLE_SELECTOR:OK,FOCUSABLE_EXCLUDE:rk,isFocusableFormField:ok,setDisplayed:Nt,setVisible:MK,setDisabled:ig,isElementChildOfClass:hp,getElementSize:_d,getInnerHeight:F_,getInnerWidth:pp,getAbsoluteHeight:ak,getAbsoluteWidth:k_,getElementRectWithOffset:sk,isRtlNegativeScroll:L_,getScrollLeft:N_,setScrollLeft:G_,clearElement:Yn,removeFromParent:Vl,isInDOM:lk,isVisible:ua,loadTemplate:xo,ensureDomOrder:ck,setDomChildOrder:uk,insertWithDomOrder:RK,addStylesToElement:dk,isHorizontalScrollShowing:PK,isVerticalScrollShowing:IK,setElementWidth:V_,setFixedWidth:Ka,setElementHeight:function XDe(r,t){"flex"===t?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):fp(r,t)},setFixedHeight:fp,formatSize:sE,isNodeOrElement:B_,copyNodeList:FK,iterateNamedNodeMap:kK,addOrRemoveAttribute:Bl,nodeListForEach:hk,bindCellRendererToHtmlElement:pk}),QDe=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function LK(r,t,e){var i={},n=r.filter(function(o){return!t.some(function(a){return a===o})});return n.length>0&&n.forEach(function(o){return i[o]=H_(o,e).values}),i}function H_(r,t,e,i){var n,o,a=t.map(function(f,m){return{value:f,relevance:JDe(r.toLowerCase(),f.toLocaleLowerCase()),idx:m}});if(a.sort(function(f,m){return m.relevance-f.relevance}),e&&(a=a.filter(function(f){return 0!==f.relevance})),a.length>0&&i&&i>0){var l=a[0].relevance*i;a=a.filter(function(f){return l-f.relevance<0})}var c=[],u=[];try{for(var d=QDe(a),h=d.next();!h.done;h=d.next()){var p=h.value;c.push(p.value),u.push(p.idx)}}catch(f){n={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return{values:c,indices:u}}function JDe(r,t){for(var e=r.replace(/\s/g,""),i=t.replace(/\s/g,""),n=0,o=-1,a=0;a<e.length;a++){var s=i.indexOf(e[a],o+1);-1!==s&&(n+=100-100*(o=s)/1e4*100)}return n}var eTe=Object.freeze({__proto__:null,fuzzyCheckStrings:LK,fuzzySuggestions:H_}),NK={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ya(r,t,e){var i=pn(r,t,e);if(i){var n=i.className;if("string"==typeof n&&n.indexOf("ag-icon")>-1||"object"==typeof n&&n["ag-icon"])return i}var o=document.createElement("span");return o.appendChild(i),o}function pn(r,t,e,i){var n=null,o=e&&e.getColDef().icons;if(o&&(n=o[r]),t&&!n){var a=t.get("icons");a&&(n=a[r])}if(!n){var l=document.createElement("span"),c=NK[r];return c||(i?c=r:(console.warn("AG Grid: Did not find icon ".concat(r)),c="")),l.setAttribute("class","ag-icon ag-icon-".concat(c)),l.setAttribute("unselectable","on"),On(l,"presentation"),l}var s=void 0;if("function"==typeof n)s=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");s=n}return"string"==typeof s?xo(s):B_(s)?s:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var tTe=Object.freeze({__proto__:null,iconNameClassMap:NK,createIcon:Ya,createIconNoSpan:pn}),V=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}();function lE(r){return!(r.altKey||r.ctrlKey||r.metaKey)&&1===r.key.length}function cE(r,t,e,i,n){var o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=r.addGridCommonParams({event:t,editing:n,column:i,node:e,data:e.data,colDef:i.getColDef()});return!(!o||!o(a))}function GK(r,t,e,i){var n=i.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;return!!ae(o)&&!!o(r.addGridCommonParams({colDef:n,column:i,headerRowIndex:e,event:t}))}function VK(r){var e;switch(r.keyCode){case 65:e=V.A;break;case 67:e=V.C;break;case 86:e=V.V;break;case 68:e=V.D;break;case 90:e=V.Z;break;case 89:e=V.Y;break;default:e=r.code}return e}function BK(r,t){return void 0===t&&(t=!1),r===V.DELETE||!t&&r===V.BACKSPACE&&ZF()}var lTe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:lE,isUserSuppressingKeyboardEvent:cE,isUserSuppressingHeaderKeyboardEvent:GK,normaliseQwertyAzerty:VK,isDeleteKey:BK});function fk(r,t,e){if(0===e)return!1;var i=Math.abs(r.clientX-t.clientX),n=Math.abs(r.clientY-t.clientY);return Math.max(i,n)<=e}var cTe=Object.freeze({__proto__:null,areEventsNear:fk}),dTe=Object.freeze({__proto__:null,sortRowNodesByOrder:function uTe(r,t){if(!r)return!1;for(var e=function(s,l){var c=t[s.id],u=t[l.id],d=void 0!==c,h=void 0!==u;return d&&h?c-u:d||h?d?1:-1:s.__objectId-l.__objectId},o=!1,a=0;a<r.length-1;a++)if(e(r[a],r[a+1])>0){o=!0;break}return!!o&&(r.sort(e),!0)}});function mk(r){var t=new Set;return r.forEach(function(e){return t.add(e)}),t}var hTe=Object.freeze({__proto__:null,convertToSet:mk}),Mn=function(){return Mn=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Mn.apply(this,arguments)},D=Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn({},BDe),aDe),HDe),KDe),ZDe),lDe),$Ee),eTe),VEe),tTe),lTe),wDe),cTe),$De),UEe),dTe),hTe),_De),Nr=function(){function r(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return r.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(t){this.nextValue+=t},r}(),Fs=(()=>((Fs=Fs||{})[Fs.IN_PROGRESS=0]="IN_PROGRESS",Fs[Fs.RESOLVED=1]="RESOLVED",Fs))(),vt=function(){function r(t){var e=this;this.status=Fs.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(i){return e.onDone(i)},function(i){return e.onReject(i)})}return r.all=function(t){return new r(function(e){var i=t.length,n=new Array(i);t.forEach(function(o,a){o.then(function(s){n[a]=s,0==--i&&e(n)})})})},r.resolve=function(t){return void 0===t&&(t=null),new r(function(e){return e(t)})},r.prototype.then=function(t){var e=this;return new r(function(i){e.status===Fs.RESOLVED?i(t(e.resolution)):e.waiters.push(function(n){return i(t(n))})})},r.prototype.resolveNow=function(t,e){return this.status===Fs.RESOLVED?e(this.resolution):t},r.prototype.onDone=function(t){this.status=Fs.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},r.prototype.onReject=function(t){console.warn("TBI")},r}(),fTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mp=function(){return mp=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},mp.apply(this,arguments)},gk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},sr=(()=>((sr=sr||{})[sr.NOTHING=0]="NOTHING",sr[sr.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",sr[sr.SHOWING=2]="SHOWING",sr))(),to=(()=>((to=to||{})[to.HOVER=0]="HOVER",to[to.FOCUS=1]="FOCUS",to))(),HK=function(r){function t(e,i,n){var o=r.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=i,o.tooltipHideDelayOverride=n,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=sr.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return fTe(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===to.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===to.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var i=this.gridOptionsService.get(e);return i<0&&We("".concat(e," should not be lower than 0")),Math.max(200,i)},t.prototype.getTooltipDelay=function(e){var i,n;return"show"===e?null!==(i=this.tooltipShowDelayOverride)&&void 0!==i?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(n=this.tooltipHideDelayOverride)&&void 0!==n?n:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?to.FOCUS:to.HOVER},t.prototype.onMouseEnter=function(e){var i=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!nu()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){i.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===sr.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var i,n=e.relatedTarget,o=this.parentComp.getGui(),a=null===(i=this.tooltipComp)||void 0===i?void 0:i.getGui();this.isInteractingWithTooltip||o.contains(n)||this.interactionEnabled&&a?.contains(n)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=sr.NOTHING||t.isLocked)return!1;var i=0;return e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=sr.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===sr.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=sr.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=mp({},this.parentComp.getTooltipParams());if(ae(e.value)){this.state=sr.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var i={type:x.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=sr.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,i){if(this.state!==sr.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(i);else{var o=i.getGui();this.tooltipComp=i,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===to.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===to.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===to.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:x.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var i,n=this.parentComp.getGui(),o=null===(i=this.tooltipComp)||void 0===i?void 0:i.getGui(),a=e.relatedTarget;o?.contains(a)||(this.isInteractingWithTooltip=!1,n.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(mp(mp({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(mp(mp({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){i(),e.getContext().destroyBean(n)},this.tooltipTrigger===to.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,gk([C("popupService")],t.prototype,"popupService",void 0),gk([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),gk([j],t.prototype,"postConstruct",null),t}(z),mTe=function(){function r(t){this.cssClassStates={},this.getGui=t}return r.prototype.addCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(a){return e.addCssClass(a)});else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},r.prototype.removeCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(a){return e.removeCssClass(a)});else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},r.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},r.prototype.addOrRemoveCssClass=function(t,e){var i=this;if(t){if(t.indexOf(" ")>=0){var n=(t||"").split(" ");if(n.length>1)return void n.forEach(function(s){return i.addOrRemoveCssClass(s,e)})}if(this.cssClassStates[t]!==e&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},r}(),gTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vTe=new Nr,le=function(r){function t(e){var i=r.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=vTe.next(),i.cssClassManager=new mTe(function(){return i.eGui}),e&&i.setTemplate(e),i}return gTe(t,r),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,i,n){var o=this;this.tooltipText!=e&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new HK(o,i,n)))))},t.prototype.createChildComponentsFromTags=function(e,i){var n=this;FK(e.childNodes).forEach(function(a){if(a instanceof HTMLElement){var s=n.createComponentFromElement(a,function(c){c.getGui()&&n.copyAttributesFromNode(a,c.getGui())},i);if(s){if(s.addItems&&a.children.length){n.createChildComponentsFromTags(a,i);var l=Array.prototype.slice.call(a.children);s.addItems(l)}n.swapComponentForNode(s,e,a)}else a.childNodes&&n.createChildComponentsFromTags(a,i)}})},t.prototype.createComponentFromElement=function(e,i,n){var o=e.nodeName,a=n?n[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,i),l}return null},t.prototype.copyAttributesFromNode=function(e,i){kK(e.attributes,function(n,o){return i.setAttribute(n,o)})},t.prototype.swapComponentForNode=function(e,i,n){var o=e.getGui();i.replaceChild(o,n),i.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,i){var n=this;this.iterateOverQuerySelectors(function(o){n[o.attributeName]===i&&(n[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var i=Object.getPrototypeOf(this);null!=i;){var n=i.__agComponentMetaData,o=Yx(i.constructor);n&&n[o]&&n[o].querySelectors&&n[o].querySelectors.forEach(function(a){return e(a)}),i=Object.getPrototypeOf(i)}},t.prototype.activateTabIndex=function(e){var i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(n){return n.setAttribute("tabindex",i.toString())})},t.prototype.setTemplate=function(e,i){var n=xo(e);this.setTemplateFromElement(n,i)},t.prototype.setTemplateFromElement=function(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var i=this;this.iterateOverQuerySelectors(function(n){var o=function(l){return i[n.attributeName]=l};if(n.refSelector&&e.getAttribute("ref")===n.refSelector)o(e.eGui);else{var s=e.eGui.querySelector(n.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,i){null!=e&&(i||(i=this.eGui),B_(e)?i.appendChild(e):i.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,i){void 0===i&&(i={}),e!==this.visible&&(this.visible=e,MK(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}))},t.prototype.setDisplayed=function(e,i){void 0===i&&(i={}),e!==this.displayed&&(this.displayed=e,Nt(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),r.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,i,n){var o=this;this.eGui.addEventListener(e,i,n),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,i)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)},t.prototype.getAttribute=function(e){var i=this.eGui;return i?i.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",vk([C("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),vk([Zm],t.prototype,"preConstructOnComponent",null),vk([Zm],t.prototype,"createChildComponentsPreConstruct",null),t}(z);function G(r){return jK.bind(this,"[ref=".concat(r,"]"),r)}function jK(r,t,e,i,n){null!==r?"number"!=typeof n?function yTe(r,t,e){var i=function _Te(r,t){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[t]||(r.__agComponentMetaData[t]={}),r.__agComponentMetaData[t]}(r,Yx(r.constructor));i[t]||(i[t]=[]),i[t].push(e)}(e,"querySelectors",{attributeName:i,querySelector:r,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var CTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UK=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},bTe=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return CTe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(i," ").concat(n("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var i=this;null!=e?this.params.parentFilterInstance(function(n){if(n.getModelAsString){var o=n.getModelAsString(e);i.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.init(e)},UK([G("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),UK([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),zK=function(){function r(t,e,i,n){var o=this;this.alive=!0,this.context=t,this.eParent=n,e.getDateCompDetails(i).newAgStackInstance().then(function(l){o.alive?(o.dateComp=l,l&&(n.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(l)})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},r.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},r.prototype.setDisplayed=function(t){Nt(this.eParent,t)},r.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},r.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},r.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},r.prototype.updateParams=function(t){var e,i,n=!1;null!==(e=this.dateComp)&&void 0!==e&&e.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(t)&&(n=!0),!n&&null!==(i=this.dateComp)&&void 0!==i&&i.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(t)&&We("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")},r.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},r}(),WK=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(o){return!!o.some(function(a){return null!=e[a]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[]);t.customFilterOptions[e.displayKey]=e}})},r.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},r}(),$K={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},wTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yk=function(){return yk=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},yk.apply(this,arguments)},KK=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ru=function(r){function t(e,i){void 0===i&&(i={});var n=r.call(this)||this;return n.eFocusableElement=e,n.callbacks=i,n.callbacks=yk({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=n.focusService.findNextFocusableElement(n.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},i),n}return wTe(t,r),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var i=this;this.addManagedListener(e,"keydown",function(n){if(!n.defaultPrevented&&!Is(n)){if(i.callbacks.shouldStopEventPropagation(n))return void Ps(n);n.key===V.TAB?i.callbacks.onTabKeyDown(n):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(n)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",KK([C("focusService")],t.prototype,"focusService",void 0),KK([j],t.prototype,"postConstruct",null),t}(z),STe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_k=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},YK="ag-resizer-wrapper",xTe='<div class="'.concat(YK,'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),uE=function(r){function t(e,i){var n=r.call(this)||this;return n.element=e,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.lastSize={width:-1,height:-1},n.positioned=!1,n.resizersAdded=!1,n.resizeListeners=[],n.boundaryEl=null,n.isResizing=!1,n.isMoving=!1,n.resizable={},n.movable=!1,n.currentResizer=null,n.config=Object.assign({},{popup:!1},i),n}return STe(t,r),t.prototype.center=function(){var e=this.offsetParent,i=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,a=i/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,i=e.centered,n=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,c=e.x,u=e.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=ua(this.element);if(p){var f=this.findBoundaryElement(),m=window.getComputedStyle(f);if(null!=m.minWidth){var g=f.offsetWidth-this.element.offsetWidth;h=parseInt(m.minWidth,10)-g}if(null!=m.minHeight){var v=f.offsetHeight-this.element.offsetHeight;d=parseInt(m.minHeight,10)-v}}if(this.minHeight=s||d,this.minWidth=o||h,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),i)this.center();else if(c||u)this.offsetElement(c,u);else if(p&&n){var y=!0;if((f=this.boundaryEl)||(f=this.findBoundaryElement(),y=!1),f){var _=parseFloat(f.style.top),b=parseFloat(f.style.left);y?this.offsetElement(isNaN(b)?0:b,isNaN(_)?0:_):this.setPosition(b,_)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,i){if(this.config.popup&&e!==this.movable){this.movable=e;var n=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var i=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(n){var a=!!e[n],s=i.getResizerElement(n),l={dragStartPixels:0,eElement:s,onDragStart:function(c){return i.onResizeStart(c,n)},onDragging:i.onResize.bind(i),onDragStop:function(c){return i.onResizeEnd(c,n)}};(a||!i.isAlive()&&!a)&&(a?(i.dragService.addDragSource(l),i.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",i.resizable[n]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,i=e.height,n=e.width;-1!==n&&(this.element.style.width="".concat(n,"px")),-1!==i&&(this.element.style.height="".concat(i,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var i=this.config.popup,n=this.element,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))fp(n,e),e=ak(n),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):i?fp(n,e):(n.style.height="".concat(e,"px"),n.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,i=e.popup,n=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=i?this.position.y:a.top,c=i?0:s.top,u=0;if(n){var d=this.element.parentElement;d&&(u=d.getBoundingClientRect().bottom-a.bottom)}return o+c-l-u},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var i=this.element,n=this.config.popup,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Ka(i,e),e=k_(i),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=n?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Ka(i,e):(i.style.width="".concat(e,"px"),i.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:i}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var i=this;this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var o=i.getAvailableHeight();i.element.style.setProperty("max-height","".concat(o,"px"))}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},t.prototype.setPosition=function(e,i){this.position.x=e,this.position.y=i},t.prototype.updateDragStartPosition=function(e,i){this.dragStartPosition={x:e,y:i}},t.prototype.calculateMouseMovement=function(e){var i=e.e,o=e.isTop,s=e.topBuffer,l=i.clientX-this.dragStartPosition.x,c=i.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(i,!!e.isLeft,!!e.anywhereWithin,l)?0:l,movementY:this.shouldSkipY(i,!!o,s,c)?0:c}},t.prototype.shouldSkipX=function(e,i,n,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:a.left,u=c<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return!!u||(i?o<0&&e.clientX>c+s.left||o>0&&e.clientX<c+s.left:n?o<0&&e.clientX>l.right||o>0&&e.clientX<c+s.left:o<0&&e.clientX>l.right||o>0&&e.clientX<l.right)},t.prototype.shouldSkipY=function(e,i,n,o){void 0===n&&(n=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:a.top,u=c<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return!!u||(i?o<0&&e.clientY>c+s.top+n||o>0&&e.clientY<c+s.top:o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var n=(new DOMParser).parseFromString(xTe,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(YK));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var n=this.config;!n.popup&&!n.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(n){return!n.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],i=0,n=0,o=0;o<e.length;o++){var a=e[o];if(a!==this.element){var l=this.minHeight||0,c=this.minWidth||0;if(a.style.flex&&"0 0 auto"!==a.style.flex){var u=window.getComputedStyle(a);u.minHeight&&(l=parseInt(u.minHeight,10)),u.minWidth&&(c=parseInt(u.minWidth,10))}else l=a.offsetHeight,c=a.offsetWidth;i+=l,n+=c}}return{height:i,width:n}},t.prototype.applySizeToSiblings=function(e){var i=null,n=this.getSiblings();if(n){for(var o=0;o<n.length;o++){var a=n[o];a!==i&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(i=n[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var i=this.config,n=i.popup,o=i.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,u=a.isLeft,d=a.isRight||u,h=a.isBottom||s,p=this.calculateMouseMovement({e,isLeft:u,isTop:s}),f=p.movementX,m=p.movementY,g=this.position.x,v=this.position.y,y=0,_=0;if(d&&f){var b=u?-1:1,w=this.getWidth(),E=w+f*b,M=!1;u&&(g+(y=w-E)<=0||E<=this.minWidth)&&(M=!0,y=0),M||this.setWidth(E)}if(h&&m){b=s?-1:1;var P=this.getHeight(),I=P+m*b,k=!1;s?(v+(_=P-I)<=0||I<=this.minHeight)&&(k=!0,_=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&P<I&&this.getMinSizeOfSiblings().height+I>this.element.parentElement.offsetHeight&&(k=!0),k||this.setHeight(I)}this.updateDragStartPosition(e.clientX,e.clientY),((n||o)&&y||_)&&this.offsetElement(g+y,v+_)}},t.prototype.onResizeEnd=function(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var a,i=this.position,n=i.x,o=i.y;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a});this.offsetElement(n+s.movementX,o+s.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},_k([C("popupService")],t.prototype,"popupService",void 0),_k([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_k([C("dragService")],t.prototype,"dragService",void 0),t}(z),ETe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ck=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},gp=function(r){function t(e){var i=r.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i.buttonListeners=[],i}return ETe(t,r),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ru(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new uE(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(n,e),(i=this.getGui())&&i.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var i=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var i=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,i=this.providedFilterParams.buttons,n=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Yn(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s?.()}),this.buttonListeners=[]):n&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),n){var o=document.createDocumentFragment();mk(i).forEach(function(s){return function(s){var l,c;switch(s){case"apply":l=e.translate("applyFilter"),c=function(h){return e.onBtApply(!1,!1,h)};break;case"clear":l=e.translate("clearFilter"),c=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),c=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),c=function(h){e.onBtCancel(h)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var d=xo('<button\n                    type="'.concat("apply"===s?"submit":"button",'"\n                    ref="').concat(s,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(l,"\n                </button>"));e.buttonListeners.push(e.addManagedListener(d,"click",c)),o.append(d)}(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)}else this.eButtonsPanel&&Vl(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,i=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),n=sa(this.checkApplyDebounce.bind(this),i);this.onBtApplyDebounce=function(){e.debouncePending=!0,n()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var i=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){i.updateUiVisibility(),i.applyModel("api")})},t.prototype.onBtCancel=function(e){var i=this;this.resetUiToActiveModel(this.getModel(),function(){i.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,i){var n=this,o=function(){n.onUiChanged(!1,"prevent"),i?.()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var n=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(n,i)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),n&&n.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!i&&this.close(n)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var o,n=e&&e.key;("Enter"===n||"Space"===n)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,i){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&ig(o,!n)}e&&!i||"immediately"===i?this.onBtApply(e):(!this.applyActive&&!i||"debounce"===i)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var o=this.positionableFeature,a=this.gridOptionsService;"floatingFilter"===e||"columnFilter"===e?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,i){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:i},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,r.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,$K[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},Ck([C("rowModel")],t.prototype,"rowModel",void 0),Ck([G("eFilterBody")],t.prototype,"eFilterBody",void 0),Ck([j],t.prototype,"postConstruct",null),t}(le),DTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bk=function(r){function t(e,i){var n=r.call(this,i)||this;return n.labelSeparator="",n.labelAlignment="left",n.disabled=!1,n.label="",n.config=e||{},n}return DTe(t,r),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,i=e.labelSeparator,n=e.label,o=e.labelWidth,a=e.labelAlignment;null!=i&&this.setLabelSeparator(i),null!=n&&this.setLabel(n),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Yn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Nt(this.eLabel,!1),On(this.eLabel,"presentation")):(Nt(this.eLabel,!0),On(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var n=this.getGui().classList;return n.toggle("ag-label-align-left","left"===e),n.toggle("ag-label-align-right","right"===e),n.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||V_(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var i=this.getGui();return ig(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(le),ATe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qK=function(r){function t(e,i,n){var o=r.call(this,e,i)||this;return o.className=n,o}return ATe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),i=this.getLabelId();null!==hK(e)?tE(e,""):tE(e,i??"")},t.prototype.setAriaLabel=function(e){return yd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){return e(i.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Ka(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,i){return this.value===e||(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t}(bk),OTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),j_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wk=function(r){function t(e){var i=r.call(this,e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className)||this;if(i.isPickerDisplayed=!1,i.skipClick=!1,i.pickerGap=4,i.hideCurrentPicker=null,i.ariaRole=e?.ariaRole,i.onPickerFocusIn=i.onPickerFocusIn.bind(i),i.onPickerFocusOut=i.onPickerFocusOut.bind(i),!e)return i;var n=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return null!=n&&(i.pickerGap=n),i.variableWidth=!!a,null!=o&&i.setPickerMaxHeight(o),null!=s&&i.setPickerMinWidth(s),null!=l&&i.setPickerMaxWidth(l),i}return OTe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var i=this.getAriaElement();this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var n=this.config.pickerIcon;if(n){var o=pn(n,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),iu(e,!1),this.ariaRole&&On(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var i=this.getFocusableElement();if(i!==this.eWrapper&&e?.target===i)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case V.UP:case V.DOWN:case V.ENTER:case V.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case V.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,i=this.gridOptionsService.getDocument(),n=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,c=a.modalPicker,d={modal:void 0===c||c,eChild:n,closeOnEsc:!0,closedCallback:function(){var _=i.activeElement===i.body;e.beforeHidePicker(),_&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(a.pickerAriaLabelKey,a.pickerAriaLabelValue)},h=this.popupService.addPopup(d),p=this,f=p.maxPickerHeight,m=p.minPickerWidth,g=p.maxPickerWidth;p.variableWidth?(m&&(n.style.minWidth=m),n.style.width=sE(k_(this.eWrapper)),g&&(n.style.maxWidth=g)):V_(n,g??k_(this.eWrapper));var y=f??"".concat(F_(this.popupService.getPopupParent()),"px");return n.style.setProperty("max-height",y),n.style.position="absolute",this.alignPickerToComponent(),h.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,i=this.pickerGap,n=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:i})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(iu(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var i;null!==(i=this.pickerComponent)&&void 0!==i&&i.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return V_(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},j_([C("popupService")],t.prototype,"popupService",void 0),j_([G("eLabel")],t.prototype,"eLabel",void 0),j_([G("eWrapper")],t.prototype,"eWrapper",void 0),j_([G("eDisplayField")],t.prototype,"eDisplayField",void 0),j_([G("eIcon")],t.prototype,"eIcon",void 0),t}(qK),RTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XK=function(r){function t(e){void 0===e&&(e="default");var i=r.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return RTe(t,r),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var i=e.key;switch(i){case V.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case V.DOWN:case V.UP:var o=i===V.DOWN,a=void 0;if(e.preventDefault(),this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}else a=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(a)}},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(n){return i.addOption(n)}),this},t.prototype.addOption=function(e){var i=e.value,o=An(e.text||i);return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(i,n){NF(i,n+1),LF(i,e.length)})},t.prototype.renderOption=function(e,i){var n=this,o=document.createElement("div");On(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(i,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return n.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(o,"click",function(){return n.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,i){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var n=this.options.findIndex(function(a){return a.value===e});if(-1!==n){var o=this.options[n];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var i=this.options.findIndex(function(n){return n.value===e.value});-1!==i&&this.highlightItem(this.itemEls[i])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){ua(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Jm(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!ua(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Jm(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"init",null),t}(le),ITe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sk=function(){return Sk=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Sk.apply(this,arguments)},ou=function(r){function t(e){return r.call(this,Sk({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return ITe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new XK("select")),this.listComponent.setParentComponent(this);var i=this.listComponent.getAriaElement(),n="ag-select-list-".concat(this.listComponent.getCompId());i.setAttribute("id",n),BF(this.getAriaElement(),i),this.listComponent.addGuiEventListener("keydown",function(o){o.key===V.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,XK.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,x.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(n){return i.addOption(n)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,i,n){return this.value!==e&&this.listComponent?(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,e,i))):this},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(wk),FTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Cd=function(r){function t(e,i,n,o){void 0===n&&(n="text"),void 0===o&&(o="input");var a=r.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,">\n                </div>\n            </div>"),i)||this;return a.inputType=n,a.displayFieldTag=o,a}return FTe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,i=e.width,n=e.value;null!=i&&this.setWidth(i),null!=n&&this.setValue(n),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){return e.setValue(i.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return V_(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Bl(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return yd(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return ig(this.eInput,e),r.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){return Bl(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this},xk([G("eLabel")],t.prototype,"eLabel",void 0),xk([G("eWrapper")],t.prototype,"eWrapper",void 0),xk([G("eInput")],t.prototype,"eInput",void 0),t}(qK),kTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bd=function(r){function t(e,i,n){void 0===i&&(i="ag-checkbox"),void 0===n&&(n="checkbox");var o=r.call(this,e,i,n)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return kTe(t,r),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),r.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,i||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,i,n){this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:i,event:n});var o=this.getInputElement();this.eventService.dispatchEvent({type:x.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:i})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var i=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,i,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Cd),LTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ek=function(r){function t(e){return r.call(this,e,"ag-radio-button","radio")||this}return LTe(t,r),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,x.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(bd),NTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dk=function(){function r(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}return r.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var i=null!=t.operator,n=this.localeService.getLocaleTextFunc();if(i){var o=t,a=o.conditions;a||(a=[o.condition1,o.condition2]);var c=a.map(function(v){return e.getModelAsString(v)}),u="AND"===o.operator?"andCondition":"orCondition";return c.join(" ".concat(n(u,$K[u])," "))}if(t.type===$i.BLANK||t.type===$i.NOT_BLANK)return n(t.type,t.type);var d=t,h=this.optionsFactory.getCustomOption(d.type),p=h||{},f=p.displayKey,m=p.displayName;return f&&m&&0===p.numberOfInputs?(n(f,m),m):this.conditionToString(d,h)},r.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},r.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(t??null))&&void 0!==e?e:"":String(t)},r}(),$i=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return NTe(t,r),t.prototype.getNumberOfInputs=function(e){var i=this.optionsFactory.getCustomOption(e);return i?i.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var i=this;this.eTypes.forEach(function(n,o){n.setValue(0===o?e:i.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,i){var n=this;if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;var o=!e.operator,a=!i.operator;return!(!o&&a||o&&!a)&&(o?this.areSimpleModelsEqual(e,i):e.operator===i.operator&&tu(e.conditions,i.conditions,function(p,f){return n.areSimpleModelsEqual(p,f)}))},t.prototype.shouldRefresh=function(e){var i,n,o,a=this.getModel(),s=a?null!==(i=a.conditions)&&void 0!==i?i:[a]:null,l=null!==(o=null===(n=e.filterOptions)||void 0===n?void 0:n.map(function(u){return"string"==typeof u?u:u.displayKey}))&&void 0!==o?o:this.getDefaultFilterOptions();return!(s&&!s.every(function(u){return void 0!==l.find(function(d){return d===u.type})})||"number"==typeof e.maxNumConditions&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){return!!this.shouldRefresh(e)&&!!r.prototype.refresh.call(this,e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)},t.prototype.setModelIntoUi=function(e){var i=this;if(e.operator){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var c="OR"===o.operator;this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!c,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(c,!0)}),o.conditions.forEach(function(d,h){i.eTypes[h].setValue(d.type,!0),i.setConditionIntoUi(d,h)})}else{var u=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(u.type,!0),this.setConditionIntoUi(u,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),vt.resolve()},t.prototype.validateAndUpdateConditions=function(e){var i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),We('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i},t.prototype.doesFilterPass=function(e){var n,i=this,o=this.getModel();if(null==o)return!0;var a=o.operator,s=[];return a?s.push.apply(s,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(null!==(n=o.conditions)&&void 0!==n?n:[]),!1)):s.push(o),s[a&&"OR"===a?"some":"every"](function(u){return i.individualConditionPasses(e,u)})},t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new WK,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var i,n;null!=e.suppressAndOrCondition&&We('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&We('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!==(i=e.maxNumConditions)&&void 0!==i?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(We('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=e.numAlwaysVisibleConditions)&&void 0!==n?n:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(We('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(We('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,i=this.createManagedBean(new ou);this.eTypes.push(i),i.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(i.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(i),this.resetType(i);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(i,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(i,o,a),this.resetJoinOperatorOr(n,o,a),this.isReadOnly()||(i.onValueChange(this.listener),n.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,i,n){var o=this.createManagedBean(new Ek);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(n)),i.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,i=this.optionsFactory.getFilterOptions();this.filterListOptions=i.map(function(n){return"string"==typeof n?e.createBoilerplateListOption(n):e.createCustomListOption(n)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(i){e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var i=e.displayKey,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,i=-1,n=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?i=o:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{var a=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(i<a){this.removeConditionsAndOperators(a+1);var s=i+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i},t.prototype.updateConditionStatusesAndValues=function(e,i){var n=this;this.eTypes.forEach(function(a,s){var l=n.isConditionDisabled(s,e);a.setDisabled(l||n.filterListOptions.length<=1),1===s&&(ig(n.eJoinOperatorPanels[0],l),n.eJoinOperatorsAnd[0].setDisabled(l),n.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){Nt(a,n.isConditionBodyVisible(s))});var o="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,c){n.setElementDisplayed(a,s<c),n.setElementDisabled(a,n.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,i){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);var n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,i),this.removeComponents(this.eJoinOperatorsAnd,n,i),this.removeComponents(this.eJoinOperatorsOr,n,i)}},t.prototype.removeElements=function(e,i,n){this.removeItems(e,i,n).forEach(function(a){return Vl(a)})},t.prototype.removeComponents=function(e,i,n){var o=this;this.removeItems(e,i,n).forEach(function(s){Vl(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,i,n){return null==n?e.splice(i):e.splice(i,n)},t.prototype.afterGuiAttached=function(e){if(r.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var i=this.getInputs(0)[0];if(!i)return;i instanceof Cd&&i.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var i=-1,n=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===i&&(i=s,n=s);else{var c=s<i;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||c)&&(this.removeConditionsAndOperators(s,1),o=!0,c&&n--)}var u=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),u=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),u=!0),u&&this.updateConditionStatusesAndValues(n,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n},t.prototype.getPlaceholderText=function(e,i){var n=this.translate(e);if(qx(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[i].getValue();n=o({filterOptionKey:a,filterOption:this.translate(a),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n},t.prototype.resetPlaceholder=function(){var e=this,i=this.localeService.getLocaleTextFunc();this.forEachInput(function(n,o,a,s){if(n instanceof Cd){var l=0===o&&s>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",c=0===o&&s>1?i("ariaFilterFromValue","Filter from value"):0===o?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(e.getPlaceholderText(l,a)),n.setInputAriaLabel(c)}})},t.prototype.setElementValue=function(e,i,n){e instanceof Cd&&e.setValue(null!=i?String(i):null,!0)},t.prototype.setElementDisplayed=function(e,i){e instanceof le&&Nt(e.getGui(),i)},t.prototype.setElementDisabled=function(e,i){e instanceof le&&ig(e.getGui(),i)},t.prototype.attachElementOnChange=function(e,i){e instanceof Cd&&e.onValueChange(i)},t.prototype.forEachInput=function(e){var i=this;this.getConditionTypes().forEach(function(n,o){i.forEachPositionTypeInput(o,n,e)})},t.prototype.forEachPositionInput=function(e,i){var n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,i)},t.prototype.forEachPositionTypeInput=function(e,i,n){for(var o=this.getNumberOfInputs(i),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];null!=l&&n(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,i){return!!this.isReadOnly()||0!==e&&e>i+1},t.prototype.isConditionBodyVisible=function(e){var i=this.getConditionType(e);return this.getNumberOfInputs(i)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(n){return null==n}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var i=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(n){return i.resetType(n)}),this.eJoinOperatorsAnd.forEach(function(n,o){return i.resetJoinOperatorAnd(n,o,i.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(n,o){return i.resetJoinOperatorOr(n,o,i.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(n){return i.resetInput(n)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),vt.resolve()},t.prototype.resetType=function(e){var n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),n)},t.prototype.resetJoinOperatorOr=function(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),n)},t.prototype.resetJoinOperator=function(e,i,n,o,a){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),i)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(i,n){return e.updateJoinOperatorDisabled(i,n)}),this.eJoinOperatorsOr.forEach(function(i,n){return e.updateJoinOperatorDisabled(i,n)})},t.prototype.updateJoinOperatorDisabled=function(e,i){e.setDisabled(this.isReadOnly()||i>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,i){var n=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,c){l===i&&n.setElementValue(a,null!=o[s]?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var i=this;this.forEachInput(function(n,o,a,s){i.setElementValue(n,0===o&&0===a?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,i){var n=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,function(o){n.attachElementOnChange(o,n.listener)}))},t.prototype.individualConditionPasses=function(e,i){var n=this.getCellValue(e.node),o=this.mapValuesFromModel(i),a=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(a,o,n)??(null==n?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,n,i,e))},t.prototype.evaluateCustomFilter=function(e,i,n){if(null!=e){var o=e.predicate;if(null!=o&&!i.some(function(a){return null==a}))return o(i,n)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(gp),BTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rn=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return BTe(t,r),t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,i,n){var o=this.comparator(),a=null!=e[0]?o(e[0],i):0;switch(n.type){case t.EQUALS:return 0===a;case t.NOT_EQUAL:return 0!==a;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:var s=o(e[1],i);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0;case t.BLANK:return this.isBlank(i);case t.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}($i),ZK=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tk=function(){return Tk=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Tk.apply(this,arguments)},eY=function(r){function t(e,i,n){var o=r.call(this,i,n)||this;return o.dateFilterParams=e,o}return ZK(t,r),t.prototype.conditionToString=function(e,i){var n=e.type,a=n==$i.IN_RANGE||2===(i||{}).numberOfInputs,s=So(e.dateFrom),l=So(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var u=null!==s?tg(s,c):"null",d=null!==l?tg(l,c):"null";return"".concat(u,"-").concat(d)}return null!=s?tg(s,c):"".concat(n)},t.prototype.updateParams=function(e){r.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(Dk),tY=function(r){function t(){var e=r.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e.minValidDate=null,e.maxValidDate=null,e}return ZK(t,r),t.prototype.afterGuiAttached=function(e){r.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},n=i.dateFrom,o=i.dateTo,a=i.type;return[n&&So(n)||null,o&&So(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,i){return null==i||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,r.prototype.setParams.call(this,e);var i=function(n,o){if(null!=e[n]){if(!isNaN(e[n]))return null==e[n]?o:Number(e[n]);console.warn("AG Grid: DateFilter ".concat(n," is not a number"))}return o};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:So(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:So(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new eY(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var i=this,n=new zK(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return n.destroy()}),n},t.prototype.setElementValue=function(e,i){e.setDate(i)},t.prototype.setElementDisplayed=function(e,i){e.setDisplayed(i)},t.prototype.setElementDisabled=function(e,i){e.setDisabled(i)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,i,n,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),i.push(a),e.appendChild(a),n.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)},t.prototype.removeDateComps=function(e,i,n){this.removeItems(e,i,n).forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var i=this;if(!r.prototype.isConditionUiComplete.call(this,e))return!1;var n=!0;return this.forEachInput(function(o,a,s,l){s!==e||!n||a>=l||(n=n&&i.isValidDateValue(o.getDate()))}),n},t.prototype.areSimpleModelsEqual=function(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var i=this.getConditionType(e),n={},o=this.getValues(e);return o.length>0&&(n.dateFrom=$a(o[0])),o.length>1&&(n.dateTo=$a(o[1])),Tk({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(i),o.setInputAriaLabel(n)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var i=[];return this.forEachPositionInput(e,function(n,o,a,s){o<s&&i.push(n.getDate())}),i},t.prototype.translate=function(e){return r.prototype.translate.call(this,e===Rn.LESS_THAN?"before":e===Rn.GREATER_THAN?"after":e)},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[Rn.EQUALS,Rn.NOT_EQUAL,Rn.LESS_THAN,Rn.GREATER_THAN,Rn.IN_RANGE,Rn.BLANK,Rn.NOT_BLANK],function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Rn),jTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jTe(t,r),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,i){void 0===i&&(i=!0),this.optionsFactory=new WK,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var n=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==n||1==n},t.prototype.isTypeEditable=function(e){var i=[$i.IN_RANGE,$i.EMPTY,$i.BLANK,$i.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0},t}(le),UTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ak=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zTe=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return UTe(t,r),t.prototype.getDefaultFilterOptions=function(){return tY.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){r.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new eY(this.filterParams,this.localeService,this.optionsFactory);var i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){r.prototype.refresh.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?So(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))},t.prototype.setEditable=function(e){Nt(this.eDateWrapper,e),Nt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(r.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,n=$a(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var a=So(n);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=gp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:sa(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new zK(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Ak([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ak([G("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Ak([G("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(iY),WTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YTe=function(r){function t(){return r.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return WTe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this;this.params=e,this.setParams(e);var n=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){i.eDateInput.isDisabled()||i.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===n.activeElement&&(i.eDateInput.isDisabled()||i.params.onDateChanged())})},t.prototype.setParams=function(e){var i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Gl(),i.type=n?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,c=o.maxValidDate;if(l&&a&&We("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),c&&s&&We("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&c){var u=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([l,c].map(function(p){return p instanceof Date?p:So(p)}),2),d=u[0],h=u[1];d&&h&&d.getTime()>h.getTime()&&We("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?i.min=l instanceof Date?tg(l):l:a&&(i.min="".concat(a,"-01-01")),c?i.max=c instanceof Date?tg(c):c:s&&(i.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return So(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue($a(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:rE()||XF()||Gl()&&qF()>=14.1},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eDateInput")],t.prototype,"eDateInput",void 0),t}(le),qTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),au=function(r){function t(e,i,n){return void 0===i&&(i="ag-text-field"),void 0===n&&(n="text"),r.call(this,e,i,n)||this}return qTe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,i){return this.eInput.value!==e&&(this.eInput.value=ae(e)?e:""),r.prototype.setValue.call(this,e,i)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListener(this.eInput,"keydown",function(n){lE(n)&&n.key&&!e.test(n.key)&&n.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(n){var o,a=null===(o=n.clipboardData)||void 0===o?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&n.preventDefault()})},t}(Cd),XTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dE=function(r){function t(e){return r.call(this,e,"ag-number-field","number")||this}return XTe(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(e.eInput.value),n=isNaN(i)?"":e.normalizeValue(i.toString());e.value!==n&&e.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var i=parseFloat(e);return null!=this.min&&i<this.min?e=this.min.toString():null!=this.max&&i>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,i){if(null==this.precision)return e;if(i){var n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Bl(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Bl(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Bl(this.eInput,"step",e)),this},t.prototype.setValue=function(e,i){var n=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(n,o,i)},function(){return n},e)},t.prototype.setStartValue=function(e){var i=this;return this.setValueOrInputValue(function(n){return r.prototype.setValue.call(i,n,!0)},function(n){i.eInput.value=n},e)},t.prototype.setValueOrInputValue=function(e,i,n){if(ae(n)){var o=this.isScientificNotation(n);if(o&&this.eInput.validity.valid)return e(n);if(o||(o=(n=this.adjustPrecision(n))!=this.normalizeValue(n)),o)return i(n)}return e(n)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):r.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"==typeof e&&e.includes("e")},t}(au),nY=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return nY(t,r),t.prototype.conditionToString=function(e,i){return e.type==$i.IN_RANGE||2===(i||{}).numberOfInputs?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)},t}(Dk);function Ok(r){return(r??{}).allowedCharPattern??null}var oY=function(r){function t(){var e=r.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return nY(t,r),t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&r.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},o=i.filterTo,a=i.type;return[this.processValue(i.filter),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,i){return e===i?0:e<i?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,r.prototype.setParams.call(this,e),this.filterModelFormatter=new rY(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,i,n){var o=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;r.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=Ok(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),On(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i},t.prototype.createFromToElement=function(e,i,n,o){var a=this.createManagedBean(o?new au({allowedCharPattern:o}):new dE);a.addCssClass("ag-filter-".concat(n)),a.addCssClass("ag-filter-filter"),i.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.getValues=function(e){var i=this,n=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&n.push(i.processValue(i.stringToFloat(o.getValue())))}),n},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var i=kl(e);return null!=i&&""===i.trim()&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):null==i||"-"===i.trim()?null:parseFloat(i)},t.prototype.createCondition=function(e){var i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValues(e);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(i){i.getInputElement().validity.valid||(e=!0)}),e},t.DEFAULT_FILTER_OPTIONS=[Rn.EQUALS,Rn.NOT_EQUAL,Rn.GREATER_THAN,Rn.GREATER_THAN_OR_EQUAL,Rn.LESS_THAN,Rn.LESS_THAN_OR_EQUAL,Rn.IN_RANGE,Rn.BLANK,Rn.NOT_BLANK],t}(Rn),aY=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hE=function(){return hE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},hE.apply(this,arguments)},sY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return aY(t,r),t.prototype.conditionToString=function(e,i){return e.type==$i.IN_RANGE||2===(i||{}).numberOfInputs?"".concat(e.filter,"-").concat(e.filterTo):"".concat(null!=e.filter?e.filter:e.type)},t}(Dk),U_=function(r){function t(){var e=r.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return aY(t,r),t.trimInput=function(e){var i=e&&e.trim();return""===i?e:i},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,r.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new sY(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(D.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(i){return e(i.filterOption,i.value,i.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,i){var n=this,o=[];return this.forEachPositionInput(e,function(a,s,l,c){var u;if(s<c){var d=kl(a.getValue());i&&n.textFilterParams.trimInput&&(d=null!==(u=t.trimInput(d))&&void 0!==u?u:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),On(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,i,n){var o=this.createManagedBean(new au);o.addCssClass("ag-filter-".concat(n)),o.addCssClass("ag-filter-filter"),i.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.mapValuesFromModel=function(e){var i=e||{};return[i.filter||null,i.filterTo||null].slice(0,this.getNumberOfInputs(i.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[$i.NOT_EQUAL,$i.NOT_CONTAINS,$i.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,i,n,o){var a=this,s=e.map(function(v){return a.formatter(v)})||[],l=this.formatter(i),c=this.textFilterParams,u=c.api,d=c.colDef,h=c.column,p=c.columnApi,f=c.context,m=c.textFormatter;if(n.type===$i.BLANK)return this.isBlank(i);if(n.type===$i.NOT_BLANK)return!this.isBlank(i);var g={api:u,colDef:d,column:h,columnApi:p,context:f,node:o.node,data:o.data,filterOption:n.type,value:l,textFormatter:m};return s.some(function(v){return a.matcher(hE(hE({},g),{filterText:v}))})},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[$i.CONTAINS,$i.NOT_CONTAINS,$i.EQUALS,$i.NOT_EQUAL,$i.STARTS_WITH,$i.ENDS_WITH,$i.BLANK,$i.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var n=e.value,o=e.filterText;if(null==o)return!1;switch(e.filterOption){case t.CONTAINS:return n.indexOf(o)>=0;case t.NOT_CONTAINS:return n.indexOf(o)<0;case t.EQUALS:return n===o;case t.NOT_EQUAL:return n!=o;case t.STARTS_WITH:return 0===n.indexOf(o);case t.ENDS_WITH:var a=n.lastIndexOf(o);return a>=0&&a===n.length-o.length;default:return!1}},t}($i),lY=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cY=function(r){function t(e){var i=r.call(this)||this;return i.params=e,i.valueChangedListener=function(){},i}return lY(t,r),t.prototype.setupGui=function(e){var n,i=this;this.eFloatingFilterTextInput=this.createManagedBean(new au(null===(n=this.params)||void 0===n?void 0:n.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return i.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return i.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,i){this.eFloatingFilterTextInput.setValue(e,i)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(z),uY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lY(t,r),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),r.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var i;this.params=e;var n=null!==(i=e.browserAutoComplete)&&void 0!==i&&i;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=gp.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=gp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=sa(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){r.prototype.refresh.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var i=this.floatingFilterInputService.getValue();Yn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)},t.prototype.getAriaLabel=function(e){var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return"".concat(i," ").concat(n("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var i=this;if(!this.applyActive||e.key===V.ENTER){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=U_.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(i.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},Mk([C("columnModel")],t.prototype,"columnModel",void 0),Mk([G("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),Mk([j],t.prototype,"postConstruct",null),t}(iY),dY=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ZTe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return dY(t,r),t.prototype.setupGui=function(e){var i=this;this.eFloatingFilterNumberInput=this.createManagedBean(new dE),this.eFloatingFilterTextInput=this.createManagedBean(new au),this.eFloatingFilterTextInput.setDisabled(!0);var n=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(n),e.appendChild(o),this.setupListeners(n,function(a){return i.valueChangedListener(a)}),this.setupListeners(o,function(a){return i.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,i){this.getActiveInputElement().setValue(e,i)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,i){this.addManagedListener(e,"input",i),this.addManagedListener(e,"keydown",i)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(z),QTe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dY(t,r),t.prototype.init=function(e){var i;r.prototype.init.call(this,e),this.filterModelFormatter=new rY(this.localeService,this.optionsFactory,null===(i=e.filterParams)||void 0===i?void 0:i.numberFormatter)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){Ok(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),r.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return oY.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=Ok(e.filterParams),this.createManagedBean(this.allowedCharPattern?new cY({config:{allowedCharPattern:this.allowedCharPattern}}):new ZTe)},t}(uY),JTe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eAe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return JTe(t,r),t.prototype.init=function(e){r.prototype.init.call(this,e),this.filterModelFormatter=new sY(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){r.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return U_.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new cY)},t}(uY),Pn=function(){function r(t,e){void 0===e&&(e=!1);var i=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Ll,this.eElement=t,this.preventMouseClick=e;var n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",n,{passive:!0}),i.eElement.removeEventListener("touchmove",o,{passive:!0}),i.eElement.removeEventListener("touchend",a,{passive:!1})})}return r.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===i&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:r.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},r.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!fk(e,this.touchStart,4)&&(this.moved=!0)}},r.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:r.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},r.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>r.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),tAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vp=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Rk=function(r){function t(e){var i=r.call(this)||this;return e||i.setTemplate(t.TEMPLATE),i}return tAe(t,r),t.prototype.attachCustomElements=function(e,i,n,o,a){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,i){var n=this;void 0===i&&(i=!1),this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return n.updateIcons()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return n.updateIcons()}),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return n.onSortChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,i,n){if(null!=i){var o=pn(e,this.gridOptionsService,n);o&&i.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Nt(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&Nt(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");Nt(this.eSortNone,!o&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var i=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i&&(this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Nt(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var i,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),o=null!==(i=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==i?i:-1,a=n.some(function(l){var c;return null!==(c=e.sortController.getDisplaySortIndexForColumn(l))&&void 0!==c&&c});Nt(this.eSortOrder,o>=0&&a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Yn(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',vp([G("eSortOrder")],t.prototype,"eSortOrder",void 0),vp([G("eSortAsc")],t.prototype,"eSortAsc",void 0),vp([G("eSortDesc")],t.prototype,"eSortDesc",void 0),vp([G("eSortMixed")],t.prototype,"eSortMixed",void 0),vp([G("eSortNone")],t.prototype,"eSortNone",void 0),vp([C("columnModel")],t.prototype,"columnModel",void 0),vp([C("sortController")],t.prototype,"sortController",void 0),t}(le),iAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Eo=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Pk=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return iAe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e,i=null!==(e=this.params.template)&&void 0!==e?e:t.TEMPLATE;return i&&i.trim?i.trim():i},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var i=An(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}},t.prototype.addInIcon=function(e,i,n){if(null!=i){var o=pn(e,this.gridOptionsService,n);o&&i.appendChild(o)}},t.prototype.setupTap=function(){var e=this;if(!this.gridOptionsService.get("suppressTouch")){var n=new Pn(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&ae(this.eMenu),s=a?new Pn(this.eMenu,!0):n;if(this.params.enableMenu&&this.addManagedListener(s,Pn[a?"EVENT_TAP":"EVENT_LONG_TAP"],function(h){return e.params.showColumnMenuAfterMouseClick(h.touchStart)}),this.params.enableSorting&&this.addManagedListener(n,Pn.EVENT_TAP,function(h){var p,f,m=h.touchStart.target;o&&(null!==(p=e.eMenu)&&void 0!==p&&p.contains(m)||null!==(f=e.eFilterButton)&&void 0!==f&&f.contains(m))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){var d=new Pn(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return e.params.showFilter(e.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return n.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},t.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Vl(this.eMenu),void(this.eMenu=void 0);var i=this.menuService.isLegacyMenuEnabled();this.addInIcon(i?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!i),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.params.showColumnMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.onMenuKeyboardShortcut=function(e){var i,n,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(e&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter(null!==(n=null!==(i=this.eFilterButton)&&void 0!==i?i:this.eMenu)&&void 0!==n?n:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!==(a=null!==(o=this.eMenu)&&void 0!==o?o:this.eFilterButton)&&void 0!==a?a:this.getGui()),!0;return!1},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Rk(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){this.addManagedListener(this.params.column,bt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(n){var o=e.params.column.isMoving(),a=(new Date).getTime();if(!(o||a-e.lastMovingChanged<50)){var c="ctrl"===e.gridOptionsService.get("multiSortKey");e.params.progressSort(c?n.ctrlKey||n.metaKey:n.shiftKey)}});var i=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var n=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=n?.every(function(s){return e.params.column.getSort()==s.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!o)}};this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},t.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},t.prototype.setupFilterButton=function(){var e=this;this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",function(){return e.params.showFilter(e.eFilterButton)}):this.eFilterButton=void 0)},t.prototype.configureFilter=function(e,i,n){if(!e)return Vl(i),!1;var o=this.params.column;return this.addInIcon("filter",i,o),this.addManagedListener(o,bt.EVENT_FILTER_CHANGED,n),n(),!0},t.prototype.onFilterChangedIcon=function(){var e=this.params.column.isFilterActive();Nt(this.eFilter,e,{skipAriaHidden:!0})},t.prototype.onFilterChangedButton=function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)},t.prototype.getAnchorElementForMenu=function(e){var i,n,o,a;return e?null!==(n=null!==(i=this.eFilterButton)&&void 0!==i?i:this.eMenu)&&void 0!==n?n:this.getGui():null!==(a=null!==(o=this.eMenu)&&void 0!==o?o:this.eFilterButton)&&void 0!==a?a:this.getGui()},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Eo([C("sortController")],t.prototype,"sortController",void 0),Eo([C("menuService")],t.prototype,"menuService",void 0),Eo([C("columnModel")],t.prototype,"columnModel",void 0),Eo([G("eFilter")],t.prototype,"eFilter",void 0),Eo([G("eFilterButton")],t.prototype,"eFilterButton",void 0),Eo([G("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Eo([G("eMenu")],t.prototype,"eMenu",void 0),Eo([G("eLabel")],t.prototype,"eLabel",void 0),Eo([G("eText")],t.prototype,"eText",void 0),Eo([G("eSortOrder")],t.prototype,"eSortOrder",void 0),Eo([G("eSortAsc")],t.prototype,"eSortAsc",void 0),Eo([G("eSortDesc")],t.prototype,"eSortDesc",void 0),Eo([G("eSortMixed")],t.prototype,"eSortMixed",void 0),Eo([G("eSortNone")],t.prototype,"eSortNone",void 0),t}(le),nAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ik=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},rAe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return nAe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&We("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(a){if(!Is(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var n=function(a){Ps(a)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,ei.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,ei.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,i){var n=new Pn(e,!0);this.addManagedListener(n,Pn.EVENT_TAP,i),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(e,"click",i)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var i=this.params.columnGroup.isExpanded();Nt(this.eOpenIcon,i),Nt(this.eCloseIcon,!i)}else Nt(this.eOpenIcon,!1),Nt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,i){var n=pn(e,this.gridOptionsService,null);n&&this.getRefElement(i).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Nt(this.eOpenIcon,!1),void Nt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,i=this.params,n=i.displayName,o=i.columnGroup;if(ae(n)){var a=An(n,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=o.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ik([C("columnModel")],t.prototype,"columnModel",void 0),Ik([G("agOpened")],t.prototype,"eOpenIcon",void 0),Ik([G("agClosed")],t.prototype,"eCloseIcon",void 0),t}(le),oAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wd=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return oAe(t,r),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},t}(le),aAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lAe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return aAe(t,r),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ae(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var i=e.key;(i===V.LEFT||i===V.UP||i===V.RIGHT||i===V.DOWN||e.shiftKey&&i===V.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return ae(e)||ae(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eTextArea")],t.prototype,"eTextArea",void 0),t}(wd),cAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uAe=function(r){function t(){var e=r.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return cAe(t,r),t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var i=this,n=i.eSelect,o=i.valueFormatterService,a=i.gridOptionsService,s=e.values,l=e.value,c=e.eventKey;if(Qe(s))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=c&&c===V.ENTER;var u=!1;s.forEach(function(f){var m={value:f},g=o.formatValue(e.column,null,f);m.text=null!=g?g:f,n.addOption(m),u=u||l===f}),u?n.setValue(e.value,!0):e.values.length&&n.setValue(e.values[0],!0);var d=e.valueListGap,h=e.valueListMaxWidth,p=e.valueListMaxHeight;null!=d&&n.setPickerGap(d),null!=p&&n.setPickerMaxHeight(p),null!=h&&n.setPickerMaxWidth(h),"fullRow"!==a.get("editType")&&this.addManagedListener(this.eSelect,ou.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},hY([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hY([G("eSelect")],t.prototype,"eSelect",void 0),t}(wd),dAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pE=function(r){function t(e){var i=r.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"))||this;return i.cellEditorInput=e,i}return dAe(t,r),t.prototype.init=function(e){this.params=e;var n,i=this.eInput;if(this.cellEditorInput.init(i,e),e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===V.BACKSPACE||e.eventKey===V.DELETE?n="":o&&1===o.length?n=o:(n=this.cellEditorInput.getStartValue(),o!==V.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();null!=n&&i.setStartValue(n),this.addManagedListener(i.getGui(),"keydown",function(a){var s=a.key;(s===V.PAGE_UP||s===V.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,i,n=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){Gl()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():null===(i=(e=this.cellEditorInput).setCaret)||void 0===i||i.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,i=e.getFocusableElement(),n=e.getInputElement();i.focus(),n.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eInput")],t.prototype,"eInput",void 0),t}(wd),pAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fAe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},r.prototype.getValue=function(){var t=this.eInput.getValue();return ae(t)||ae(this.params.value)?this.params.parseValue(t):this.params.value},r.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var t=this.eInput.getValue(),e=ae(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},r}(),pY=function(r){function t(){return r.call(this,new fAe)||this}return pAe(t,r),t}(pE),mAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_Ae=function(r){function t(){var e=r.call(this)||this;e.refreshCount=0;var i=document.createElement("span"),n=document.createElement("span");n.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),i.appendChild(n),i.appendChild(o),e.setTemplateFromElement(i),e}return mAe(t,r),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)},t.prototype.showDelta=function(e,i){var n=Math.abs(i),o=e.formatValue(n),a=ae(o)?o:n,s=i>=0;this.eDelta.textContent=s?"\u2191"+a:"\u2193"+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){i===e.refreshCount&&e.hideDeltaValue()},2e3)})},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Yn(this.eDelta)},t.prototype.refresh=function(e,i){void 0===i&&(i=!1);var n=e.value;return n!==this.lastValue&&(ae(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ae(e.value)?this.eValue.textContent=n:Yn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(e,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=n,!0)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),CAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wAe=function(r){function t(){var e=r.call(this)||this;e.refreshCount=0;var i=document.createElement("span"),n=document.createElement("span");return n.setAttribute("class","ag-value-slide-current"),i.appendChild(n),e.setTemplateFromElement(i),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return CAe(t,r),t.prototype.init=function(e){this.refresh(e,!0)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var n=document.createElement("span");n.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=n,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){i===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)})},t.prototype.refresh=function(e,i){void 0===i&&(i=!1);var n=e.value;return Qe(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(i||this.addSlideAnimation(),this.lastValue=n,ae(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ae(e.value)?this.eCurrent.textContent=n:Yn(this.eCurrent),!0)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),ng=function(){return ng=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},ng.apply(this,arguments)},ct=function(){function r(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return r.prototype.setData=function(t){this.setDataCommon(t,!1)},r.prototype.updateData=function(t){this.setDataCommon(t,!0)},r.prototype.setDataCommon=function(t,e){var i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var n=this.createDataChangedEvent(t,i,e);this.dispatchLocalEvent(n)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(t,e,i){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:i}},r.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},r.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var t=new r(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},r.prototype.setDataAndId=function(t,e){var i=ae(this.id)?this.createDaemonNode():null,n=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);var o=this.createDataChangedEvent(t,n,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},r.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED)),e)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){var n=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},r.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var i=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(r.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},r.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],i=this;for(t&&(i=i.parent);i&&i.level>=0;)e.push(i.key),i=i.parent;return e.reverse(),e},r.prototype.isPixelInRange=function(t){return!(!ae(this.rowTop)||!ae(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=sa(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var t=this,e=!1,i=!0,n=0,o=this.__autoHeights;if(null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(l){var c=o[l.getId()];if(null==c){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var u=[];switch(l.getPinned()){case"left":u=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":u=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:u=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(u.includes(l))return void(e=!0);c=-1}else i=!1;c>n&&(n=c)}),!e&&((i||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n!=this.rowHeight))){this.setRowHeight(n);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}},r.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(x.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},r.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},r.prototype.setDataValue=function(t,e,i){var c,a="string"!=typeof t?t:null!==(c=this.beans.columnModel.getGridColumn(t))&&void 0!==c?c:this.beans.columnModel.getPrimaryColumn(t),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,i),!1;var l=this.beans.valueService.setValue(this,a,e,i);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},r.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,i&&o&&!a)},r.prototype.dispatchEventForSaveValueReadOnly=function(t,e,i,n){var o=this.beans.gridOptionsService.addGridCommonParams({type:x.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:e,newValue:i,value:i,source:n});this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(t,e){var i=this.beans.columnModel.getGridColumn(t);Qe(this.groupData)&&(this.groupData={});var n=i.getColId(),o=this.groupData[n];o!==e&&(this.groupData[n]=e,this.dispatchCellChangedEvent(i,e,o))},r.prototype.setAggData=function(t){var e=this,i=this.aggData;if(this.aggData=t,this.eventService){var n=function(a){var s=e.aggData?e.aggData[a]:void 0,l=i?i[a]:void 0;if(s!==l){var c=e.beans.columnModel.lookupGridColumn(a);c&&e.dispatchCellChangedEvent(c,s,l)}};for(var o in this.aggData)n(o);for(var o in t)o in this.aggData||n(o)}},r.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var i=this.beans.gridOptionsService.get("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(i?!!n&&n(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&oa(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(t,e,i){this.dispatchLocalEvent({type:r.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:i})},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},r.prototype.calculateSelectedFromChildren=function(){var t,e=!1,i=!1,n=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(null===l)continue;s=l}switch(s){case!0:e=!0;break;case!1:i=!0;break;default:n=!0}}return n||e&&i?void 0:!!e||!i&&(this.selectable?this.selected:null)},r.prototype.setSelectedInitialValue=function(t){this.selected=t},r.prototype.selectThisNode=function(t,e,i){if(void 0===i&&(i="api"),!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var s=ng(ng({},this.createGlobalRowEvent(x.EVENT_ROW_SELECTED)),{event:e||null,source:i});return this.beans.eventService.dispatchEvent(s),!0},r.prototype.setSelected=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i="api"),"boolean"!=typeof i?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:i}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},r.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ng(ng({},t),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},r.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},r.prototype.addEventListener=function(t,e){var i,n;this.eventService||(this.eventService=new Ll),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new SF(this.beans.frameworkOverrides));var o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(e))&&void 0!==n?n:e;this.eventService.addEventListener(t,o)},r.prototype.removeEventListener=function(t,e){var i,n;if(this.eventService){var o=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e))&&void 0!==n?n:e;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,i=!0,n=!1,o=null;i&&!n;){var a=e.parent;ae(a)&&e.firstChild?a.rowGroupColumn===t&&(n=!0,o=a):i=!1,e=a}return n?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},r.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},r.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),i=new r(this.beans);Object.keys(this).forEach(function(n){e.has(n)||(i[n]=t[n])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),SAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fE=function(){return fE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},fE.apply(this,arguments)},fY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},mY=function(r){function t(){return r.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return SAe(t,r),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onClicked=function(e,i,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:i,event:n,source:"checkboxSelected"})},t.prototype.init=function(e){var i=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Ps(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Ps(s);var l=i.gridOptionsService.get("groupSelectsFiltered"),c=i.eCheckbox.getValue();i.shouldHandleIndeterminateState(c,l)?0===i.onClicked(!0,l,s||{})&&i.onClicked(!1,l,s):c?i.onClicked(!1,l,s):i.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,ct.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,ct.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,i){return i&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,i,n,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if("function"==typeof s){var l=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,c=null===(i=this.column)||void 0===i?void 0:i.createColumnFunctionCallbackParams(this.rowNode);a=!!c&&s(fE(fE({},l),c))}else a=s??!1;if(null===(n=this.column)||void 0===n?void 0:n.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!a),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(a):this.setVisible(a)},t.prototype.getIsVisible=function(){var e,i;return this.overrides?this.overrides.isVisible:null===(i=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===i?void 0:i.checkboxSelection},fY([G("eCheckbox")],t.prototype,"eCheckbox",void 0),fY([j],t.prototype,"postConstruct",null),t}(le),ks=(()=>((ks=ks||{})[ks.Up=0]="Up",ks[ks.Down=1]="Down",ks))(),lr=(()=>((lr=lr||{})[lr.Left=0]="Left",lr[lr.Right=1]="Right",lr))(),xAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yp=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},mE=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=(()=>((zt=zt||{})[zt.ToolPanel=0]="ToolPanel",zt[zt.HeaderCell=1]="HeaderCell",zt[zt.RowDrag=2]="RowDrag",zt[zt.ChartPanel=3]="ChartPanel",zt[zt.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",zt))(),Bt=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}var e;return xAe(t,r),e=t,t.prototype.init=function(){this.ePinnedIcon=Ya("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ya("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ya("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ya("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ya("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ya("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ya("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ya("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ya("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(i,n){void 0===n&&(n=!1);var o={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:n};this.dragSourceAndParamsList.push({params:o,dragSource:i}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(i){var n=this.dragSourceAndParamsList.find(function(o){return o.dragSource===i});n&&(this.dragService.removeDragSource(n.params),wo(this.dragSourceAndParamsList,n))},t.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(n){return i.dragService.removeDragSource(n.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(i,n){this.dragging=!0,this.dragSource=i,this.eventLastTime=n,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var n=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(n)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(i,n){var a,s,l,c,o=this,u=this.getHorizontalDirection(i),d=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var h=this.dropTargets.filter(function(m){return o.isMouseOnDropTarget(i,m)}),p=this.findCurrentDropTarget(i,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(i,u,d,n),null!==this.lastDropTarget&&null===p&&(null===(s=(a=this.dragSource).onGridExit)||void 0===s||s.call(a,this.dragItem)),null===this.lastDropTarget&&null!==p&&(null===(c=(l=this.dragSource).onGridEnter)||void 0===c||c.call(l,this.dragItem)),this.enterDragTargetIfExists(p,i,u,d,n),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,i,u,d,n);p.onDragging(f)}},t.prototype.getAllContainersFromDropTarget=function(i){var n=i.getSecondaryContainers?i.getSecondaryContainers():null,o=[[i.getContainer()]];return n?o.concat(n):o},t.prototype.allContainersIntersect=function(i,n){var o,a;try{for(var s=mE(n),l=s.next();!l.done;l=s.next()){var u=l.value.getBoundingClientRect();if(0===u.width||0===u.height)return!1;if(!(i.clientX>=u.left&&i.clientX<u.right&&i.clientY>=u.top&&i.clientY<u.bottom))return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(i,n){var o,a,s=this.getAllContainersFromDropTarget(n),l=!1;try{for(var c=mE(s),u=c.next();!u.done;u=c.next())if(this.allContainersIntersect(i,u.value)){l=!0;break}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return!(n.targetContainsSource&&!n.getContainer().contains(this.dragSource.eElement))&&l&&n.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(i,n){var o,a,s,l,c=n.length;if(0===c)return null;if(1===c)return n[0];var d=this.gridOptionsService.getRootNode().elementsFromPoint(i.clientX,i.clientY);try{for(var h=mE(d),p=h.next();!p.done;p=h.next()){var f=p.value;try{for(var m=(s=void 0,mE(n)),g=m.next();!g.done;g=m.next()){var v=g.value;if(-1!==J8(this.getAllContainersFromDropTarget(v)).indexOf(f))return v}}catch(_){s={error:_}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(i,n,o,a,s){if(i){if(i.onDragEnter){var l=this.createDropTargetEvent(i,n,o,a,s);i.onDragEnter(l)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(i,n,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,i,n,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(i){this.dropTargets.push(i)},t.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(n){return n.getContainer()!==i.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},t.prototype.findExternalZone=function(i){return this.dropTargets.filter(function(o){return o.external}).find(function(o){return o.getContainer()===i.getContainer()})||null},t.prototype.getHorizontalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientX,o=i.clientX;return n===o?null:n>o?lr.Left:lr.Right},t.prototype.getVerticalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientY,o=i.clientY;return n===o?null:n>o?ks.Up:ks.Down},t.prototype.createDropTargetEvent=function(i,n,o,a,s){var l=i.getContainer(),c=l.getBoundingClientRect(),u=this;return{event:n,x:n.clientX-c.left,y:n.clientY-c.top,vDirection:a,hDirection:o,dragSource:u.dragSource,fromNudge:s,dragItem:u.dragItem,api:u.gridApi,columnApi:u.columnApi,dropZoneTarget:l}},t.prototype.positionGhost=function(i){var n=this.eGhost;if(n){var a=n.getBoundingClientRect().height,s=xK()-2,l=EK()-2,c=sk(n.offsetParent),h=i.clientY-c.top-a/2,p=i.clientX-c.left-10,f=this.gridOptionsService.getDocument(),m=f.defaultView||window,g=m.pageYOffset||f.documentElement.scrollTop,v=m.pageXOffset||f.documentElement.scrollLeft;s>0&&p+n.clientWidth>s+v&&(p=s+v-n.clientWidth),p<0&&(p=0),l>0&&h+n.clientHeight>l+g&&(h=l+g-n.clientHeight),h<0&&(h=0),n.style.left="".concat(p,"px"),n.style.top="".concat(h,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=xo(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var n=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;qx(o)&&(o=o()),n.innerHTML=An(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var l,a=this.gridOptionsService.getDocument(),s=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode()),l=s.querySelector("body")||(s instanceof ShadowRoot?s:s instanceof Document?s?.documentElement:s)}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(i,n){void 0===n&&(n=!1),Yn(this.eGhostIcon);var o=null;switch(i||(i=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),i){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",n),(o!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',yp([C("dragService")],t.prototype,"dragService",void 0),yp([C("mouseEventService")],t.prototype,"mouseEventService",void 0),yp([C("columnApi")],t.prototype,"columnApi",void 0),yp([C("gridApi")],t.prototype,"gridApi",void 0),yp([j],t.prototype,"init",null),yp([Oi],t.prototype,"clearDragSourceParamsList",null),e=yp([oe("dragAndDropService")],t)}(z),gE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),z_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vE=function(r){function t(e,i,n,o,a,s){var l=r.call(this)||this;return l.cellValueFn=e,l.rowNode=i,l.column=n,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return gE(t,r),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(pn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new DAe(this,this.beans,this.rowNode,this.column):new EAe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,i){this.setTemplateFromElement(e),this.addDragSource(i)},t.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];var i=this.beans.selectionService.getSelectedNodes();return-1!==i.indexOf(this.rowNode)?i:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&We("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var i=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var n=this.localeService.getLocaleTextFunc();this.dragSource={type:zt.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=i.getDragItem(),s=(null===(o=a.rowNodes)||void 0===o?void 0:o.length)||1,l=i.getRowDragText(i.column);return l?l(a,s):1===s?i.cellValueFn():"".concat(s," ").concat(n("rowDragRows","rows"))},getDragItem:function(){return i.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},z_([C("beans")],t.prototype,"beans",void 0),z_([j],t.prototype,"postConstruct",null),z_([Oi],t.prototype,"removeDragSource",null),t}(le),gY=function(r){function t(e,i,n){var o=r.call(this)||this;return o.parent=e,o.rowNode=i,o.column=n,o}return gE(t,r),t.prototype.setDisplayedOrVisible=function(e){var i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{var n=!0,o=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=qx(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,i),this.parent.setVisible(n,i)):(this.parent.setDisplayed(n,i),this.parent.setVisible(!0,i))}},t}(z),EAe=function(r){function t(e,i,n,o){var a=r.call(this,e,n,o)||this;return a.beans=i,a}return gE(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},z_([j],t.prototype,"postConstruct",null),t}(gY),DAe=function(r){function t(e,i,n,o){var a=r.call(this,e,n,o)||this;return a.beans=i,a}return gE(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,x.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=i&&i.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(n&&!a||o)},z_([j],t.prototype,"postConstruct",null),t}(gY),TAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yE=function(){return yE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},yE.apply(this,arguments)},W_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},AAe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return TAe(t,r),t.prototype.init=function(e,i,n,o,a,s,l){var c,u,d,h;this.params=l,this.eGui=i,this.eCheckbox=n,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var p=l.node,f=l.colDef,m=this.isTopLevelFooter();if(!m){if(this.isEmbeddedRowMismatch())return;if(p.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(f&&f.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!m){var _=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(k){var N;return k.getColId()===(null===(N=l.colDef)||void 0===N?void 0:N.showRowGroup)}),w="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||null!=l.node.rowGroupIndex&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(k){var N;return k.getColId()===(null===(N=l.colDef)||void 0===N?void 0:N.showRowGroup)})),E=!p.group&&((null===(c=this.params.colDef)||void 0===c?void 0:c.field)||(null===(u=this.params.colDef)||void 0===u?void 0:u.valueGetter)),M=this.isExpandable(),P=this.columnModel.isPivotMode()&&p.leafGroup&&(null===(d=p.rowGroupColumn)||void 0===d?void 0:d.getColId())===(null===(h=l.column)||void 0===h?void 0:h.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||M||E||w||_||P))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,i,n=null===(e=this.params.colDef)||void 0===e?void 0:e.cellAriaRole,o=null===(i=this.params.column)||void 0===i?void 0:i.getColDef().cellAriaRole;return n||o||"gridcell"},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,i=e.node,n=e.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){iu(n,!!i.expanded)};this.expandListener=this.addManagedListener(i,ct.EVENT_EXPANDED_CHANGED,o)||null,o()}else gK(n)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var n=this.columnModel.getRowGroupColumns();return!n||0===n.length||n[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,i="right"===this.params.pinned,n=!e&&!i;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!i:!n:this.columnModel.isPinningLeft()?!e:!n},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var n=i.parent;null!=n;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}Qe(this.displayedGroupNode)&&(this.displayedGroupNode=i)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,i=this.params.column;if(this.gridOptionsService.get("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var s=null!=e.groupData[i.getId()];this.showingValueForOpenedParent=s}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,i=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(i),a=i.value,s=i.valueFormatted;if(null==s){var l=this.displayedGroupNode.rowGroupColumn&&(null===(e=this.params.column)||void 0===e?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));s=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&l?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):a??null}this.comp.setInnerRenderer(n,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(null!=i&&!i.isRowGroupDisplayed(e.getId()))return this.params;var a=this.params,s=this.params,u=this.valueFormatterService.formatValue(e,s.node,s.value);return yE(yE({},a),{valueFormatted:u})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,i="";if(e){var n=vF(this.params);n.value=this.params.value,"function"==typeof e?i=e(n):"string"==typeof e?i=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,i)},t.prototype.getInnerCompDetails=function(e){var i=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var n=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(u){return u&&u.componentClass==i.compClass};if(n&&!o(n))return n;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ct.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var i=this.params.column;return null==i||i.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e,i=this.params,n=pn("groupExpanded",this.gridOptionsService,null),o=pn("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),o&&this.eContracted.appendChild(o);var a=i.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(i.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,ct.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ct.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ct.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ct.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ct.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Is(e)||(Ps(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var i=this.displayedGroupNode,n=!i.expanded;!n&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(n,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||i)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,n=e.displayedGroupNode,o=e.columnModel,a=e.params.node,s=this.isExpandable();if(s){var l=!!this.showingValueForOpenedParent||a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var c=o.isPivotMode(),u=c&&n.leafGroup,d=s&&!u,h=a.footer&&-1===a.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),c?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",u):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,ct.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,i=e.node,n=!!e.colDef,o=this.gridOptionsService.get("treeData"),s=!n||o||!0===e.colDef.showRowGroup?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var i=new vE(function(){return e.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,i=this.displayedGroupNode,n=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(n){var o=new mY;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(n)},t.prototype.onKeyDown=function(e){e.key!==V.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){Is(e)||Qx(this.eExpanded,e)||Qx(this.eContracted,e)||this.onExpandOrContract(e)},W_([C("expressionService")],t.prototype,"expressionService",void 0),W_([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),W_([C("columnModel")],t.prototype,"columnModel",void 0),W_([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),W_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(z),OAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vY=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return OAe(t,r),t.prototype.init=function(e){var i=this,n={setInnerRenderer:function(l,c){return i.setRenderDetails(l,c)},setChildCount:function(l){return i.eChildCount.textContent=l},addOrRemoveCssClass:function(l,c){return i.addOrRemoveCssClass(l,c)},setContractedDisplayed:function(l){return Nt(i.eContracted,l)},setExpandedDisplayed:function(l){return Nt(i.eExpanded,l)},setCheckboxVisible:function(l){return i.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new AAe),a=!e.colDef,s=this.getGui();o.init(n,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&On(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,i){var n=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return n.context.destroyBean(a)};n.isAlive()?(n.eValue.appendChild(a.getGui()),n.addDestroyFunc(s)):s()}})}else this.eValue.innerText=i},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',$_([G("eExpanded")],t.prototype,"eExpanded",void 0),$_([G("eContracted")],t.prototype,"eContracted",void 0),$_([G("eCheckbox")],t.prototype,"eCheckbox",void 0),$_([G("eValue")],t.prototype,"eValue",void 0),$_([G("eChildCount")],t.prototype,"eChildCount",void 0),t}(le),MAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},RAe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return MAe(t,r),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=pn("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',yY([G("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),yY([G("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(le),PAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IAe=function(r){function t(){return r.call(this)||this}return PAe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,n=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(n??t.DEFAULT_LOADING_OVERLAY_TEMPLATE),!n){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){i.getGui().textContent=o("loadingOoo","Loading...")})}},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',t}(le),FAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kAe=function(r){function t(){return r.call(this)||this}return FAe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,n=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(n??t.DEFAULT_NO_ROWS_TEMPLATE),!n){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){i.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',t}(le),LAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NAe=function(r){function t(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return LAe(t,r),t.prototype.init=function(e){var i=e.value;this.getGui().textContent=An(i,!0)},t}(wd),GAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VAe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);var i=t.getInputElement();e.preventStepping?t.addManagedListener(i,"keydown",this.preventStepping):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")},r.prototype.preventStepping=function(t){(t.key===V.UP||t.key===V.DOWN)&&t.preventDefault()},r.prototype.getValue=function(){var t=this.eInput.getValue();if(!ae(t)&&!ae(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},r.prototype.getStartValue=function(){return this.params.value},r}(),BAe=function(r){function t(){return r.call(this,new VAe)||this}return GAe(t,r),t}(pE),HAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jAe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.eInput.getDate();return ae(t)||ae(this.params.value)?t??null:this.params.value},r.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return $a(t,!1)},r}(),UAe=function(r){function t(){return r.call(this,new jAe)||this}return HAe(t,r),t}(pE),zAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$Ae=function(){function r(t){this.getDataTypeService=t}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return ae(t)||ae(this.params.value)?this.params.parseValue(t??""):this.params.value},r.prototype.getStartValue=function(){var t,e;return $a(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},r.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)},r.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)},r}(),KAe=function(r){function t(){var e=r.call(this,new $Ae(function(){return e.dataTypeService}))||this;return e}return zAe(t,r),function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(pE),YAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XAe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return YAe(t,r),t.prototype.init=function(e){var i=this;this.params=e,this.updateCheckbox(e);var n=this.eCheckbox.getInputElement();n.setAttribute("tabindex","-1"),IF(n,"polite"),this.addManagedListener(n,"click",function(a){if(Ps(a),!i.eCheckbox.isDisabled()){var s=i.eCheckbox.getValue();i.onCheckboxChanged(s)}}),this.addManagedListener(n,"dblclick",function(a){Ps(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===V.SPACE&&!i.eCheckbox.isDisabled()){i.params.eGridCell===o.activeElement&&i.eCheckbox.toggle();var s=i.eCheckbox.getValue();i.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var i,n,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(fd)?a=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[l]?a=null!==(i=e.value)&&void 0!==i?i:void 0:s=!1}else a=null!==(n=e.value)&&void 0!==n?n:void 0;if(s){this.eCheckbox.setValue(a);var c=null!=e.disabled?e.disabled:!(null!==(o=e.column)&&void 0!==o&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(c);var u=this.localeService.getLocaleTextFunc(),d=HF(u,a),h=c?d:"".concat(u("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(h)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var i=this.params,n=i.column,o=i.node,a=i.rowIndex,s=i.value,l={type:x.EVENT_CELL_EDITING_STARTED,column:n,colDef:n?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var c=this.params.node.setDataValue(this.params.column,e,"edit"),u={type:x.EVENT_CELL_EDITING_STOPPED,column:n,colDef:n?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:c};this.eventService.dispatchEvent(u)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(le),ZAe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JAe=function(r){function t(){return r.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ZAe(t,r),t.prototype.init=function(e){var n,i=this;this.params=e;var o=null!==(n=e.value)&&void 0!==n?n:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,x.EVENT_FIELD_VALUE_CHANGED,function(s){return i.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var i=this.localeService.getLocaleTextFunc(),n=HF(i,e),o=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(n,")"))},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(wd),eOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_Y=function(r){function t(){var e=r.call(this)||this;return e.setTemplate("<div></div>"),e}return eOe(t,r),t.prototype.init=function(e){var i;this.params=e,this.cssClassPrefix=null!==(i=this.params.cssClassPrefix)&&void 0!==i?i:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},t.prototype.configureDefaults=function(){return!0},t.prototype.addIcon=function(){if(!this.params.isCompact){var e=xo('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(pn("check",this.gridOptionsService)):this.params.icon&&(B_(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){var e=xo('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)},t.prototype.addShortcut=function(){if(!this.params.isCompact){var e=xo('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){var e=xo('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),i=this.getGui();if(this.params.subMenu){var n=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";iu(i,!1),e.appendChild(pn(n,this.gridOptionsService))}i.appendChild(e)},t.prototype.getClassName=function(e){return"".concat(this.cssClassPrefix,"-").concat(e)},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(le),tOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},CY=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},bY=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},iOe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:YTe,agColumnHeader:Pk,agColumnGroupHeader:rAe,agSortIndicator:Rk,agTextColumnFloatingFilter:eAe,agNumberColumnFloatingFilter:QTe,agDateColumnFloatingFilter:zTe,agReadOnlyFloatingFilter:bTe,agAnimateShowChangeCellRenderer:_Ae,agAnimateSlideCellRenderer:wAe,agGroupCellRenderer:vY,agGroupRowRenderer:vY,agLoadingCellRenderer:RAe,agCheckboxCellRenderer:XAe,agCellEditor:pY,agTextCellEditor:pY,agNumberCellEditor:BAe,agDateCellEditor:UAe,agDateStringCellEditor:KAe,agSelectCellEditor:uAe,agLargeTextCellEditor:lAe,agCheckboxCellEditor:JAe,agTextColumnFilter:U_,agNumberColumnFilter:oY,agDateColumnFilter:tY,agLoadingOverlay:IAe,agNoRowsOverlay:kAe,agTooltipComponent:NAe,agMenuItem:_Y},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:ie.SetFilterModule,agSetColumnFloatingFilter:ie.SetFilterModule,agMultiColumnFilter:ie.MultiFilterModule,agMultiColumnFloatingFilter:ie.MultiFilterModule,agGroupColumnFilter:ie.RowGroupingModule,agGroupColumnFloatingFilter:ie.RowGroupingModule,agRichSelect:ie.RichSelectModule,agRichSelectCellEditor:ie.RichSelectModule,agDetailCellRenderer:ie.MasterDetailModule,agSparklineCellRenderer:ie.SparklinesModule},e.jsComps={},e}return tOe(t,r),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Lr(this.gridOptions.components,function(i,n){return e.registerJsComponent(i,n)})},t.prototype.registerDefaultComponent=function(e,i){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=i},t.prototype.registerJsComponent=function(e,i){this.jsComps[e]=i},t.prototype.retrieve=function(e,i){var n=this,o=function(d,h){return{componentFromFramework:h,component:d}},a=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(null!=a)return o(a,!0);var s=this.jsComps[i];if(s)return o(s,this.getFrameworkOverrides().isFrameworkComponent(s));var c=this.agGridDefaults[i];if(c)return o(c,!1);var u=this.enterpriseAgDefaultCompsModule[i];return u?Ze.__assertRegistered(u,"AG Grid '".concat(e,"' component: ").concat(i),this.context.getGridId()):cp(function(){n.warnAboutMissingComponent(e,i)},"MissingComp"+i),null},t.prototype.warnAboutMissingComponent=function(e,i){var o=H_(i,bY(bY([],CY(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),CY(Object.keys(this.jsComps)),!1),!0,.8).values;console.warn("AG Grid: Could not find '".concat(i,"' component. It was configured as \"").concat(e,": '").concat(i,"'\" but it wasn't found in the list of registered components.")),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},Fk([C("gridOptions")],t.prototype,"gridOptions",void 0),Fk([j],t.prototype,"init",null),Fk([oe("userComponentRegistry")],t)}(z),nOe={propertyName:"dateComponent",cellRenderer:!1},rOe={propertyName:"headerComponent",cellRenderer:!1},oOe={propertyName:"headerGroupComponent",cellRenderer:!1},wY={propertyName:"cellRenderer",cellRenderer:!0},aOe={propertyName:"cellEditor",cellRenderer:!1},SY={propertyName:"innerRenderer",cellRenderer:!0},sOe={propertyName:"loadingOverlayComponent",cellRenderer:!1},lOe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},cOe={propertyName:"tooltipComponent",cellRenderer:!1},kk={propertyName:"filter",cellRenderer:!1},uOe={propertyName:"floatingFilterComponent",cellRenderer:!1},dOe={propertyName:"toolPanel",cellRenderer:!1},hOe={propertyName:"statusPanel",cellRenderer:!1},pOe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},fOe={propertyName:"loadingCellRenderer",cellRenderer:!0},mOe={propertyName:"groupRowRenderer",cellRenderer:!0},gOe={propertyName:"detailCellRenderer",cellRenderer:!0},vOe={propertyName:"menuItem",cellRenderer:!1},yOe=function(){function r(){}return r.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),_Oe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},COe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _Oe(t,r),t.prototype.getHeaderCompDetails=function(e,i){return this.getCompDetails(e,rOe,"agColumnHeader",i)},t.prototype.getHeaderGroupCompDetails=function(e){var i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,oOe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,pOe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,fOe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,mOe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,gOe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,i){return this.getCompDetails(e,SY,null,i)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,i){return this.getCompDetails(e,SY,null,i)},t.prototype.getCellRendererDetails=function(e,i){return this.getCompDetails(e,wY,null,i)},t.prototype.getCellEditorDetails=function(e,i){return this.getCompDetails(e,aOe,"agCellEditor",i,!0)},t.prototype.getFilterDetails=function(e,i,n){return this.getCompDetails(e,kk,n,i,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,nOe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,sOe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,lOe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,cOe,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,i){return this.getCompDetails(e,wY,null,i)},t.prototype.getFloatingFilterCompDetails=function(e,i,n){return this.getCompDetails(e,uOe,n,i)},t.prototype.getToolPanelCompDetails=function(e,i){return this.getCompDetails(e,dOe,null,i,!0)},t.prototype.getStatusPanelCompDetails=function(e,i){return this.getCompDetails(e,hOe,null,i,!0)},t.prototype.getMenuItemCompDetails=function(e,i){return this.getCompDetails(e,vOe,"agMenuItem",i,!0)},t.prototype.getCompDetails=function(e,i,n,o,a){var s=this;void 0===a&&(a=!1);var l=i.propertyName,c=i.cellRenderer,u=this.getCompKeys(e,i,o),d=u.compName,h=u.jsComp,p=u.fwComp,f=u.paramsFromSelector,m=u.popupFromSelector,g=u.popupPositionFromSelector,v=function(w){var E=s.userComponentRegistry.retrieve(l,w);E&&(h=E.componentFromFramework?void 0:E.component,p=E.componentFromFramework?E.component:void 0)};if(null!=d&&v(d),null==h&&null==p&&null!=n&&v(n),h&&c&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),h||p){var y=this.mergeParamsWithApplicationProvidedParams(e,i,o,f),_=null==h,b=h||p;return{componentFromFramework:_,componentClass:b,params:y,type:i,popupFromSelector:m,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(b,_,y,i)}}}a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"))},t.prototype.getCompKeys=function(e,i,n){var s,l,c,u,d,h,o=this,a=i.propertyName;if(e){var p=e,f=p[a+"Selector"],m=f?f(n):null,g=function(v){"string"==typeof v?s=v:null!=v&&!0!==v&&(o.getFrameworkOverrides().isFrameworkComponent(v)?c=v:l=v)};m?(g(m.component),u=m.params,d=m.popup,h=m.popupPosition):g(p[a])}return{compName:s,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}},t.prototype.newAgStackInstance=function(e,i,n,o){var l;if(i){var c=this.componentMetadataProvider.retrieve(o.propertyName);l=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,o)}else l=new e;var u=this.initComponent(l,n);return null==u?vt.resolve(l):u.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,i,n,o){void 0===o&&(o=null);var a=this.gridOptionsService.getGridCommonParams();aa(a,n);var l=e&&e[i.propertyName+"Params"];return"function"==typeof l?aa(a,l(n)):"object"==typeof l&&aa(a,l),aa(a,o),a},t.prototype.initComponent=function(e,i){if(this.context.createBean(e),null!=e.init)return e.init(i)},t.prototype.getDefaultFloatingFilterType=function(e,i){if(null==e)return null;var n=null,o=this.getCompKeys(e,kk),a=o.compName,s=o.jsComp,l=o.fwComp;return a?n=yOe.getFloatingFilterType(a):null==s&&null==l&&!0===e.filter&&(n=i()),n},rg([C("gridOptions")],t.prototype,"gridOptions",void 0),rg([C("agComponentUtils")],t.prototype,"agComponentUtils",void 0),rg([C("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),rg([C("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),rg([gt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),rg([oe("userComponentFactory")],t)}(z),bOe=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),Ls=(()=>((Ls=Ls||{})[Ls.SINGLE_SHEET=0]="SINGLE_SHEET",Ls[Ls.MULTI_SHEET=1]="MULTI_SHEET",Ls))(),wOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},SOe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return wOe(t,r),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var i=e.dragSource.eElement;i.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&i.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var i=this.dragSources.find(function(n){return n.dragSource===e});i&&(this.removeListener(i),wo(this.dragSources,i))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var i=this,n=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",n);var l=null,c=this.gridOptionsService.get("suppressTouch");a&&!c&&o.addEventListener("touchstart",l=function(u){ok(u.target)||(u.cancelable&&(u.preventDefault(),s&&u.stopPropagation()),i.onTouchStart(e,u))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,i){var n=this;this.currentDragParams=e,this.dragging=!1;var o=i.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return n.onTouchUp(d,e.eElement)},c=i.target,u=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(d){d.cancelable&&d.preventDefault()},options:{passive:!1}},{target:c,type:"touchmove",listener:function(d){return n.onTouchMove(d,e.eElement)},options:{passive:!0}},{target:c,type:"touchend",listener:s,options:{passive:!0}},{target:c,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(u),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,i){var n=this,o=i;if(!(e.skipMouseEvent&&e.skipMouseEvent(i)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==i.button))){this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;var c=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:c,type:"mousemove",listener:function(d){return n.onMouseMove(d,e.eElement)}},{target:c,type:"mouseup",listener:function(d){return n.onMouseUp(d,e.eElement)}},{target:c,type:"contextmenu",listener:function(d){return d.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(i,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(i){i.target.addEventListener(i.type,i.listener,i.options)}),this.dragEndFunctions.push(function(){e.forEach(function(i){i.target.removeEventListener(i.type,i.listener,i.options)})})},t.prototype.isEventNearStartEvent=function(e,i){var n=this.currentDragParams.dragStartPixels;return fk(e,i,ae(n)?n:4)},t.prototype.getFirstActiveTouch=function(e){for(var i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null},t.prototype.onCommonMove=function(e,i,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0,this.eventService.dispatchEvent({type:x.EVENT_DRAG_STARTED,target:n}),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,i){var n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,i)},t.prototype.onMouseMove=function(e,i){var n;Gl()&&(null===(n=this.gridOptionsService.getDocument().getSelection())||void 0===n||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)},t.prototype.shouldPreventMouseEvent=function(e){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var i=e.target,n=i?.tagName.toLocaleLowerCase();return!!n?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,i){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,i)},t.prototype.onMouseUp=function(e,i){this.onUpCommon(e,i)},t.prototype.onUpCommon=function(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:x.EVENT_DRAG_STOPPED,target:i})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},Lk([C("mouseEventService")],t.prototype,"mouseEventService",void 0),Lk([Oi],t.prototype,"removeAllListeners",null),Lk([oe("dragService")],t)}(z),_E=function(){function r(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(t,e){void 0===e&&(e=!1);var i=e||this.shouldSkipVerticalScroll();if(!i||!this.shouldSkipHorizontalScroll()){var n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<n.left+o,this.tickRight=t.clientX>n.right-o,this.tickUp=t.clientY<n.top+o&&!i,this.tickDown=t.clientY>n.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-t),this.tickRight&&this.setHorizontalPosition(i+t)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),xOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Nk="ag-list-item-hovered",EY=function(r){function t(e,i,n){var o=r.call(this)||this;return o.comp=e,o.virtualList=i,o.params=n,o.currentDragValue=null,o.lastHoveredListItem=null,o}return xOe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(n){return n===e.params.dragSourceType},getIconName:function(){return e.moveBlocked?Bt.ICON_PINNED:Bt.ICON_MOVE},getContainer:function(){return e.comp.getGui()},onDragging:function(n){return e.onDragging(n)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new _E({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},t.prototype.onDragging=function(e){if(this.currentDragValue&&!this.moveBlocked){var i=this.getListDragItem(e),n=this.virtualList.getComponentAt(i.rowIndex);if(n){var o=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===i.rowIndex&&this.lastHoveredListItem.position===i.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=i,nk(o,Nk),nk(o,"ag-item-highlight-".concat(i.position)))}}},t.prototype.getListDragItem=function(e){var i=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(i).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-n+a)/o),l=this.params.getNumRows(this.comp)-1,c=0|Math.min(l,s);return{rowIndex:c,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(c)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll(".".concat(Nk)).forEach(function(i){[Nk,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(n){i.classList.remove(n)})}),this.lastHoveredListItem=null},xY([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),xY([j],t.prototype,"postConstruct",null),t}(z),Do=(()=>((Do=Do||{})[Do.Above=0]="Above",Do[Do.Below=1]="Below",Do))(),kt=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o};function _p(r){return null!=r&&null!=r.getFrameworkComponentInstance?r.getFrameworkComponentInstance():r}var DY=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.__getModel=function(){return this.rowModel},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},r.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},r.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},r.prototype.forEachDetailGridInfo=function(t){var e=0;Lr(this.detailGridInfoMap,function(i,n){ae(n)&&(t(n,e),e++)})},r.prototype.getDataAsCsv=function(t){if(Ze.__assertRegistered(ie.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},r.prototype.exportDataAsCsv=function(t){Ze.__assertRegistered(ie.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},r.prototype.assertNotExcelMultiSheet=function(t,e){return!(!Ze.__assertRegistered(ie.ExcelExportModule,"api."+t,this.context.getGridId())||this.excelCreator.getFactoryMode()===Ls.MULTI_SHEET&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))},r.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},r.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},r.prototype.getSheetDataForExcel=function(t){if(Ze.__assertRegistered(ie.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(Ls.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},r.prototype.getMultipleSheetsAsExcel=function(t){if(Ze.__assertRegistered(ie.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},r.prototype.exportMultipleSheetsAsExcel=function(t){Ze.__assertRegistered(ie.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)},r.prototype.setGridAriaProperty=function(t,e){if(t){var i=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-".concat(t);null===e?i.removeAttribute(n):i.setAttribute(n,e)}},r.prototype.logMissingRowModel=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},r.prototype.logDeprecation=function(t,e,i,n){We("Since ".concat(t," api.").concat(e," is deprecated. Please use ").concat(i," instead. ").concat(n))},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},r.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.refreshCells=function(t){var e=this;void 0===t&&(t={}),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.refreshCells(t)})},r.prototype.flashCells=function(t){var e=this;void 0===t&&(t={});var i=function(n){return We("Since v31.1 api.flashCells parameter '".concat(n,"Delay' is deprecated. Please use '").concat(n,"Duration' instead."))};ae(t.fadeDelay)&&i("fade"),ae(t.flashDelay)&&i("flash"),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.flashCells(t)})},r.prototype.redrawRows=function(t){var e=this;void 0===t&&(t={});var i=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.redrawRows(i)})},r.prototype.refreshHeader=function(){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return We("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},r.prototype.setRowNodeExpanded=function(t,e,i){this.expansionService.setRowNodeExpanded(t,e,i)},r.prototype.onGroupExpandedOrCollapsed=function(){Qe(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()},r.prototype.refreshClientSideRowModel=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.getAdvancedFilterModel=function(){return Ze.__assertRegistered(ie.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},r.prototype.showAdvancedFilterBuilder=function(){Ze.__assertRegistered(ie.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(t){t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==s.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)})&&this.selectionService.setNodesSelected({nodes:t.nodes,source:t.source??"api",newValue:t.newValue})},r.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},r.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},r.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},r.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return Qe(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},r.prototype.setServerSideSelectionState=function(t){Qe(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")},r.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(!Qe(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(t,e){var i=this;void 0===e&&(e="auto"),this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},"ensureVisible")},r.prototype.ensureIndexVisible=function(t,e){var i=this;this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},"ensureVisible")},r.prototype.ensureNodeVisible=function(t,e){var i=this;void 0===e&&(e=null),this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},"ensureVisible")},r.prototype.forEachLeafNode=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},r.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},r.prototype.forEachNodeAfterFilter=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},r.prototype.forEachNodeAfterFilterAndSort=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},r.prototype.getFilterInstance=function(t,e){return We("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)},r.prototype.getColumnFilterInstance=function(t){return this.filterManager.getColumnFilterInstance(t)},r.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},r.prototype.getStatusPanel=function(t){if(Ze.__assertRegistered(ie.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return _p(this.statusBarService.getStatusPanel(t))},r.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(t){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.filterManager.setFilterModel(t)})},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getColumnFilterModel=function(t){return this.filterManager.getColumnFilterModel(t)},r.prototype.setColumnFilterModel=function(t,e){return this.filterManager.setColumnFilterModel(t,e)},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})},r.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},r.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},r.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},r.prototype.assertSideBarLoaded=function(t){return Ze.__assertRegistered(ie.SideBarModule,"api."+t,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},r.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},r.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},r.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},r.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return _p(this.sideBarService.getSideBarComp().getToolPanelInstance(t))},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},r.prototype.resetRowHeights=function(){if(ae(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},r.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(t,e){var i=this.columnModel.getPrimaryColumn(t);return Qe(i)&&(i=this.columnModel.getGridColumn(t)),Qe(i)?null:this.valueService.getValue(i,e)},r.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},r.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},r.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},r.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},r.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},r.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:x.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy(),j8(this,["isDestroyed"],t)}},r.prototype.isDestroyed=function(){return this.destroyCalled},r.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Ze.__assertRegistered(ie.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):Ze.__assertRegistered(ie.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Ze.__assertRegistered(ie.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.assertChart=function(t,e){if(Ze.__assertRegistered(ie.GridChartsModule,"api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return e()})},r.prototype.getChartModels=function(){var t=this;return this.assertChart("getChartModels",function(){return t.chartService.getChartModels()})},r.prototype.getChartRef=function(t){var e=this;return this.assertChart("getChartRef",function(){return e.chartService.getChartRef(t)})},r.prototype.getChartImageDataURL=function(t){var e=this;return this.assertChart("getChartImageDataURL",function(){return e.chartService.getChartImageDataURL(t)})},r.prototype.downloadChart=function(t){var e=this;return this.assertChart("downloadChart",function(){return e.chartService.downloadChart(t)})},r.prototype.openChartToolPanel=function(t){var e=this;return this.assertChart("openChartToolPanel",function(){return e.chartService.openChartToolPanel(t)})},r.prototype.closeChartToolPanel=function(t){var e=this;return this.assertChart("closeChartToolPanel",function(){return e.chartService.closeChartToolPanel(t.chartId)})},r.prototype.createRangeChart=function(t){var e=this;return this.assertChart("createRangeChart",function(){return e.chartService.createRangeChart(t)})},r.prototype.createPivotChart=function(t){var e=this;return this.assertChart("createPivotChart",function(){return e.chartService.createPivotChart(t)})},r.prototype.createCrossFilterChart=function(t){var e=this;return this.assertChart("createCrossFilterChart",function(){return e.chartService.createCrossFilterChart(t)})},r.prototype.updateChart=function(t){var e=this;return this.assertChart("updateChart",function(){return e.chartService.updateChart(t)})},r.prototype.restoreChart=function(t,e){var i=this;return this.assertChart("restoreChart",function(){return i.chartService.restoreChart(t,e)})},r.prototype.assertClipboard=function(t,e){Ze.__assertRegistered(ie.ClipboardModule,"api"+t,this.context.getGridId())&&e()},r.prototype.copyToClipboard=function(t){var e=this;this.assertClipboard("copyToClipboard",function(){return e.clipboardService.copyToClipboard(t)})},r.prototype.cutToClipboard=function(t){var e=this;this.assertClipboard("cutToClipboard",function(){return e.clipboardService.cutToClipboard(t)})},r.prototype.copySelectedRowsToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return e.clipboardService.copySelectedRowsToClipboard(t)})},r.prototype.copySelectedRangeToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return e.clipboardService.copySelectedRangeToClipboard(t)})},r.prototype.copySelectedRangeDown=function(){var t=this;this.assertClipboard("copySelectedRangeDown",function(){return t.clipboardService.copyRangeDown()})},r.prototype.pasteFromClipboard=function(){var t=this;this.assertClipboard("pasteFromClipboard",function(){return t.clipboardService.pasteFromClipboard()})},r.prototype.showColumnMenuAfterButtonClick=function(t,e){We("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var i=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:i,buttonElement:e,positionBy:"button"})},r.prototype.showColumnMenuAfterMouseClick=function(t,e){We("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuService.showColumnMenu({column:i,mouseEvent:e,positionBy:"mouse"}):console.error("AG Grid: column '".concat(t,"' not found"))},r.prototype.showColumnChooser=function(t){this.menuService.showColumnChooser({chooserParams:t})},r.prototype.showColumnFilter=function(t){var e=this.columnModel.getGridColumn(t);e?this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"}):console.error("AG Grid: column '".concat(t,"' not found"))},r.prototype.showColumnMenu=function(t){var e=this.columnModel.getGridColumn(t);e?this.menuService.showColumnMenu({column:e,positionBy:"auto"}):console.error("AG Grid: column '".concat(t,"' not found"))},r.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},r.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},r.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},r.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},r.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(_p)},r.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(_p)},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},r.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);var o=this.navigationService.getCellByPosition(i);o&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),o.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for ".concat(t.colKey))},r.prototype.addAggFunc=function(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})},r.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},r.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},r.prototype.applyServerSideRowData=function(t){var e,i,n=null!==(e=t.startRow)&&void 0!==e?e:0,o=null!==(i=t.route)&&void 0!==i?i:[];n<0?console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0")):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,n,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},r.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},r.prototype.applyTransaction=function(t){var e=this;if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.updateRowData(t)});this.logMissingRowModel("applyTransaction","clientSide")},r.prototype.applyTransactionAsync=function(t,e){var i=this;this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(function(){return i.clientSideRowModel.batchUpdateRowData(t,e)}):this.logMissingRowModel("applyTransactionAsync","clientSide")},r.prototype.flushAsyncTransactions=function(){var t=this;this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.flushAsyncTransactions()}):this.logMissingRowModel("flushAsyncTransactions","clientSide")},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},r.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},r.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},r.prototype.sizeColumnsToFit=function(t){"number"==typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},r.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},r.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},r.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},r.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},r.prototype.setColumnVisible=function(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")},r.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},r.prototype.setColumnPinned=function(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")},r.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")},r.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},r.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},r.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")},r.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e,"api")},r.prototype.setColumnWidth=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,n)},r.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i="api"),this.columnModel.setColumnWidths(t,!1,e,i)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},r.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")},r.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},r.prototype.addValueColumn=function(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")},r.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},r.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},r.prototype.removeRowGroupColumn=function(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")},r.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},r.prototype.addRowGroupColumn=function(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")},r.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},r.prototype.removePivotColumn=function(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")},r.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},r.prototype.addPivotColumn=function(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")},r.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})},r.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})},r.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns("api",t)},r.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.getState=function(){return this.stateService.getState()},r.prototype.getGridOption=function(t){return this.gos.get(t)},r.prototype.setGridOption=function(t,e){var i;this.updateGridOptions(((i={})[t]=e,i))},r.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},r.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},r.prototype.deprecatedUpdateGridOption=function(t,e){We("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},r.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},r.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},r.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},r.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},r.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},r.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},r.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},r.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},r.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},r.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},r.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},r.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},r.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},r.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},r.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},r.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},r.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},r.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},r.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},r.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},r.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},r.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},r.prototype.setQuickFilter=function(t){We("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},r.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},r.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},r.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},r.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},r.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},r.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),We("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},r.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),We("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},r.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),We("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},r.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),We("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},r.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},r.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},r.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},r.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},r.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},r.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},r.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},r.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},r.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},r.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},r.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},r.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},r.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},r.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},r.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},r.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},r.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},r.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},r.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},r.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},r.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},r.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},r.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},r.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},r.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},r.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},r.prototype.setGetRowId=function(t){We("getRowId is a static property and can no longer be updated.")},r.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},r.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},r.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},r.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},r.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},r.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},r.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},r.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},r.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},r.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},r.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},r.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},r.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},r.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},r.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},r.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},r.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},r.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},r.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},r.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},r.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},r.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},r.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},r.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},kt([gt("csvCreator")],r.prototype,"csvCreator",void 0),kt([gt("excelCreator")],r.prototype,"excelCreator",void 0),kt([C("rowRenderer")],r.prototype,"rowRenderer",void 0),kt([C("navigationService")],r.prototype,"navigationService",void 0),kt([C("filterManager")],r.prototype,"filterManager",void 0),kt([C("columnModel")],r.prototype,"columnModel",void 0),kt([C("selectionService")],r.prototype,"selectionService",void 0),kt([C("gridOptionsService")],r.prototype,"gos",void 0),kt([C("valueService")],r.prototype,"valueService",void 0),kt([C("alignedGridsService")],r.prototype,"alignedGridsService",void 0),kt([C("eventService")],r.prototype,"eventService",void 0),kt([C("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),kt([C("context")],r.prototype,"context",void 0),kt([C("rowModel")],r.prototype,"rowModel",void 0),kt([C("sortController")],r.prototype,"sortController",void 0),kt([C("paginationProxy")],r.prototype,"paginationProxy",void 0),kt([C("focusService")],r.prototype,"focusService",void 0),kt([C("dragAndDropService")],r.prototype,"dragAndDropService",void 0),kt([gt("rangeService")],r.prototype,"rangeService",void 0),kt([gt("clipboardService")],r.prototype,"clipboardService",void 0),kt([gt("aggFuncService")],r.prototype,"aggFuncService",void 0),kt([C("menuService")],r.prototype,"menuService",void 0),kt([C("valueCache")],r.prototype,"valueCache",void 0),kt([C("animationFrameService")],r.prototype,"animationFrameService",void 0),kt([gt("statusBarService")],r.prototype,"statusBarService",void 0),kt([gt("chartService")],r.prototype,"chartService",void 0),kt([gt("undoRedoService")],r.prototype,"undoRedoService",void 0),kt([gt("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),kt([gt("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),kt([C("ctrlsService")],r.prototype,"ctrlsService",void 0),kt([C("overlayService")],r.prototype,"overlayService",void 0),kt([gt("sideBarService")],r.prototype,"sideBarService",void 0),kt([C("stateService")],r.prototype,"stateService",void 0),kt([C("expansionService")],r.prototype,"expansionService",void 0),kt([C("apiEventService")],r.prototype,"apiEventService",void 0),kt([C("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),kt([j],r.prototype,"init",null),kt([oe("gridApi")],r)}(),EOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),K_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},TY=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.quickFilter=null,i.quickFilterParts=null,i}var e;return EOe(t,r),e=t,t.prototype.postConstruct=function(){var i=this;this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){i.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||i.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(n){return i.setQuickFilter(n.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return i.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return i.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassQuickFilter=function(i){var n=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,i):this.quickFilterParts.every(function(a){return o?n.doesRowPassQuickFilterCache(i,a):n.doesRowPassQuickFilterNoCache(i,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var n=this.quickFilter,o=this.parser;this.quickFilterParts=n?o?o(n):n.split(" "):null},t.prototype.parseQuickFilter=function(i){return ae(i)?this.gridOptionsService.isRowModelType("clientSide")?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(i){if(null==i||"string"==typeof i){var n=this.parseQuickFilter(i);this.quickFilter!==n&&(this.quickFilter=n,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof i))},t.prototype.setQuickFilterParserAndMatcher=function(){var i=this.gridOptionsService.get("quickFilterParser"),n=this.gridOptionsService.get("quickFilterMatcher"),o=i!==this.parser||n!==this.matcher;this.parser=i,this.matcher=n,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(i,n){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(s){var l=o.getQuickFilterTextForColumn(s,i);return ae(l)&&l.indexOf(n)>=0})},t.prototype.doesRowPassQuickFilterCache=function(i,n){return this.checkGenerateQuickFilterAggregateText(i),i.quickFilterAggregateText.indexOf(n)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(i,n){var o;return i?(this.checkGenerateQuickFilterAggregateText(n),o=n.quickFilterAggregateText):o=this.getQuickFilterAggregateText(n),(0,this.matcher)(this.quickFilterParts,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(i){i.quickFilterAggregateText||(i.quickFilterAggregateText=this.getQuickFilterAggregateText(i))},t.prototype.getQuickFilterTextForColumn=function(i,n){var o=this.valueService.getValue(i,n,!0),a=i.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:n,data:n.data,column:i,colDef:a});o=a.getQuickFilterText(s)}return ae(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(i){var n=this,o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(function(s){var l=n.getQuickFilterTextForColumn(s,i);ae(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)},t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR="\n",K_([C("valueService")],t.prototype,"valueService",void 0),K_([C("columnModel")],t.prototype,"columnModel",void 0),K_([C("rowModel")],t.prototype,"rowModel",void 0),K_([j],t.prototype,"postConstruct",null),e=K_([oe("quickFilterService")],t)}(z),DOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hl=function(){return Hl=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Hl.apply(this,arguments)},jl=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},TOe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return DOe(t,r),t.prototype.init=function(){var i,n,o,e=this;this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return e.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){return e.onAdvancedFilterEnabledChanged(a.enabled)}),this.addManagedListener(this.eventService,x.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,TY.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=Hl({},null!==(o=null===(n=null===(i=this.gridOptionsService.get("initialState"))||void 0===i?void 0:i.filter)||void 0===n?void 0:n.filterModel)&&void 0!==o?o:{})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var i=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof i&&i(e)},t.prototype.setFilterModel=function(e,i){var n=this;if(void 0===i&&(i="api"),this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push({model:e,source:i});else{var o=[],a=this.getFilterModel();if(e){var s=mk(Object.keys(e));this.allColumnFilters.forEach(function(l,c){o.push(n.setModelOnFilterWrapper(l.filterPromise,e[c])),s.delete(c)}),s.forEach(function(l){var c=n.columnModel.getPrimaryColumn(l)||n.columnModel.getGridColumn(l);if(c)if(c.isFilterAllowed()){var u=n.getOrCreateFilterWrapper(c,"NO_UI");u?o.push(n.setModelOnFilterWrapper(u.filterPromise,e[l])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+l)})}else this.allColumnFilters.forEach(function(l){o.push(n.setModelOnFilterWrapper(l.filterPromise,null))});vt.all(o).then(function(){var l=n.getFilterModel(),c=[];n.allColumnFilters.forEach(function(u,d){D.jsonEquals(a?a[d]:null,l?l[d]:null)||c.push(u.column)}),c.length>0&&n.onFilterChanged({columns:c,source:i})})}},t.prototype.setModelOnFilterWrapper=function(e,i){return new vt(function(n){e.then(function(o){"function"!=typeof o.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(o.setModel(i)||vt.resolve()).then(function(){return n()})})})},t.prototype.getFilterModel=function(){var e=this,i={};return this.allColumnFilters.forEach(function(n,o){var a=e.getModelFromFilterWrapper(n);ae(a)&&(i[o]=a)}),i},t.prototype.getModelFromFilterWrapper=function(e){var i,o=e.filterPromise.resolveNow(null,function(a){return a});return null==o?null!==(i=this.initialFilterModel[e.column.getColId()])&&void 0!==i?i:null:"function"!=typeof o.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var n,i=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return i.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):null!==(n=this.advancedFilterService)&&void 0!==n&&n.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,i){return this.doColumnFiltersPass(e,i,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(a){return!!a&&(a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,i)){var s=a.filterPromise.resolveNow(null,function(l){return l});!function(a){if(!a.isPrimary())return!0;var l=!e.columnModel.isPivotActive();return!(!a.isValueActive()||!l)&&(!!e.columnModel.isPivotMode()||n)}(a.column)?e.activeColumnFilters.push(s):e.activeAggregateFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,i){this.allColumnFilters.forEach(function(n){var o=n.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});n.column.setFilterActive(o,e,i)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.doColumnFiltersPass=function(e,i,n){for(var s=n?this.activeAggregateFilters:this.activeColumnFilters,l=n?e.aggData:e.data,c=0;c<s.length;c++){var u=s[c];if(null!=u&&u!==i){if("function"!=typeof u.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var i=this,n=function(){return i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var i=e.source,n=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(c){c&&c!==n&&c.onAnyFilterChanged&&c.onAnyFilterChanged()})});var s={source:i,type:x.EVENT_FILTER_CHANGED,columns:a||[]};o&&aa(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e;return!(null!==(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(n){n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var i=this;return function(n){return i.valueService.getValue(e,n.node,!0)}},t.prototype.createGetValue=function(e){var i=this;return function(n,o){var a=o?i.columnModel.getGridColumn(o):e;return a?i.valueService.getValue(a,n,!0):void 0}},t.prototype.getFilterComponent=function(e,i,n){var o;if(void 0===n&&(n=!0),n)return(null===(o=this.getOrCreateFilterWrapper(e,i))||void 0===o?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var i=this.cachedFilter(e);return!!i&&i.filterPromise.resolveNow(!1,function(n){return n.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,i){if(!e.isFilterAllowed())return null;var n=this.cachedFilter(e);return n?"NO_UI"!==i&&this.putIntoGui(n,i):(n=this.createFilterWrapper(e,i),this.setColumnFilterWrapper(e,n)),n},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var i;if(Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()))i="agSetColumnFilter";else{var n=this.dataTypeService.getBaseDataType(e);i="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return i},t.prototype.getDefaultFloatingFilter=function(e){var i;if(Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()))i="agSetColumnFloatingFilter";else{var n=this.dataTypeService.getBaseDataType(e);i="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return i},t.prototype.createFilterInstance=function(e){var a,i=this,n=this.getDefaultFilter(e),o=e.getColDef(),s=Hl(Hl({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return i.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(c){return i.filterChangedCallbackFactory(a,e)(c)},doesRowPassOtherFilter:function(c){return i.doesRowPassOtherFilters(a,c)}}),l=this.userComponentFactory.getFilterDetails(o,s,n);return l?{filterPromise:function(){var c=l.newAgStackInstance();return c&&c.then(function(u){return a=u}),c},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,i){return this.gridOptionsService.addGridCommonParams({column:e,colDef:vF(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}})},t.prototype.createFilterWrapper=function(e,i){var n,o={column:e,filterPromise:null,compiledElement:null,guiPromise:vt.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=null!==(n=s?.())&&void 0!==n?n:null,o.compDetails=l,s&&this.putIntoGui(o,i),o},t.prototype.putIntoGui=function(e,i){var n=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new vt(function(a){e.filterPromise.then(function(s){var l=s.getGui();ae(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),"string"==typeof l&&(l=xo(l)),o.appendChild(l),a(o),n.eventService.dispatchEvent({type:x.EVENT_FILTER_OPENED,column:e.column,source:i,eGui:o})})})},t.prototype.onColumnsChanged=function(){var e=this,i=[];this.allColumnFilters.forEach(function(n,o){!(n.column.isPrimary()?e.columnModel.getPrimaryColumn(o):e.columnModel.getGridColumn(o))&&(i.push(n.column),e.disposeFilterWrapper(n,"columnChanged"),e.disposeColumnListener(o))}),i.length>0?this.onFilterChanged({columns:i,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,i=this.columnModel.getGroupAutoColumns();i?.forEach(function(n){"agGroupColumnFilter"===n.getColDef().filter&&e.getOrCreateFilterWrapper(n,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var i,n;if(this.isAdvancedFilterEnabled())return!1;if(!e.isFilterAllowed())return!1;var a=this.allColumnFilters.get(e.getColId());return null===(n=null===(i=a?.filterPromise)||void 0===i?void 0:i.resolveNow(!0,function(s){return"function"!=typeof s?.isFilterAllowed||s?.isFilterAllowed()}))||void 0===n||n},t.prototype.getFloatingFilterCompDetails=function(e,i){var n=this,o=function(d){var h=n.getFilterComponent(e,"NO_UI");h?.then(function(p){d(_p(p))})},a=e.getColDef(),s=Hl(Hl({},this.createFilterParams(e,a)),{filterChangedCallback:function(){return o(function(d){return n.filterChangedCallbackFactory(d,e)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,kk,s),c=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return n.getDefaultFloatingFilter(e)});return null==c&&(c="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(a,{column:e,filterParams:l,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:o,showParentFilter:i,suppressFilterButton:!1},c)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var i=this.getFilterComponent(e,"NO_UI",!1);return i?i.resolveNow(null,function(n){return n&&n.getModel()}):null},t.prototype.destroyFilter=function(e,i){void 0===i&&(i="api");var n=e.getColId(),o=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],o&&(this.disposeFilterWrapper(o,i),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())},t.prototype.disposeFilterWrapper=function(e,i){var n=this;e.filterPromise.then(function(o){n.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(e.column.getColId()),n.eventService.dispatchEvent({type:x.EVENT_FILTER_DESTROYED,source:i,column:e.column})})},t.prototype.filterModifiedCallbackFactory=function(e,i){var n=this;return function(){n.eventService.dispatchEvent({type:x.EVENT_FILTER_MODIFIED,column:i,filterInstance:e})}},t.prototype.filterChangedCallbackFactory=function(e,i){var n=this;return function(o){var a,s=null!==(a=o?.source)&&void 0!==a?a:"api";n.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:o,columns:[i],source:s})}},t.prototype.checkDestroyFilter=function(e){var i=this,n=this.allColumnFilters.get(e);if(n){var o=n.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(n.compDetails,a))return void this.destroyFilter(o,"paramsUpdated");var s=o.getColDef().filterParams;if(!n.filterPromise)return void this.destroyFilter(o,"paramsUpdated");n.filterPromise.then(function(l){!1===(!l?.refresh||l.refresh(Hl(Hl(Hl({},i.createFilterParams(o,o.getColDef())),{filterModifiedCallback:i.filterModifiedCallbackFactory(l,o),filterChangedCallback:i.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(u){return i.doesRowPassOtherFilters(l,u)}}),s)))&&i.destroyFilter(o,"paramsUpdated")})}},t.prototype.setColumnFilterWrapper=function(e,i){var n=this,o=e.getColId();this.allColumnFilters.set(o,i),this.allColumnListeners.set(o,this.addManagedListener(e,bt.EVENT_COL_DEF_CHANGED,function(){return n.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,i){if(!i||!e)return!0;var n=e.componentClass,o=i.componentClass;return!(n===o||n?.render&&o?.render&&n.render===o.render)},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(function(i){return i.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,i){if(!this.isAdvancedFilterEnabled()){var n=this.getFilterInstanceImpl(e,function(a){if(i){var s=_p(a);i(s)}});return _p(n)}this.warnAdvancedFilters()},t.prototype.getColumnFilterInstance=function(e){var i=this;return new Promise(function(n){i.getFilterInstance(e,function(o){n(o)})})},t.prototype.getFilterInstanceImpl=function(e,i){var n=this.columnModel.getPrimaryColumn(e);if(n){var o=this.getFilterComponent(n,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(i,0,a):o&&o.then(function(s){i(s)}),a}},t.prototype.warnAdvancedFilters=function(){We("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var i;null===(i=this.advancedFilterService)||void 0===i||i.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(i){return e.setFilterModel(i.model,i.source)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(i){var a=i.resolve;e.setColumnFilterModel(i.key,i.model).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(i){return e.setAdvancedFilterModel(i)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.getColumnFilterModel=function(e){var i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null},t.prototype.setColumnFilterModel=function(e,i){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var n=function(){},o=new Promise(function(c){n=c});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:n}),o}var c,a=this.columnModel.getPrimaryColumn(e),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null;return s?(c=this.setModelOnFilterWrapper(s.filterPromise,i),new Promise(function(u){c.then(function(d){return u(d)})})):Promise.resolve()},t.prototype.getFilterWrapper=function(e){var i,n=this.columnModel.getPrimaryColumn(e);return n&&null!==(i=this.cachedFilter(n))&&void 0!==i?i:null},t.prototype.destroy=function(){var e=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return e.disposeFilterWrapper(i,"gridDestroyed")}),this.allColumnListeners.clear()},jl([C("valueService")],t.prototype,"valueService",void 0),jl([C("columnModel")],t.prototype,"columnModel",void 0),jl([C("rowModel")],t.prototype,"rowModel",void 0),jl([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),jl([C("rowRenderer")],t.prototype,"rowRenderer",void 0),jl([C("dataTypeService")],t.prototype,"dataTypeService",void 0),jl([C("quickFilterService")],t.prototype,"quickFilterService",void 0),jl([gt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),jl([j],t.prototype,"init",null),jl([oe("filterManager")],t)}(z),AOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gk=function(r){function t(e,i){var n=r.call(this,e)||this;return n.ctrl=i,n}return AOe(t,r),t.prototype.getCtrl=function(){return this.ctrl},t}(le),OOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},MOe=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return OOe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return Nt(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return i.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}},i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var i=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(n){return i.afterCompCreated(n)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Y_([G("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Y_([G("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Y_([G("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Y_([j],t.prototype,"postConstruct",null),Y_([Oi],t.prototype,"destroyFloatingFilterComp",null),t}(Gk),ROe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ki=(()=>((Ki=Ki||{}).AUTO_HEIGHT="ag-layout-auto-height",Ki.NORMAL="ag-layout-normal",Ki.PRINT="ag-layout-print",Ki))(),Vk=function(r){function t(e){var i=r.call(this)||this;return i.view=e,i}return ROe(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),i={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(i.autoHeight?Ki.AUTO_HEIGHT:i.print?Ki.PRINT:Ki.NORMAL,i)},t.prototype.getDomLayout=function(){var e,i=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(i)?(We("".concat(i," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):i},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(z),IOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CE=function(){return CE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},CE.apply(this,arguments)},Sd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},fn=(()=>((fn=fn||{})[fn.Vertical=0]="Vertical",fn[fn.Horizontal=1]="Horizontal",fn))(),In=(()=>((In=In||{})[In.Container=0]="Container",In[In.FakeContainer=1]="FakeContainer",In))(),FOe=function(r){function t(e){var i=r.call(this)||this;return i.lastScrollSource=[null,null],i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.lastOffsetHeight=-1,i.lastScrollTop=-1,i.eBodyViewport=e,i.resetLastHScrollDebounced=sa(function(){return i.lastScrollSource[fn.Horizontal]=null},500),i.resetLastVScrollDebounced=sa(function(){return i.lastScrollSource[fn.Vertical]=null},500),i}return IOe(t,r),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var n=this.gridOptionsService.get("debounceVerticalScrollbar"),o=n?sa(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=n?sa(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),i.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var n=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),s.setContainerTranslateX(n),o.setContainerTranslateX(n),a.setContainerTranslateX(n);var u=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[fn.Horizontal]===In.Container;e=Math.abs(e),d?l.setScrollPosition(e):G_(u,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,i){return null==this.lastScrollSource[i]?(this.lastScrollSource[i]=e,!0):this.lastScrollSource[i]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(In.FakeContainer,fn.Horizontal)&&this.onHScrollCommon(In.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(In.Container,fn.Horizontal)&&this.onHScrollCommon(In.Container)},t.prototype.onHScrollCommon=function(e){var o,i=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate(fn.Horizontal,i.scrollLeft,!0)||(o=e===In.Container?N_(i,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){this.isControllingScroll(In.FakeContainer,fn.Vertical)&&this.onVScrollCommon(In.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(In.Container,fn.Vertical)&&this.onVScrollCommon(In.Container)},t.prototype.onVScrollCommon=function(e){var i;i=e===In.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(fn.Vertical,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e===In.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var i=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(fn.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var i=this,n={type:x.EVENT_BODY_SCROLL,direction:e===fn.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=CE(CE({},n),{type:x.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,i,n){return void 0===n&&(n=!1),!(n&&!nu())&&(e===fn.Vertical?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i))},t.prototype.shouldBlockVerticalScroll=function(e){var i=F_(this.eBodyViewport);return e<0||e+i>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var i=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&L_()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>n},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(fn.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(In.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,i){void 0===i&&(i=!1);var o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(fn.Horizontal,e)&&(e=this.enableRtl&&L_()?e>0?0:o:Math.min(Math.max(e,0),o)),G_(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}},t.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,i){void 0===i&&(i=null);for(var n=this.rowModel.getRowCount(),o=-1,a=0;a<n;a++){var s=this.rowModel.getRow(a);if("function"==typeof e){if(s&&e(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,i)},t.prototype.ensureIndexVisible=function(e,i){var n=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=o)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);var s=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||n.paginationProxy.goToPageWithIndex(e);var d,c=n.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),u=n.paginationProxy.getRow(e);do{var h=u.rowTop,p=u.rowHeight,f=n.paginationProxy.getPixelOffset(),m=u.rowTop-f,g=m+u.rowHeight,v=n.getVScrollPosition(),y=n.heightScaler.getDivStretchOffset(),_=v.top+y,b=v.bottom+y,w=b-_,E=n.heightScaler.getScrollPositionForPixel(m),M=n.heightScaler.getScrollPositionForPixel(g-w),P=Math.min((E+M)/2,m),N=null;"top"===i?N=E:"bottom"===i?N=M:"middle"===i?N=P:_+c>m?N=E-c:b<g&&(N=M),null!==N&&(n.setVerticalScrollPosition(N),n.rowRenderer.redraw({afterScroll:!0})),d=h!==u.rowTop||p!==u.rowHeight}while(d);n.animationFrameService.flushAllFrames()})}},t.prototype.ensureColumnVisible=function(e,i){var n=this;void 0===i&&(i="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,i);this.getFrameworkOverrides().wrapIncoming(function(){null!==a&&n.centerRowContainerCtrl.setCenterViewportScrollLeft(a),n.centerRowContainerCtrl.onHorizontalViewportChanged(),n.animationFrameService.flushAllFrames()})}},t.prototype.setScrollPosition=function(e,i){var n=this;this.getFrameworkOverrides().wrapIncoming(function(){n.centerRowContainerCtrl.setCenterViewportScrollLeft(i),n.setVerticalScrollPosition(e),n.rowRenderer.redraw({afterScroll:!0}),n.animationFrameService.flushAllFrames()})},t.prototype.getPositionedHorizontalScroll=function(e,i){var n=this.isColumnOutsideViewport(e),o=n.columnBeforeStart,a=n.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),c=this.enableRtl,u=(c?o:a)||s,d=c?a:o;"auto"!==i&&(u="start"===i,d="end"===i);var h="middle"===i;if(u||d||h){var p=this.getColumnBounds(e),f=p.colLeft,g=p.colRight;return h?p.colMiddle-l/2:u?c?g:f:c?f-l:g-l}return null},t.prototype.isColumnOutsideViewport=function(e){var i=this.getViewportBounds(),n=i.start,o=i.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,c=this.enableRtl;return{columnBeforeStart:c?n>l:o<l,columnAfterEnd:c?o<s:n>s}},t.prototype.getColumnBounds=function(e){var i=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=i?-1:1,l=i?n-a:a;return{colLeft:l,colMiddle:l+o/2*s,colRight:l+o*s}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:i,end:e+i,width:e}},Sd([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Sd([C("animationFrameService")],t.prototype,"animationFrameService",void 0),Sd([C("paginationProxy")],t.prototype,"paginationProxy",void 0),Sd([C("rowModel")],t.prototype,"rowModel",void 0),Sd([C("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Sd([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Sd([C("columnModel")],t.prototype,"columnModel",void 0),Sd([j],t.prototype,"postConstruct",null),t}(z),kOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bk=function(){return Bk=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Bk.apply(this,arguments)},qa=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},GOe=function(r){function t(e){var i=r.call(this)||this;return i.isMultiRowDrag=!1,i.eContainer=e,i}return kOe(t,r),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new _E({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(n){return i.getScrollFeature().setVerticalScrollPosition(n)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===zt.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Bt.ICON_NOT_ALLOWED:Bt.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return!!this.columnModel.getRowGroupColumns().length||!!this.filterManager.isAnyFilterPresent()||!!this.sortController.isSortActive()},t.prototype.getRowNodes=function(e){var i=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var n=this.gridOptionsService.get("rowDragMultiRow"),o=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return null==s.rowIndex||null==l.rowIndex?0:i.getRowIndexNumber(s)-i.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return n&&-1!==o.indexOf(a)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(x.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,i){var n=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],i):this.moveRows(a,i))},t.prototype.getRowIndexNumber=function(e){return parseInt(Ut(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var i=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===Do.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var c=this.gridOptionsService.getCallback("getRowId"),u=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Do.Above&&u--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!i.clientSideRowModel.getRowNode(c?c({data:d,level:0}):d.id)}),addIndex:u})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,i,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(e,i,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var i=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(o){e.onDragEnter(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(n.onDragLeave=function(o){e.onDragLeave(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(n.onDragging=function(o){e.onDragging(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(n.onDragStop=function(o){e.onDragStop(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(Bk({isInterestedIn:function(o){return o===zt.RowDrag},getIconName:function(){return Bt.ICON_MOVE},external:!0},n))}else We("addRowDropZone - A container target needs to be provided")},t.prototype.getRowDropZone=function(e){var i=this,n=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(c){o(c),e.onDragEnter(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,c))}:o,onDragLeave:e.onDragLeave?function(c){a(c),e.onDragLeave(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,c))}:a,onDragging:e.onDragging?function(c){s(c),e.onDragging(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,c))}:s,onDragStop:e.onDragStop?function(c){l(c),e.onDragStop(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,c))}:l,fromGrid:!0}:{getContainer:n,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,i){var s,l,n=this.mouseEventService.getNormalisedPosition(i).y,a=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(a=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(a)),i.vDirection){case ks.Down:l="down";break;case ks.Up:l="up";break;default:l=null}return this.gridOptionsService.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:a,overNode:s,y:n,vDirection:l})},t.prototype.dispatchGridEvent=function(e,i){var n=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(n)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(i){i.setDragging(!1)})},qa([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),qa([C("rowModel")],t.prototype,"rowModel",void 0),qa([C("paginationProxy")],t.prototype,"paginationProxy",void 0),qa([C("columnModel")],t.prototype,"columnModel",void 0),qa([C("focusService")],t.prototype,"focusService",void 0),qa([C("sortController")],t.prototype,"sortController",void 0),qa([C("filterManager")],t.prototype,"filterManager",void 0),qa([C("selectionService")],t.prototype,"selectionService",void 0),qa([C("mouseEventService")],t.prototype,"mouseEventService",void 0),qa([C("ctrlsService")],t.prototype,"ctrlsService",void 0),qa([gt("rangeService")],t.prototype,"rangeService",void 0),qa([j],t.prototype,"postConstruct",null),t}(z),VOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),To=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},su=(()=>((su=su||{}).ANIMATION_ON="ag-row-animation",su.ANIMATION_OFF="ag-row-no-animation",su))(),AY="ag-force-vertical-scroll",jOe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return VOe(t,r),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,i,n,o,a,s){var l=this;this.comp=e,this.eGridBody=i,this.eBodyViewport=n,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(c){return l.setCellTextSelection(c.currentValue)}),this.createManagedBean(new Vk(this.comp)),this.bodyScrollFeature=this.createManagedBean(new FOe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var i=this;e.forEach(function(n){i.addManagedListener(n,"focusin",function(o){var s=hp(o.target,"ag-root",n);n.classList.toggle("ag-has-focus",!s)}),i.addManagedListener(n,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=n.contains(s),c=hp(s,"ag-root",n);hp(a,"ag-root",n)||(!l||c)&&n.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss("ag-selectable",e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i),this.setStickyTopWidth(i);var n=i&&this.gridOptionsService.getScrollbarWidth()||0,o=JF()?16:0,a="calc(100% + ".concat(n+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var i=function(o){var a=o.relatedTarget;if(null!==oE(a)){var s=n.some(function(c){return c.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(c){return c.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach(function(o){return e.addManagedListener(o,"focusout",i)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===i?-1:e+i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),i=e?AY:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||n&&IK(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,i=function(){var n=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(n?su.ANIMATION_ON:su.ANIMATION_OFF,n)};i(),this.addManagedListener(this.eventService,x.EVENT_HEIGHT_SCALE_CHANGED,i),this.addManagedPropertyListener("animateRows",i)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,i=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");i&&n&&this.addManagedListener(i,"wheel",function(o){return e.onFullWidthContainerWheel(o,n)})},t.prototype.onFullWidthContainerWheel=function(e,i){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),i.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,i,n){if(e||n){this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();var a=(e||i).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}},t.prototype.mockContextMenuForIPad=function(e){if(nu()){var i=new Pn(this.eBodyViewport);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new GOe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,i=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(n),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(i,"px)"))}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var i=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i+1),n>0&&(o+=n+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,i){var n=this,a=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,l=pp(this.eGridBody)-a;l>0?this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e):void 0===i?window.setTimeout(function(){n.sizeColumnsToFit(e,100)},0):100===i?window.setTimeout(function(){n.sizeColumnsToFit(e,500)},100):500===i?window.setTimeout(function(){n.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},To([C("animationFrameService")],t.prototype,"animationFrameService",void 0),To([C("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),To([C("ctrlsService")],t.prototype,"ctrlsService",void 0),To([C("columnModel")],t.prototype,"columnModel",void 0),To([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),To([C("menuService")],t.prototype,"menuService",void 0),To([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),To([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),To([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),To([C("rowRenderer")],t.prototype,"rowRenderer",void 0),To([C("popupService")],t.prototype,"popupService",void 0),To([C("mouseEventService")],t.prototype,"mouseEventService",void 0),To([C("rowModel")],t.prototype,"rowModel",void 0),To([C("filterManager")],t.prototype,"filterManager",void 0),t}(z),da=(()=>((da=da||{})[da.FILL=0]="FILL",da[da.RANGE=1]="RANGE",da))(),cr=(()=>((cr=cr||{})[cr.VALUE=0]="VALUE",cr[cr.DIMENSION=1]="DIMENSION",cr))(),q_="ag-cell-range-selected",ZOe=function(){function r(t,e){this.beans=t,this.cellCtrl=e}return r.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(q_,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(q_,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(q_,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(q_,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(q_,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Jm(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",a)},r.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(i){return Rs([cr.DIMENSION,cr.VALUE],i.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var d,h,t=this,e=this.beans.gridOptionsService.get("enableRtl"),i=!1,n=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,c=l.rangeService,u=l.columnModel;e?(d=u.getDisplayedColAfter(s),h=u.getDisplayedColBefore(s)):(d=u.getDisplayedColBefore(s),h=u.getDisplayedColAfter(s));var p=c.getCellRanges().filter(function(y){return c.isCellInSpecificRange(t.cellCtrl.getCellPosition(),y)});d||(a=!0),h||(n=!0);for(var f=0;f<p.length&&!(i&&n&&o&&a);f++){var m=p[f],g=c.getRangeStartRow(m),v=c.getRangeEndRow(m);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&m.columns.indexOf(d)<0&&(a=!0),!n&&h&&m.columns.indexOf(h)<0&&(n=!0)}return{top:i,right:n,bottom:o,left:a}},r.prototype.refreshHandle=function(){if(this.beans.rangeService&&!this.beans.context.isDestroyed()){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=t.rangeService,n=i.getCellRanges(),o=n.length;if(this.rangeCount<1||o<1)return!1;var a=Ut(n),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=e.get("enableRangeHandle"),u=1===o&&!this.cellCtrl.isEditing()&&(l||c);if(this.hasChartRange){var h=n[0].type===cr.DIMENSION&&i.isCellInSpecificRange(s,n[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",h),u=a.type===cr.VALUE}return u&&null!=a.endRow&&i.isContiguousRange(a)&&i.isBottomRightCell(a,s)},r.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=Ut(t.rangeService.getCellRanges()).type,a=e.get("enableFillHandle")&&Qe(n)?da.FILL:da.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),QOe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JOe=function(r){function t(e,i){var n=r.call(this)||this;return n.cellCtrl=e,n.beans=i,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n.setupColSpan(),n.setupRowSpan(),n}return QOe(t,r),t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();tu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,i){return e+i.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),i=[];if(1===e)i.push(this.column);else for(var n=this.column,o=this.column.getPinned(),a=0;n&&a<e&&(i.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!Qe(n)&&o===n.getPinned());a++);return i},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ut(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+(e||0):i+(e||0)},t.prototype.applyRowSpan=function(e){if(1!==this.rowSpan||e){var i=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height="".concat(i*this.rowSpan,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(z),eMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tMe=function(r){function t(e,i){var n=r.call(this)||this;return n.staticClasses=[],n.cellCtrl=e,n.beans=i,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n}return eMe(t,r),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,i=this.column.getColDef(),n=i.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(n===this.cellClassRules?void 0:this.cellClassRules,n,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=n},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var i;if("function"==typeof e.cellStyle){var n=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});i=(0,e.cellStyle)(n)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}},t.prototype.applyClassesFromColDef=function(){var e=this,i=this.column.getColDef(),n=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:i,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,n),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(z),iMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ns=function(r){function t(e,i){var n=r.call(this)||this;return n.ctrl=e,n.beans=i,n}return iMe(t,r),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var i="title";null!=e&&""!=e?this.eGui.setAttribute(i,e):this.eGui.removeAttribute(i)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var i,n,o,a,e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new HK({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}},null===(n=(i=this.ctrl).getTooltipShowDelayOverride)||void 0===n?void 0:n.call(i),null===(a=(o=this.ctrl).getTooltipHideDelayOverride)||void 0===a?void 0:a.call(o)),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,i=this.ctrl,n=i.getColumn?i.getColumn():void 0,o=i.getColDef?i.getColDef():void 0,a=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:o,column:n,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(z),pt=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},OY=function(){function r(){}return r.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},pt([C("resizeObserverService")],r.prototype,"resizeObserverService",void 0),pt([C("paginationProxy")],r.prototype,"paginationProxy",void 0),pt([C("context")],r.prototype,"context",void 0),pt([C("columnApi")],r.prototype,"columnApi",void 0),pt([C("gridApi")],r.prototype,"gridApi",void 0),pt([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),pt([C("expressionService")],r.prototype,"expressionService",void 0),pt([C("environment")],r.prototype,"environment",void 0),pt([C("rowRenderer")],r.prototype,"rowRenderer",void 0),pt([C("templateService")],r.prototype,"templateService",void 0),pt([C("valueService")],r.prototype,"valueService",void 0),pt([C("eventService")],r.prototype,"eventService",void 0),pt([C("columnModel")],r.prototype,"columnModel",void 0),pt([C("headerNavigationService")],r.prototype,"headerNavigationService",void 0),pt([C("navigationService")],r.prototype,"navigationService",void 0),pt([C("columnAnimationService")],r.prototype,"columnAnimationService",void 0),pt([gt("rangeService")],r.prototype,"rangeService",void 0),pt([C("focusService")],r.prototype,"focusService",void 0),pt([C("popupService")],r.prototype,"popupService",void 0),pt([C("valueFormatterService")],r.prototype,"valueFormatterService",void 0),pt([C("stylingService")],r.prototype,"stylingService",void 0),pt([C("columnHoverService")],r.prototype,"columnHoverService",void 0),pt([C("userComponentFactory")],r.prototype,"userComponentFactory",void 0),pt([C("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),pt([C("animationFrameService")],r.prototype,"animationFrameService",void 0),pt([C("dragService")],r.prototype,"dragService",void 0),pt([C("dragAndDropService")],r.prototype,"dragAndDropService",void 0),pt([C("sortController")],r.prototype,"sortController",void 0),pt([C("filterManager")],r.prototype,"filterManager",void 0),pt([C("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),pt([C("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),pt([C("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),pt([C("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),pt([C("selectionService")],r.prototype,"selectionService",void 0),pt([gt("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),pt([C("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),pt([C("rowModel")],r.prototype,"rowModel",void 0),pt([C("ctrlsService")],r.prototype,"ctrlsService",void 0),pt([C("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),pt([C("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),pt([C("valueCache")],r.prototype,"valueCache",void 0),pt([C("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),pt([C("localeService")],r.prototype,"localeService",void 0),pt([C("valueParserService")],r.prototype,"valueParserService",void 0),pt([C("syncService")],r.prototype,"syncService",void 0),pt([C("ariaAnnouncementService")],r.prototype,"ariaAnnouncementService",void 0),pt([j],r.prototype,"postConstruct",null),pt([oe("beans")],r)}(),nMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rMe=function(r){function t(e,i,n){var o=r.call(this)||this;return o.cellCtrl=e,o.beans=i,o.column=n,o}return nMe(t,r),t.prototype.onMouseEvent=function(e,i){if(!Is(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i)}},t.prototype.onCellClicked=function(e){var i=this;if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var n=this.beans,o=n.eventService,a=n.rangeService,s=n.gridOptionsService;a&&(e.ctrlKey||e.metaKey)&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var c=this.cellCtrl.createEvent(e,x.EVENT_CELL_CLICKED);o.dispatchEvent(c);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){u.onCellClicked(c)})},0),(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit")&&(!e.shiftKey||0==a?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!nu()||AF("dblclick"))return!1;var e=(new Date).getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i},t.prototype.onCellDoubleClicked=function(e){var i=this,n=this.column.getColDef(),o=this.cellCtrl.createEvent(e,x.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"==typeof n.onCellDoubleClicked&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){n.onCellDoubleClicked(o)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var i=e.ctrlKey,n=e.metaKey,o=e.shiftKey,a=e.target,l=this.cellCtrl,c=this.beans,u=c.eventService,d=c.rangeService,h=c.focusService;if(!this.isRightClickInExistingRange(e)){var p=d&&0!=d.getCellRanges().length;if(!o||!p){var f=Gl()&&!l.isEditing()&&!ok(a);l.focusCell(f)}if(o&&p&&!h.isCellFocused(l.getCellPosition())){e.preventDefault();var m=h.getFocusedCell();if(m){var g=m.column,v=m.rowIndex,y=m.rowPinned,_=c.rowRenderer.getRowByPosition({rowIndex:v,rowPinned:y}),b=_?.getCellCtrl(g);b?.isEditing()&&b.stopEditing(),h.setFocusedCell({column:g,rowIndex:v,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var w=this.cellCtrl.getCellPosition();o?d.extendLatestRangeToCell(w):d.setRangeToCell(w,i||n)}u.dispatchEvent(this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var i=this.beans.rangeService;if(i){var n=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(n&&o)return!0}return!1},t.prototype.containsWidget=function(e){return hp(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var i=this.cellCtrl.getGui(),n=i.contains(e.target),o=i.contains(e.relatedTarget);return n&&o},t.prototype.destroy=function(){},t}(OY),oMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aMe=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.cellCtrl=e,s.beans=i,s.rowNode=o,s.rowCtrl=a,s}return oMe(t,r),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var i=e.key;switch(i){case V.ENTER:this.onEnterKeyDown(e);break;case V.F2:this.onF2KeyDown(e);break;case V.ESCAPE:this.onEscapeKeyDown(e);break;case V.TAB:this.onTabKeyDown(e);break;case V.BACKSPACE:case V.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case V.DOWN:case V.UP:case V.RIGHT:case V.LEFT:this.onNavigationKeyDown(e,i)}},t.prototype.onNavigationKeyDown=function(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,i){var n=this,o=n.cellCtrl,a=n.beans,s=n.rowNode,l=a.gridOptionsService,c=a.rangeService,u=a.eventService;o.isEditing()||(u.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),BK(e,l.get("enableCellEditingOnBackspace"))?c&&l.get("enableRangeSelection")?c.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,i),u.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?V.UP:V.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(V.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(V.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var i=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var n=this.rowNode.isSelected(),o=!n;if(o||!i.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});void 0===n&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(z),sMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cMe=function(r){function t(e,i,n){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=i,o.eCell=n,o}return sMe(t,r),t.prototype.postConstruct=function(){this.getGui().appendChild(pn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var i=this,n=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),n?n(this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):function(){try{var s=JSON.stringify(i.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(le),Cp=function(){function r(){}return r.getHeaderClassesFromColDef=function(t,e,i,n){return Qe(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,n)},r.getToolPanelClassesFromColDef=function(t,e,i,n){return Qe(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,n)},r.refreshFirstAndLastStyles=function(t,e,i){t.addOrRemoveCssClass("ag-column-first",i.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",i.isColumnAtEdge(e,"last"))},r.getClassParams=function(t,e,i,n){return e.addGridCommonParams({colDef:t,column:i,columnGroup:n})},r.getColumnClassesFromCollDef=function(t,e,i,n,o){return Qe(t)?[]:"string"==typeof(a="function"==typeof t?t(this.getClassParams(e,i,n,o)):t)?[a]:Array.isArray(a)?function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1):[];var a},r}(),fMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bE=function(){return bE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},bE.apply(this,arguments)},xMe=0,xd=function(r){function t(e,i,n,o){var a=r.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=i,a.beans=n,a.rowCtrl=o,a.instanceId=e.getId()+"-"+xMe++,a.colIdSanitised=An(a.column.getId()),n.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return fMe(t,r),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new JOe(this,this.beans),this.addDestroyFunc(function(){var n;null===(n=e.cellPositionFeature)||void 0===n||n.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new tMe(this,this.beans),this.addDestroyFunc(function(){var n;null===(n=e.cellCustomStyleFeature)||void 0===n||n.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new rMe(this,this.beans,this.column),this.addDestroyFunc(function(){var n;null===(n=e.cellMouseListenerFeature)||void 0===n||n.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new aMe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var n;null===(n=e.cellKeyboardListenerFeature)||void 0===n||n.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new ZOe(this.beans,this),this.addDestroyFunc(function(){var n;null===(n=e.cellRangeFeature)||void 0===n||n.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this;this.tooltipFeature=new Ns({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&ae(a))return Xm(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(e.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted})):null},getValueFormatted:function(){return e.valueFormatted}},this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,i,n,o,a){var s,l,c,u;this.cellComp=e,this.eGui=i,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(s=this.cellPositionFeature)||void 0===s||s.setComp(i),null===(l=this.cellCustomStyleFeature)||void 0===l||l.setComp(e),null===(c=this.tooltipFeature)||void 0===c||c.setComp(i),null===(u=this.cellKeyboardListenerFeature)||void 0===u||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var i=this;if(this.isAutoHeight=this.column.isAutoHeight(),this.isAutoHeight&&e){var n=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(c){if(!i.editing&&i.isAlive()){var u=_d(n),v=e.offsetHeight+(u.paddingTop+u.paddingBottom+u.borderBottomWidth+u.borderTopWidth);if(c<5){var y=i.beans.gridOptionsService.getDocument();if(!y||!y.contains(e)||0==v)return void window.setTimeout(function(){return a(c+1)},0)}var w=Math.max(v,o);i.rowNode.setRowAutoHeight(w,i.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},t.prototype.getCellAriaRole=function(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isCellRenderer=function(){var e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var n,i=this.getValueToDisplay();if(this.isCellRenderer()){var o=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(n,i,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||n||o},t.prototype.startEditing=function(e,i,n){var o=this;if(void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,i,n)});var a=this.createCellEditorParams(e,i),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var c=null!=l?.popupFromSelector?l.popupFromSelector:!!s.cellEditorPopup,u=null!=l?.popupPositionFromSelector?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,c,u,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(n,x.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var i={newValueExists:!1};if(e)return i;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}:i},t.prototype.saveNewValue=function(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,n},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var i=this.takeValueFromCellEditor(e),n=i.newValue,o=i.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,n,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,i,n){var o=bE(bE({},this.createEvent(null,x.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:n});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},t.prototype.createCellRendererParams=function(){var e=this;return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(n){return e.beans.valueService.setValue(e.rowNode,e.column,n)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(n,o,a,s){return e.registerRowDragger(n,o,s)}})},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var i;this.refreshShouldDestroy()?null===(i=this.rowCtrl)||void 0===i||i.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var i,n,o;if(!this.suppressRefreshCell&&!this.editing){var a=this.column.getColDef(),s=null!=e&&!!e.newData,l=null!=e&&!!e.suppressFlash||!!a.suppressCellFlash,u=e&&e.forceRefresh||null==a.field&&null==a.valueGetter&&null==a.showRowGroup||s,d=!!this.cellComp,h=this.updateAndFormatValue(d);if(d){if(u||h){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)},t.prototype.navigateAfterEdit=function(e){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?V.UP:V.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){var i,n,o=null!==(i=e?.flashDuration)&&void 0!==i?i:e?.flashDelay,a=null!==(n=e?.fadeDuration)&&void 0!==n?n:e?.fadeDelay;this.animateCell("data-changed",o,a)},t.prototype.animateCell=function(e,i,n){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;i||(i=l.get("cellFlashDuration")),ae(n)||(n=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(n,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},n))},i)})}},t.prototype.onFlashCells=function(e){if(this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var i;return null!==(i=this.callValueFormatter(e))&&void 0!==i?i:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var i=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n},t.prototype.valuesAreEqual=function(e,i){var n=this.column.getColDef();return n.equals?n.equals(e,i):e===i},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,i=this.getGui();this.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})},t.prototype.processCharacter=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.processCharacter(e)},t.prototype.onKeyDown=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(e)},t.prototype.onMouseEvent=function(e,i){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(e,i)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;Cp.refreshFirstAndLastStyles(e.cellComp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);VF(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,i){var n=this;void 0===i&&(i=null),this.cellComp?"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i):this.onCellCompAttachedFuncs.push(function(){n.startRowOrCellEdit(e,i)})},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!o&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:kl(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){var e,i;if(this.cellComp)if(this.column.isAutoHeight()!==this.isAutoHeight&&(null===(e=this.rowCtrl)||void 0===e||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature(),null===(i=this.tooltipFeature)||void 0===i||i.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing){var a=this.getCellEditor();if(a?.refresh){var s=this.editCompDetails.params,u=this.createCellEditorParams(s.eventKey,s.cellStartedEdit),d=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(d,u);a.refresh(h.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var i=this,n=this.column.getColDef(),o=this.createEvent(e,x.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),n.onCellContextMenu&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){n.onCellContextMenu(o)})},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new mY;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new cMe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,i,n){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,i);else{var a=this.createRowDragComp(e,i,n);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,i,n){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l)return void We("managed row dragging is only allowed in the Client Side Row Model");if(a)return void We("managed row dragging is not possible when doing pagination")}var c=new vE(function(){return o.value},this.rowNode,this.column,e,i,n);return this.beans.context.createBean(c),c},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(z),EMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hk=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},jk=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},io=(()=>(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"}(io||(io={})),io))(),TMe=0,bp=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=i,s.gridOptionsService=i.gridOptionsService,s.rowNode=e,s.paginationPage=i.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=e.id+"-"+TMe++,s.rowId=An(e.id),s.initRowBusinessKey(),s.rowFocused=i.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=i.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(n),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return EMe(t,r),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"==typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=An(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i,n){var o={rowComp:e,element:i,containerType:n};this.allRowGuis.push(o),n===Yi.LEFT?this.leftGui=o:n===Yi.RIGHT?this.rightGui=o:n===Yi.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(i){return i.containerType!==e}),e){case Yi.LEFT:this.leftGui=void 0;break;case Yi.RIGHT:this.rightGui=void 0;break;case Yi.FULL_WIDTH:this.fullWidthGui=void 0;break;case Yi.CENTER:this.centerGui=void 0}},t.prototype.isCacheable=function(){return this.rowType===io.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var i=e?"none":"";this.allRowGuis.forEach(function(n){return n.element.style.display=i})},t.prototype.initialiseRowComp=function(e){var i=this,n=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&iu(e.element,1==this.rowNode.expanded),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),n.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return n.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){i.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=An(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var i=this,n=e.containerType;this.slideInAnimation[n]&&(CF(function(){i.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(CF(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection"))We("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");else{var i=this.beans.localeService.getLocaleTextFunc(),n=new vE(function(){return"1 ".concat(i("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(n,this.beans.context);this.rowDragComps.push(o)}},t.prototype.setupFullWidth=function(e){var i=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,i);if(this.rowType!=io.FullWidthDetail||Ze.__assertRegistered(ie.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case io.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case io.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case io.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderers=function(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(n){var o;return null===(o=n?.rowComp)||void 0===o?void 0:o.getFullWidthCellRenderer()}):[null===(i=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()]},t.prototype.getCellElement=function(e){var i=this.getCellCtrl(e);return i?i.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&n},t.prototype.setRowType=function(){var e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),n=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=e?io.FullWidthLoading:n?io.FullWidthDetail:i?io.FullWidth:s?io.FullWidthGroup:io.Normal},t.prototype.updateColumnLists=function(e,i){var n=this;if(void 0===e&&(e=!1),void 0===i&&(i=!1),!this.isFullWidth()){if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(i);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){n.active&&n.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,i,n){var o=this;void 0===n&&(n=null);var a={list:[],map:{}},s=function(l,c){a.list.push(c),a.map[l]=c};return i.forEach(function(l){var c=l.getInstanceId(),u=e.map[c];u||(u=new xd(l,o.rowNode,o.beans,o)),s(c,u)}),e.list.forEach(function(l){if(null==a.map[l.getColumn().getInstanceId()]){if(!o.isCellEligibleToBeRemoved(l,n))return void s(l.getColumn().getInstanceId(),l);l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var i=this;this.allRowGuis.forEach(function(n){var o=i.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case Yi.LEFT:return this.leftCellCtrls.list;case Yi.RIGHT:return this.rightCellCtrls.list;case Yi.FULL_WIDTH:return[];case Yi.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: ".concat(e))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var n=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,i){var n=!0;if(e.getColumn().getPinned()!=i)return n;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||l){var u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)&&n}return n},t.prototype.getDomOrder=function(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var i=this,n=function(){e.rowComp.setDomOrder(i.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var i=ae(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.isFullWidth=function(){return this.rowType!==io.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,i=function(c,u){return!c||c.rowComp.refreshFullWidth(function(){return e.createFullWidthParams(c.element,u)})},n=i(this.fullWidthGui,null),o=i(this.centerGui,null),a=i(this.leftGui,"left"),s=i(this.rightGui,"right");return n&&o&&a&&s},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,ct.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ct.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,ct.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ct.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,ct.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,x.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,x.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,x.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,x.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,x.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(i,x.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){e.gridOptionsService.get("rowDragEntireRow")?e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)}):(e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[])}),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,ct.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ct.EVENT_CELL_CHANGED,function(i){e.getAllCellCtrls().forEach(function(n){return n.onCellChanged(i)})})},t.prototype.onRowNodeDataChanged=function(e){var i=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){i.setRowCompRowId(a.rowComp),i.updateRowBusinessKey(),i.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss())},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var o=e===Do.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Do.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),iu(n.element,e&&i)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:kl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var i=this.allRowGuis.find(function(c){return c.element.contains(e.target)});if((i?i.element:null)===e.target){var a=this.rowNode,s=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Is(e)){var i=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),n=i?i.element:null,o=n===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var i,n=this.rowNode,o=!!e&&this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned,a=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,i){var n={list:[],map:{}};return e.list.forEach(function(o){o!==i&&(n.list.push(o),n.map[o.getInstanceId()]=o)}),n},t.prototype.onMouseEvent=function(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}},t.prototype.createRowEvent=function(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})},t.prototype.createRowEventWithSource=function(e,i){var n=this.createRowEvent(e,i);return n.source=this,n},t.prototype.onRowDblClick=function(e){if(!Is(e)){var i=this.createRowEventWithSource(x.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=hp(e.target,"ag-row-drag",3),this.isFullWidth()){var i=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!Is(e)&&!this.lastMouseDownOnDragger){var n=this.createRowEventWithSource(x.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);var o=e.ctrlKey||e.metaKey,a=e.shiftKey;if(!(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),c=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):o?c&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!o,rangeSelect:a,event:e,source:u})}}},t.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},t.prototype.setupDetailRowAutoHeight=function(e){var i=this;if(this.rowType===io.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var n=function(){var a=e.clientHeight;null!=a&&a>0&&window.setTimeout(function(){i.rowNode.setRowHeight(a),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(o),n()}},t.prototype.createFullWidthParams=function(e,i){var n=this;return this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,c){return n.addFullWidthRowDragging(a,s,l,c)}})},t.prototype.addFullWidthRowDragging=function(e,i,n,o){if(void 0===n&&(n=""),this.isFullWidth()){var a=new vE(function(){return n},this.rowNode,void 0,e,i,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var i="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(i,!0),o.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},t.prototype.stopEditing=function(e){var i,n;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next()){var d=c.value.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}if(s){var h=this.createRowEvent(x.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var i=this.createRowEvent(e?x.EVENT_ROW_EDITING_STARTED:x.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},t.prototype.startRowEditing=function(e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.editingRow||this.getAllCellCtrls().reduce(function(a,s){var l=s===i;return s.startEditing(l?e:null,l,n),!!a||s.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:jk(jk(jk([],Hk(this.centerCellCtrls.list),!1),Hk(this.leftCellCtrls.list),!1),Hk(this.rightCellCtrls.list),!1)},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(function(n){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(n,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(i){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!0)})},function(i){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!1)})})},t.prototype.setStylesFromGridOptions=function(e,i){var n=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,function(o){return o.rowComp.setUserStyles(n.rowStyles)})},t.prototype.getPinnedForContainer=function(e){return e===Yi.LEFT?"left":e===Yi.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var i=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var n,i=this.gridOptionsService.getCallback("getRowStyle");return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),n||e?Object.assign({},e,n):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var i=this,n=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(e,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),Jm(a.element,o),a.element.contains(n.activeElement)&&(a===i.centerGui||a===i.fullWidthGui)&&i.announceDescription()})},t.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsService.get("suppressRowDeselection")){var n=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(n)}}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var i=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ct.EVENT_MOUSE_ENTER,function(){!i.beans.dragService.isDragging()&&!i.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),i.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ct.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),i.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,o=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,e),o)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,i){e?i(e):this.allRowGuis.forEach(i)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),a=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(n,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(i,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,i){r.prototype.addEventListener.call(this,e,i)},t.prototype.removeEventListener=function(e,i){r.prototype.removeEventListener.call(this,e,i)},t.prototype.destroyFirstPass=function(e){if(void 0===e&&(e=!1),this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)});this.rowNode.setHovered(!1);var o=this.createRowEvent(x.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),r.prototype.destroy.call(this)},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(i){return i.list.forEach(function(n){return n.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var i=this;this.forEachGui(e,function(n){n.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,i){return void 0===i&&(i=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&ae(e)){var i=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{var n=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(n);i=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return i+"px"},t.prototype.setRowTopStyle=function(e){var i=this;this.allRowGuis.forEach(function(n){return i.suppressRowTransform?n.rowComp.setTop(e):n.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var i=null;return this.getAllCellCtrls().forEach(function(n){n.getColumn()==e&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(function(n){n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var i=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,a=n+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(i),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),GF(s.element,a)})},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(z),AMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ha=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},MMe=function(r){function t(e){var i=r.call(this)||this;return i.element=e,i}return AMe(t,r),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,i)},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",AF("touchstart")?"touchstart":"mousedown"].forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,i){if(this.mouseEventService.isEventFromThisGrid(i)&&!Is(i)){var n=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);"contextmenu"===e?this.handleContextMenuMouseEvent(i,void 0,n,o):(o&&o.onMouseEvent(e,i),n&&n.onMouseEvent(e,i))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(nu()){var i=new Pn(this.element);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.getRowForEvent=function(e){for(var i=e.target;i;){var n=this.gridOptionsService.getDomData(i,bp.DOM_DATA_KEY_ROW_CTRL);if(n)return n;i=i.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,i,n,o){var a=n?n.getRowNode():null,s=o?o.getColumn():null,l=null;s&&(o.dispatchCellContextMenuEvent((e||i)??null),l=this.valueService.getValue(s,a));var u=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():u.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:a,column:s,value:l,anchorToElement:d})},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Zx(this.gridOptionsService,e,xd.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Zx(this.gridOptionsService,e,bp.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,i){var n=this.getControlsForEventTarget(i.target),o=n.cellCtrl,a=n.rowCtrl;i.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,i):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,i))},t.prototype.processCellKeyboardEvent=function(e,i,n){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing();if(cE(this.gridOptionsService,n,o,a,s)||"keydown"!==i||(!s&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),lE(n)&&e.processCharacter(n)),"keydown"===i){var u=e.createEvent(n,x.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(u)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,i,n){var o=e.getRowNode(),a=this.focusService.getFocusedCell();if(!cE(this.gridOptionsService,n,o,a&&a.column,!1)&&"keydown"===i)switch(n.key){case V.PAGE_HOME:case V.PAGE_END:case V.PAGE_UP:case V.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case V.UP:case V.DOWN:e.onKeyboardNavigate(n);break;case V.TAB:e.onTabKeyDown(n)}if("keydown"===i){var u=e.createRowEvent(x.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(u)}},t.prototype.doGridOperations=function(e,i){if((e.ctrlKey||e.metaKey)&&!i&&this.mouseEventService.isEventFromThisGrid(e)){var n=VK(e);if(n===V.A)return this.onCtrlAndA(e);if(n===V.C)return this.onCtrlAndC(e);if(n===V.D)return this.onCtrlAndD(e);if(n===V.V)return this.onCtrlAndV(e);if(n===V.X)return this.onCtrlAndX(e);if(n===V.Y)return this.onCtrlAndY();if(n===V.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var i=this,n=i.pinnedRowModel,a=i.rangeService;if(a&&i.paginationProxy.isRowsToRender()){var s=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([n.isEmpty("top"),n.isEmpty("bottom")],2),u=s[0]?null:"top",d=void 0,h=void 0;s[1]?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=n.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(oa(p))return;a.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:h,rowEndPinned:d,columnStart:p[0],columnEnd:Ut(p)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")){var i=this.getControlsForEventTarget(e.target),n=i.cellCtrl,o=i.rowCtrl;n?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")&&!this.gridOptionsService.get("suppressCutToClipboard")){var i=this.getControlsForEventTarget(e.target),n=i.cellCtrl,o=i.rowCtrl;n?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var i=this.getControlsForEventTarget(e.target),n=i.cellCtrl,o=i.rowCtrl;n?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ha([C("mouseEventService")],t.prototype,"mouseEventService",void 0),ha([C("valueService")],t.prototype,"valueService",void 0),ha([C("menuService")],t.prototype,"menuService",void 0),ha([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ha([C("navigationService")],t.prototype,"navigationService",void 0),ha([C("focusService")],t.prototype,"focusService",void 0),ha([C("undoRedoService")],t.prototype,"undoRedoService",void 0),ha([C("columnModel")],t.prototype,"columnModel",void 0),ha([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ha([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ha([gt("rangeService")],t.prototype,"rangeService",void 0),ha([gt("clipboardService")],t.prototype,"clipboardService",void 0),ha([j],t.prototype,"postConstruct",null),t}(z),RMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),X_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},MY=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},RY=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},PMe=function(r){function t(e){var i=r.call(this)||this;return i.centerContainerCtrl=e,i}return RMe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,i=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(i),this.gridBodyCtrl.registerBodyViewportResizeListener(i)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var i=pp(this.gridBodyCtrl.getBodyViewportElement());if(!(i<=50)){var n=this.getPinnedColumnsOverflowingViewport(i-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");n.length&&(o&&(n=o({columns:n,viewportWidth:i})),this.columnModel.setColumnsPinned(n,null,"viewportSizeFeature"))}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var o=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(o<e)return[];for(var a=RY([],MY(this.columnModel.getDisplayedLeftColumns()),!1),s=RY([],MY(this.columnModel.getDisplayedRightColumns()),!1),l=0,c=0,d=[],h=o-0-e;(c<a.length||l<s.length)&&h>0;){var p;l<s.length&&(h-=(p=s[l++]).getActualWidth(),d.push(p)),c<a.length&&h>0&&(h-=(p=a[c++]).getActualWidth(),d.push(p))}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var i=F_(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:x.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},X_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),X_([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),X_([C("columnModel")],t.prototype,"columnModel",void 0),X_([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),X_([j],t.prototype,"postConstruct",null),t}(z),IMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},FMe=function(r){function t(e){var i=r.call(this)||this;return i.element=e,i}return IMe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();Nt(this.element,e>0),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},PY([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),PY([j],t.prototype,"postConstruct",null),t}(z),kMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},LMe=function(r){function t(e){var i=r.call(this)||this;return i.element=e,i}return kMe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();Nt(this.element,e>0),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},IY([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),IY([j],t.prototype,"postConstruct",null),t}(z),NMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kY=function(r){function t(e,i){var n=r.call(this)||this;return n.eContainer=e,n.eViewport=i,n}return NMe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),i=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)},FY([C("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),FY([j],t.prototype,"postConstruct",null),t}(z),GMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Uk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},VMe=function(r){function t(e){var i=r.call(this)||this;return i.eContainer=e,i}return GMe(t,r),t.prototype.postConstruct=function(){var e=this;Qe(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(n){n.currentValue?e.enableFeature():e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()}),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Uk([gt("rangeService")],t.prototype,"rangeService",void 0),Uk([C("dragService")],t.prototype,"dragService",void 0),Uk([j],t.prototype,"postConstruct",null),t}(z),BMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Wk=function(r){function t(e,i){void 0===i&&(i=!1);var n=r.call(this)||this;return n.callback=e,n.addSpacer=i,n}return BMe(t,r),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var s,e=this.columnModel,i=this.gridOptionsService.isDomLayout("print"),n=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth();i?s=n+o+a:(s=n,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?o:a)&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)},zk([C("columnModel")],t.prototype,"columnModel",void 0),zk([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),zk([j],t.prototype,"postConstruct",null),t}(z),HMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),og=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wE=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},SE=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},X=(()=>((X=X||{}).LEFT="left",X.RIGHT="right",X.CENTER="center",X.FULL_WIDTH="fullWidth",X.TOP_LEFT="topLeft",X.TOP_RIGHT="topRight",X.TOP_CENTER="topCenter",X.TOP_FULL_WIDTH="topFullWidth",X.STICKY_TOP_LEFT="stickyTopLeft",X.STICKY_TOP_RIGHT="stickyTopRight",X.STICKY_TOP_CENTER="stickyTopCenter",X.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",X.BOTTOM_LEFT="bottomLeft",X.BOTTOM_RIGHT="bottomRight",X.BOTTOM_CENTER="bottomCenter",X.BOTTOM_FULL_WIDTH="bottomFullWidth",X))(),Yi=(()=>((Yi=Yi||{}).LEFT="left",Yi.RIGHT="right",Yi.CENTER="center",Yi.FULL_WIDTH="fullWidth",Yi))(),UMe=md([[X.CENTER,"ag-center-cols-container"],[X.LEFT,"ag-pinned-left-cols-container"],[X.RIGHT,"ag-pinned-right-cols-container"],[X.FULL_WIDTH,"ag-full-width-container"],[X.TOP_CENTER,"ag-floating-top-container"],[X.TOP_LEFT,"ag-pinned-left-floating-top"],[X.TOP_RIGHT,"ag-pinned-right-floating-top"],[X.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[X.STICKY_TOP_CENTER,"ag-sticky-top-container"],[X.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[X.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[X.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[X.BOTTOM_CENTER,"ag-floating-bottom-container"],[X.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[X.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[X.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),zMe=md([[X.CENTER,"ag-center-cols-viewport"],[X.TOP_CENTER,"ag-floating-top-viewport"],[X.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[X.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),LY=function(r){function t(e){var i=r.call(this)||this;return i.visible=!0,i.EMPTY_CTRLS=[],i.name=e,i.isFullWithContainer=i.name===X.TOP_FULL_WIDTH||i.name===X.STICKY_TOP_FULL_WIDTH||i.name===X.BOTTOM_FULL_WIDTH||i.name===X.FULL_WIDTH,i}return HMe(t,r),t.getRowContainerCssClasses=function(e){return{container:UMe.get(e),viewport:zMe.get(e)}},t.getPinned=function(e){switch(e){case X.BOTTOM_LEFT:case X.TOP_LEFT:case X.STICKY_TOP_LEFT:case X.LEFT:return"left";case X.BOTTOM_RIGHT:case X.TOP_RIGHT:case X.STICKY_TOP_RIGHT:case X.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([X.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new PMe(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case X.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case X.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case X.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case X.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case X.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case X.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case X.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case X.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case X.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case X.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case X.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case X.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,i){e.indexOf(this.name)>=0&&i()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,i,n){var o=this;this.comp=e,this.eContainer=i,this.eViewport=n,this.createManagedBean(new MMe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[X.STICKY_TOP_CENTER,X.STICKY_TOP_LEFT,X.STICKY_TOP_RIGHT],l=[X.BOTTOM_CENTER,X.BOTTOM_LEFT,X.BOTTOM_RIGHT],c=[X.CENTER,X.LEFT,X.RIGHT],u=SE(SE(SE(SE([],wE([X.TOP_CENTER,X.TOP_LEFT,X.TOP_RIGHT]),!1),wE(l),!1),wE(c),!1),wE(s),!1),d=[X.CENTER,X.LEFT,X.RIGHT,X.FULL_WIDTH],h=[X.CENTER,X.TOP_CENTER,X.STICKY_TOP_CENTER,X.BOTTOM_CENTER],f=[X.RIGHT,X.BOTTOM_RIGHT,X.TOP_RIGHT,X.STICKY_TOP_RIGHT];this.forContainers([X.LEFT,X.BOTTOM_LEFT,X.TOP_LEFT,X.STICKY_TOP_LEFT],function(){o.pinnedWidthFeature=o.createManagedBean(new FMe(o.eContainer)),o.addManagedListener(o.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new LMe(o.eContainer)),o.addManagedListener(o.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new kY(o.eContainer,o.name===X.CENTER?n:void 0))}),this.forContainers(u,function(){return o.createManagedBean(new VMe(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new Wk(function(m){return o.comp.setContainerWidth("".concat(m,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_ROWS_CHANGED,function(i){return e.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([X.STICKY_TOP_CENTER,X.STICKY_TOP_LEFT,X.STICKY_TOP_RIGHT,X.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([X.TOP_CENTER,X.STICKY_TOP_CENTER,X.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([X.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([X.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,i=function(n){e.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",i)})},t.prototype.onHorizontalViewportChanged=function(e){void 0===e&&(e=!1);var i=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,n,e)},t.prototype.getCenterWidth=function(){return pp(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return N_(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return i()})},t.prototype.isViewportInTheDOMTree=function(){return lk(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return N_(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||PK(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){G_(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var i=this;if(void 0===e&&(e=!1),this.visible){var n=this.gridOptionsService.isDomLayout("print"),a=this.gridOptionsService.get("embedFullWidthRows")||n,s=this.getRowCtrls().filter(function(l){var c=l.isFullWidth();return i.isFullWithContainer?!a&&c:a||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}else this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS})},t.prototype.getRowCtrls=function(){switch(this.name){case X.TOP_CENTER:case X.TOP_LEFT:case X.TOP_RIGHT:case X.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case X.STICKY_TOP_CENTER:case X.STICKY_TOP_LEFT:case X.STICKY_TOP_RIGHT:case X.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case X.BOTTOM_CENTER:case X.BOTTOM_LEFT:case X.BOTTOM_RIGHT:case X.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},og([C("dragService")],t.prototype,"dragService",void 0),og([C("ctrlsService")],t.prototype,"ctrlsService",void 0),og([C("columnModel")],t.prototype,"columnModel",void 0),og([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),og([C("rowRenderer")],t.prototype,"rowRenderer",void 0),og([j],t.prototype,"postConstruct",null),t}(z),WMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lu=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},$Me='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'.concat(X.TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="').concat(X.TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="').concat(X.TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="').concat(X.TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="').concat(X.LEFT,'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="').concat(X.CENTER,'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="').concat(X.RIGHT,'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="').concat(X.FULL_WIDTH,'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="').concat(X.STICKY_TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="').concat(X.STICKY_TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="').concat(X.STICKY_TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="').concat(X.STICKY_TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="').concat(X.BOTTOM_LEFT,'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="').concat(X.BOTTOM_CENTER,'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="').concat(X.BOTTOM_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="').concat(X.BOTTOM_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>'),KMe=function(r){function t(){return r.call(this,$Me)||this}return WMe(t,r),t.prototype.init=function(){var e=this,i=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},n={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return _K(e.getGui(),o)},setRowCount:function(o){return yK(e.getGui(),o)},setTopHeight:function(o){return i(o,e.eTop)},setBottomHeight:function(o){return i(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){[e.eBodyViewport.classList,e.eBody.classList].forEach(function(l){l.toggle(Ki.AUTO_HEIGHT,a.autoHeight),l.toggle(Ki.NORMAL,a.normal),l.toggle(Ki.PRINT,a.print)}),e.addOrRemoveCssClass(Ki.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Ki.NORMAL,a.normal),e.addOrRemoveCssClass(Ki.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(AY,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new jOe),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&vK(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,i){var n=this.eBodyViewport.classList;n.toggle(su.ANIMATION_ON,i),n.toggle(su.ANIMATION_OFF,!i)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},lu([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lu([gt("rangeService")],t.prototype,"rangeService",void 0),lu([G("eBodyViewport")],t.prototype,"eBodyViewport",void 0),lu([G("eStickyTop")],t.prototype,"eStickyTop",void 0),lu([G("eTop")],t.prototype,"eTop",void 0),lu([G("eBottom")],t.prototype,"eBottom",void 0),lu([G("gridHeader")],t.prototype,"headerRootComp",void 0),lu([G("eBody")],t.prototype,"eBody",void 0),lu([j],t.prototype,"init",null),t}(le),YMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qMe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YMe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){e.columnAnimationService.executeLaterVMTurn(function(){return e.updateImpl()})}):this.updateImpl()},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e&&!this.columnAnimationService.isActive()){var i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:x.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},xE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),xE([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),xE([j],t.prototype,"postConstruct",null),xE([oe("scrollVisibleService")],t)}(z),XMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ZMe=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.gridInstanceId=e.gridInstanceSequence.next(),i}var e;return XMe(t,r),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(i){return Zx(this.gridOptionsService,i.target,xd.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(i){return this.isElementInThisGrid(i.target)},t.prototype.isElementInThisGrid=function(i){for(var n=i;n;){var o=n[e.GRID_DOM_KEY];if(ae(o))return o===this.gridInstanceId;n=n.parentElement}return!1},t.prototype.getCellPositionForEvent=function(i){var n=this.getRenderedCellForEvent(i);return n?n.getCellPosition():null},t.prototype.getNormalisedPosition=function(i){var a,s,n=this.gridOptionsService.isDomLayout("normal");if(null!=i.clientX||null!=i.clientY?(a=i.clientX,s=i.clientY):(a=i.x,s=i.y),n){var l=this.ctrlsService.getGridBodyCtrl(),c=l.getScrollFeature().getVScrollPosition();a+=l.getScrollFeature().getHScrollPosition().left,s+=c.top}return{x:a,y:s}},t.gridInstanceSequence=new Nr,t.GRID_DOM_KEY="__ag_grid_instance",NY([C("ctrlsService")],t.prototype,"ctrlsService",void 0),e=NY([oe("mouseEventService")],t)}(z),QMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EE=function(){return EE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},EE.apply(this,arguments)},Ao=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},JMe=function(r){function t(){var e=r.call(this)||this;return e.onPageDown=bF(e.onPageDown,100),e.onPageUp=bF(e.onPageUp,100),e}return QMe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,i){void 0===i&&(i=!1);var n=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),c=!1;switch(n){case V.PAGE_HOME:case V.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(n),c=!0);break;case V.LEFT:case V.RIGHT:case V.UP:case V.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(n,l),c=!0);break;case V.PAGE_DOWN:case V.PAGE_UP:!a&&!o&&(c=this.handlePageUpDown(n,l,i))}return c&&e.preventDefault(),c},t.prototype.handlePageUpDown=function(e,i,n){return n&&(i=this.focusService.getFocusedCell()),!!i&&(e===V.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0)},t.prototype.navigateTo=function(e){var i=e.scrollIndex,n=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;ae(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ae(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:null,column:s})},t.prototype.onPageDown=function(e){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRowIndexAtPixel(n.top+o+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(n.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,i,n){void 0===n&&(n=!1);var f,o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(e.rowIndex),u=n?c?.rowHeight-o-l:o-l,h=this.paginationProxy.getRowIndexAtPixel(c?.rowTop+u+l);h===e.rowIndex&&(i=h=e.rowIndex+(n?-1:1)),n?(f="bottom",h<a&&(h=a),i<a&&(i=a)):(f="top",h>s&&(h=s),i>s&&(i=s)),this.isRowTallerThanView(h)&&(i=h,f="top"),this.navigateTo({scrollIndex:i,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,i,n){var o=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,n);o.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,i){var n;void 0===i&&(i=!1);for(var o=i?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,c=e.rowIndex;c>=0&&c<=s;){var u=this.paginationProxy.getRow(c);if(u){var d=null!==(n=u.rowHeight)&&void 0!==n?n:0;if(l+d>a)break;l+=d}c+=o}return Math.max(0,Math.min(c,s))},t.prototype.getViewportHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth(),o=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=n),o},t.prototype.isRowTallerThanView=function(e){var i=this.paginationProxy.getRow(e);if(!i)return!1;var n=i.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,i){var n=this.cellNavigationService.getNextCellToFocus(e,i,!0),o=n.rowIndex,a=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var i=e===V.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),o=i?n[0]:Ut(n),a=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,i){var n=i.shiftKey;if(this.tabToNextCellCommon(e,n,i))i.preventDefault();else if(n){var a=e.getRowPosition(),s=a.rowIndex;(a.rowPinned?0===s:s===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof xd&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&i.preventDefault()},t.prototype.tabToNextCell=function(e,i){var n=this.focusService.getFocusedCell();if(!n)return!1;var o=this.getCellByPosition(n);return!!(o||(o=this.rowRenderer.getRowByPosition(n),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,i)},t.prototype.tabToNextCellCommon=function(e,i,n){var o=e.isEditing();if(!o&&e instanceof xd){var s=e.getRowCtrl();s&&(o=s.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,i,n):this.moveToNextEditingCell(e,i,n):this.moveToNextCellNotEditing(e,i))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,i,n){void 0===n&&(n=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,i,!0);return null!=a&&(a.startEditing(null,!0,n),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,i,n){void 0===n&&(n=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,i,!0);if(null==a)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),c=this.isCellEditable(s),u=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return l&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),a.getRowCtrl().startRowEditing(void 0,void 0,n)),c?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,i){var o,n=this.columnModel.getAllDisplayedColumns();o=e instanceof bp?EE(EE({},e.getRowPosition()),{column:i?n[0]:Ut(n)}):e.getCellPosition();var a=this.findNextCellToFocusOn(o,i,!1);if(a instanceof xd)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),i);return ae(a)},t.prototype.findNextCellToFocusOn=function(e,i,n){for(var o=e;;){e!==o&&(e=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);var a=this.gridOptionsService.getCallback("tabToNextCell");if(ae(a)){var l=a({backwards:i,editing:n,previousCellPosition:e,nextCellPosition:o||null});ae(l)?(l.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+o.rowIndex,column:o.column},fromCell:!0}),null}var u="fullRow"===this.gridOptionsService.get("editType");if(!n||u||this.isCellEditable(o)){this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||n)continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}}},t.prototype.isCellEditable=function(e){var i=this.lookupRowNodeForCell(e);return!!i&&e.column.isCellEditable(i)},t.prototype.getCellByPosition=function(e){var i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,i,n,o){for(var a=n,s=!1;a&&(a===n||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?i===V.LEFT&&(a=this.getLastCellOfColSpan(a)):i===V.RIGHT&&(a=this.getLastCellOfColSpan(a)),s=Qe(a=this.cellNavigationService.getNextCellToFocus(i,a));if(s&&e&&e.key===V.UP&&(a={rowIndex:-1,rowPinned:null,column:n.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(ae(l)){var u=l({key:i,previousCellPosition:n,nextCellPosition:a||null,event:e});ae(u)?(u.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),a={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}var h=this.getNormalisedPosition(a);h?this.focusPosition(h):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,i){void 0===i&&(i=!1);var n=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Ut(n):n[0])};this.focusPosition(s);var l=null!=a&&this.rowPositionUtils.before(s,a);return this.eventService.dispatchEvent({type:x.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var i=this.getCellByPosition(e);if(!i)return e;var n=i.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:Ut(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var i=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(i&&n?.sticky)&&Qe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Ao([C("mouseEventService")],t.prototype,"mouseEventService",void 0),Ao([C("paginationProxy")],t.prototype,"paginationProxy",void 0),Ao([C("focusService")],t.prototype,"focusService",void 0),Ao([gt("rangeService")],t.prototype,"rangeService",void 0),Ao([C("columnModel")],t.prototype,"columnModel",void 0),Ao([C("rowModel")],t.prototype,"rowModel",void 0),Ao([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Ao([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Ao([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ao([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ao([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ao([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ao([j],t.prototype,"postConstruct",null),Ao([oe("navigationService")],t)}(z),eRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iRe=function(r){function t(e){var i=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=e,i}return eRe(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,i=this.getGui(),n=this.params;this.addManagedListener(i,"keydown",function(a){cE(e.gridOptionsService,a,n.node,n.column,!0)||n.onKeyDown(a)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(wd),nRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rRe=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=i.getColumn(),s.rowNode=i.getRowNode(),s.rowCtrl=i.getRowCtrl(),s.eRow=o,s.cellCtrl=i;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var c=s.getGui();s.forceWrapper=i.isForceWrapper(),s.refreshWrapper(!1);var u=function(p,f){null!=f&&""!=f?c.setAttribute(p,f):c.removeAttribute(p)};On(c,i.getCellAriaRole()),u("col-id",i.getColumnIdSanitised());var d=i.getTabIndex();return void 0!==d&&u("tabindex",d.toString()),i.setComp({addOrRemoveCssClass:function(p,f){return s.addOrRemoveCssClass(p,f)},setUserStyles:function(p){return dk(c,p)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,f,m){return s.setRenderDetails(p,f,m)},setEditDetails:function(p,f,m){return s.setEditDetails(p,f,m)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}},s.getGui(),s.eCellWrapper,n,a),s}return nRe(t,r),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,i,n){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var a=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!n&&!a&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}},t.prototype.setEditDetails=function(e,i,n){e?this.createCellEditorInstance(e,i,n):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=i||this.forceWrapper,o=n&&null==this.eCellWrapper;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!n&&null!=this.eCellWrapper;s&&(Vl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var l=!e&&n,c=l&&null==this.eCellValue;if(c){var u=document.createElement("span");u.setAttribute("role","presentation"),u.setAttribute("class","ag-cell-value"),this.eCellValue=u,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&null!=this.eCellValue;d&&(Vl(this.eCellValue),this.eCellValue=void 0);var h=o||s||c||d;return h&&this.removeControls(),e||i&&this.addControls(),h},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,i,n){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(u){return o.afterCellEditorCreated(a,u,l,i,n)}),Qe(this.cellEditor)&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var i=this.getParentOfValue();Yn(i);var n=null!=e?An(e,!0):null;null!=n&&(i.textContent=n)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Vl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Vl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var i=this.cellRenderer.refresh(e.params);return!0===i||void 0===i},t.prototype.createCellRendererInstance=function(e){var i=this,n=this.beans.gridOptionsService.get("suppressAnimationFrame"),a=this.rendererVersion,s=e.componentClass,l=function(){if(i.rendererVersion===a&&i.isAlive()){var u=e.newAgStackInstance(),d=i.afterCellRendererCreated.bind(i,a,s);u&&u.then(d)}};!n&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,i,n){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var a=this.getParentOfValue();Yn(a),a.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(n)},t.prototype.afterCellEditorCreated=function(e,i,n,o,a){if(e!==this.editorVersion)this.beans.context.destroyBean(i);else{if(i.isCancelBeforeStart&&i.isCancelBeforeStart())return this.beans.context.destroyBean(i),void this.cellCtrl.stopEditing(!0);if(!i.getGui)return console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),void this.beans.context.destroyBean(i);this.cellEditor=i,this.cellEditorGui=i.getGui();var c=o||void 0!==i.isPopup&&i.isPopup();c?this.addPopupCellEditor(n,a):this.addInCellEditor(),this.refreshEditStyles(!0,c),i.afterGuiAttached&&i.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,i){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),null===(n=this.rowCtrl)||void 0===n||n.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,i){var n=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new iRe(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),c=i??(o.getPopupPosition?o.getPopupPosition():"over"),u=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:c,alignSide:u?"right":"left",keepWithinBounds:!0},h=s.positionPopupByComponent.bind(s,d),p=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&QF()&&e.focus({preventScroll:!0}),Yn(this.getParentOfValue())},t}(le),oRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aRe=function(r){function t(e,i,n){var o=r.call(this)||this;o.cellComps={},o.beans=i,o.rowCtrl=e;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(n)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),On(s,"row");var c=o.rowCtrl.getTabIndex();return null!=c&&s.setAttribute("tabindex",c.toString()),e.setComp({setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,h){return o.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return dk(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}},o.getGui(),n),o.addDestroyFunc(function(){e.unsetComp(n)}),o}return oRe(t,r),t.prototype.getInitialStyle=function(e){var i=this.rowCtrl.getInitialTransform(e);return i?"transform: ".concat(i):"top: ".concat(this.rowCtrl.getInitialRowTop(e))},t.prototype.showFullWidth=function(e){var i=this,o=e.newAgStackInstance();o&&o.then(function(a){if(i.isAlive()){var s=a.getGui();i.getGui().appendChild(s),i.rowCtrl.setupDetailRowAutoHeight(s),i.setFullWidthRowComp(a)}else i.beans.context.destroyBean(a)})},t.prototype.setCellCtrls=function(e){var i=this,n=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId();null==i.cellComps[s]?i.newCellComp(a):n[s]=null});var o=pd(n).filter(function(a){return null!=a});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var i=this;if(this.domOrder){var n=[];e.forEach(function(o){var a=i.cellComps[o.getInstanceId()];a&&n.push(a.getGui())}),uk(this.getGui(),n)}},t.prototype.newCellComp=function(e){var i=new rRe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=pd(this.cellComps).filter(function(i){return null!=i});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var i=this;e.forEach(function(n){if(n){var o=n.getCtrl().getInstanceId();i.cellComps[o]===n&&(n.detach(),n.destroy(),i.cellComps[o]=null)}})},t.prototype.refreshFullWidth=function(e){var i=this.fullWidthCellRenderer;if(!i||!i.refresh)return!1;var n=e();return i.refresh(n)},t}(le),sRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$k=function(){return $k=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},$k.apply(this,arguments)},Z_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cRe=function(r){function t(){var e=r.call(this,function lRe(){var r=le.elementGettingCreated.getAttribute("name"),t=LY.getRowContainerCssClasses(r);return r===X.CENTER||r===X.TOP_CENTER||r===X.STICKY_TOP_CENTER||r===X.BOTTOM_CENTER?'<div class="'.concat(t.viewport,'" ref="eViewport" role="presentation">\n                <div class="').concat(t.container,'" ref="eContainer"></div>\n            </div>'):'<div class="'.concat(t.container,'" ref="eContainer"></div>')}())||this;return e.rowComps={},e.name=le.elementGettingCreated.getAttribute("name"),e.type=function jMe(r){switch(r){case X.CENTER:case X.TOP_CENTER:case X.STICKY_TOP_CENTER:case X.BOTTOM_CENTER:return Yi.CENTER;case X.LEFT:case X.TOP_LEFT:case X.STICKY_TOP_LEFT:case X.BOTTOM_LEFT:return Yi.LEFT;case X.RIGHT:case X.TOP_RIGHT:case X.STICKY_TOP_RIGHT:case X.BOTTOM_RIGHT:return Yi.RIGHT;case X.FULL_WIDTH:case X.TOP_FULL_WIDTH:case X.STICKY_TOP_FULL_WIDTH:case X.BOTTOM_FULL_WIDTH:return Yi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return sRe(t,r),t.prototype.postConstruct=function(){var e=this,i={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o.rowCtrls)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}};this.createManagedBean(new LY(this.name)).setComp(i,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var i=this,n=$k({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(a){var s=a.getInstanceId(),l=n[s];if(l)i.rowComps[s]=l,delete n[s],i.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var c=new aRe(a,i.beans,i.type);i.rowComps[s]=c,i.appendRow(c.getGui())}}),pd(n).forEach(function(a){i.eContainer.removeChild(a.getGui()),a.destroy()}),On(this.eContainer,"rowgroup")},t.prototype.appendRow=function(e){this.domOrder?RK(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(ck(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Z_([C("beans")],t.prototype,"beans",void 0),Z_([G("eViewport")],t.prototype,"eViewport",void 0),Z_([G("eContainer")],t.prototype,"eContainer",void 0),Z_([j],t.prototype,"postConstruct",null),Z_([Oi],t.prototype,"preDestroy",null),t}(le),GY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uRe=function(){function r(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return r.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var i=t.dragItem.columns;i&&i.forEach(function(n){n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?e.columnsToAggregate.push(n):n.isAllowRowGroup()?e.columnsToGroup.push(n):n.isAllowPivot()&&e.columnsToPivot.push(n)))})}},r.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Bt.ICON_PINNED:Bt.ICON_MOVE:null},r.prototype.onDragLeave=function(t){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(t){},r.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},GY([C("columnModel")],r.prototype,"columnModel",void 0),GY([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),wp=function(){function r(){}return r.attemptMoveColumns=function(t){var e=t.isFromHeader,i=t.hDirection,n=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,c=t.columnModel,u=i===lr.Left,d=i===lr.Right,h=t.allMovingColumns;if(e){var p=[];h.forEach(function(N){for(var B,Y=null,ne=N.getParent();null!=ne&&1===ne.getDisplayedLeafColumns().length;)Y=ne,ne=ne.getParent();null!=Y?(null!==(B=Y.getColGroupDef())&&void 0!==B&&B.marryChildren?Y.getProvidedColumnGroup().getLeafColumns():Y.getLeafColumns()).forEach(function($){p.includes($)||p.push($)}):p.includes(N)||p.push(N)}),h=p}var f=h.slice();c.sortColumnsLikeGridColumns(f);var m=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:n,pinned:s,gridOptionsService:l,columnModel:c}),g=this.calculateOldIndex(f,c);if(0!==m.length){var v=m[0],y=null!==g&&!o;if(e&&(y=null!==g),!y||a||!(u&&v>=g||d&&v<=g)){for(var _=c.getAllDisplayedColumns(),b=[],w=null,E=0;E<m.length;E++){var M=m[E],P=c.getProposedColumnOrder(f,M);if(c.doesOrderPassRules(P)){var I=P.filter(function(N){return _.includes(N)});if(null===w)w=I;else if(!tu(I,w))break;var k=this.groupFragCount(P);b.push({move:M,fragCount:k})}}if(0!==b.length)return b.sort(function(N,B){return N.fragCount-B.fragCount}),this.moveColumns(h,b[0].move,"uiColumnMoved",!1,c)}}},r.moveColumns=function(t,e,i,n,o){return o.moveColumns(t,e,i,n),n?null:{columns:t,toIndex:e}},r.calculateOldIndex=function(t,e){var i=e.getAllGridColumns(),n=X8(t.map(function(c){return i.indexOf(c)})),o=n[0];return Ut(n)-o!=n.length-1?null:o},r.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();null!=l;)s.push(l),l=l.getOriginalParent();return s}for(var i=0,n=function(a){var s,l=e(t[a]),c=e(t[a+1]);s=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(l.length>c.length?[l,c]:[c,l],2),c=s[1],(l=s[0]).forEach(function(u){-1===c.indexOf(u)&&i++})},o=0;o<t.length-1;o++)n(o);return i},r.calculateValidMoves=function(t){var e=t.movingCols,i=t.draggingRight,n=t.xPosition,o=t.pinned,s=t.columnModel;if(t.gridOptionsService.get("suppressMovableColumns")||e.some(function(N){return N.getColDef().suppressMovable}))return[];var _,c=s.getDisplayedColumns(o),u=s.getAllGridColumns(),d=c.filter(function(N){return Rs(e,N)}),h=c.filter(function(N){return!Rs(e,N)}),p=u.filter(function(N){return!Rs(e,N)}),f=0,m=n;if(i){var g=0;d.forEach(function(N){return g+=N.getActualWidth()}),m-=g}if(m>0){for(var v=0;v<h.length&&!((m-=h[v].getActualWidth())<0);v++)f++;i&&f++}f>0?_=p.indexOf(h[f-1])+1:-1===(_=p.indexOf(h[0]))&&(_=0);var w=[_],E=function(N,B){return N-B};if(i){for(var M=_+1,P=u.length-1;M<=P;)w.push(M),M++;w.sort(E)}else{P=u.length-1;for(var I=u[M=_];M<=P&&c.indexOf(I)<0;)M++,w.push(M),I=u[M];for(M=_-1;M>=0;)w.push(M),M--;w.sort(E).reverse()}return w},r.normaliseX=function(t,e,i,n,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();return i&&(t-=a.getBoundingClientRect().left),n.get("enableRtl")&&(t=a.clientWidth-t),null==e&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},r}(),Q_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},hRe=function(){function r(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!ae(t)}return r.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?Bt.ICON_PINNED:Bt.ICON_MOVE},r.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===zt.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,o=(e||[]).filter(function(a){return n[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(t,e,i){if(t){var n=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(n,e,i)}},r.prototype.setColumnsPinned=function(t,e,i){if(t){var n=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(n,e,i)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(t,e,i,n){var a,o=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),n){if(this.lastMovedInfo){var s=this.lastMovedInfo;wp.moveColumns(s.columns,s.toIndex,"uiColumnMoved",!0,this.columnModel)}}else if(this.lastDraggingEvent=t,!Qe(t.hDirection)){var u=wp.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(u);var d=this.normaliseDirection(t.hDirection),h=t.dragSource.type,p=(null===(a=t.dragSource.getDragItem().columns)||void 0===a?void 0:a.filter(function(m){return!m.getColDef().lockPinned||m.getPinned()==o.pinned}))||[],f=wp.attemptMoveColumns({allMovingColumns:p,isFromHeader:h===zt.HeaderCell,hDirection:d,xPosition:u,pinned:this.pinned,fromEnter:e,fakeEvent:i,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},r.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case lr.Left:return lr.Right;case lr.Right:return lr.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Bt.ICON_LEFT:Bt.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Bt.ICON_MOVE))},r.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(s){return!s.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(Bt.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(o,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Q_([C("columnModel")],r.prototype,"columnModel",void 0),Q_([C("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Q_([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Q_([C("ctrlsService")],r.prototype,"ctrlsService",void 0),Q_([j],r.prototype,"init",null),r}(),pRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),J_=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},fRe=function(r){function t(e,i){var n=r.call(this)||this;return n.pinned=e,n.eContainer=i,n}return pRe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){switch(e.pinned){case"left":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===zt.HeaderCell||e===zt.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new hRe(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new uRe(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===zt.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},J_([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),J_([C("columnModel")],t.prototype,"columnModel",void 0),J_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),J_([j],t.prototype,"postConstruct",null),J_([j],t.prototype,"init",null),t}(z),mRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},gRe=function(r){function t(e){var i=r.call(this,t.TEMPLATE,e)||this;return i.headerCompVersion=0,i.column=e.getColumnGroupChild(),i.pinned=e.getPinned(),i}return mRe(t,r),t.prototype.postConstruct=function(){var s,l,e=this,i=this.getGui();s="col-id",null!=(l=this.column.getColId())&&""!=l?i.setAttribute(s,l):i.removeAttribute(s);var o={setWidth:function(s){return i.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?bK(i,s):wK(i)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var i=this;this.headerCompVersion++;var n=this.headerCompVersion;e.newAgStackInstance().then(function(o){return i.afterCompCreated(n,o)})},t.prototype.afterCompCreated=function(e,i){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',DE([G("eResize")],t.prototype,"eResize",void 0),DE([G("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),DE([j],t.prototype,"postConstruct",null),DE([Oi],t.prototype,"destroyHeaderComp",null),t}(Gk),vRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},yRe=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return vRe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.getGui();i.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return Nt(e.eResize,a)},setWidth:function(a){return i.style.width=a},setAriaExpanded:function(a){return function(a,s){return null!=s?i.setAttribute(a,s):i.removeAttribute(a)}("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}},i,this.eResize)},t.prototype.setUserCompDetails=function(e){var i=this;e.newAgStackInstance().then(function(n){return i.afterHeaderCompCreated(n)})},t.prototype.afterHeaderCompCreated=function(e){var i=this,n=function(){return i.destroyBean(e)};if(this.isAlive()){var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(n),this.headerGroupComp=e,this.ctrl.setDragSource(o)}else n()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',VY([G("eResize")],t.prototype,"eResize",void 0),VY([j],t.prototype,"postConstruct",null),t}(Gk),_Re=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},mn=(()=>((mn=mn||{}).COLUMN_GROUP="group",mn.COLUMN="column",mn.FLOATING_FILTER="filter",mn))(),CRe=function(r){function t(e){var i=r.call(this)||this;return i.headerComps={},i.ctrl=e,i.setTemplate('<div class="'.concat(i.ctrl.getHeaderRowClass(),'" role="row"></div>')),i}return _Re(t,r),t.prototype.init=function(){var e=this;GF(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:function(n){return e.getGui().style.height=n},setTop:function(n){return e.getGui().style.top=n},setHeaderCtrls:function(n,o){return e.setHeaderCtrls(n,o)},setWidth:function(n){return e.getGui().style.width=n}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,i){var n=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var c=l.getInstanceId(),u=o[c];delete o[c],null==u&&(u=n.createHeaderComp(l),n.getGui().appendChild(u.getGui())),n.headerComps[c]=u}),Lr(o,function(l,c){n.getGui().removeChild(c.getGui()),n.destroyBean(c)}),i){var a=pd(this.headerComps);a.sort(function(l,c){return l.getCtrl().getColumnGroupChild().getLeft()-c.getCtrl().getColumnGroupChild().getLeft()});var s=a.map(function(l){return l.getGui()});uk(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var i;switch(this.ctrl.getType()){case mn.COLUMN_GROUP:i=new yRe(e);break;case mn.FLOATING_FILTER:i=new MOe(e);break;default:i=new gRe(e)}return this.createBean(i),i.setParentComponent(this),i},BY([j],t.prototype,"init",null),BY([Oi],t.prototype,"destroyHeaderCtrls",null),t}(le),bRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sp=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wRe=0,TE=function(r){function t(e,i,n){var o=r.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=n,o.beans=i,o.instanceId=e.getUniqueId()+"-"+wRe++,o}return bRe(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return e.refreshTabIndex()})},t.prototype.shouldStopEventPropagation=function(e){var i=this.focusService.getFocusedHeader();return GK(this.gridOptionsService,e,i.headerRowIndex,i.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;Cp.refreshFirstAndLastStyles(e.comp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var o=this.beans.columnModel.getAriaColumnIndex(this.column);VF(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.refreshTabIndex=function(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},t.prototype.onGuiKeyDown=function(e){var i,o=this.gridOptionsService.getDocument().activeElement,a=e.key===V.LEFT||e.key===V.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),o===this.eGui&&(e.shiftKey||e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),a)){var s=e.key===V.LEFT!==this.gridOptionsService.get("enableRtl"),l=lr[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var c=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(c,e.shiftKey),null===(i=this.resizeFeature)||void 0===i||i.toggleColumnResizing(!0)}else this.moveHeader(l)}},t.prototype.getViewportAdjustedResizeDiff=function(e){var i=this.getResizeDiff(e);if(this.column.getPinned()){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=pp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+i>s){if(!(s>o+a))return 0;i=s-o-a}}return i},t.prototype.getResizeDiff=function(e){var i=e.key===V.LEFT!==this.gridOptionsService.get("enableRtl"),n=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return n&&o!==("right"===n)&&(i=!i),(i?-1:1)*this.resizeMultiplier},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var i;null===(i=e.resizeFeature)||void 0===i||i.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var i=this.getWrapperHasFocus();switch(e.key){case V.PAGE_DOWN:case V.PAGE_UP:case V.PAGE_HOME:case V.PAGE_END:i&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,i=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,i,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.handleContextMenuMouseEvent=function(e,i,n){var o=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=n instanceof bt?n:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,e,i),this.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CONTEXT_MENU,n)},t.prototype.dispatchColumnMouseEvent=function(e,i){this.eventService.dispatchEvent({type:e,column:i})},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Sp([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Sp([C("focusService")],t.prototype,"focusService",void 0),Sp([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sp([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Sp([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Sp([C("menuService")],t.prototype,"menuService",void 0),Sp([j],t.prototype,"postConstruct",null),t}(z),SRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kk=function(r){function t(e,i,n,o){var a=r.call(this)||this;return a.columnOrGroup=e,a.eCell=i,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=n,a}return SRe(t,r),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ut(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),i=ae(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,i=this.getColumnOrGroup(),n=i.getLeft(),o=i.getOldLeft(),a=this.modifyLeftForPrintLayout(i,o),s=this.modifyLeftForPrintLayout(i,n);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,i){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return i;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+i:o+i},t.prototype.setLeft=function(e){if(ae(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof bt);else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&CK(this.ariaEl,n.length)}},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(z),ERe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Yk=function(r){function t(e,i){var n=r.call(this)||this;return n.columns=e,n.element=i,n}return ERe(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},HY([C("columnHoverService")],t.prototype,"columnHoverService",void 0),HY([j],t.prototype,"postConstruct",null),t}(z),DRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TRe=function(r){function t(e,i,n){var o=r.call(this,e,i,n)||this;return o.iconCreated=!1,o.column=e,o}return DRe(t,r),t.prototype.setComp=function(e,i,n,o){this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o,this.setGui(i),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=pn("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new ru(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();yd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void a.focus();var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var i=this.beans.columnModel,n=this.column;do{if(!(n=e?i.getDisplayedColBefore(n):i.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();switch(e.key){case V.UP:case V.DOWN:i||e.preventDefault();case V.LEFT:case V.RIGHT:if(i)return;e.stopPropagation();case V.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case V.ESCAPE:i||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&hp(e.relatedTarget,"ag-floating-filter");if(n&&o&&e.target===this.eGui){var a=this.lastFocusEvent;a&&a&&a.key===V.TAB&&this.focusService.focusInto(this.eGui,a.shiftKey)}var c=this.getRowIndex();this.beans.focusService.setFocusedHeader(c,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new Yk([this.column],this.eGui));var i=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var n=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupLeft=function(){var e=new Kk(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},t.prototype.setupUserComp=function(){var e=this;if(this.active){var i=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});i&&this.setCompDetails(i)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var i=this.beans.filterManager,n=function(o){var a=e.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=i.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,n),i.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,i=function(){var n="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(n)};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},t.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},t.prototype.onColDefChanged=function(){var i,n,e=this,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&(null===(i=this.destroySyncListener)||void 0===i||i.call(this),null===(n=this.destroyFilterChangedListener)||void 0===n||n.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();l&&s?l.then(function(c){var u;!c||e.beans.filterManager.areFilterCompsDifferent(null!==(u=e.userCompDetails)&&void 0!==u?u:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)}):this.updateCompDetails(s,a)},t.prototype.updateCompDetails=function(e,i){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},t.prototype.updateFloatingFilterParams=function(e){var i;if(e){var n=e.params;null===(i=this.comp.getFloatingFilterComp())||void 0===i||i.then(function(o){var a=!1;o?.refresh&&"function"==typeof o.refresh&&null!==o.refresh(n)&&(a=!0),!a&&o?.onParamsUpdated&&"function"==typeof o.onParamsUpdated&&null!==o.onParamsUpdated(n)&&We("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},t}(TE),ARe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ORe=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.pinned=e,s.column=i,s.eResize=n,s.comp=o,s.ctrl=a,s}return ARe(t,r),t.prototype.postConstruct=function(){var n,o,e=this,i=[],s=function(){i.forEach(function(c){return c()}),i.length=0},l=function(){var c=e.column.isResizable(),u=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize;(c!==n||u!==o)&&(n=c,o=u,s(),function(){if(Nt(e.eResize,n),n){var c=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(c),o){var u=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,"uiColumnResized",u)};e.eResize.addEventListener("dblclick",d);var h=new Pn(e.eResize);h.addEventListener(Pn.EVENT_DOUBLE_TAP,d),i.push(function(){e.eResize.removeEventListener("dblclick",d),h.removeEventListener(Pn.EVENT_DOUBLE_TAP,d),h.destroy()})}}}())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,i){var n=this,o=n.column,a=n.lastResizeAmount,s=n.resizeStartWidth,l=this.normaliseResizeAmount(i),u=[{key:o,newWidth:s+l}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(l-a)>pp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=l,this.columnModel.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var i=e,n="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?n&&(i*=-1):o&&(i*=-1),i},eC([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),eC([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),eC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),eC([C("columnModel")],t.prototype,"columnModel",void 0),eC([j],t.prototype,"postConstruct",null),t}(z),MRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},RRe=function(r){function t(e){var i=r.call(this)||this;return i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e,i}return MRe(t,r),t.prototype.onSpaceKeyDown=function(e){var i=this.cbSelectAll,n=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(n.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new bd),this.cbSelectAll.addCssClass("ag-header-select-all"),On(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,x.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),iE(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?"".concat(o," (").concat(n,")"):null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(n,")")),this.headerCellCtrl.announceAriaDescription()},t.prototype.checkSelectionType=function(e){return!("multiple"!==this.gridOptionsService.get("rowSelection")&&(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),1))},t.prototype.checkRightRowModelType=function(e){var i=this.rowModel.getType();return!("clientSide"!==i&&"serverSide"!==i&&(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(i,".")),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),n=this.isCurrentPageOnly(),o="uiSelectAll";n?o="uiSelectAllCurrentPage":i&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:i,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e(this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},jY([C("rowModel")],t.prototype,"rowModel",void 0),jY([C("selectionService")],t.prototype,"selectionService",void 0),t}(z),PRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IRe=function(r){function t(e,i,n){var o=r.call(this,e,i,n)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return PRe(t,r),t.prototype.setComp=function(e,i,n,o){var a=this;this.comp=e,this.setGui(i),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new ORe(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new Yk([this.column],i)),this.createManagedBean(new Kk(this.column,i,this.beans)),this.createManagedBean(new ru(i,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,i){var n,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=null!==(n=this.column.getMinWidth())&&void 0!==n?n:0,l=null!==(o=this.column.getMaxWidth())&&void 0!==o?o:Number.MAX_SAFE_INTEGER,c=Math.min(Math.max(a+e,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:c}],i,!0,"uiColumnResized")}},t.prototype.moveHeader=function(e){var i=this,n=i.eGui,o=i.column,a=i.gridOptionsService,s=i.ctrlsService,l=this.getPinned(),c=n.getBoundingClientRect().left,u=o.getActualWidth(),d=a.get("enableRtl"),p=wp.normaliseX(e===lr.Left!==d?c-20:c+u+20,l,!0,a,s);wp.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)},t.prototype.createParams=function(){var e=this;return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(n){e.menuService.showColumnMenu({column:e.column,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:function(n){e.menuService.showColumnMenu({column:e.column,mouseEvent:n,positionBy:"mouse"})},showFilter:function(n){e.menuService.showFilterMenu({column:e.column,buttonElement:n,containerType:"columnFilter",positionBy:"button"})},progressSort:function(n){e.beans.sortController.progressSort(e.column,!!n,"uiColumnSorted")},setSort:function(n,o){e.beans.sortController.setSortForColumn(e.column,n,!!o,"uiColumnSorted")},eGridHeader:this.getGui()})},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new RRe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e),e.key===V.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===V.ENTER&&this.onEnterKeyDown(e),e.key===V.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)},t.prototype.onEnterKeyDown=function(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")},t.prototype.showMenuOnKeyPress=function(e,i){var n=this.comp.getUserCompInstance();!n||!(n instanceof Pk)||n.onMenuKeyboardShortcut(i)&&e.preventDefault()},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,n=this.createManagedBean(new Ns({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));n.setComp(this.eGui),this.refreshFunctions.push(function(){return n.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,i=function(){var n=e.column.getColDef(),o=Cp.getHeaderClassesFromColDef(n,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(i),i()},t.prototype.setDragSource=function(e){var i=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var n=this,o=n.column,s=n.displayName,l=n.dragAndDropService,c=n.gridOptionsService,u=n.beans.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:zt.HeaderCell,eElement:e,getDefaultIconName:function(){return d?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return i.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!c.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(p){var f;if(d){var m=(null===(f=p?.columns)||void 0===f?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];u.setColumnsVisible(m,!0,"uiColumnMoved")}},onGridExit:function(p){var f;if(d){var m=(null===(f=p?.columns)||void 0===f?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];u.setColumnsVisible(m,!1,"uiColumnMoved")}}};l.addDragSource(h,!0)}},t.prototype.createDragItem=function(e){var i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}},t.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var i=this.comp.getUserCompInstance();return!(!i||!i.refresh)&&i.refresh(e)},t.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,i=function(){var n=e.column.getActualWidth();e.comp.setWidth("".concat(n,"px"))};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupMovingCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,bt.EVENT_MOVING_CHANGED,i),i()},t.prototype.setupMenuClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,bt.EVENT_MENU_VISIBLE_CHANGED,i),i()},t.prototype.setupSortableClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};i(),this.addRefreshFunction(i),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,i=function(){var n=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),e.refreshAria()};this.addManagedListener(this.column,bt.EVENT_FILTER_ACTIVE_CHANGED,i),i()},t.prototype.setupWrapTextClass=function(){var e=this,i=function(){var n=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",n)};i(),this.addRefreshFunction(i)},t.prototype.onDisplayedColumnsChanged=function(){r.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,i=e.eGui,o=e.comp,a=e.beans;if(!e.column.isSpanHeaderHeight())return i.style.removeProperty("top"),i.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),void o.addOrRemoveCssClass("ag-header-span-total",!1);var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,c=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var u=a.columnModel,d=u.getColumnHeaderRowHeight();if(0===l)return o.addOrRemoveCssClass("ag-header-span-total",!1),i.style.setProperty("top","0px"),void i.style.setProperty("height","".concat(d,"px"));o.addOrRemoveCssClass("ag-header-span-total",c);var f=l*(u.isPivotMode()?u.getPivotGroupHeaderHeight():u.getGroupHeaderHeight());i.style.setProperty("top","".concat(-f,"px")),i.style.setProperty("height","".concat(d+f,"px"))},t.prototype.setupAutoHeight=function(e){var c,i=this,n=this.beans,o=n.columnModel,a=n.resizeObserverService,s=function(p){if(i.isAlive()){var f=_d(i.getGui()),w=e.offsetHeight+(f.paddingTop+f.paddingBottom+f.borderBottomWidth+f.borderTopWidth);if(p<5){var E=i.beans.gridOptionsService.getDocument();if(!E||!E.contains(e)||0==w)return void window.setTimeout(function(){return s(p+1)},0)}o.setColumnHeaderHeight(i.column,w)}},l=!1,u=function(){var p=i.column.isAutoHeaderHeight();p&&!l&&d(),!p&&l&&h()},d=function(){l=!0,s(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),c=a.observeResize(e,function(){return s(0)})},h=function(){l=!1,c&&c(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),c=void 0};u(),this.addDestroyFunc(function(){return h()}),this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(u)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(uK(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),i=this.column.isFilterActive();this.setAriaDescriptionProperty("filter",i?e("ariaColumnFiltered","Column Filtered"):null)},t.prototype.setAriaDescriptionProperty=function(e,i){null!=i?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)},t.prototype.announceAriaDescription=function(){var e=this,i=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(i.activeElement)){var n=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return"filter"===o?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return e.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(n)}},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},t.prototype.addColumnHoverListener=function(){var e=this,i=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var n=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,i=function(a){return e.handleMouseOverChange("mouseenter"===a.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i),this.addManagedListener(this.getGui(),"click",function(){return e.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CLICKED,e.column)}),this.addManagedListener(this.getGui(),"contextmenu",function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column)})},t.prototype.handleMouseOverChange=function(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?x.EVENT_COLUMN_HEADER_MOUSE_OVER:x.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.getAnchorElementForMenu=function(e){var i=this.comp.getUserCompInstance();return i instanceof Pk?i.getAnchorElementForMenu(e):this.getGui()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},t}(TE),FRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),AE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kRe=function(r){function t(e,i,n,o){var a=r.call(this)||this;return a.eResize=i,a.comp=e,a.pinned=n,a.columnGroup=o,a}return FRe(t,r),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsService.get("suppressAutoSize")){var n=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:n,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,i,n){void 0===n&&(n="uiColumnResized");var o=this.normaliseDragChange(i);this.resizeColumnsFromLocalValues(this.resizeStartWidth+o,n,e)},t.prototype.getInitialValues=function(e){var i=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(i),a={columnsToResize:i,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(i,n)},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),c=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),u=a.groupAfterStartWidth=this.getInitialSizeOfColumns(c);a.groupAfterRatios=this.getSizeRatiosOfColumns(c,u)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var n=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=e.columnsToResize,this.resizeStartWidth=n,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();i>n.resizeStartWidth&&this.resizeColumns(n,i,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,i,n){var o,a,s;if(void 0===n&&(n=!0),this.resizeCols&&this.resizeRatios){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(o=this.resizeTakeFromCols)&&void 0!==o?o:void 0,groupAfterStartWidth:null!==(a=this.resizeTakeFromStartWidth)&&void 0!==a?a:void 0,groupAfterRatios:null!==(s=this.resizeTakeFromRatios)&&void 0!==s?s:void 0};this.resizeColumns(l,e,i,n)}},t.prototype.resizeColumns=function(e,i,n,o){void 0===o&&(o=!0);var s=e.resizeStartWidth,c=e.groupAfterColumns,u=e.groupAfterStartWidth,d=e.groupAfterRatios,h=[];h.push({columns:e.columnsToResize,ratios:e.resizeRatios,width:i}),c&&h.push({columns:c,ratios:d,width:u-(i-s)}),this.columnModel.resizeColumnSets({resizeSets:h,finished:o,source:n}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){return this.columnGroup.getDisplayedLeafColumns().filter(function(i){return i.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(i,n){return i+n.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,i){return e.map(function(n){return n.getActualWidth()/i})},t.prototype.normaliseDragChange=function(e){var i=e;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(i*=-1):"right"===this.pinned&&(i*=-1),i},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.clearLocalValues()},AE([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),AE([C("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),AE([C("columnModel")],t.prototype,"columnModel",void 0),AE([j],t.prototype,"postConstruct",null),t}(z),LRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),GRe=function(r){function t(e,i){var n=r.call(this)||this;return n.removeChildListenersFuncs=[],n.columnGroup=i,n.comp=e,n}return LRe(t,r),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Tn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(n){n.addEventListener("widthChanged",i),n.addEventListener("visibleChanged",i),e.removeChildListenersFuncs.push(function(){n.removeEventListener("widthChanged",i),n.removeEventListener("visibleChanged",i)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(z),VRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OE=function(){return OE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},OE.apply(this,arguments)},BRe=function(r){function t(e,i,n){var o=r.call(this,e,i,n)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=e,o}return VRe(t,r),t.prototype.setComp=function(e,i,n){this.comp=e,this.setGui(i),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Yk(a,i)),this.createManagedBean(new Kk(this.column,i,this.beans)),this.createManagedBean(new GRe(e,this.column)),this.resizeFeature=this.createManagedBean(new kRe(e,n,o,this.column)),this.createManagedBean(new ru(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(x.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,i){if(this.resizeFeature){var n=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var i=this,n=i.beans,o=i.eGui,a=i.column,s=i.gridOptionsService,l=i.ctrlsService,c=s.get("enableRtl"),u=e===lr.Left,d=this.getPinned(),h=o.getBoundingClientRect(),p=h.left,m=wp.normaliseX(u!==c?p-20:p+h.width+20,d,!0,s,l),g=a.getGroupId(),v=this.focusService.getFocusedHeader();wp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:m,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:n.columnModel});var y=a.getDisplayedLeafColumns(),_=u?y[0]:Ut(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(_,"auto"),!this.isAlive()&&v&&this.restoreFocus(g,a,v)},t.prototype.restoreFocus=function(e,i,n){var o=i.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:OE(OE({},n),{column:s})})}}},t.prototype.findGroupWidthId=function(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,i=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")}}),n=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(n)},t.prototype.addHeaderMouseListeners=function(){var e=this,i=function(a){return e.handleMouseOverChange("mouseenter"===a.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i),this.addManagedListener(this.getGui(),"click",function(){return e.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CLICKED,e.column.getProvidedColumnGroup())}),this.addManagedListener(this.getGui(),"contextmenu",function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column.getProvidedColumnGroup())})},t.prototype.handleMouseOverChange=function(e){var n={type:e?x.EVENT_COLUMN_HEADER_MOUSE_OVER:x.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(n)},t.prototype.setupTooltip=function(){var e=this,i=this.column.getColGroupDef(),n={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(n.getColDef=function(){return i}),this.createManagedBean(new Ns(n,this.beans)).setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ei.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ei.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var i=e.isExpanded();this.comp.setAriaExpanded(this.expandable?i?"true":"false":void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,i=this.column.getColGroupDef(),n=Cp.getHeaderClassesFromColDef(i,this.gridOptionsService,null,this.column);this.column.isPadding()?(n.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(function(a){return a.isSpanHeaderHeight()})&&n.push("ag-header-span-height")):n.push("ag-header-group-cell-with-group"),n.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,n=this.column.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};n.forEach(function(a){e.addManagedListener(a,bt.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();if(this.expandable&&i&&e.key===V.ENTER){var n=this.column,o=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var i=this;if(this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),e)){var n=this,a=n.column,s=n.displayName,l=n.gridOptionsService,c=n.dragAndDropService,u=n.beans.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),h=!l.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:zt.HeaderCell,eElement:e,getDefaultIconName:function(){return h?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return i.getDragItemForGroup(a)},onDragStarted:function(){h=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var m;if(h){var g=(null===(m=f?.columns)||void 0===m?void 0:m.filter(function(v){return!v.getColDef().lockVisible}))||[];u.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var m;if(h){var g=(null===(m=f?.columns)||void 0===m?void 0:m.filter(function(v){return!v.getColDef().lockVisible}))||[];u.setColumnsVisible(g,!1,"uiColumnMoved")}}};c.addDragSource(p,!0)}},t.prototype.getDragItemForGroup=function(e){var i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(function(a){return n[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){i.indexOf(a)>=0&&(o.push(a),wo(i,a))}),i.forEach(function(a){return o.push(a)}),{columns:o,visibleState:n}},t.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(n){(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")},t}(TE),HRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zY=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jRe=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},URe=0,qk=function(r){function t(e,i,n){var o=r.call(this)||this;return o.instanceId=URe++,o.rowIndex=e,o.pinned=i,o.type=n,o.headerRowClass="ag-header-row ".concat(n==mn.COLUMN_GROUP?"ag-header-row-column-group":n==mn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column"),o}return HRe(t,r),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i){void 0===i&&(i=!0),this.comp=e,i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_VIRTUAL_COLUMNS_CHANGED,function(i){return e.onVirtualColumnsChanged(i.afterScroll)}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(i){return e.isEnsureDomOrder=i.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return lp(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){var e=this.beans.columnModel;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),n=e.rowHeight;this.comp.setTop(e.topOffset+"px"),this.comp.setHeight(n+"px")},t.prototype.getTopAndHeight=function(){var e=this.beans,i=e.columnModel,n=e.filterManager,o=i.getHeaderRowCount(),a=[],s=0;n.hasFloatingFilters()&&(o++,s=1);for(var l=i.getColumnGroupHeaderRowHeight(),c=i.getColumnHeaderRowHeight(),d=o-(1+s),h=0;h<d;h++)a.push(l);for(a.push(c),h=0;h<s;h++)a.push(i.getFloatingFiltersHeight());var p=0;for(h=0;h<this.rowIndex;h++)p+=a[h];return{topOffset:p,rowHeight:a[this.rowIndex]}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){void 0===e&&(e=!1);var i=this.getHeaderCtrls();this.comp.setHeaderCtrls(i,this.isEnsureDomOrder||this.isPrintLayout,e)},t.prototype.getHeaderCtrls=function(){var e,i,n,o,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var b,w,M,l=this.getColumnsInViewport();try{for(var c=zY(l),u=c.next();!u.done;u=c.next())this.recycleAndCreateHeaderCtrls(u.value,s)}catch(b){e={error:b}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}if(s)try{for(var p=zY(s),f=p.next();!f.done;f=p.next()){var m=jRe(f.value,2),g=m[0],v=m[1];w=void 0,M=void 0,M=(w=this.beans).columnModel,w.focusService.isHeaderWrapperFocused(b=v)&&M.isDisplayed(b.getColumnGroupChild())?this.headerCellCtrls.set(g,v):this.destroyBean(v)}}catch(b){n={error:b}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return Array.from(this.headerCellCtrls.values())},t.prototype.recycleAndCreateHeaderCtrls=function(e,i){if(this.headerCellCtrls&&!e.isEmptyGroup()){var o,n=e.getUniqueId();if(i&&(o=i.get(n),i.delete(n)),o&&o.getColumnGroupChild()!=e&&(this.destroyBean(o),o=void 0),null==o)switch(this.type){case mn.FLOATING_FILTER:o=this.createBean(new TRe(e,this.beans,this));break;case mn.COLUMN_GROUP:o=this.createBean(new BRe(e,this.beans,this));break;default:o=this.createBean(new IRe(e,this.beans,this))}this.headerCellCtrls.set(n,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){if(null!=this.pinned)return[];var e=[],i=this.getActualDepth(),n=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=n.getVirtualHeaderGroupRow(o,i);e=e.concat(a)}),e},t.prototype.getActualDepth=function(){return this.type==mn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,i){if(!this.headerCellCtrls)return!1;var o=Array.from(this.headerCellCtrls.values()).find(function(a){return a.getColumnGroupChild()==e});return!!o&&o.focus(i)},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(i){e.destroyBean(i)}),this.headerCellCtrls=void 0,r.prototype.destroy.call(this)},UY([C("beans")],t.prototype,"beans",void 0),UY([j],t.prototype,"postConstruct",null),t}(z),zRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ag=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},KRe=function(r){function t(e){var i=r.call(this)||this;return i.hidden=!1,i.includeFloatingFilter=!1,i.groupsRowCtrls=[],i.pinned=e,i}return zRe(t,r),t.prototype.setComp=function(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var i=new fRe(this.pinned,e);this.createManagedBean(i)},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!1);var u,d,n=new Nr,o=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var u=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var d=0;d<u;d++){var h=i.createBean(new qk(n.next(),i.pinned,mn.COLUMN_GROUP));i.groupsRowCtrls.push(h)}})(),u=n.next(),((d=!(i.hidden||null!=i.columnsRowCtrl&&e&&i.columnsRowCtrl.getRowIndex()===u))||i.hidden)&&(i.columnsRowCtrl=i.destroyBean(i.columnsRowCtrl)),d&&(i.columnsRowCtrl=i.createBean(new qk(u,i.pinned,mn.COLUMN))),function(){i.includeFloatingFilter=i.filterManager.hasFloatingFilters()&&!i.hidden;var u=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(i.includeFloatingFilter){var d=n.next();if(i.filtersRowCtrl){var h=i.filtersRowCtrl.getRowIndex()!==d;(!e||h)&&u()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new qk(d,i.pinned,mn.FLOATING_FILTER)))}else u()}();var c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new Wk(function(i){return e.comp.setCenterWidth("".concat(i,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var i="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var o=function(){var a=i?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=a){var s=0==a,l=e.hidden!==s,c=e.gridOptionsService.get("enableRtl"),u=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(c&&i||!c&&n);e.comp.setPinnedContainerWidth("".concat(d?a+u:a,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof bt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var i=0;i<this.groupsRowCtrls.length;i++){var n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}},t.prototype.getHtmlElementForColumnHeader=function(e){var i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null},t.prototype.getRowType=function(e){var n=this.getAllCtrls()[e];return n?n.getType():void 0},t.prototype.focusHeader=function(e,i,n){var a=this.getAllCtrls()[e];return!!a&&a.focusHeader(i,n)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},ag([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ag([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ag([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),ag([C("columnModel")],t.prototype,"columnModel",void 0),ag([C("focusService")],t.prototype,"focusService",void 0),ag([C("filterManager")],t.prototype,"filterManager",void 0),t}(z),YRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Zk=function(r){function t(e){var i=r.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=e,i}return YRe(t,r),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var i={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}};this.createManagedBean(new KRe(this.pinned)).setComp(i,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var o,i=this,n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(s){var l=s.getInstanceId(),c=n[l];delete n[l];var u=c||i.createBean(new CRe(s));i.headerRowComps[l]=u,i.rowCompsList.push(u),function(s){var l=s.getGui();l.parentElement!=i.eRowContainer&&i.eRowContainer.appendChild(l),o&&ck(i.eRowContainer,l,o),o=l}(u)}),pd(n).forEach(function(s){return i.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Xk([G("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Xk([j],t.prototype,"init",null),Xk([Oi],t.prototype,"destroyRowComps",null),t}(le),qRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qn=(()=>((qn=qn||{})[qn.UP=0]="UP",qn[qn.DOWN=1]="DOWN",qn[qn.LEFT=2]="LEFT",qn[qn.RIGHT=3]="RIGHT",qn))(),XRe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.currentHeaderRowWithoutSpan=-1,e}return qRe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl});var i=this.gridOptionsService.getDocument();this.addManagedListener(i,"mousedown",function(){return e.setCurrentHeaderRowWithoutSpan(-1)})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,i,n){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var o=i.headerRowIndex,a=i.column,s=this.getHeaderRowCount(),c=e===qn.UP?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),u=c.headerRowIndex,d=c.column,h=c.headerRowIndexWithoutSpan,p=!1;return u<0&&(u=0,d=a,p=!0),u>=s?(u=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==h&&(this.currentHeaderRowWithoutSpan=h),!(!p&&!d)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:n})},t.prototype.setCurrentHeaderRowWithoutSpan=function(e){this.currentHeaderRowWithoutSpan=e},t.prototype.navigateHorizontally=function(e,i,n){void 0===i&&(i=!1);var l,c,o=this.focusService.getFocusedHeader(),a=e===qn.LEFT,s=this.gridOptionsService.get("enableRtl");return-1!==this.currentHeaderRowWithoutSpan?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,(l=this.headerPositionUtils.findHeader(o,c=a!==s?"Before":"After"))||!i?this.focusService.focusHeaderPosition({headerPosition:l,direction:c,fromTab:i,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,c,n)},t.prototype.focusNextHeaderRow=function(e,i,n){var s,o=e.headerRowIndex,a=null;if("Before"===i?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:l.column,headerRowIndex:l.headerRowIndex},direction:i,fromTab:!0,allowUserOverride:!0,event:n})},t.prototype.scrollToColumn=function(e,i){if(void 0===i&&(i="After"),!e.getPinned()){var n;if(e instanceof Tn){var o=e.getDisplayedLeafColumns();n="Before"===i?Ut(o):o[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},tC([C("focusService")],t.prototype,"focusService",void 0),tC([C("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),tC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),tC([j],t.prototype,"postConstruct",null),tC([oe("headerNavigationService")],t)}(z),ZRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},QRe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ZRe(t,r),t.prototype.setComp=function(e,i,n){this.comp=e,this.eGui=i,this.createManagedBean(new ru(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var o,e=this.columnModel,i=0,n=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(n++,i=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=n-(1+i);if(o=i*e.getFloatingFiltersHeight(),o+=u*s,this.headerHeight!==(o+=l)){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:x.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.getAllDisplayedColumns().some(function(n){return n.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)},t.prototype.onTabKeyDown=function(e){var i=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==i?qn.LEFT:qn.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var i=null;switch(e.key){case V.LEFT:i=qn.LEFT;case V.RIGHT:ae(i)||(i=qn.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case V.UP:i=qn.UP;case V.DOWN:ae(i)||(i=qn.DOWN),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var i=this.gridOptionsService.getDocument(),n=e.relatedTarget;!n&&this.eGui.contains(i.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},t.prototype.onHeaderContextMenu=function(e,i,n){if((e||n)&&this.menuService.isHeaderContextMenuEnabled()){var o=(e??i).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,n)}},t.prototype.mockContextMenuForIPad=function(e){if(nu()){var i=new Pn(this.eGui);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return i.destroy()})}},sg([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),sg([C("focusService")],t.prototype,"focusService",void 0),sg([C("columnModel")],t.prototype,"columnModel",void 0),sg([C("ctrlsService")],t.prototype,"ctrlsService",void 0),sg([C("filterManager")],t.prototype,"filterManager",void 0),sg([C("menuService")],t.prototype,"menuService",void 0),t}(z),JRe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tPe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return JRe(t,r),t.prototype.postConstruct=function(){var e=this,i={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}};this.createManagedBean(new QRe).setComp(i,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new Zk("left")),o(new Zk(null)),o(new Zk("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(le),iPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},nPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return iPe(t,r),t.prototype.addResizeBar=function(e){var i=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(n),function(){return i.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(e,i){this.dragStartX=i.clientX,this.setResizeIcons();var n=i instanceof MouseEvent&&!0===i.shiftKey;e.onResizeStart(n)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Qk([C("dragService")],t.prototype,"dragService",void 0),Qk([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Qk([oe("horizontalResizeService")],t)}(z),rPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},oPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rPe(t,r),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,i,n){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:i,ePopup:a})},n,i.target,this.menuService.isLegacyMenuEnabled())},t.prototype.showMenuAfterButtonClick=function(e,i,n){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var c=l?void 0:4*a,u=l?void 0:4;this.showPopup(e,function(d){o.popupService.positionPopupByComponent({type:n,eventSource:i,ePopup:d,nudgeX:c,nudgeY:u,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,i,l)},t.prototype.showPopup=function(e,i,n,o,a){var s=this,l=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!l||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var c=document.createElement("div");On(c,"presentation"),c.classList.add("ag-menu"),a||c.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(c,"keydown",function(v){return s.trapFocusWithin(v,c)}),l.guiPromise.then(function(v){return c.appendChild(v)});var u,h=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,f=this.localeService.getLocaleTextFunc(),m=a&&"columnFilter"!==n?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(v){e.setMenuVisible(!1,"contextMenu");var y=v instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),y&&o&&ua(o)){var _=s.focusService.findTabbableParent(o);_&&_.focus()}(function(){var v;null===(v=l.filterPromise)||void 0===v||v.then(function(y){var _;return null===(_=y?.afterGuiDetached)||void 0===_?void 0:_.call(y)})})(),s.dispatchVisibleChangedEvent(!1,n,e)},positionCallback:function(){return i(c)},anchorToElement:h,ariaLabel:m});g&&(this.hidePopup=u=g.hideFunc),l.filterPromise.then(function(v){i(c),v.afterGuiAttached&&v.afterGuiAttached({container:n,hidePopup:u})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)},t.prototype.trapFocusWithin=function(e,i){e.key!==V.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))},t.prototype.dispatchVisibleChangedEvent=function(e,i,n){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:i,column:n??null})},t.prototype.isMenuEnabled=function(e){var i;return e.isFilterAllowed()&&(null!==(i=e.getColDef().menuTabs)&&void 0!==i?i:["filterMenuTab"]).includes("filterMenuTab")},t.prototype.showMenuAfterContextMenuEvent=function(){},lg([C("filterManager")],t.prototype,"filterManager",void 0),lg([C("popupService")],t.prototype,"popupService",void 0),lg([C("focusService")],t.prototype,"focusService",void 0),lg([C("ctrlsService")],t.prototype,"ctrlsService",void 0),lg([C("menuService")],t.prototype,"menuService",void 0),lg([oe("filterMenuFactory")],t)}(z),aPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Ul=(()=>((Ul=Ul||{}).TAB_GUARD="ag-tab-guard",Ul.TAB_GUARD_TOP="ag-tab-guard-top",Ul.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",Ul))(),sPe=function(r){function t(e){var i=r.call(this)||this;i.skipTabGuardFocus=!1,i.forcingFocusOut=!1;var o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,c=e.focusInnerElement,u=e.onFocusIn,d=e.onFocusOut,h=e.shouldStopEventPropagation,p=e.onTabKeyDown,f=e.handleKeyDown,m=e.eFocusableElement;return i.comp=e.comp,i.eTopGuard=o,i.eBottomGuard=a,i.providedFocusInnerElement=c,i.eFocusableElement=m,i.focusTrapActive=!!s,i.forceFocusOutWhenTabGuardsAreEmpty=!!l,i.providedFocusIn=u,i.providedFocusOut=d,i.providedShouldStopEventPropagation=h,i.providedOnTabKeyDown=p,i.providedHandleKeyDown=f,i}return aPe(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new ru(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return e.addManagedListener(i,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)}},t.prototype.findNextElementOutsideAndFocus=function(e){var i=this.gridOptionsService.getDocument(),n=this.focusService.findFocusableElements(i.body,null,!0),o=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1!==o){var a,s;e?(a=0,s=o):(a=o+1,s=n.length);var l=n.slice(a,s),c=this.gridOptionsService.get("tabIndex");l.sort(function(u,d){var h=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===c?1:h===c?-1:0===h?1:0===p?-1:h-p}),l[e?l.length-1:0].focus()}},t.prototype.onFocusIn=function(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())},t.prototype.onFocusOut=function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.onTabKeyDown=function(e){var i=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!this.focusTrapActive&&!e.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);n&&setTimeout(function(){return i.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){var i=this;if(void 0===e&&(e=!1),!this.forcingFocusOut){var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,n.focus(),window.setTimeout(function(){i.forcingFocusOut=!1,i.activateTabGuards()})}},t.prototype.isTabGuard=function(e){return e===this.eTopGuard||e===this.eBottomGuard},WY([C("focusService")],t.prototype,"focusService",void 0),WY([j],t.prototype,"postConstruct",null),t}(z),lPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ed=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lPe(t,r),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(o){i.forEach(function(a){return null!=o?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new sPe({comp:n,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))},t.prototype.createTabGuard=function(e){var i=document.createElement("div");return i.classList.add(Ul.TAB_GUARD,"top"===e?Ul.TAB_GUARD_TOP:Ul.TAB_GUARD_BOTTOM),On(i,"presentation"),i},t.prototype.addTabGuards=function(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Yn(this.getFocusableElement()),this.addTabGuards.apply(this,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,i){B_(e)||(e=e.getGui());var n=this.eBottomGuard;n?n.insertAdjacentElement("beforebegin",e):r.prototype.appendChild.call(this,e,i)},t}(le),dPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ME=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},$Y=function(r){function t(e){var i=r.call(this,t.getTemplate(e.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=e,e.items&&e.items.forEach(function(n){return i.addItem(n)}),i}return dPe(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var i,n,o;return null===(o=null===(n=null===(i=e.activeItem)||void 0===i?void 0:i.tabbedItem)||void 0===n?void 0:n.afterDetachedCallback)||void 0===o?void 0:o.call(n)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ').concat(e?"".concat(e,"-header"):"",'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ').concat(e?"".concat(e,"-body"):"",'"></div>\n        </div>')},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsService.getDocument();switch(e.key){case V.RIGHT:case V.LEFT:if(!this.eHeader.contains(i.activeElement))return;var n=e.key===V.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=n!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case V.UP:case V.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var i=this,n=i.focusService,o=i.eHeader,a=i.eBody,s=i.activeItem,c=this.gridOptionsService.getDocument().activeElement,u=e.target;if(e.preventDefault(),o.contains(c))return void this.focusBody(e.shiftKey);var d=null;n.isTargetUnderManagedComponent(a,u)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,u)),d||(d=s.eHeaderButton)),!d&&a.contains(c)&&((d=n.findNextFocusableElement(a,!1,e.shiftKey))||this.focusHeader()),d&&d.focus()}},t.prototype.focusInnerElement=function(e){e?this.focusHeader():this.focusBody(!0)},t.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},t.prototype.focusBody=function(e){this.focusService.focusInto(this.eBody,e)},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var i=document.createElement("span");On(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),yd(i,e.titleLabel);var n={tabbedItem:e,eHeaderButton:i};this.items.push(n),i.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(e){var i=this.items.find(function(n){return n.tabbedItem===e});i&&this.showItemWrapper(i)},t.prototype.showItemWrapper=function(e){var n,o,a,s,l,c,i=this,u=e.tabbedItem,d=e.eHeaderButton;null===(o=(n=this.params).onItemClicked)||void 0===o||o.call(n,{item:u}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Yn(this.eBody),u.bodyPromise.then(function(h){i.eBody.appendChild(h);var p=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,p),u.afterAttachedCallback&&u.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var f=u.getScrollableContainer&&u.getScrollableContainer()||h;i.lastScrollListener=i.addManagedListener(f,"scroll",function(){i.tabbedItemScrollMap.set(u.name,f.scrollTop)});var m=i.tabbedItemScrollMap.get(u.name);void 0!==m&&setTimeout(function(){f.scrollTop=m},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(c=(l=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===c||c.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=e):null===(s=(a=this.params).onActiveItemClicked)||void 0===s||s.call(a)},ME([C("focusService")],t.prototype,"focusService",void 0),ME([G("eHeader")],t.prototype,"eHeader",void 0),ME([G("eBody")],t.prototype,"eBody",void 0),ME([j],t.prototype,"postConstruct",null),t}(Ed),hPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mPe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return hPe(t,r),t.prototype.observeResize=function(e,i){var u,n=this,o=this.gridOptionsService.getWindow(),l=this.gridOptionsService.get("suppressBrowserResizeObserver");return o.ResizeObserver&&!l?((u=new o.ResizeObserver(i)).observe(e),function(){return u.disconnect()}):this.getFrameworkOverrides().wrapIncoming(function(){return function(){var u,d,h=null!==(u=e?.clientWidth)&&void 0!==u?u:0,p=null!==(d=e?.clientHeight)&&void 0!==d?d:0,f=!0,m=function(){var g,v;if(f){var y=null!==(g=e?.clientWidth)&&void 0!==g?g:0,_=null!==(v=e?.clientHeight)&&void 0!==v?v:0;(y!==h||_!==p)&&(h=y,p=_,i()),n.doNextPolyfillTurn(m)}};return m(),function(){return f=!1}}()},"resize-observer")},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(function(){var n=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],n.forEach(function(o){return o()})},50))},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("resizeObserverService")],t),t}(z),gPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vPe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return gPe(t,r),t.prototype.setScrollTop=function(e){var i=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&0===e){var n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,i,n){this.verifyAnimationFrameOn(n);var o={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,i){e.list.push(i),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var i=this.scrollGoingDown?1:-1;e.list.sort(function(n,o){return n.index!==o.index?i*(o.index-n.index):o.createOrder-n.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,n=i.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=(new Date).getTime(),c=(new Date).getTime()-l,u=e<=0,d=this.ctrlsService.getGridBodyCtrl();u||c<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){var p=void 0;if(n.length)this.sortTaskList(i),p=n.pop().task;else if(a.length)this.sortTaskList(o),p=a.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}p=s.pop()}this.cancelledTasks.has(p)||p()}c=(new Date).getTime()-l}n.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var i=this.gridOptionsService.getWindow();i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var i=this,n=!1;return function(){i.isOn()?n||(n=!0,i.addDestroyTask(function(){n=!1,e()})):window.setTimeout(e,0)}},RE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),RE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),RE([j],t.prototype,"init",null),RE([oe("animationFrameService")],t)}(z),ft=(()=>((ft=ft||{}).EVERYTHING="group",ft.FILTER="filter",ft.SORT="sort",ft.MAP="map",ft.AGGREGATE="aggregate",ft.FILTER_AGGREGATES="filter_aggregates",ft.PIVOT="pivot",ft.NOTHING="nothing",ft))(),yPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jk=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},KY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return yPe(t,r),t.prototype.postConstruct=function(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var i=new Set(e);this.rowModel.forEachNode(function(n){n.id&&i.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(i){var o=i.id;i.expanded&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,i,n){e&&(n&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,i,n),e.setExpanded(i))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:ft.MAP})},Jk([C("rowModel")],t.prototype,"rowModel",void 0),Jk([j],t.prototype,"postConstruct",null),Jk([oe("expansionService")],t)}(z),_Pe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cu=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},CPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _Pe(t,r),t.prototype.postConstruct=function(){var e;this.activeMenuFactory=null!==(e=this.enterpriseMenuFactory)&&void 0!==e?e:this.filterMenuFactory},t.prototype.showColumnMenu=function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")},t.prototype.showFilterMenu=function(e){var i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)},t.prototype.showHeaderContextMenu=function(e,i,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,n)},t.prototype.showContextMenu=function(e){var i,n,o;null===(i=this.contextMenuFactory)||void 0===i||i.onContextMenu(null!==(n=e.mouseEvent)&&void 0!==n?n:null,null!==(o=e.touchEvent)&&void 0!==o?o:null,e.rowNode??null,e.column??null,e.value,e.anchorToElement)},t.prototype.showColumnChooser=function(e){var i;null===(i=this.columnChooserFactory)||void 0===i||i.showColumnChooser(e)},t.prototype.hidePopupMenu=function(){var e;null===(e=this.contextMenuFactory)||void 0===e||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},t.prototype.hideColumnChooser=function(){var e;null===(e=this.columnChooserFactory)||void 0===e||e.hideActiveColumnChooser()},t.prototype.isColumnMenuInHeaderEnabled=function(e){var i=e.getColDef();return!(i.suppressHeaderMenuButton??i.suppressMenu)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},t.prototype.isFilterMenuInHeaderEnabled=function(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)},t.prototype.isHeaderContextMenuEnabled=function(e){return!e?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()},t.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},t.prototype.isHeaderMenuButtonEnabled=function(){var e=!this.isSuppressMenuHide();return!(nu()&&e)},t.prototype.isHeaderFilterButtonEnabled=function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isFilterMenuItemEnabled=function(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},t.prototype.areAdditionalColumnMenuItemsEnabled=function(){return"new"===this.getColumnMenuType()},t.prototype.isLegacyMenuEnabled=function(){return"legacy"===this.getColumnMenuType()},t.prototype.isFloatingFilterButtonEnabled=function(e){var i,n=e.getColDef(),o=null===(i=n.floatingFilterComponentParams)||void 0===i?void 0:i.suppressFilterButton;return null!=o&&We("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==n.suppressFloatingFilterButton?!o:!n.suppressFloatingFilterButton},t.prototype.getColumnMenuType=function(){var e;return null!==(e=this.gridOptionsService.get("columnMenu"))&&void 0!==e?e:"legacy"},t.prototype.isFloatingFilterButtonDisplayed=function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)},t.prototype.isSuppressMenuHide=function(){var e=this.gridOptionsService.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gridOptionsService.exists("suppressMenuHide")||e},t.prototype.showColumnMenuCommon=function(e,i,n,o){var a=this,s=i.column,l=i.positionBy;"button"===l?e.showMenuAfterButtonClick(s,i.buttonElement,n,o):"mouse"===l?e.showMenuAfterMouseEvent(s,i.mouseEvent,n,o):s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),n,!0)}))},cu([gt("enterpriseMenuFactory")],t.prototype,"enterpriseMenuFactory",void 0),cu([C("filterMenuFactory")],t.prototype,"filterMenuFactory",void 0),cu([gt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),cu([C("ctrlsService")],t.prototype,"ctrlsService",void 0),cu([C("animationFrameService")],t.prototype,"animationFrameService",void 0),cu([gt("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),cu([C("filterManager")],t.prototype,"filterManager",void 0),cu([j],t.prototype,"postConstruct",null),cu([oe("menuService")],t)}(z),bPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bPe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,i){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return i||o.push(n),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var i=this,n=document.createElement("form");n.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return i.cloneItemIntoDummy(l,n)}),o.appendChild(n);var a=n.offsetWidth;return o.removeChild(n),a+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){var o=n.getHtmlElementForColumnHeader(e);null!=o&&(i=o)}),i},t.prototype.cloneItemIntoDummy=function(e,i){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var o=document.createElement("div"),a=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(h){return n.classList.contains(h)})?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){if(["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)})){for(var u=0;u<l.classList.length;u++){var d=l.classList[u];"ag-row-position-absolute"!=d&&a.add(d)}break}l=l.parentElement}o.appendChild(n),i.appendChild(o)},iC([C("rowRenderer")],t.prototype,"rowRenderer",void 0),iC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),iC([C("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),iC([j],t.prototype,"postConstruct",null),iC([oe("autoWidthCalculator")],t)}(z),SPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},TPe=function(r){function t(e,i){var n=r.call(this)||this;return n.createRowCon=e,n.destroyRowCtrls=i,n.stickyRowCtrls=[],n.containerHeight=0,n}return SPe(t,r),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(i){e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,i=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],i);for(var n=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var m,g,v,y;if(n.push(f),e.isClientSide){for(var _=f;_.isExpandable()&&_.expanded;)if(_.master)_=_.detailNode;else if(_.childrenAfterSort){if(0===_.childrenAfterSort.length)break;_=Ut(_.childrenAfterSort)}y=_.rowTop+_.rowHeight}else if(f.master)y=f.detailNode.rowTop+f.detailNode.rowHeight;else{var b=null===(m=f.childStore)||void 0===m?void 0:m.getStoreBounds();y=(null!==(g=b?.heightPx)&&void 0!==g?g:0)+(null!==(v=b?.topPx)&&void 0!==v?v:0)}var w=o+i+f.rowHeight;f.stickyRowTop=y<w?i+(y-w):i,i=0,n.forEach(function(E){var M=E.stickyRowTop+E.rowHeight;i<M&&(i=M)})},s=0;;){var l=o+i,c=this.rowModel.getRowIndexAtPixel(l),u=this.rowModel.getRow(c);if(null==u||u.level<0||100==s++)break;for(var d=[],h=u.parent;h.level>=0;)d.push(h),h=h.parent;var p=d.reverse().find(function(f){return n.indexOf(f)<0&&f.displayed});if(p)a(p);else{if(!(u.isExpandable()&&u.expanded&&u.rowTop<l))break;a(u)}}return this.refreshNodesAndContainerHeight(n,i)},t.prototype.refreshStickyNode=function(e){for(var i=[],n=0;n<this.stickyRowCtrls.length;n++){var o=this.stickyRowCtrls[n].getRowNode();o!==e&&i.push(o)}this.refreshNodesAndContainerHeight(i,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,i){var n,o,a,s=this,l=!1,c=this.stickyRowCtrls.filter(function(g){return-1===e.indexOf(g.getRowNode())}),u=e.filter(function(g){return-1===s.stickyRowCtrls.findIndex(function(v){return v.getRowNode()===g})});(c.length||u.length)&&(l=!0);var d={};c.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(v){return v!==g})});try{for(var h=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(d)),p=h.next();!p.done;p=h.next())p.value.getRowNode().sticky=!1}catch(g){n={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}this.destroyRowCtrls(d,!1);var m=u.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(m),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,v){return v.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),l=!0),l},PE([C("rowModel")],t.prototype,"rowModel",void 0),PE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),PE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),PE([j],t.prototype,"postConstruct",null),t}(z),APe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gs=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Dd=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Td=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},MPe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var i=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},n=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(x.EVENT_RANGE_SELECTION_CHANGED,i),e.eventService.addEventListener(x.EVENT_COLUMN_MOVED,n),e.eventService.addEventListener(x.EVENT_COLUMN_PINNED,n),e.eventService.addEventListener(x.EVENT_COLUMN_VISIBLE,n)},a=function(){e.eventService.removeEventListener(x.EVENT_RANGE_SELECTION_CHANGED,i),e.eventService.removeEventListener(x.EVENT_COLUMN_MOVED,n),e.eventService.removeEventListener(x.EVENT_COLUMN_PINNED,n),e.eventService.removeEventListener(x.EVENT_COLUMN_VISIBLE,n)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){l.currentValue?o():a()}),e.gridOptionsService.get("enableRangeSelection")&&o()},e}return APe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var i=this.rowModel.getType();("clientSide"===i||"serverSide"===i)&&(this.stickyRowFeature=this.createManagedBean(new TPe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new RPe(e??3)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=pd(this.rowCtrlsByRowIndex),i=pd(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=i.length>0||n.length>0?Td(Td(Td([],Dd(e),!1),Dd(i),!1),Dd(n),!1):e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(i){return i.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(i){return i.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUSED,function(i){e.onCellFocusChanged(i)}),this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,x.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(n){return n.onFlashCells(i)})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(function(n){var o=function(d){e.getAllCellCtrls().forEach(function(h){h.getColumn()===n&&d(h)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},c=function(){o(function(d){return d.onLastLeftPinnedChanged()})},u=function(){o(function(d){return d.onColDefChanged()})};n.addEventListener("leftChanged",a),n.addEventListener("widthChanged",s),n.addEventListener("firstRightPinnedChanged",l),n.addEventListener("lastLeftPinnedChanged",c),n.addEventListener("colDefChanged",u),e.destroyFuncsForColumnListeners.push(function(){n.removeEventListener("leftChanged",a),n.removeEventListener("widthChanged",s),n.removeEventListener("firstRightPinnedChanged",l),n.removeEventListener("lastLeftPinnedChanged",c),n.removeEventListener("colDefChanged",u)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e||this.gridOptionsService.get("embedFullWidthRows"),n=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var i=[];return this.getAllRowCtrls().forEach(function(n){var o=n.getCellElement(e);o&&i.push(o)}),i},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,i){var n=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,i&&i.forEach(function(o){var a=new bp(o,n.beans,!1,!1,n.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.redrawRow=function(e,i){var o,n=this;if(void 0===i&&(i=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null!==(o=this.cachedRowCtrls)&&void 0!==o&&o.has(e))return void this.cachedRowCtrls.removeRow(e);var a=function(s){var l=s[e.rowIndex];l&&l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=n.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var i=this;if(null!=e)return e?.forEach(function(o){return i.redrawRow(o,!0)}),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var i=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==i)return null;var o=this.gridOptionsService.getDocument().activeElement,a=this.gridOptionsService.getDomData(o,xd.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,bp.DOM_DATA_KEY_ROW_CTRL);return a||s?i:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var n=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=i&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var i=e.newData||e.newPage,n=this.gridOptionsService.get("suppressScrollOnNewData");i&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],i=this.getAllRowCtrls(),n=i.length,o=0;o<n;o++)for(var a=i[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,i,n=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Td(Td(Td([],Dd(this.topRowCtrls),!1),Dd(this.bottomRowCtrls),!1),Dd(n),!1);try{for(var a=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next())o.push(this.rowCtrlsByRowIndex[s.value])}catch(c){e={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,i,n){var o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={}),this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){return i.flashCell(e)})},t.prototype.refreshCells=function(e){var i=this;void 0===e&&(e={});var n={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(n)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){o.isFullWidth()&&(o.refreshFullWidth()||i.redrawRow(o.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var n,i=this,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l});if(null!==(n=e.columns)&&void 0!==n&&n.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if((!s||i.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var c=l.getFullWidthCellRenderers(),u=0;u<c.length;u++){var d=c[u];null!=d&&a.push(d)}}),Td(Td([],Dd(a),!1),Dd(o),!1)},t.prototype.getCellEditorInstances=function(e){var i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(n){var o=n.getCellEditor();o&&i.push(o)}),i},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var n=i.getCellPosition();e.push(n)}}),e},t.prototype.mapRowNodes=function(e){if(e){var i={top:{},bottom:{},normal:{}};return e.forEach(function(n){var o=n.id;"top"===n.rowPinned?i.top[o]=n:"bottom"===n.rowPinned?i.bottom[o]=n:i.normal[o]=n}),i}},t.prototype.isRowInMap=function(e,i){var n=e.id,o=e.rowPinned;return"bottom"===o?null!=i.bottom[n]:"top"===o?null!=i.top[n]:null!=i.normal[n]},t.prototype.getRowCtrls=function(e){var i=this,n=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&n?o.filter(function(a){var s=a.getRowNode();return i.isRowInMap(s,n)}):o},t.prototype.getCellCtrls=function(e,i){var o,n=this;ae(i)&&(o={},i.forEach(function(s){var l=n.columnModel.getGridColumn(s);ae(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var c=l.getColumn().getId();o&&!o[c]||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];Lr(this.rowCtrlsByRowIndex,function(n,o){null==o.getRowNode().id&&e.push(n)}),this.removeRowCtrls(e);var i={};return Lr(this.rowCtrlsByRowIndex,function(n,o){var a=o.getRowNode();i[a.id]=o}),this.rowCtrlsByRowIndex={},i},t.prototype.removeRowCtrls=function(e,i){var n=this;void 0===i&&(i=!1),e.forEach(function(o){var a=n.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(i),a.destroySecondPass()),delete n.rowCtrlsByRowIndex[o]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var n,i=e.afterScroll;this.stickyRowFeature&&QF()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;if(this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows()),(!i||s||this.firstRenderedRow!==o||this.lastRenderedRow!==a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!s),null!=n)){var c=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==c&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}},t.prototype.removeRowCompsNotToDraw=function(e,i){var n={};e.forEach(function(s){return n[s]=!0});var a=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!n[s]});this.removeRowCtrls(a,i)},t.prototype.calculateIndexesToDraw=function(e){var i=this,n=AK(this.firstRenderedRow,this.lastRenderedRow),o=function(u,d){var h=d.getRowNode().rowIndex;null!=h&&(h<i.firstRenderedRow||h>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(d)&&n.push(h)};Lr(this.rowCtrlsByRowIndex,o),Lr(e,o),n.sort(function(u,d){return u-d});for(var a=[],s=0;s<n.length;s++){var l=n[s],c=this.paginationProxy.getRow(l);c&&!c.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,i,n){var o=this;void 0===i&&(i=!1),void 0===n&&(n=!1);var a=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(i=!1),this.removeRowCompsNotToDraw(a,!i),a.forEach(function(l){ae(o.createOrUpdateRowCtrl(l,e,i,n))}),e&&(!n||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,i):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,i),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(i){var n=i.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var i=this,n=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(null!=n&&!i.isRowInMap(a,n))})},t.prototype.createOrUpdateRowCtrl=function(e,i,n,o){var a,s=this.rowCtrlsByRowIndex[e];if(s||ae(a=this.paginationProxy.getRow(e))&&ae(i)&&i[a.id]&&a.alreadyRendered&&(s=i[a.id],i[a.id]=null),!s){if(a||(a=this.paginationProxy.getRow(e)),!ae(a))return;s=this.createRowCon(a,n,o)}return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,i){var n=this,o=[];Lr(e,function(a,s){if(s){if(n.cachedRowCtrls&&s.isCacheable())return void n.cachedRowCtrls.addRow(s);s.destroyFirstPass(!i),i?(n.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete n.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),i&&(o.push(function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()}),z8(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,i;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var n=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,c=void 0;do{var u=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),m=o.getScrollFeature().getVScrollPosition(),g=m.top,v=m.bottom;a?(l=h+f,c=p+f):(l=Math.max(g+u-n,h)+f,c=Math.min(v+u+n,p)+f),this.firstVisibleVPixel=Math.max(g+u,h)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,c)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(l),_=this.paginationProxy.getRowIndexAtPixel(c),b=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();y<b&&(y=b),_>w&&(_=w),e=y,i=_}else e=0,i=-1;var E=this.gridOptionsService.isDomLayout("normal"),M=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),P=Math.max(this.getRowBuffer(),500);E&&!M&&i-e>P&&(i=e+P),(e!==this.firstRenderedRow||i!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:x.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:i}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var i={type:x.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(i)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,i){var n=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return n&&this.updateContainerHeights(),n},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing();return!!(a||s||o.detail)&&!!this.paginationProxy.isRowPresent(o)},t.prototype.createRowCon=function(e,i,n){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame");return new bp(e,this.beans,i,n&&!a&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(i){return e[i].getRowNode()})},t.prototype.getRowByPosition=function(e){var i,n=e.rowIndex;switch(e.rowPinned){case"top":i=this.topRowCtrls[n];break;case"bottom":i=this.bottomRowCtrls[n];break;default:(i=this.rowCtrlsByRowIndex[n])||(i=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===n})||null)}return i},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,i){return!(null==e||null==i||i<this.firstRenderedRow||e>this.lastRenderedRow)},Gs([C("animationFrameService")],t.prototype,"animationFrameService",void 0),Gs([C("paginationProxy")],t.prototype,"paginationProxy",void 0),Gs([C("columnModel")],t.prototype,"columnModel",void 0),Gs([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Gs([C("rowModel")],t.prototype,"rowModel",void 0),Gs([C("focusService")],t.prototype,"focusService",void 0),Gs([C("beans")],t.prototype,"beans",void 0),Gs([C("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Gs([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Gs([j],t.prototype,"postConstruct",null),Gs([oe("rowRenderer")],t)}(z),RPe=function(){function r(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return r.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},r.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},r.prototype.has=function(t){return null!=this.entriesMap[t.id]},r.prototype.removeRow=function(t){var e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],wo(this.entriesList,i)},r.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],wo(this.entriesList,t)},r.prototype.getEntries=function(){return this.entriesList},r}(),PPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},IPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return PPe(t,r),t.prototype.formatValue=function(e,i,n,o,a){void 0===a&&(a=!0);var l,s=null,c=e.getColDef();if(o?l=o:a&&(l=c.valueFormatter),l){var u=this.gridOptionsService.addGridCommonParams({value:n,node:i,data:i?i.data:null,colDef:c,column:e});s="function"==typeof l?l(u):this.expressionService.evaluate(l,u)}else if(c.refData)return c.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},YY([C("expressionService")],t.prototype,"expressionService",void 0),YY([oe("valueFormatterService")],t)}(z),FPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return FPe(t,r),t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){return oa("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,i){var n="top"===i?this.pinnedTopRows:this.pinnedBottomRows;if(oa(n))return 0;for(var o=0;o<n.length;o++){var a=n[o];if(a.rowTop+a.rowHeight-1>=e)return o}return n.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:x.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:x.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,i){var n=this,o=[];if(e){var a=0;e.forEach(function(s,l){var c=new ct(n.beans);c.data=s,c.id=(i?ct.ID_PREFIX_TOP_PINNED:ct.ID_PREFIX_BOTTOM_PINNED)+l,c.rowPinned=i?"top":"bottom",c.setRowTop(a),c.setRowHeight(n.gridOptionsService.getRowHeightForNode(c).height),c.setRowIndex(l),a+=c.rowHeight,o.push(c)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){oa(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){oa(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var i=Ut(e);return i.rowTop+i.rowHeight},eL([C("beans")],t.prototype,"beans",void 0),eL([j],t.prototype,"init",null),eL([oe("pinnedRowModel")],t)}(z),Bi=(()=>((Bi=Bi||{}).Applied="Applied",Bi.StoreNotFound="StoreNotFound",Bi.StoreLoading="StoreLoading",Bi.StoreWaitingToLoad="StoreWaitingToLoad",Bi.StoreLoadingFailed="StoreLoadingFailed",Bi.StoreWrongType="StoreWrongType",Bi.Cancelled="Cancelled",Bi.StoreNotStarted="StoreNotStarted",Bi))(),nC=function(){function r(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},r.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var n=0;n<t.childrenAfterGroup.length;n++){var o=t.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,i):i&&e(o)}e(t)},r.prototype.forEachChangedNodeDepthFirst=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},r.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},r.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},i++,e=e.parent;return i},r.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var n=t;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(function(o){return i.nodeIdsToColumns[n.id][o.getId()]=!0}),n=n.parent},r.prototype.linkPathItems=function(t,e){for(var i=t,n=0;n<e;n++){var o=this.mapToItems[i.id],a=this.mapToItems[i.parent.id];a.children||(a.children=[]),a.children.push(o),i=i.parent}},r.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},r.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},r.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter(function(o){return i[o.getId()]})},r.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter(function(o){return!i[o.getId()]})},r}(),LPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uu=function(r){function t(e){var i=r.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=e,i}return LPe(t,r),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,i){this.successCommon(e,i)},t.prototype.pageLoaded=function(e,i,n){this.successCommon(e,{rowData:i,rowCount:n})},t.prototype.isRequestMostRecentAndLive=function(e){var i=e===this.version,n=this.isAlive();return i&&n},t.prototype.successCommon=function(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(i))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(z),NPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},GPe=function(r,t){return function(e,i){t(e,i,r)}},qY=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}var e;return NPe(t,r),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsService.get("blockLoadDebounceMillis");i&&i>0&&(this.checkBlockToLoadDebounce=D.debounce(this.performCheckBlocksToLoad.bind(this),i))},t.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var i=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==i?2:i<=0?void 0:i},t.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(uu.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(i){D.removeFromArray(this.blocks,i)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var i=this.getAvailableLoadingCount(),n=this.blocks.filter(function(o){return o.getState()===uu.STATE_WAITING_TO_LOAD}).slice(0,i);this.registerLoads(n.length),n.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var n={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson();n[a.id]=a.state}),n},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(i){this.activeBlockLoadsCount+=i},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",IE([C("rowModel")],t.prototype,"rowModel",void 0),IE([j],t.prototype,"postConstruct",null),IE([GPe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),e=IE([oe("rowNodeBlockLoader")],t)}(z),VPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},BPe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return VPe(t,r),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,i,n,o){var a=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return Qe(this.topRowBounds)||Qe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var i=this.getPageFirstRow(),n=this.getPageLastRow(),o=i;o<=n;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var i=this.getPageForIndex(e);this.goToPage(i)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return ae(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ae(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ae(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ae(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(void 0!==this.pageSizeAutoCalculated){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,i){var n=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ae(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},tL([C("rowModel")],t.prototype,"rowModel",void 0),tL([j],t.prototype,"postConstruct",null),tL([oe("paginationProxy")],t)}(z),HPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},jPe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HPe(t,r),t.prototype.processAllCellClasses=function(e,i,n,o){this.processClassRules(void 0,e.cellClassRules,i,n,o),this.processStaticCellClasses(e,i,n)},t.prototype.processClassRules=function(e,i,n,o,a){if(null!=i||null!=e){var s={},l={},c=function(f,m){f.split(" ").forEach(function(g){""!=g.trim()&&m(g)})};if(i)for(var u=Object.keys(i),d=function(f){var v,m=u[f],g=i[m];"string"==typeof g?v=h.expressionService.evaluate(g,n):"function"==typeof g&&(v=g(n)),c(m,function(y){v?s[y]=!0:l[y]=!0})},h=this,p=0;p<u.length;p++)d(p);e&&a&&Object.keys(e).forEach(function(f){return c(f,function(m){s[m]||(l[m]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,i){var o,n=e.cellClass;return n?("string"==typeof(o="function"==typeof n?n(i):n)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,i,n){this.getStaticCellClasses(e,i).forEach(function(a){n(a)})},XY([C("expressionService")],t.prototype,"expressionService",void 0),XY([oe("stylingService")],t)}(z),UPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iL=function(r){function t(e){return r.call(this,e,"ag-toggle-button")||this}return UPe(t,r),t.prototype.setValue=function(e,i){return r.prototype.setValue.call(this,e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(bd),zPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WPe=function(r){function t(e){return r.call(this,e,"ag-text-area",null,"textarea")||this}return zPe(t,r),t.prototype.setValue=function(e,i){var n=r.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Cd),$Pe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ZY=function(r){function t(e){return r.call(this,e,"ag-date-field","date")||this}return $Pe(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var i=Gl();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||i||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var i,n=e instanceof Date?null!==(i=$a(e??null,!1))&&void 0!==i?i:void 0:e;return this.min===n||(this.min=n,Bl(this.eInput,"min",n)),this},t.prototype.setMax=function(e){var i,n=e instanceof Date?null!==(i=$a(e??null,!1))&&void 0!==i?i:void 0:e;return this.max===n||(this.max=n,Bl(this.eInput,"max",n)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Bl(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=So(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,i){this.setValue($a(e??null,!1),i)},t}(au),KPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YPe=function(r){function t(e){return r.call(this,e,"ag-range-field","range")||this}return KPe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.config,i=e.min,n=e.max,o=e.step;null!=i&&this.setMinValue(i),null!=n&&this.setMaxValue(n),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){e.setValue(i.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var n=r.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},t}(Cd),qPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},XPe=function(r){function t(e,i){var n=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return n.params=e,n.wrapperEl=i,n}return qPe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},t.prototype.setState=function(e){var i="";this.params.valueFormatter&&(i=this.params.valueFormatter(e)),this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.value=e},t.prototype.highlightString=function(e){var i=this.parsedValue;if(!this.params.cellRenderer&&ae(i)){var n=ae(e);if(n){var o=i?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=An(i.slice(0,o),!0),l=An(i.slice(o,a),!0),c=An(i.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(c))}else n=!1}n||this.renderValueWithoutRenderer(i)}},t.prototype.updateHighlighted=function(e){var i,n=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());null===(i=n.parentElement)||void 0===i||i.setAttribute("id",o),e&&(kF(this.getParentComponent().getAriaElement(),o),this.wrapperEl.setAttribute("data-active-option",o)),Jm(n.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,i){var n=this.gridOptionsService.getDocument(),o=this.getGui(),a=n.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=An(ae(i)?i:e,!0);this.parsedValue=ae(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var i=this.getGui().querySelector("span");i&&(i.innerHTML=ae(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,i){var o,a,n=this;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:i})),a&&(o=a.newAgStackInstance()),o&&pk(o,this.getGui()),!!o&&(o.then(function(s){n.addDestroyFunc(function(){n.getContext().destroyBean(s)})}),!0)},t.prototype.onClick=function(){var e=this.getParentComponent(),i={type:x.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(i)},QY([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),QY([j],t.prototype,"postConstruct",null),t}(le),ZPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cg=function(r){function t(e){var i=r.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;i.renderedRows=new Map,i.rowHeight=20;var n=e||{},o=n.cssIdentifier,s=n.ariaRole,l=void 0===s?"listbox":s,c=n.listName;return i.cssIdentifier=void 0===o?"default":o,i.ariaRole=l,i.listName=c,i}return ZPe(t,r),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)},focusInnerElement:function(i){return e.focusInnerElement(i)},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;On(n,this.ariaRole),yd(n,i)},t.prototype.addResizeObserver=function(){var e=this,n=this.resizeObserverService.observeResize(this.getGui(),function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})});this.addDestroyFunc(n)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=dK(i)-1)},t.prototype.onFocusOut=function(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.key){case V.UP:case V.DOWN:this.navigate(e.key===V.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Ps(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var i=this.lastFocusedRowIndex+(e?-1:1);return!(i<0||i>=this.model.getRowCount()||(this.focusRow(i),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var i=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(i.isAlive()){var n=i.renderedRows.get(e);n&&n.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var i=this.renderedRows.get(e);return i&&i.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(i,n){return e(i.rowComponent,n)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-').concat(e,'-virtual-list-container" ref="eContainer"></div>\n            </div>')},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,i){void 0===i&&(i=!0);var n=this.model.getRowCount();if("number"!=typeof e||e<0||e>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,c=s.offsetHeight,d=i?0:this.rowHeight,p=l+c<a-d;return l>o+d?(s.scrollTop=o,!0):!!p&&(s.scrollTop=a-c,!0)},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var i=this;if(null!=this.model&&this.isAlive()){var n=this.model.getRowCount();this.eContainer.style.height="".concat(n*this.rowHeight,"px"),wF(function(){return i.eContainer.clientHeight>=n*i.rowHeight},function(){i.isAlive()&&(i.canSoftRefresh(e)?i.drawVirtualRows(!0):(i.clearVirtualRows(),i.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(i,n){return e.removeRow(n)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var i=this.getGui(),n=i.scrollTop,o=n+i.offsetHeight,a=Math.floor(n/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,i,n){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>i)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),n&&this.refreshRows();for(var a=e;a<=i;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var i=this,n=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),On(o,"tree"===this.ariaRole?"treeitem":"option"),LF(o,this.model.getRowCount()),NF(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(n,o);a.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:n})},t.prototype.removeRow=function(e){var i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,i=this.model.getRowCount();this.renderedRows.forEach(function(n,o){var a,s;if(o>=i)e.removeRow(o);else{var l=e.model.getRow(o);null!==(s=(a=e.model).areRowsEqual)&&void 0!==s&&s.call(a,n.value,l)?e.componentUpdater(l,n.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},FE([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),FE([C("animationFrameService")],t.prototype,"animationFrameService",void 0),FE([G("eContainer")],t.prototype,"eContainer",void 0),FE([j],t.prototype,"postConstruct",null),t}(Ed),QPe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kE=function(){return kE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},kE.apply(this,arguments)},JY=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},LE=function(r){function t(e){var n,o,i=this;(i=r.call(this,kE(kE({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(n=e?.template)&&void 0!==n?n:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(o=e?.maxPickerHeight)&&void 0!==o?o:"calc(var(--ag-row-height) * 6.5)"}))||this).searchString="",i.highlightedItem=-1,i.lastRowHovered=-1,i.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,c=a.valueList,u=a.searchStringCreator;return null!=s&&(i.cellRowHeight=s),void 0!==l&&(i.value=l),null!=c&&(i.values=c),u&&(i.searchStringCreator=u),i}return QPe(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var i=this.config,n=i.allowTyping,o=i.placeholder;n?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay;this.clearSearchString=sa(this.clearSearchString,void 0===a?300:a),this.renderSelectedValue(),n&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),i=this.localeService.getLocaleTextFunc(),n=e.createElement("div");n.classList.add("ag-loading-text"),n.innerText=i("loadingOoo","Loading..."),this.eLoading=n},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new cg({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater(function(u,d){}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){e.onListValueSelected(u.value,u.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(u){return u.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s),yd(a,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),BF(this.eWrapper,a)},t.prototype.renderSelectedValue=function(){var d,h,e=this,i=this,n=i.value,o=i.eDisplayField,a=i.config,s=this.config,l=s.allowTyping,c=s.initialInputValue,u=this.config.valueFormatter?this.config.valueFormatter(n):n;if(l)this.eInput.setValue(c??u);else if(a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:n,valueFormatted:u})),d&&(h=d.newAgStackInstance()),h)Yn(o),pk(h,o),h.then(function(f){e.addDestroyFunc(function(){return e.getContext().destroyBean(f)})});else if(ae(this.value))o.innerText=u,o.classList.remove("ag-display-as-placeholder");else{var p=a.placeholder;ae(p)?(o.innerHTML="".concat(An(p)),o.classList.add("ag-display-as-placeholder")):Yn(o)}},t.prototype.getCurrentValueIndex=function(){var i=this.currentList,n=this.value;if(null==n||!i)return-1;for(var o=0;o<i.length;o++)if(i[o]===n)return o;return-1},t.prototype.highlightFilterMatch=function(){var i,e=this;null===(i=this.listComponent)||void 0===i||i.forEachRenderedRow(function(n,o){n.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var n,i=this;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null===(n=this.listComponent)||void 0===n||n.forEachRenderedRow(function(o,a){o.updateHighlighted(-1!==e&&i.highlightedItem===a)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var i=e.valueList,n=e.refresh;this.listComponent&&this.currentList!==i&&(this.currentList=i,this.listComponent.setModel({getRowCount:function(){return i.length},getRow:function(o){return i[o]},areRowsEqual:function(o,a){return o===a}}),n&&(this.values?this.listComponent.refresh(!0):(this.values=i,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,i;if(this.listComponent){if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!==(e=this.eLoading)&&void 0!==e&&e.offsetParent&&(null===(i=this.eLoading.parentElement)||void 0===i||i.removeChild(this.eLoading));var n=this.getCurrentValueIndex();-1!==n?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var i=e.key;if(i===V.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!lE(e))return;e.preventDefault(),this.searchTextFromCharacter(i)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){null==e&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var o,i=this.config.valueFormatter,n=void 0===i?function(a){return a}:i;return"number"==typeof e[0]||"string"==typeof e[0]?o=e.map(function(a){return n(a)}):"object"==typeof e[0]&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,i){var n=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,c=void 0===l?"fuzzy":l,u=s.filterList;if("fuzzy"===c){var d=H_(this.searchString,i,!0);o=d.values;var h=d.indices;if(u&&h.length)for(var p=0;p<h.length;p++)a.push(this.values[h[p]])}else o=i.filter(function(f,m){var g=f.toLocaleLowerCase(),v=n.searchString.toLocaleLowerCase(),y="match"===c?g.startsWith(v):-1!==g.indexOf(v);return u&&y&&a.push(n.values[m]),y});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){this.config.filterList&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,i,n=this.values,o=this.buildSearchStrings(n);if(o){var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,c=this.config,d=c.highlightMatch,h=c.searchType,p=void 0===h?"fuzzy":h,f=l.length,m=!(!c.filterList||""===this.searchString);if(this.filterListModel(m?l:n),s.length){var g=m?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!m||f)null===(e=this.listComponent)||void 0===e||e.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");var v=null===(i=this.listComponent)||void 0===i?void 0:i.getAriaElement();v&&kF(v,null)}d&&"fuzzy"!==p&&this.highlightFilterMatch(),this.displayOrHidePicker()}else this.highlightSelectedValue(-1)},t.prototype.displayOrHidePicker=function(){var e,i=null===(e=this.listComponent)||void 0===e?void 0:e.getGui(),n=!!this.currentList&&0===this.currentList.length;i?.classList.toggle("ag-hidden",n)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,i){!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!i)&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))},t.prototype.setValue=function(e,i,n){var o=this.currentList?this.currentList.indexOf(e):-1;return-1===o?this:(this.value=e,n||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,e,i))},t.prototype.createRowComponent=function(e){var i=new XPe(this.config,this.eWrapper);i.setParentComponent(this.listComponent),this.getContext().createBean(i),i.setState(e);var n=this.config,a=n.searchType;return n.highlightMatch&&"fuzzy"!==(void 0===a?"fuzzy":a)&&i.highlightString(this.searchString),i},t.prototype.getRowForMouseEvent=function(e){var i=this.listComponent;if(!i)return-1;var n=i?.getGui(),o=n.getBoundingClientRect(),a=i.getScrollTop();return Math.floor((e.clientY-o.top+a)/i.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var i=this.getRowForMouseEvent(e);-1!==i&&i!=this.lastRowHovered&&(this.lastRowHovered=i,this.selectListItem(i,!0))}},t.prototype.onNavigationKeyDown=function(e,i){e.preventDefault();var n=i===V.DOWN;if(this.isPickerDisplayed||!n){var o=this.highlightedItem;this.selectListItem(-1===o?0:o+(n?1:-1))}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,i){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,i),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,i){this.dispatchEvent({type:x.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:i,value:e})},t.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var i=e.key,n=this.config.allowTyping;switch(i){case V.LEFT:case V.RIGHT:case V.PAGE_HOME:case V.PAGE_END:n||e.preventDefault();break;case V.PAGE_UP:case V.PAGE_DOWN:e.preventDefault();break;case V.DOWN:case V.UP:this.onNavigationKeyDown(e,i);break;case V.ESCAPE:this.isPickerDisplayed&&(ua(this.listComponent.getGui())&&(e.preventDefault(),Ps(e)),this.hidePicker());break;case V.ENTER:this.onEnterKeyDown(e);break;case V.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},JY([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),JY([G("eInput")],t.prototype,"eInput",void 0),t}(wk),eIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Xa=function(r){function t(e){var i=r.call(this,e,t.TEMPLATE)||this;return i.labelAlignment="top",i}return eIe(t,r),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var i=this,n=x.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,n,function(){var o=parseFloat(i.eText.getValue());i.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,n,function(){var o=i.eSlider.getValue();i.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',NE([G("eLabel")],t.prototype,"eLabel",void 0),NE([G("eSlider")],t.prototype,"eSlider",void 0),NE([G("eText")],t.prototype,"eText",void 0),NE([j],t.prototype,"init",null),t}(bk),tIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ad=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Vs=function(r){function t(e){void 0===e&&(e={});var i=r.call(this,t.getTemplate(e))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return i.title=e.title,i.cssIdentifier=e.cssIdentifier||"default",i.enabled=o??!0,i.items=a||[],i.alignItems=e.alignItems||"center",null!=s&&(i.suppressEnabledCheckbox=s),null!=l&&(i.suppressOpenCloseIcons=l),i}return tIe(t,r),t.getTemplate=function(e){var i=e.cssIdentifier||"default",n=e.direction||"vertical";return'<div class="ag-group ag-'.concat(i,'-group" role="presentation">\n            <div class="ag-group-title-bar ag-').concat(i,'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-').concat(i,'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-').concat(i,'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-').concat(n," ag-").concat(i,'-group-container"></div>\n        </div>')},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var i=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Ya("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ya("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case V.ENTER:case V.SPACE:i.preventDefault(),e.toggleGroupExpand();break;case V.RIGHT:case V.LEFT:i.preventDefault(),e.toggleGroupExpand(i.key===V.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||iu(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Nt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Nt(this.eGroupOpenedIcon,e&&this.expanded),Nt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var i="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(i),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Nt(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Nt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var i=this;e.forEach(function(n){return i.addItem(n)})},t.prototype.prependItem=function(e){this.insertItem(e,this.eContainer.firstChild)},t.prototype.addItem=function(e){this.insertItem(e,null)},t.prototype.insertItem=function(e,i){var n=this.eContainer,o=e instanceof le?e.getGui():e;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.insertBefore(o,i),this.items.push(o)},t.prototype.hideItem=function(e,i){Nt(this.items[i],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,i){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),i||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var i=this;return this.cbGroupEnabled.onValueChange(function(n){i.setEnabled(n,!0),e(n)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Ad([G("eTitleBar")],t.prototype,"eTitleBar",void 0),Ad([G("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Ad([G("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Ad([G("eToolbar")],t.prototype,"eToolbar",void 0),Ad([G("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Ad([G("eTitle")],t.prototype,"eTitle",void 0),Ad([G("eContainer")],t.prototype,"eContainer",void 0),Ad([j],t.prototype,"postConstruct",null),t}(le),iIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),e7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},GE=function(r){function t(e,i){void 0===e&&(e=0);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n.params=i??{column:null,node:null,value:null},n}return iIe(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.handleFocusIn(i)},onFocusOut:function(i){return e.handleFocusOut(i)}})},t.prototype.onTabKeyDown=function(e){var i=this.getParentComponent(),n=i&&i.getGui();n&&n.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case V.UP:case V.RIGHT:case V.DOWN:case V.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case V.ESCAPE:this.closeIfIsChild()&&Ps(e)}},t.prototype.handleFocusIn=function(e){var i,n,o=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||null!==(n=null===(i=this.activeMenuItem)||void 0===i?void 0:i.getSubMenuGui())&&void 0!==n&&n.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},t.prototype.handleFocusOut=function(e){var i,n=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(n)||null!==(i=this.activeMenuItem.getSubMenuGui())&&void 0!==i&&i.contains(n)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var i=this;null!=e&&vt.all(e.map(function(n){return"separator"===n?vt.resolve({eGui:i.createSeparator()}):"string"==typeof n?(console.warn("AG Grid: unrecognised menu item ".concat(n)),vt.resolve({eGui:null})):i.addItem(n)})).then(function(n){n.forEach(function(o){o?.eGui&&(i.appendChild(o.eGui),o.comp&&i.menuItems.push(o.comp))})})},t.prototype.addItem=function(e){var i=this,n=this.createManagedBean(new Bs);return n.init({menuItemDef:e,isAnotherSubMenuOpen:function(){return i.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return n.setParentComponent(i),i.addManagedListener(n,Bs.EVENT_CLOSE_MENU,function(o){i.dispatchEvent(o)}),i.addManagedListener(n,Bs.EVENT_MENU_ITEM_ACTIVATED,function(o){i.activeMenuItem&&i.activeMenuItem!==o.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=o.menuItem}),{comp:n,eGui:n.getGui()}})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(i){return!i.isDisabled()})[0];e&&e.activate()},t.prototype.createSeparator=function(){return xo('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')},t.prototype.handleNavKey=function(e){switch(e){case V.UP:case V.DOWN:var i=this.findNextItem(e===V.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.get("enableRtl")?V.RIGHT:V.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var i=this.getParentComponent();return!!(i&&i instanceof Bs)&&(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus(),!0)},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var i=this.menuItems.filter(function(l){return!l.isDisabled()});if(i.length){if(!this.activeMenuItem)return e?Ut(i):i[0];e&&i.reverse();for(var n,o=!1,a=0;a<i.length;a++){var s=i[a];if(o){n=s;break}s===this.activeMenuItem&&(o=!0)}return o&&!n?i[0]:n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},e7([C("focusService")],t.prototype,"focusService",void 0),e7([j],t.prototype,"postConstruct",null),t}(Ed),nIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oIe=function(r){function t(e){var i=r.call(this)||this;return i.wrappedComponent=e,i.setTemplateFromElement(e.getGui()),i}return nIe(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.handleKeyDown=function(e){e.key===V.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(Ed),aIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rC=function(){return rC=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},rC.apply(this,arguments)},nL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Bs=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isActive=!1,e.subMenuIsOpen=!1,e.subMenuIsOpening=!1,e.suppressRootStyles=!0,e.suppressAria=!0,e.suppressFocus=!0,e}return aIe(t,r),t.prototype.init=function(e){var n,o,i=this,a=e.menuItemDef,s=e.isAnotherSubMenuOpen,l=e.level,c=e.childComponent,u=e.contextParams;return this.params=e.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=c,this.contextParams=u,this.cssClassPrefix=null!==(o=null===(n=this.params.menuItemParams)||void 0===n?void 0:n.cssClassPrefix)&&void 0!==o?o:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,rC(rC({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(h){return i.openSubMenu(h)},closeSubMenu:function(){return i.closeSubMenu()},closeMenu:function(h){return i.closeMenu(h)},updateTooltip:function(h){return i.updateTooltip(h)},onItemActivated:function(){return i.onItemActivated()}})).newAgStackInstance().then(function(h){var p;i.menuItemComp=h;var f=null===(p=h.configureDefaults)||void 0===p?void 0:p.call(h);f&&i.configureDefaults(!0===f?void 0:f)})},t.prototype.addListeners=function(e,i){var n=this;i?.suppressClick||this.addManagedListener(e,"click",function(o){return n.onItemSelected(o)}),i?.suppressKeyboardSelect||this.addManagedListener(e,"keydown",function(o){(o.key===V.ENTER||o.key===V.SPACE)&&(o.preventDefault(),n.onItemSelected(o))}),i?.suppressMouseDown||this.addManagedListener(e,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),i?.suppressMouseOver||(this.addManagedListener(e,"mouseenter",function(){return n.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.onMouseLeave()}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n,o,i=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){this.subMenuIsOpening=!0;var a=xo('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){i.subMenuIsOpening=!1};if(this.childComponent){var c=this.createBean(new oIe(this.childComponent));c.setParentComponent(this);var u=c.getGui(),d="mouseenter",h=function(){return i.cancelDeactivate()};u.addEventListener(d,h),s=function(){return u.removeEventListener(d,h)},a.appendChild(u),this.childComponent.afterGuiAttached&&(l=function(){i.childComponent.afterGuiAttached(),i.subMenuIsOpening=!1})}else if(this.params.subMenu){var p=this.createBean(new GE(this.level+1,this.contextParams));p.setParentComponent(this),p.addMenuItems(this.params.subMenu),a.appendChild(p.getGui()),this.addManagedListener(p,t.EVENT_CLOSE_MENU,function(v){return i.dispatchEvent(v)}),p.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),s=function(){return i.destroyBean(p)},e&&(l=function(){p.activateFirstItem(),i.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),m=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:m("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var v,y;g&&g.hideFunc(),i.subMenuIsOpen=!1,i.setAriaExpanded(!1),s(),null===(y=(v=i.menuItemComp).setExpanded)||void 0===y||y.call(v,!1),i.eSubMenuGui=void 0},null===(o=(n=this.menuItemComp).setExpanded)||void 0===o||o.call(n,!0)}},t.prototype.setAriaExpanded=function(e){this.suppressAria||iu(this.eGui,e)},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},t.prototype.activate=function(e){var n,o,i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),null===(o=(n=this.menuItemComp).setActive)||void 0===o||o.call(n,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),null===(i=(e=this.menuItemComp).setActive)||void 0===i||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.getGui=function(){return this.menuItemComp.getGui()},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getSubMenuGui=function(){return this.eSubMenuGui},t.prototype.onItemSelected=function(e){var n,o,i=this;null===(o=(n=this.menuItemComp).select)||void 0===o||o.call(n),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return i.params.action(i.gridOptionsService.addGridCommonParams(rC({},i.contextParams)))}):this.openSubMenu(e&&"keydown"===e.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)},t.prototype.closeMenu=function(e){this.dispatchEvent({type:t.EVENT_CLOSE_MENU,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.configureDefaults=function(e){var n,o,a,i=this;if(this.tooltip=this.params.tooltip,this.menuItemComp){var s=this.menuItemComp.getGui(),l=null===(o=(n=this.menuItemComp).getRootElement)||void 0===o?void 0:o.call(n);l&&(e?.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!e?.suppressRootStyles,this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),null===(a=this.params.cssClasses)||void 0===a||a.forEach(function(c){return s.classList.add(c)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),e?.suppressTooltip||this.setTooltip(),this.suppressAria=!!e?.suppressAria,this.suppressAria||(On(s,"treeitem"),mK(s,this.level+1),this.params.disabled&&FF(s,!0)),e?.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!e?.suppressFocus}else setTimeout(function(){return i.configureDefaults(e)})},t.prototype.updateTooltip=function(e){this.tooltip=e,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},t.prototype.setTooltip=function(){var e=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new Ns({getGui:function(){return e.getGui()},getTooltipValue:function(){return e.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},t.EVENT_CLOSE_MENU="closeMenu",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,nL([C("popupService")],t.prototype,"popupService",void 0),nL([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),nL([C("beans")],t.prototype,"beans",void 0),t}(z),sIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},t7=function(r){function t(e){var i=r.call(this,t.getTemplate(e))||this;return i.config=e,i.closable=!0,i}return sIe(t,r),t.getTemplate=function(e){var i=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(i,'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-').concat(i,'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-').concat(i,'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-').concat(i,'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-').concat(i,'-panel-content-wrapper"></div>\n        </div>')},t.prototype.postConstruct=function(){var e=this,i=this.config,n=i.component,o=i.closable,a=i.hideTitleBar,s=i.title,l=i.minWidth,c=void 0===l?250:l,u=i.width,d=i.minHeight,h=void 0===d?250:d,p=i.height,f=i.centered,m=i.popup,g=i.x,v=i.y;this.positionableFeature=new uE(this.getGui(),{minWidth:c,width:u,minHeight:h,height:p,centered:f,x:g,y:v,popup:m,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();n&&this.setBodyComponent(n),a?Nt(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(_){var b=e.gridOptionsService.getDocument();if(y.contains(_.relatedTarget)||y.contains(b.activeElement)||e.eTitleBarButtons.contains(_.target))_.preventDefault();else{var w=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");w&&w.focus()}}),(!m||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var i=this.closeButtonComp=new le(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var n=i.getGui(),o=pn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(o),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,i){var n=this.eTitleBarButtons,o=n.children,a=o.length;null==i&&(i=a),i=Math.max(0,Math.min(i,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();0===i?n.insertAdjacentElement("afterbegin",s):i===a?n.insertAdjacentElement("beforeend",s):o[i-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return F_(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return pp(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&ua(e)&&this.close(),r.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',oC([G("eContentWrapper")],t.prototype,"eContentWrapper",void 0),oC([G("eTitleBar")],t.prototype,"eTitleBar",void 0),oC([G("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),oC([G("eTitle")],t.prototype,"eTitle",void 0),oC([j],t.prototype,"postConstruct",null),t}(le),lIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VE=function(){return VE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},VE.apply(this,arguments)},ug=function(r){function t(e){var i=r.call(this,VE(VE({},e),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return lIe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),n=this.config,o=n.movable,a=n.resizable,s=n.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(l){i.contains(l.relatedTarget)||e.popupService.bringPopupToFront(i)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),i=this.config,n=i.alwaysOnTop,o=i.modal,a=i.title,s=i.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:n,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});c&&(this.close=c.hideFunc)},t.prototype.onClosed=function(e){var i,n;this.destroy(),null===(n=(i=this.config).closedCallback)||void 0===n||n.call(i,e)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,n=i.x,o=i.y,s=i.height;this.setWidth(i.width),this.setHeight(s),this.positionableFeature.offsetElement(n,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Nt(this.maximizeIcon,!this.isMaximized),Nt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var i=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new le('<div class="ag-dialog-button"></span>')),i=e.getGui();return this.maximizeIcon=pn("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=pn("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("popupService")],t.prototype,"popupService",void 0),t}(t7),uIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BE=function(){return BE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},BE.apply(this,arguments)},aC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},i7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},n7=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},r7=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pa=(()=>((pa=pa||{})[pa.vertical=0]="vertical",pa[pa.horizontal=1]="horizontal",pa))(),dIe=0,hIe=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.popupList=[],i}var e;return uIe(t,r),e=t,t.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(n){i.gridCtrl=n.gridCtrl}),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(i){var n=i.eventSource,o=i.ePopup,a=this.getPopupIndex(o);-1!==a&&(this.popupList[a].alignedToElement=n);var l=n.getBoundingClientRect(),c=this.getParentRect(),u=this.keepXYWithinBounds(o,l.top-c.top,pa.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var f,p=c.right-c.left-d;function m(){return l.right-c.left-2}function g(){return l.left-c.left-d}this.gridOptionsService.get("enableRtl")?((f=g())<0&&(f=m(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):((f=m())>p&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(u,"px")},t.prototype.positionPopupUnderMouseEvent=function(i){var n=this;this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,keepWithinBounds:!0,skipObserver:i.skipObserver,updatePosition:function(){return n.calculatePointerAlign(i.mouseEvent)},postProcessCallback:function(){return n.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)}})},t.prototype.calculatePointerAlign=function(i){var n=this.getParentRect();return{x:i.clientX-n.left,y:i.clientY-n.top}},t.prototype.positionPopupByComponent=function(i){var n=this,o=i.ePopup,a=i.nudgeX,s=i.nudgeY,l=i.keepWithinBounds,c=i.eventSource,u=i.alignSide,d=void 0===u?"left":u,h=i.position,p=void 0===h?"over":h,f=i.column,m=i.rowNode,g=i.type,v=c.getBoundingClientRect(),y=this.getParentRect(),_=this.getPopupIndex(o);-1!==_&&(this.popupList[_].alignedToElement=c),this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:function(){var M,E=v.left-y.left;return"right"===d&&(E-=o.offsetWidth-v.width),"over"===p?(M=v.top-y.top,n.setAlignedStyles(o,"over")):(n.setAlignedStyles(o,"under"),M="under"===n.shouldRenderUnderOrAbove(o,v,y,i.nudgeY||0)?v.top-y.top+v.height:v.top-o.offsetHeight-2*(s||0)-y.top),{x:E,y:M}},postProcessCallback:function(){return n.callPostProcessPopup(g,o,c,null,f,m)}})},t.prototype.shouldRenderUnderOrAbove=function(i,n,o,a){var s=o.bottom-n.bottom,l=n.top-o.top,c=i.offsetHeight+a;return s>c?"under":l>c||l>s?"above":"under"},t.prototype.setAlignedStyles=function(i,n){var o=this.getPopupIndex(i);if(-1!==o){var s=this.popupList[o].alignedToElement;s&&(["right","left","over","above","under"].forEach(function(c){s.classList.remove("ag-has-popup-positioned-".concat(c)),i.classList.remove("ag-popup-positioned-".concat(c))}),n&&(s.classList.add("ag-has-popup-positioned-".concat(n)),i.classList.add("ag-popup-positioned-".concat(n))))}},t.prototype.callPostProcessPopup=function(i,n,o,a,s,l){var c=this.gridOptionsService.getCallback("postProcessPopup");c&&c({column:s,rowNode:l,ePopup:n,type:i,eventSource:o,mouseEvent:a})},t.prototype.positionPopup=function(i){var n=this,o=i.ePopup,a=i.keepWithinBounds,s=i.nudgeX,l=i.nudgeY,c=i.skipObserver,u=i.updatePosition,d={width:0,height:0},h=function(f){void 0===f&&(f=!1);var m=u(),g=m.x,v=m.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(v+=l),a&&(g=n.keepXYWithinBounds(o,g,pa.horizontal),v=n.keepXYWithinBounds(o,v,pa.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(v,"px"),i.postProcessCallback&&i.postProcessCallback())};if(h(),!c){var p=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return p()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var i=this.gridOptionsService.getDocument(),n=this.getPopupParent();return n===i.body?n=i.documentElement:"static"===getComputedStyle(n).position&&(n=n.offsetParent),sk(n)},t.prototype.keepXYWithinBounds=function(i,n,o){var a=o===pa.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",c=a?"offsetHeight":"offsetWidth",u=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),m=d.documentElement.getBoundingClientRect(),g=p===d.body,v=i[c],_=g?(a?ak:k_)(h)+h[u]:p[s];g&&(_-=Math.abs(m[l]-f[l]));var b=_-v;return Math.min(Math.max(n,0),Math.abs(b))},t.prototype.addPopup=function(i){var n=this.gridOptionsService.getDocument(),o=i.eChild,a=i.ariaLabel,s=i.alwaysOnTop,l=i.positionCallback,c=i.anchorToElement;if(!n)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var u=this.getPopupIndex(o);if(-1!==u)return{hideFunc:this.popupList[u].hideFunc};this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,a,!!s),p=this.addEventListenersToPopup(BE(BE({},i),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,p,c),{hideFunc:p}},t.prototype.initialisePopupPosition=function(i){var o=this.getPopupParent().getBoundingClientRect();ae(i.style.top)||(i.style.top="".concat(-1*o.top,"px")),ae(i.style.left)||(i.style.left="".concat(-1*o.left,"px"))},t.prototype.createPopupWrapper=function(i,n,o){var a,s=this.getPopupParent(),l=document.createElement("div"),c=this.environment.getTheme().allThemes;return c.length&&(a=l.classList).add.apply(a,n7([],i7(c),!1)),l.classList.add("ag-popup"),i.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),i.hasAttribute("role")||On(i,"dialog"),yd(i,n),l.appendChild(i),s.appendChild(l),o?this.setAlwaysOnTop(i,!0):this.bringPopupToFront(i),l},t.prototype.handleThemeChange=function(){var i,n,o,a,s,l=this.environment.getTheme().allThemes;try{for(var c=r7(this.popupList),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,r7(Array.from(d.wrapper.classList))),p=h.next();!p.done;p=h.next()){var f=p.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,n7([],i7(l),!1))}}catch(m){i={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}},t.prototype.addEventListenersToPopup=function(i){var n=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=i.wrapperEl,l=i.eChild,c=i.closedCallback,u=i.afterGuiAttached,d=i.closeOnEsc,h=i.modal,p=!1,f=function(y){s.contains(o.activeElement)&&y.key===V.ESCAPE&&!Is(y)&&v({keyboardEvent:y})},m=function(y){return v({mouseEvent:y})},g=function(y){return v({touchEvent:y})},v=function(y){void 0===y&&(y={});var _=y.mouseEvent,b=y.touchEvent,w=y.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:_,touchEvent:b},l)||p||(p=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",m),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",m),n.eventService.removeEventListener(x.EVENT_DRAG_STARTED,m),c&&c(_||b||w),n.removePopupFromPopupList(l))};return u&&u({hidePopup:v}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),h&&(o.addEventListener("mousedown",m),n.eventService.addEventListener(x.EVENT_DRAG_STARTED,m),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",m))},0),v},t.prototype.addPopupToPopupList=function(i,n,o,a){this.popupList.push({element:i,wrapper:n,hideFunc:o,instanceId:dIe++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(i,a)},t.prototype.getPopupIndex=function(i){return this.popupList.findIndex(function(n){return n.element===i})},t.prototype.setPopupPositionRelatedToElement=function(i,n){var o=this.getPopupIndex(i);if(-1!==o){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,n){var s=this.keepPopupPositionedRelativeTo({element:n,ePopup:i,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(i){this.setAlignedStyles(i,null),this.setPopupPositionRelatedToElement(i,null),this.popupList=this.popupList.filter(function(n){return n.element!==i})},t.prototype.keepPopupPositionedRelativeTo=function(i){var n=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=i.element,l=i.ePopup,c=s.getBoundingClientRect(),u=a.top-c.top,d=a.left-c.left,h=u,p=d,f=l.style.top,m=parseInt(f.substring(0,f.length-1),10),g=l.style.left,v=parseInt(g.substring(0,g.length-1),10);return new vt(function(y){n.getFrameworkOverrides().setInterval(function(){var _=o.getBoundingClientRect(),b=s.getBoundingClientRect();if(0==b.top&&0==b.left&&0==b.height&&0==b.width)i.hidePopup();else{var E=_.top-b.top;if(E!=h){var M=n.keepXYWithinBounds(l,m+u-E,pa.vertical);l.style.top="".concat(M,"px")}h=E;var P=_.left-b.left;if(P!=p){var I=n.keepXYWithinBounds(l,v+d-P,pa.horizontal);l.style.left="".concat(I,"px")}p=P}},200).then(function(_){y(function(){null!=_&&window.clearInterval(_)})})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},t.prototype.isEventFromCurrentPopup=function(i,n){var s=i.mouseEvent||i.touchEvent;if(!s)return!1;var l=this.getPopupIndex(n);if(-1===l)return!1;for(var c=l;c<this.popupList.length;c++)if(Qx(this.popupList[c].element,s))return!0;return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(i){for(var n=this.gridOptionsService.getDocument();i&&i!==n.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},t.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},t.prototype.setAlwaysOnTop=function(i,n){var o=this.getWrapper(i);o&&(o.classList.toggle("ag-always-on-top",!!n),n&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(i){var n=this.getPopupParent(),o=Array.prototype.slice.call(n.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(n.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,c=this.getWrapper(i);if(c&&!(a<=1)&&n.contains(i)){var u=o.indexOf(c),d=c.querySelectorAll("div"),h=[];for(d.forEach(function(g){0!==g.scrollTop&&h.push([g,g.scrollTop])}),l?c.classList.contains("ag-always-on-top")?u!==a-1&&Ut(s).insertAdjacentElement("afterend",c):u!==a-l-1&&s[0].insertAdjacentElement("beforebegin",c):u!==a-1&&Ut(o).insertAdjacentElement("afterend",c);h.length;){var f=h.pop();f[0].scrollTop=f[1]}this.eventService.dispatchEvent({type:"popupToFront",eWrapper:c})}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,aC([C("focusService")],t.prototype,"focusService",void 0),aC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),aC([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),aC([j],t.prototype,"postConstruct",null),e=aC([oe("popupService")],t)}(z),pIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fIe=function(r){function t(){var e=r.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return pIe(t,r),t.prototype.setState=function(e,i){this.value=e,this.render(),this.updateSelected(i)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var i,n=!1;if(ae(e)){var o=null===(i=this.value)||void 0===i?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){n=!0,this.hasHighlighting=!0;var a=o+e.length,s=An(this.value.slice(0,o)),l=An(this.value.slice(o,a)),c=An(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(c)}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=An(this.value))&&void 0!==e?e:"&nbsp;"},t}(le),mIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),o7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},gIe=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.params=e,i.searchString="",i}return mIe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new cg({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(n){return e.autocompleteEntries[n]}});var i=this.virtualList.getGui();this.addManagedListener(i,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(n){return n.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,i){e.preventDefault();var n=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(i===V.UP?n-1:n+1)},t.prototype.setSearch=function(e){this.searchString=e,ae(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,i){var n,o=!1,a=e.toLocaleLowerCase(),s=i.filter(function(l){var u=l.toLocaleLowerCase().indexOf(a),d=0===u,h=u>=0;return h&&(!n||!o&&d||o===d&&l.length<n.length)&&(n=l,o=d),h});return!n&&s.length&&(n=s[0]),{topMatch:n,allMatches:s}},t.prototype.runSearch=function(){var e,i,a,s,n=this.params.autocompleteEntries,o=n.map(function(d){var h;return null!==(h=d.displayValue)&&void 0!==h?h:d.key});if(this.params.useFuzzySearch)s=(a=H_(this.searchString,o,!0).values).length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var c=n.filter(function(d){return a.includes(d.displayValue??d.key)});if(!c.length&&this.selectedValue&&!(null===(i=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===i)&&i.call(e,this.selectedValue,this.searchString)&&(c=[this.selectedValue]),this.autocompleteEntries=c,this.virtualList.refresh(),s){var u=a.indexOf(s);this.checkSetSelectedValue(u)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(i){return i.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(n,o){n.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var i,n=new fIe;return this.getContext().createBean(n),n.setState(null!==(i=e.displayValue)&&void 0!==i?i:e.key,e===this.selectedValue),n},t.prototype.onMouseMove=function(e){var i=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),a=Math.floor((e.clientY-i.top+n)/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',o7([G("eList")],t.prototype,"eList",void 0),o7([j],t.prototype,"init",null),t}(wd),vIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},sC=function(r){function t(){var e=r.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return vIe(t,r),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(i){return e.onValueChanged(i)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var i=kl(e);this.updateValue(i),this.updateAutocompleteList(i)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var i,n,o,a,s=null!==(n=null===(i=this.listGenerator)||void 0===i?void 0:i.call(this,e,this.lastPosition))&&void 0!==n?n:{enabled:!1};(!s.type||s.type!==(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,null!==(a=this.autocompleteListParams)&&void 0!==a&&a.enabled?(this.isListOpen||this.openList(),this.autocompleteList.setSearch(this.autocompleteListParams.searchString??"")):this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var i=this,n=e.key;switch(this.updateLastPosition(),n){case V.ENTER:this.onEnterKeyDown(e);break;case V.TAB:this.onTabKeyDown(e);break;case V.DOWN:case V.UP:this.onUpDownKeyDown(e,n);break;case V.LEFT:case V.RIGHT:case V.PAGE_HOME:case V.PAGE_END:setTimeout(function(){i.updatePositionAndList()});break;case V.ESCAPE:this.onEscapeKeyDown(e);break;case V.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}},t.prototype.confirmSelection=function(){var e,i=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,i){var n;e.preventDefault(),this.isListOpen?null===(n=this.autocompleteList)||void 0===n||n.onNavigationKeyDown(e,i):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,i){var n=this.gridOptionsService.getDocument();i&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(i=this.validationMessage)&&void 0!==i?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new gIe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var i=this.autocompleteList.getGui(),n={ePopup:i,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:i,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(n)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return kl(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var i=e.value,n=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(i,!0),this.setCaret(n??this.lastPosition,s),o||this.updateValue(i),(!a||this.isListOpen)&&this.updateAutocompleteList(i)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",rL([C("popupService")],t.prototype,"popupService",void 0),rL([G("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),rL([j],t.prototype,"postConstruct",null),t}(le),yIe=["touchstart","touchend","touchmove","touchcancel"],a7=function(){function r(t){void 0===t&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return r.prototype.setInterval=function(t,e){return new vt(function(i){i(window.setInterval(t,e))})},r.prototype.addEventListener=function(t,e,i,n){var o=Rs(yIe,e);t.addEventListener(e,i,{capture:!!n,passive:o})},Object.defineProperty(r.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.frameworkComponent=function(t){return null},r.prototype.isFrameworkComponent=function(t){return!1},r.prototype.getDocLink=function(t){return"https://www.ag-grid.com/".concat("solid"===this.frameworkName?"react":this.frameworkName,"-data-grid").concat(t?"/".concat(t):"")},r}(),_Ie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _Ie(t,r),t.prototype.getNextCellToFocus=function(e,i,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,i){var s,l,n=e===V.UP,a=e===V.LEFT;if(n||e===V.DOWN)l=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=i.column;else{var c=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.get("enableRtl");l=i.rowIndex,s=a!==u?c[0]:Ut(c)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,i){for(var n=i,o=!1;!o;){switch(e){case V.UP:n=this.getCellAbove(n);break;case V.DOWN:n=this.getCellBelow(n);break;case V.RIGHT:n=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case V.LEFT:n=this.gridOptionsService.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(e){var n,i=e.column;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex)}return!!n&&!i.isSuppressNavigable(n)},t.prototype.getCellToLeft=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var i=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:i+1,rowPinned:n}},t.prototype.getNextStickyPosition=function(e,i){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var n=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,c){return l.getRowNode().rowIndex-c.getRowNode().rowIndex}),o=i?-1:1,a=n.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=n[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var i=e.rowPinned,n=e.rowIndex;return"top"===i?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===i?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},t.prototype.getRowAbove=function(e){var i=e.rowIndex,n=e.rowPinned;if(n?0===i:i===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(a,!0)||{rowIndex:i-1,rowPinned:n}},t.prototype.getCellAbove=function(e){if(!e)return null;var i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=i[0];var s=this.getRowBelow(e);if(Qe(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=Ut(i);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Qe(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:a,rowPinned:o}},dg([C("columnModel")],t.prototype,"columnModel",void 0),dg([C("rowModel")],t.prototype,"rowModel",void 0),dg([C("rowRenderer")],t.prototype,"rowRenderer",void 0),dg([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),dg([C("paginationProxy")],t.prototype,"paginationProxy",void 0),dg([oe("cellNavigationService")],t)}(z),SIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},xIe=function(r,t){return function(e,i){t(e,i,r)}},EIe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.consuming=!1,e}return SIe(t,r),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var i,e=this,n=null!==(i=this.gridOptionsService.get("alignedGrids"))&&void 0!==i?i:[],o="function"==typeof n;"function"==typeof n&&(n=n());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))};return n.map(function(l){var c;if(!l)return Ms("alignedGrids contains an undefined option."),o||Ms('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Ms(a());if(l instanceof DY)return l;var u=l;return"current"in u?null===(c=u.current)||void 0===c?void 0:c.api:(u.api||Ms("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),u.api)}).filter(function(l){return!!l&&!l.isDestroyed()})},t.prototype.init=function(){this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(i){var n=i.__getAlignedGridService();e(n)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(i){i.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(i){i.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var i=this;this.onEvent(function(){i.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var i=[];return e.columns?e.columns.forEach(function(n){i.push(n)}):e.column&&i.push(e.column),i},t.prototype.getColumnIds=function(e){var i=[];return e.columns?e.columns.forEach(function(n){i.push(n.getColId())}):e.column&&i.push(e.column.getColId()),i},t.prototype.onColumnEvent=function(e){var i=this;this.onEvent(function(){switch(e.type){case x.EVENT_COLUMN_MOVED:case x.EVENT_COLUMN_VISIBLE:case x.EVENT_COLUMN_PINNED:case x.EVENT_COLUMN_RESIZED:i.processColumnEvent(e);break;case x.EVENT_COLUMN_GROUP_OPENED:i.processGroupOpenedEvent(e);break;case x.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var i=this;e.columnGroups.forEach(function(n){var o=null;if(n){var a=n.getGroupId();o=i.columnModel.getProvidedColumnGroup(a)}n&&!o||(i.logger.log("onColumnEvent-> processing "+e+" expanded = "+n.isExpanded()),i.columnModel.setColumnGroupOpened(o,n.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var n,i=this,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!o||a){var s=this.getMasterColumns(e);switch(e.type){case x.EVENT_COLUMN_MOVED:var l=e,u=e.api.getColumnState().map(function(v){return{colId:v.colId}});this.columnModel.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex));break;case x.EVENT_COLUMN_VISIBLE:var d=e;u=e.api.getColumnState().map(function(_){return{colId:_.colId,hide:_.hide}}),this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible));break;case x.EVENT_COLUMN_PINNED:var h=e;u=e.api.getColumnState().map(function(_){return{colId:_.colId,pinned:_.pinned}}),this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(h.pinned));break;case x.EVENT_COLUMN_RESIZED:var p=e,f={};s.forEach(function(v){i.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(v.getActualWidth())),f[v.getId()]={key:v.getColId(),newWidth:v.getActualWidth()}}),null===(n=p.flexColumns)||void 0===n||n.forEach(function(v){f[v.getId()]&&delete f[v.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged")}var g=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(v){v.setGridOption("alwaysShowVerticalScroll",g)})}},lC([C("columnModel")],t.prototype,"columnModel",void 0),lC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),lC([xIe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),lC([j],t.prototype,"init",null),lC([oe("alignedGridsService")],t)}(z),DIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},s7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.selectedNodes=new Map,e.lastRowNode=null,e}return DIe(t,r),t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,x.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var i,n=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect,l=e.nodes,c=e.event,u=e.source,d=void 0===u?"api":u;if(0===l.length)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var h=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,p=l.map(function(P){return P.footer?P.sibling:P});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if("checkboxSelected"===d&&!1===n&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),null==f&&(f=this.getLastSelectedNode()),f){var m=p[0];if(m!==f&&this.isMultiselect())return this.selectRange(m,f,n,d)}}this.lastRowNode=n?null:p[0];for(var v=0,y=0;y<p.length;y++){var _=p[y];h&&_.group||_.selectThisNode(n,c,d)&&v++,this.groupSelectsChildren&&null!==(i=_.childrenAfterGroup)&&void 0!==i&&i.length&&(v+=this.selectChildren(_,n,h,d))}return a||(n&&(o||!this.isMultiselect())&&(v+=this.clearOtherNodes(p[0],d)),v>0&&(this.updateGroupsFromChildrenSelections(d),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:d}))),v},t.prototype.selectRange=function(e,i,n,o){var a=this;void 0===n&&(n=!0);var s=this.rowModel.getNodesInRangeForSelection(e,i),l=0;return s.forEach(function(u){u.group&&a.groupSelectsChildren||u.selectThisNode(n,void 0,o)&&l++}),this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:o}),l},t.prototype.selectChildren=function(e,i,n,o){var a=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return Qe(a)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());return 0==e.length?null:this.selectedNodes.get(Ut(e))||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(i){i&&i.data&&e.push(i.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var i=new Map;this.selectedNodes.forEach(function(n,o){n&&e(n)&&i.set(o,n)}),this.selectedNodes=i},t.prototype.updateGroupsFromChildrenSelections=function(e,i){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var o=this.rowModel.getRootNode();i||(i=new nC(!0,o)).setInactive();var a=!1;return i.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(null!==l&&l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,i){var n=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=n.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),n.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(null!==l&&l,void 0,i)}),a},t.prototype.onRowSelected=function(e){var i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))},t.prototype.syncInRowNode=function(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,i){ae(i)&&e.id!==i.id&&i&&this.selectedNodes.get(i.id)==e&&this.selectedNodes.set(i.id,i)},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var i=this.getSelectionCount();this.resetNodes(),i&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e})},t.prototype.resetNodes=function(){var e;null===(e=this.selectedNodes)||void 0===e||e.clear()},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var i=this.rowModel.getTopLevelNodes();if(null!==i){var n=[];return function o(a){for(var s=0,l=a.length;s<l;s++){var c=a[s];c.isSelected()?n.push(c):c.group&&c.children&&o(c.children)}}(i),n}}},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(i){i&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var i=function(c){return c.selectThisNode(!1,void 0,o)},n="clientSide"===this.rowModel.getType(),o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(a,s).forEach(i)}else this.selectedNodes.forEach(function(c){c&&i(c)}),this.reset(o);n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:o})},t.prototype.getSelectedCounts=function(e,i){var n=this,o=0,a=0;return this.getNodesToSelect(e,i).forEach(function(l){n.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)}),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,i){var n=this.getSelectedCounts(e,i),o=n.selectedCount,a=n.notSelectedCount;return(0!==o||0!==a)&&(o>0&&a>0?null:o>0)},t.prototype.hasNodesToSelect=function(e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.getNodesToSelect(e,i).filter(function(n){return n.selectable}).length>0},t.prototype.getNodesToSelect=function(e,i){var n=this;if(void 0===e&&(e=!1),void 0===i&&(i=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(i)return this.paginationProxy.forEachNodeOnPage(function(s){if(s.group)if(s.expanded)n.groupSelectsChildren||o.push(s);else{var l=function(c){var u;o.push(c),null!==(u=c.childrenAfterFilter)&&void 0!==u&&u.length&&c.childrenAfterFilter.forEach(l)};l(s)}else o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var i=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(l){return l.selectThisNode(!0,void 0,i)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i})},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(i){i?.id&&e.push(i.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,i){if(Array.isArray(e)){var n=new Set(e),o=[];this.rowModel.forEachNode(function(a){n.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:i})}},HE([C("rowModel")],t.prototype,"rowModel",void 0),HE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),HE([j],t.prototype,"init",null),HE([oe("selectionService")],t)}(z),l7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cC=function(){function r(t){var e=this;this.viaApi=function(i){for(var n,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return We("Since v31, 'columnApi.".concat(i,"' is deprecated and moved to 'api.").concat(i,"'.")),(n=e.api)[i].apply(n,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(o),!1))},this.api=t}return r.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},r.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},r.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},r.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},r.prototype.getColumns=function(){return this.viaApi("getColumns")},r.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},r.prototype.getColumnState=function(){return this.viaApi("getColumnState")},r.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},r.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},r.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},r.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},r.prototype.isPinning=function(){return this.viaApi("isPinning")},r.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},r.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},r.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},r.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},r.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},r.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},r.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},r.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},r.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},r.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},r.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},r.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},r.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},r.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},r.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},r.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},r.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},r.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},r.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},r.prototype.setColumnWidth=function(t,e,i,n){void 0===i&&(i=!0),this.viaApi("setColumnWidth",t,e,i,n)},r.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),this.viaApi("setColumnWidths",t,e,i)},r.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},r.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},r.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},r.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},r.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},r.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},r.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},r.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},r.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},r.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},r.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},r.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},r.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},r.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},r.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},r.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},r.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},r.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},r.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},r.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},r.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},r.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},r.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},r.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},r.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},r.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},r.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},r.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},r.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},r.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},l7([C("gridApi")],r.prototype,"api",void 0),l7([oe("columnApi")],r)}(),OIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},MIe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return OIe(t,r),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var i=function(o){return e.callColumnCellValueChangedHandler(o)},n=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(x.EVENT_CELL_VALUE_CHANGED,i,n),this.addDestroyFunc(function(){return e.eventService.removeEventListener(x.EVENT_CELL_VALUE_CHANGED,i,n)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,i,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),this.initialised||this.init(),i){var u,a=e.getColDef(),s=a.field,l=e.getColId(),c=i.data,d=i.groupData&&void 0!==i.groupData[l],h=!o&&i.aggData&&void 0!==i.aggData[l],p=this.isSsrm&&o&&!!e.getColDef().aggFunc,f=this.isSsrm&&i.footer&&i.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===i.field);if(n&&a.filterValueGetter?u=this.executeFilterValueGetter(a.filterValueGetter,c,e,i):this.isTreeData&&h?u=i.aggData[l]:this.isTreeData&&a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,i):this.isTreeData&&s&&c?u=Xm(c,s,e.isFieldContainsDots()):d?u=i.groupData[l]:h?u=i.aggData[l]:a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,i):f?u=Xm(c,i.field,e.isFieldContainsDots()):s&&c&&!p&&(u=Xm(c,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof u&&0===u.indexOf("=")){var m=u.substring(1);u=this.executeValueGetter(m,c,e,i)}if(null==u){var g=this.getOpenedGroup(i,e);if(null!=g)return g}return u}},t.prototype.getOpenedGroup=function(e,i){if(this.gridOptionsService.get("showOpenedGroup")&&i.getColDef().showRowGroup)for(var o=i.getColDef().showRowGroup,a=e.parent;null!=a;){if(a.rowGroupColumn&&(!0===o||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}},t.prototype.setValue=function(e,i,n,o){var a=this.columnModel.getPrimaryColumn(i);if(!e||!a)return!1;Qe(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,c=s.valueSetter;if(Qe(l)&&Qe(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var d,u=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(a,e),newValue:n,colDef:a.getColDef(),column:a});return u.newValue=n,void 0===(d=ae(c)?"function"==typeof c?c(u):this.expressionService.evaluate(c,u):this.setValueUsingField(e.data,l,n,a.isFieldContainsDots()))&&(d=!0),!!d&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(a,e),this.eventService.dispatchEvent({type:x.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,columnApi:u.columnApi,colDef:u.colDef,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:o}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var i=e.colDef.onCellValueChanged;"function"==typeof i&&this.getFrameworkOverrides().wrapOutgoing(function(){i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})},t.prototype.setValueUsingField=function(e,i,n,o){if(!i)return!1;var a=!1;if(o)for(var s=i.split("."),l=e;s.length>0&&l;){var c=s.shift();0===s.length?(a=l[c]===n)||(l[c]=n):l=l[c]}else(a=e[i]===n)||(e[i]=n);return!a},t.prototype.executeFilterValueGetter=function(e,i,n,o){var a=this.gridOptionsService.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)});return"function"==typeof e?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,i,n,o){var a=n.getColId(),s=this.valueCache.getValue(o,a);if(void 0!==s)return s;var c,l=this.gridOptionsService.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)});return c="function"==typeof e?e(l):this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,c),c},t.prototype.getValueCallback=function(e,i){var n=this.columnModel.getPrimaryColumn(i);return n?this.getValue(n,e):null},t.prototype.getKeyForNode=function(e,i){var n=this.getValue(e,i),o=e.getColDef().keyCreator,a=n;return o&&(a=o(this.gridOptionsService.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:i,data:i.data}))),"string"==typeof a||null==a||"[object Object]"===(a=String(a))&&We("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),a},hg([C("expressionService")],t.prototype,"expressionService",void 0),hg([C("columnModel")],t.prototype,"columnModel",void 0),hg([C("valueCache")],t.prototype,"valueCache",void 0),hg([C("dataTypeService")],t.prototype,"dataTypeService",void 0),hg([j],t.prototype,"init",null),hg([oe("valueService")],t)}(z),RIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),c7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},PIe=function(r,t){return function(e,i){t(e,i,r)}},IIe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return RIe(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,i){if("string"==typeof e)return this.evaluateExpression(e,i);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=n,n},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},c7([PIe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),c7([oe("expressionService")],t)}(z),FIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LIe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return FIe(t,r),t.prototype.getTemplate=function(e,i){var n=this.templateCache[e];if(n)return n;var o=this.waitingCallbacks[e],a=this;if(!o){this.waitingCallbacks[e]=o=[];var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return i&&o.push(i),null},t.prototype.handleHttpResult=function(e,i){if(200===e.status&&null!==e.response){this.templateCache[i]=e.response||e.responseText;for(var n=this.waitingCallbacks[i],o=0;o<n.length;o++)(0,n[o])()}else console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(i))},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("templateService")],t),t}(z),NIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),u7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},GIe=function(r,t){return function(e,i){t(e,i,r)}},VIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return NIe(t,r),t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new oL(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},u7([GIe(0,Ua("gridOptionsService"))],t.prototype,"setBeans",null),u7([oe("loggerFactory")],t)}(z),oL=function(){function r(t,e){this.name=t,this.isLoggingFunc=e}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},r}(),BIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},HIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return BIe(t,r),t.prototype.setComp=function(e,i,n){var o=this;this.view=e,this.eGridHostDiv=i,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===zt.HeaderCell||s===zt.ToolPanel},getIconName:function(){return Bt.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new Vk(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,i=this.focusService.findTabbableParent(this.getGui());return(null===(e=i?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Ze.__isRegistered(ie.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return Ze.__isRegistered(ie.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return Ze.__isRegistered(ie.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return Ze.__isRegistered(ie.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var i=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),a=n.findIndex(function(s){return s.contains(i.activeElement)})+(e?-1:1);return!(a<=0||a>=n.length)&&this.focusService.focusInto(n[a])},t.prototype.focusInnerElement=function(e){var i=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(e){if(i.length>1)return this.focusService.focusInto(Ut(i),!0);var o=Ut(n);if(this.focusService.focusGridView(o,!0))return!0}if(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(n[0]))return!0;for(var a=1;a<i.length;a++)if(this.focusService.focusInto(i[a]))return!0;return!1}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},pg([C("focusService")],t.prototype,"focusService",void 0),pg([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),pg([C("columnModel")],t.prototype,"columnModel",void 0),pg([C("ctrlsService")],t.prototype,"ctrlsService",void 0),pg([C("mouseEventService")],t.prototype,"mouseEventService",void 0),pg([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(z),jIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},d7=function(r){function t(e){var i=r.call(this)||this;return i.eGridDiv=e,i}return jIe(t,r),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new HIe);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},t.prototype.insertGridIntoDom=function(){var e=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){e.eGridDiv.removeChild(i),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,i){var n=this.eRootWrapperBody.classList;n.toggle(Ki.AUTO_HEIGHT,i.autoHeight),n.toggle(Ki.NORMAL,i.normal),n.toggle(Ki.PRINT,i.print),this.addOrRemoveCssClass(Ki.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Ki.NORMAL,i.normal),this.addOrRemoveCssClass(Ki.PRINT,i.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",n=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return'<div class="ag-root-wrapper" role="presentation">\n                '.concat(e,'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ').concat(i,"\n                </div>\n                ").concat(n,"\n                <ag-pagination></ag-pagination>\n                ").concat(o,"\n            </div>")},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(i){return ua(i)})},uC([C("loggerFactory")],t.prototype,"loggerFactory",void 0),uC([G("gridBody")],t.prototype,"gridBodyComp",void 0),uC([G("sideBar")],t.prototype,"sideBarComp",void 0),uC([G("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),uC([j],t.prototype,"postConstruct",null),t}(Ed),UIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zl=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Od=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},zIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return UIe(t,r),e=t,t.prototype.progressSort=function(i,n,o){var a=this.getNextSortDirection(i);this.setSortForColumn(i,a,n,o)},t.prototype.setSortForColumn=function(i,n,o,a){"asc"!==n&&"desc"!==n&&(n=null);var l=[i];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i.getColDef().showRowGroup){var c=this.columnModel.getSourceColumnsForGroupColumn(i),u=c?.filter(function(f){return f.isSortable()});u&&(l=Od([i],zl(u),!1))}l.forEach(function(f){return f.setSort(n,a)});var h=[];if(!o&&!this.gridOptionsService.get("alwaysMultiSort")||this.gridOptionsService.get("suppressMultiSort")){var p=this.clearSortBarTheseColumns(l,a);h.push.apply(h,Od([],zl(p),!1))}this.updateSortIndex(i),h.push.apply(h,Od([],zl(l),!1)),this.dispatchSortChangedEvents(a,h)},t.prototype.updateSortIndex=function(i){var n=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(i.getId()),a=n&&o||i,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(u){return u.setSortIndex(null)});var l=s.filter(function(u){return!(n&&u.getColDef().showRowGroup||u===a)});(a.getSort()?Od(Od([],zl(l),!1),[a],!1):l).forEach(function(u,d){u.setSortIndex(d)})},t.prototype.onSortChanged=function(i,n){this.dispatchSortChangedEvents(i,n)},t.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(o){return!!o.getSort()});return n&&n.length>0},t.prototype.dispatchSortChangedEvents=function(i,n){var o={type:x.EVENT_SORT_CHANGED,source:i};n&&(o.columns=n),this.eventService.dispatchEvent(o)},t.prototype.clearSortBarTheseColumns=function(i,n){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){i.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,n))}),o},t.prototype.getNextSortDirection=function(i){var n;if(n=i.getColDef().sortingOrder?i.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(n)),null;var l,o=n.indexOf(i.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(l=o<0||o==n.length-1?n[0]:n[o+1])<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var i=this,n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(u){return!!u.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();n=n.filter(function(u){var d=!!u.getAggFunc(),h=!u.isPrimary(),p=o?i.columnModel.getGroupDisplayColumnForGroup(u.getId()):u.getColDef().showRowGroup;return d||h||p})}var a=this.columnModel.getRowGroupColumns().filter(function(u){return!!u.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(n=Od([],zl(new Set(n.map(function(u){var d;return null!==(d=i.columnModel.getGroupDisplayColumnForGroup(u.getId()))&&void 0!==d?d:u}))),!1));var l={};n.forEach(function(u,d){return l[u.getId()]=d}),n.sort(function(u,d){var h=u.getSortIndex(),p=d.getSortIndex();return null!=h&&null!=p?h-p:null==h&&null==p?l[u.getId()]>l[d.getId()]?1:-1:null==p?-1:1});var c=new Map;return n.forEach(function(u,d){return c.set(u,d)}),s&&a.forEach(function(u){var d=i.columnModel.getGroupDisplayColumnForGroup(u.getId());c.set(u,c.get(d))}),c},t.prototype.getColumnsWithSortingOrdered=function(){return Od([],zl(this.getIndexedSortMap().entries()),!1).sort(function(i,n){return zl(i,2)[1]-zl(n,2)[1]}).map(function(i){return zl(i,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),colId:i.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),column:i}})},t.prototype.canColumnDisplayMixedSort=function(i){var n=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!i.getColDef().showRowGroup;return n&&o},t.prototype.getDisplaySortForColumn=function(i){var n=this.columnModel.getSourceColumnsForGroupColumn(i);if(!this.canColumnDisplayMixedSort(i)||!n?.length)return i.getSort();var a=null!=i.getColDef().field||i.getColDef().valueGetter?Od([i],zl(n),!1):n,s=a[0].getSort();return a.every(function(c){return c.getSort()==s})?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(i){return this.getIndexedSortMap().get(i)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],h7([C("columnModel")],t.prototype,"columnModel",void 0),e=h7([oe("sortController")],t)}(z),WIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dC=function(){return dC=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},dC.apply(this,arguments)},Oo=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},$Ie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return WIe(t,r),e=t,t.addKeyboardModeEvents=function(i){this.instanceCount>0||(i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(i){this.instanceCount>0||(i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(i){var o="keydown"===i.type;o&&(i.ctrlKey||i.metaKey||i.altKey)||e.keyboardModeActive!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(i){e.removeKeyboardModeEvents(i)},t.prototype.init=function(){var i=this,n=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,n),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){i.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var i=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(i),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(i)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var i=this.focusedCellPosition.column,n=this.columnModel.getGridColumn(i.getId());i!==n&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,bp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,TE.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(i,n){for(var o=i;o;){if(this.gridOptionsService.getDomData(o,n))return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(i){var n=this;return!!this.isCellRestoreFocused(i)&&(setTimeout(function(){n.restoredFocusedCellPosition=null},0),!0)},t.prototype.isCellRestoreFocused=function(i){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(i){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=i)},t.prototype.getFocusEventParams=function(){var i=this.focusedCellPosition,n=i.rowIndex,o=i.rowPinned,s={rowIndex:n,rowPinned:o,column:i.column,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var i=dC({type:x.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(i)}},t.prototype.setFocusedCell=function(i){var o=i.rowIndex,a=i.rowPinned,s=i.forceBrowserFocus,l=void 0!==s&&s,c=i.preventScrollOnBrowserFocus,u=void 0!==c&&c,d=this.columnModel.getGridColumn(i.column);if(d){this.focusedCellPosition=d?{rowIndex:o,rowPinned:kl(a),column:d}:null;var h=dC(dC({type:x.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:u,floating:null});this.eventService.dispatchEvent(h)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(i){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(i,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isHeaderWrapperFocused=function(i){if(null==this.focusedHeaderPosition)return!1;var n=i.getColumnGroupChild(),o=i.getRowIndex(),a=i.getPinned(),s=this.focusedHeaderPosition,l=s.column;return n===l&&o===s.headerRowIndex&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(i,n){this.focusedHeaderPosition={headerRowIndex:i,column:n}},t.prototype.focusHeaderPosition=function(i){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var n=i.direction,o=i.fromTab,a=i.allowUserOverride,s=i.event,l=i.fromCell,c=i.rowWithoutSpanValue,u=i.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(a){var p,d=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();o?(p=this.gridOptionsService.getCallback("tabToNextHeader"))&&(u=p({backwards:"Before"===n,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:h})):(p=this.gridOptionsService.getCallback("navigateToNextHeader"))&&s&&(u=p({key:s.key,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:h,event:s}))}if(!u)return!1;if(-1===u.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,n);var v=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()).focusHeader(u.headerRowIndex,u.column,s);return v&&(null!=c||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(c??-1),v},t.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];if(!i)return!1;i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0));var n=this.headerPositionUtils.getHeaderIndexToFocus(i,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})},t.prototype.focusLastHeader=function(i){var n=this.headerNavigationService.getHeaderRowCount()-1,o=Ut(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:o},rowWithoutSpanValue:-1,event:i})},t.prototype.focusPreviousFromFirstCell=function(i){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(i,n){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===kl(n)},t.prototype.findFocusableElements=function(i,n,o){void 0===o&&(o=!1);var s=rk;n&&(s+=", "+n),o&&(s+=', [tabindex="-1"]');var h,l=Array.prototype.slice.apply(i.querySelectorAll(OK)).filter(function(d){return ua(d)}),c=Array.prototype.slice.apply(i.querySelectorAll(s));return c.length?(h=c,l.filter(function(p){return-1===h.indexOf(p)})):l},t.prototype.focusInto=function(i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var a=this.findFocusableElements(i,null,o),s=n?Ut(a):a[0];return!!s&&(s.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(i,n){if(!n)return null;var o=this.findFocusableElements(i),a=o.indexOf(n);if(-1===a)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Ul.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(i,n,o){void 0===i&&(i=this.eGridDiv);var a=this.findFocusableElements(i,n?':not([tabindex="-1"])':null),l=this.gridOptionsService.getDocument().activeElement,u=(n?a.findIndex(function(d){return d.contains(l)}):a.indexOf(l))+(o?-1:1);return u<0||u>=a.length?null:a[u]},t.prototype.isTargetUnderManagedComponent=function(i,n){if(!n)return!1;var o=i.querySelectorAll(".".concat(ru.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(n))return!0;return!1},t.prototype.findTabbableParent=function(i,n){void 0===n&&(n=5);for(var o=0;i&&null===oE(i)&&++o<=n;)i=i.parentElement;return null===oE(i)?null:i},t.prototype.focusGridView=function(i,n){if(this.gridOptionsService.get("suppressCellFocus"))return n?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();return!i&&l&&(i=l.column),!(null==a||!i)&&(this.navigationService.ensureCellVisible({rowIndex:a,column:i,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:i,rowPinned:kl(s),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:s,column:i}),!0)},t.prototype.focusNextGridCoreContainer=function(i,n){return void 0===n&&(n=!1),!(n||!this.gridCtrl.focusNextInnerContainer(i))||((n||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)},t.prototype.focusAdvancedFilter=function(i){return this.advancedFilterFocusColumn=i?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(i,n){var o,a,s=null!==(o=n?void 0:this.advancedFilterFocusColumn)&&void 0!==o?o:null===(a=this.columnModel.getAllDisplayedColumns())||void 0===a?void 0:a[0];return i?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.keyboardModeActive=!1,t.instanceCount=0,Oo([C("eGridDiv")],t.prototype,"eGridDiv",void 0),Oo([C("columnModel")],t.prototype,"columnModel",void 0),Oo([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Oo([C("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Oo([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Oo([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Oo([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Oo([gt("rangeService")],t.prototype,"rangeService",void 0),Oo([C("navigationService")],t.prototype,"navigationService",void 0),Oo([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Oo([C("filterManager")],t.prototype,"filterManager",void 0),Oo([gt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Oo([j],t.prototype,"init",null),e=Oo([oe("focusService")],t)}(z),KIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KIe(t,r),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnHoverService")],t),t}(z),XIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ZIe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return XIe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){return e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.isActive=function(){return this.active&&!this.suppressAnimation},t.prototype.setSuppressAnimation=function(e){this.suppressAnimation=e},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){var e=this;this.active&&this.flush(function(){e.active=!1})},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===i&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(e){var i=this;if(0!==this.executeNextFuncs.length||0!==this.executeLaterFuncs.length){var n=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return n(i.executeNextFuncs)},0),window.setTimeout(function(){n(i.executeLaterFuncs),e()},200)})}else e()},aL([C("ctrlsService")],t.prototype,"ctrlsService",void 0),aL([j],t.prototype,"postConstruct",null),aL([oe("columnAnimationService")],t)}(z),QIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},JIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return QIe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl,e.addManagedListener(e.eventService,x.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var n=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(i/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?sa(function(){return n()},50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},jE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),jE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),jE([j],t.prototype,"postConstruct",null),jE([oe("paginationAutoPageSizeService")],t)}(z),eFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),p7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},tFe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cacheVersion=0,e}return eFe(t,r),t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,i,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=n)},t.prototype.getValue=function(e,i){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[i]},p7([j],t.prototype,"init",null),p7([oe("valueCache")],t)}(z),iFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},rFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return iFe(t,r),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,i){if(!this.gridOptionsService.get("suppressChangeDetection")){var n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new nC(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}},UE([C("rowModel")],t.prototype,"rowModel",void 0),UE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),UE([j],t.prototype,"init",null),UE([oe("changeDetectionService")],t)}(z),oFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),f7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},aFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return oFe(t,r),t.prototype.adaptFunction=function(e,i){var n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(i):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function n(){}return n.prototype.refresh=function(o){return!1},n.prototype.getGui=function(){return this.eGui},n.prototype.init=function(o){var a=e(o),s=typeof a;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=a?a:xo("<span></span>"):xo("<span>"+a+"</span>")},n}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},f7([C("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),f7([oe("agComponentUtils")],t)}(z),sFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},lFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return sFe(t,r),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},sL([C("agComponentUtils")],t.prototype,"agComponentUtils",void 0),sL([j],t.prototype,"postConstruct",null),sL([oe("componentMetadataProvider")],t)}(z),cFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},mFe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},v7={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},gFe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.calculatedSizes={},e}return cFe(t,r),t.prototype.postConstruct=function(){var i,e=this,n=null!==(i=this.getTheme().el)&&void 0!==i?i:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var i=this.getTheme(),n=i.themeFamily,o=i.el;if(n&&0===n.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[n]||(this.calculatedSizes[n]={}),this.calculatedSizes[n][e]??(this.calculatedSizes[n][e]=this.calculateValueForSassProperty(e,n,o),this.calculatedSizes[n][e])},t.prototype.calculateValueForSassProperty=function(e,i,n){var o,a="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),s=mFe[a][e],l=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!v7[e])return s;var c=v7[e],u=l.createElement("div"),d=Array.from(n.classList);(o=u.classList).add.apply(o,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([i],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(d),!1)),u.style.position="absolute";var h=c.reduce(function(m,g){var v=l.createElement("div");return v.style.position="static",v.classList.add(g),m.appendChild(v),v},u),p=0;if(l.body){l.body.appendChild(u);var f=-1!==e.toLowerCase().indexOf("height")?"height":"width";p=parseInt(window.getComputedStyle(h)[f],10),l.body.removeChild(u)}return p||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,i=this.eGridDiv,n=null,o=[];i;){if(n=e.exec(i.className)){var a=i.className.match(e);a&&(o=a);break}i=i.parentElement||void 0}if(!n)return{allThemes:o};var s=n[0];return{theme:s,el:i,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,i){var n;return null!==(n=this.getSassVariable(i))&&void 0!==n?n:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gridOptionsService.get("rowHeight");if(null==i||isNaN(i)||!isFinite(i))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var n="".concat(i,"px");return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),i):""!=e?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return ae(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},lL([C("eGridDiv")],t.prototype,"eGridDiv",void 0),lL([j],t.prototype,"postConstruct",null),lL([oe("environment")],t)}(z),vFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},yFe=function(r,t){return function(e,i){t(e,i,r)}},_Fe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return vFe(t,r),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=SK(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(i!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=n,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(i," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(i)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var i="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:x.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var i=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/i)},zE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),zE([yFe(0,Ua("loggerFactory"))],t.prototype,"agWire",null),zE([j],t.prototype,"postConstruct",null),zE([oe("rowContainerHeightService")],t)}(z),CFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},bFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return CFe(t,r),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){void 0===e&&(e=!1);var i=!!this.gridOptionsService.get("rowSelection"),n=this.gridOptionsService.get("isRowSelectable");if(i&&n){var o=this.gridOptionsService.get("groupSelectsChildren"),a="clientSide"===this.rowModel.getType()&&o,s=[],l=function(d){if(!e||d.group){if(a&&d.group){var h=d.childrenAfterGroup.some(function(f){return!0===f.selectable});return void d.setRowSelectable(h,!0)}var p=!n||n(d);d.setRowSelectable(p,!0),!p&&d.isSelected()&&s.push(d)}};a?new nC(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(l,!0,!0):this.rowModel.forEachNode(l),s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof s7&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},WE([C("rowModel")],t.prototype,"rowModel",void 0),WE([C("selectionService")],t.prototype,"selectionService",void 0),WE([j],t.prototype,"init",null),WE([oe("selectableService")],t)}(z),wFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fa=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},SFe=function(r){function t(){var e=r.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return wFe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var n=this,o=n.btFirst,a=n.btPrevious,s=n.btNext,l=n.btLast;this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",pn(i?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",pn(i?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",pn(i?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",pn(i?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var i=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(i){var n=i.el,o=i.fn;e.addManagedListener(n,"click",o),e.addManagedListener(n,"keydown",function(a){(a.key===V.ENTER||a.key===V.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(e?i+1:0)},t.prototype.formatNumber=function(e){var i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i)return i({value:e});var o=this.localeService.getLocaleTextFunc();return ek(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),n=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),c=e("lastPage","Last Page"),u=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(u,'">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(u,'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(u,'-to">').concat(n,'</span>\n                    <span id="ag-').concat(u,'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(u,'-of">').concat(o,'</span>\n                    <span id="ag-').concat(u,'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(u,'-start-page">').concat(i,'</span>\n                        <span id="ag-').concat(u,'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(u,'-of-page">').concat(o,'</span>\n                        <span id="ag-').concat(u,'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(l,'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(c,'"></div>\n                </span>\n            </div>')},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===n-1||o,this.lastButtonDisabled=!i||o||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,i){FF(e,i),e.classList.toggle("ag-disabled",i)},t.prototype.updateRowLabels=function(){var a,s,e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?a=s=0:(s=(a=i*e+1)+i-1,n&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&0===i},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(1===n){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(i),this.lbRecordCount.textContent=this.formatNumber(n);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},fa([C("paginationProxy")],t.prototype,"paginationProxy",void 0),fa([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),fa([G("btFirst")],t.prototype,"btFirst",void 0),fa([G("btPrevious")],t.prototype,"btPrevious",void 0),fa([G("btNext")],t.prototype,"btNext",void 0),fa([G("btLast")],t.prototype,"btLast",void 0),fa([G("lbRecordCount")],t.prototype,"lbRecordCount",void 0),fa([G("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),fa([G("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),fa([G("lbCurrent")],t.prototype,"lbCurrent",void 0),fa([G("lbTotal")],t.prototype,"lbTotal",void 0),fa([G("pageSizeComp")],t.prototype,"pageSizeComp",void 0),fa([j],t.prototype,"postConstruct",null),t}(le),xFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},EFe=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return xFe(t,r),t.prototype.updateLayoutClasses=function(e,i){var n=this.eOverlayWrapper.classList;n.toggle(Ki.AUTO_HEIGHT,i.autoHeight),n.toggle(Ki.NORMAL,i.normal),n.toggle(Ki.PRINT,i.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Vk(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)},t.prototype.showOverlay=function(e,i,n){var o=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=n,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){var e;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null===(e=this.updateListenerDestroyFunc)||void 0===e||e.call(this),Yn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',pL([C("overlayService")],t.prototype,"overlayService",void 0),pL([G("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),pL([j],t.prototype,"postConstruct",null),t}(le),DFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$E=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},TFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return DFe(t,r),t.prototype.getFirstRow=function(){var i,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),void 0===i?null:{rowIndex:e,rowPinned:i}},t.prototype.getLastRow=function(){var e,i=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(i="bottom",e=n-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):o&&(i="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:i}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,i){return!e&&!i||!(e&&!i||!e&&i)&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned},t.prototype.before=function(e,i){switch(e.rowPinned){case"top":if("top"!==i.rowPinned)return!0;break;case"bottom":if("bottom"!==i.rowPinned)return!1;break;default:if(ae(i.rowPinned))return"top"!==i.rowPinned}return e.rowIndex<i.rowIndex},t.prototype.rowMax=function(e){var n,i=this;return e.forEach(function(o){(void 0===n||i.before(n,o))&&(n=o)}),n},t.prototype.rowMin=function(e){var n,i=this;return e.forEach(function(o){(void 0===n||i.before(o,n))&&(n=o)}),n},$E([C("rowModel")],t.prototype,"rowModel",void 0),$E([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$E([C("paginationProxy")],t.prototype,"paginationProxy",void 0),$E([oe("rowPositionUtils")],t)}(z),AFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return AFe(t,r),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){var n=e.rowPinned,o=e.column;return"".concat(e.rowIndex,".").concat(n??"null",".").concat(o.getId())},t.prototype.equals=function(e,i){return e.column===i.column&&e.rowPinned===i.rowPinned&&e.rowIndex===i.rowIndex},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("cellPositionUtils")],t),t}(z),RFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hC=function r(t){this.cellValueChanges=t},fL=function(r){function t(e,i,n,o){var a=r.call(this,e)||this;return a.initialRange=i,a.finalRange=n,a.ranges=o,a}return RFe(t,r),t}(hC),y7=function(){function r(t){this.actionStack=[],this.maxStackSize=t||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),PFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KE=function(){return KE=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},KE.apply(this,arguments)},Wl=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kFe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(i){var n={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),a=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(o||a||e.isPasting||e.isRangeInAction){var d=i.oldValue,h=i.value,p={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:i.column.getColId(),newValue:h,oldValue:d};e.cellValueChanges.push(p)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return PFe(t,r),t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var i=this.gridOptionsService.get("undoRedoCellEditingLimit");i<=0||(this.undoStack=new y7(i),this.redoStack=new y7(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,function(n){n.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:x.EVENT_UNDO_STARTED,source:e});var n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:x.EVENT_UNDO_ENDED,source:e,operationPerformed:n})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:x.EVENT_REDO_STARTED,source:e});var n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:x.EVENT_REDO_ENDED,source:e,operationPerformed:n})},t.prototype.undoRedo=function(e,i,n,o,a){if(!e)return!1;var s=e.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,function(l){return l[o]},a),s instanceof fL?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),i.push(s),0))},t.prototype.processAction=function(e,i,n){var o=this;e.cellValueChanges.forEach(function(a){var c=a.columnId,d=o.getRowNode({rowIndex:a.rowIndex,rowPinned:a.rowPinned});d.displayed&&d.setDataValue(c,i(a),n)})},t.prototype.processRange=function(e){var n,i=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(n={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},i.setLastFocusedCell(n)),i.rangeService.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns})}})},t.prototype.processCell=function(e){var i=e[0],s=this.getRowNode({rowIndex:i.rowIndex,rowPinned:i.rowPinned});this.setLastFocusedCell({rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,i){var n=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(n),s.ensureColumnVisible(l);var c={rowIndex:n,column:l,rowPinned:a};this.focusService.setFocusedCell(KE(KE({},c),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(c)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STARTED,function(i){e.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STOPPED,function(){var i=new hC(e.cellValueChanges);e.pushActionsToUndoStack(i),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STARTED,function(i){e.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STOPPED,function(i){if(e.activeCellEdit=null,i.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var o=new hC(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,x.EVENT_PASTE_END,function(){var i=new hC(e.cellValueChanges);e.pushActionsToUndoStack(i),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,x.EVENT_FILL_END,function(i){var n=new fL(e.cellValueChanges,i.initialRange,i.finalRange);e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var i;i=e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?new fL(e.cellValueChanges,void 0,void 0,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.rangeService.getCellRanges()),!1)):new hC(e.cellValueChanges),e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Wl([C("focusService")],t.prototype,"focusService",void 0),Wl([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Wl([C("rowModel")],t.prototype,"rowModel",void 0),Wl([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Wl([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wl([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wl([C("columnModel")],t.prototype,"columnModel",void 0),Wl([gt("rangeService")],t.prototype,"rangeService",void 0),Wl([j],t.prototype,"init",null),Wl([oe("undoRedoService")],t)}(z),LFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},NFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return LFe(t,r),t.prototype.findHeader=function(e,i){var n,o,a;if(e.column instanceof Tn?(o="getDisplayedGroup".concat(i),n=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(i),n=this.columnModel[a](e.column)),n){var s=e.headerRowIndex;if(this.getHeaderRowType(s)!==mn.FLOATING_FILTER){for(var l=[n];n.getParent();)n=n.getParent(),l.push(n);n=l[l.length-1-s]}var c=this.getHeaderIndexToFocus(n,s);return{column:c.column,headerRowIndex:c.headerRowIndex}}},t.prototype.getHeaderIndexToFocus=function(e,i){var n;if(e instanceof Tn&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding())for(var o=e,a=n=o.getLeafColumns()[0];a!==o;)i++,a=a.getParent();return{column:n||e,headerRowIndex:i}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(i){return i.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,i){var n=this.getHeaderRowType(i),a=n===mn.COLUMN,s=n===mn.FLOATING_FILTER?e:e.getParent(),l=i-1,c=l;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;c=l,l<0&&(s=e,l=i,c=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:c}},t.prototype.getColumnVisibleChild=function(e,i,n){void 0===n&&(n="After");var a=e,s=i+1,l=s;if(this.getHeaderRowType(i)===mn.COLUMN_GROUP){for(var c=e.getDisplayedLeafColumns(),u="After"===n?c[0]:Ut(c),d=[],h=u;h.getParent()!==e;)h=h.getParent(),d.push(h);if(a=u,u.isSpanHeaderHeight())for(var p=d.length-1;p>=0;p--){var f=d[p];if(!f.isPadding()){a=f;break}s++}else(a=Ut(d))||(a=u)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},t.prototype.getHeaderRowType=function(e){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,i){var n=this.columnModel.getAllDisplayedColumns(),o=n["start"===i?0:n.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return s==mn.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==s?-1:e,column:o}}},mL([C("columnModel")],t.prototype,"columnModel",void 0),mL([C("ctrlsService")],t.prototype,"ctrlsService",void 0),mL([oe("headerPositionUtils")],t)}(z),VFe=function(){function r(){}return r.prototype.buildColumnDefs=function(t,e,i){var n=this,o=[],a={};return t.forEach(function(s){for(var c=!0,u=n.createDefFromColumn(s,e,i),d=s.getOriginalParent(),h=null;d;){var p=null;if(d.isPadding())d=d.getOriginalParent();else{var f=a[d.getGroupId()];if(f){f.children.push(u),c=!1;break}if((p=n.createDefFromGroup(d))&&(p.children=[u],a[p.groupId]=p,u=p,d=d.getOriginalParent()),null!=d&&h===d){c=!1;break}h=d}}c&&o.push(u)}),o},r.prototype.createDefFromGroup=function(t){var e=$x(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},r.prototype.createDefFromColumn=function(t,e,i){var n=$x(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?i.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=!t.isVisible()||void 0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,n},r=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnDefFactory")],r),r}(),gL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},BFe=function(){function r(){}return r.prototype.getInitialRowClasses=function(t){var e=[];return ae(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),DF(e,this.processClassesFromGridOptions(t.rowNode)),DF(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},r.prototype.processClassesFromGridOptions=function(t){var e=[],i=function(l){"string"==typeof l?e.push(l):Array.isArray(l)&&l.forEach(function(c){return e.push(c)})},n=this.gridOptionsService.get("rowClass");if(n){if("function"==typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}var o=this.gridOptionsService.getCallback("getRowClass");return o&&i(o({data:t.data,node:t,rowIndex:t.rowIndex})),e},r.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(i){e.push(i)},function(i){}),e},r.prototype.processRowClassRules=function(t,e,i){var n=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),n,e,i)},r.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},gL([C("stylingService")],r.prototype,"stylingService",void 0),gL([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),gL([oe("rowCssClassCalculator")],r)}(),HFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},jFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HFe(t,r),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(i){return e.isAccentedSort=i.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,i){var o=e.map(function(a,s){return{currentPos:s,rowNode:a}});return o.sort(this.compareRowNodes.bind(this,i)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,i,n){for(var o=i.rowNode,a=n.rowNode,s=0,l=e.length;s<l;s++){var p,c=e[s],u="desc"===c.sort,d=this.getValue(o,c.column),h=this.getValue(a,c.column),f=this.getComparator(c,o);if(p=f?f(d,h,o,a,u):D.defaultComparator(d,h,this.isAccentedSort),!isNaN(p)&&0!==p)return"asc"===c.sort?p:-1*p}return i.currentPos-n.currentPos},t.prototype.getComparator=function(e,i){var n=e.column,o=n.getColDef().comparator;if(null!=o)return o;if(n.getColDef().showRowGroup){var a=!i.group&&n.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,i){var n,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){var l=null===(n=e.allLeafChildren)||void 0===n?void 0:n[0];return l?this.valueService.getValue(i,l,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return c?null===(o=e.groupData)||void 0===o?void 0:o[c.getId()]:void 0}return e.group&&i.getColDef().showRowGroup?void 0:this.valueService.getValue(i,e,!1,!1)},YE([C("valueService")],t.prototype,"valueService",void 0),YE([C("columnModel")],t.prototype,"columnModel",void 0),YE([j],t.prototype,"init",null),YE([oe("rowNodeSorter")],t)}(z),UFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WFe=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}var e;return UFe(t,r),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(n){return n(i)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(i){this.fakeHScrollComp=i,this.checkReady()},t.prototype.registerFakeVScrollComp=function(i){this.fakeVScrollComp=i,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(i){this.stickyTopCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(i){this.stickyTopLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(i){this.stickyTopRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerHeaderContainer=function(i,n){switch(n){case"left":this.leftHeaderRowContainerCtrl=i;break;case"right":this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i}this.checkReady()},t.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},t.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe(e.NAME)],t),t}(z),$Fe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YFe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.registry={},e}return $Fe(t,r),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var i=this.registry[e];if(null!=i)return new i},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("ctrlsFactory")],t),t}(z),qFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},_7=function(r){function t(e,i){var n=r.call(this,e)||this;return n.direction=i,n.hideTimeout=null,n}return qFe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",ZF()||nu())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=JF(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,o=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,function(i){i.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var i=this,n=this.getViewport();wF(function(){return ua(n)},function(){return i.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},pC([G("eViewport")],t.prototype,"eViewport",void 0),pC([G("eContainer")],t.prototype,"eContainer",void 0),pC([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),pC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),pC([C("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(le),XFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ZFe=function(r){function t(){return r.call(this,t.TEMPLATE,"horizontal")||this}return XFe(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this);var i=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",i),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Wk(function(n){return e.eContainer.style.width="".concat(n,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();n&&(i+=o),Ka(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(a+=o),Ka(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,s=n?0:0===o&&i?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),fp(this.getGui(),s),fp(this.eViewport,s),fp(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return N_(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){ua(this.getViewport())||this.attemptSettingScrollPosition(e),G_(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',fC([G("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),fC([G("eRightSpacer")],t.prototype,"eRightSpacer",void 0),fC([C("columnModel")],t.prototype,"columnModel",void 0),fC([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),fC([j],t.prototype,"postConstruct",null),t}(_7),QFe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},JFe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return QFe(t,r),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:x.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:x.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},vL([C("columnModel")],t.prototype,"columnModel",void 0),vL([j],t.prototype,"postConstruct",null),vL([oe("pinnedWidthService")],t)}(z),eke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},tke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.events=[],e}return eke(t,r),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var i=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(o){return i.eventService.dispatchEvent(o)}),i.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},qE([C("animationFrameService")],t.prototype,"animationFrameService",void 0),qE([C("rowModel")],t.prototype,"rowModel",void 0),qE([j],t.prototype,"postConstruct",null),qE([oe("rowNodeEventThrottle")],t)}(z),Md=function(r,t){var e;return"clientSide"===(null!==(e=t.rowModelType)&&void 0!==e?e:"clientSide")?{module:ie.RowGroupingModule}:null},nke={enableRowGroup:Md,rowGroup:Md,rowGroupIndex:Md,enablePivot:Md,enableValue:Md,pivot:Md,pivotIndex:Md,aggFunc:Md,cellEditor:function(r){return"agRichSelect"===r.cellEditor||"agRichSelectCellEditor"===r.cellEditor?{module:ie.RichSelectModule}:null},menuTabs:function(r){var t,e=["columnsMenuTab","generalMenuTab"];return null!==(t=r.menuTabs)&&void 0!==t&&t.some(function(i){return e.includes(i)})?{module:ie.MenuModule}:null},columnsMenuParams:{module:[ie.MenuModule,ie.ColumnsToolPanelModule]},columnChooserParams:{module:[ie.MenuModule,ie.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return fg}},fg={objectName:"colDef",allProperties:bOe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},validations:nke},C7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},b7=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},oke={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},ake={sideBar:{module:ie.SideBarModule},statusBar:{module:ie.StatusBarModule},enableCharts:{module:ie.GridChartsModule},getMainMenuItems:{module:ie.MenuModule},getContextMenuItems:{module:ie.MenuModule},allowContextMenuWithControlKey:{module:ie.MenuModule},enableAdvancedFilter:{module:ie.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:ie.RowGroupingModule,dependencies:function(r){var t,e=null!==(t=r.rowModelType)&&void 0!==t?t:"clientSide";switch(e){case"clientSide":var i="treeData requires 'getDataPath' in the ".concat(e," row model.");return r.getDataPath?null:i;case"serverSide":var n="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return r.isServerSideGroup&&r.getServerSideGroupKey?null:n}return null}},masterDetail:{module:ie.MasterDetailModule},enableRangeSelection:{module:ie.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r){var t;switch(null!==(t=r.rowModelType)&&void 0!==t?t:"clientSide"){case"clientSide":return null;case"serverSide":return r.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:ie.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:ie.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:ie.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:ie.ClientSideRowModelModule},columnDefs:function(){return fg},defaultColDef:function(){return fg},defaultColGroupDef:function(){return fg},autoGroupColumnDef:function(){return fg}},ske={objectName:"gridOptions",allProperties:b7(b7([],C7(Nl.ALL_PROPERTIES),!1),C7(eE.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},validations:ake},$l=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},XE=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},yL=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},w7=function(){function r(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ll,this.globalEventHandlerFactory=function(i){return function(n,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(n);if(!(a&&!i||!a&&i)){var s=eE.getCallbackForEvent(n),l=e.gridOptions[s];"function"==typeof l&&e.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}var t;return t=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.columnApi=new cC(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},r.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},r.prototype.get=function(e){var i;return null!==(i=this.gridOptions[e])&&void 0!==i?i:oke[e]},r.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},r.prototype.exists=function(e){return ae(this.gridOptions[e])},r.prototype.mergeGridCommonParams=function(e){var i=this;return e?function(o){var a=o;return a.api=i.api,a.columnApi=i.columnApi,a.context=i.context,e(a)}:e},r.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},r.toNumber=function(e){if("number"==typeof e)return e;if("string"==typeof e){var i=parseInt(e);return isNaN(i)?void 0:i}},r.toConstrainedNum=function(e,i){return function(n){var o=t.toNumber(n);if(!(null==o||o<e||o>i))return o}},r.getCoercedValue=function(e,i){var n=t.PROPERTY_COERCIONS.get(e);return n?n(i):i},r.getCoercedGridOptions=function(e){var i={};return Object.entries(e).forEach(function(n){var o=XE(n,2),a=o[0],l=t.getCoercedValue(a,o[1]);i[a]=l}),i},r.prototype.updateGridOptions=function(e){var i=this,n=e.options,o=e.source,a=void 0===o?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(n).forEach(function(c){var u=XE(c,2),d=u[0],h=u[1];"api"===a&&IDe[d]&&We("".concat(d," is an initial property and cannot be updated."));var p=t.getCoercedValue(d,h),m=i.gridOptions[d];("object"==typeof p&&"api"===a||m!==p)&&(i.gridOptions[d]=p,l.push({type:d,currentValue:p,previousValue:m,changeSet:s,source:a}))}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(c){return c.type}),l.forEach(function(c){i.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(c.type," from "),c.previousValue," to  ",c.currentValue),i.propertyEventService.dispatchEvent(c)})},r.prototype.addEventListener=function(e,i){this.propertyEventService.addEventListener(e,i)},r.prototype.removeEventListener=function(e,i){this.propertyEventService.removeEventListener(e,i)},r.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var i="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:DK();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:x.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&Qe(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(e){var i;return(null!==(i=this.gridOptions.domLayout)&&void 0!==i?i:"normal")===e},r.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},r.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},r.prototype.getRowHeightForNode=function(e,i,n){if(void 0===i&&(i=!1),null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:n,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return 0===a&&We("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Qe(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(e,i){var n=e[this.getDomDataKey()];return n?n[i]:void 0},r.prototype.setDomData=function(e,i,n){var o=this.getDomDataKey(),a=e[o];Qe(a)&&(e[o]=a={}),a[i]=n},r.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&ae(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ae(e)?e:document},r.prototype.getWindow=function(){return this.getDocument().defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return ae(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return!this.get("ensureDomOrder")&&this.get("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")},r.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):!0===e?function(){return!0}:void 0},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return!0===e||"function"==typeof e},r.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):!0===e?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType},r.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},r.prototype.addGridCommonParams=function(e){var i=e;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,i},r.alwaysSyncGlobalEvents=new Set([x.EVENT_GRID_PRE_DESTROYED]),r.PROPERTY_COERCIONS=new Map(yL(yL(yL([],XE(Nl.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),XE(Nl.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return"function"==typeof e?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),r.changeSetId=0,$l([C("gridOptions")],r.prototype,"gridOptions",void 0),$l([C("eventService")],r.prototype,"eventService",void 0),$l([C("environment")],r.prototype,"environment",void 0),$l([C("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),$l([C("eGridDiv")],r.prototype,"eGridDiv",void 0),$l([C("validationService")],r.prototype,"validationService",void 0),$l([C("gridApi")],r.prototype,"api",void 0),$l([j],r.prototype,"init",null),$l([Oi],r.prototype,"destroy",null),t=$l([oe("gridOptionsService")],r)}(),lke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lke(t,r),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(n,o,a){return e({key:n,defaultValue:o,variableValues:a})};var i=this.gridOptionsService.get("localeText");return function(n,o,a){var s=i&&i[n];if(s&&a&&a.length)for(var l=0;!(l>=a.length)&&-1!==s.indexOf("${variable}");)s=s.replace("${variable}",a[l++]);return s??o}},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("localeService")],t),t}(z),dke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pke=function(r){function t(){return r.call(this,t.TEMPLATE,"vertical")||this}return dke(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new kY(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0===n&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ka(this.getGui(),o),Ka(this.eViewport,o),Ka(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var n=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement(),o=this.getScrollPosition(),a=n.scrollTop;o!=a&&this.setScrollPosition(a,!0)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e,i){!i&&!ua(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(_7),fke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mo=function(){return Mo=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Mo.apply(this,arguments)},xp=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Kl=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},mC=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},S7={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},x7=["january","february","march","april","may","june","july","august","september","october","november","december"],mke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return fke(t,r),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(i){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(Qm(i.source))})},t.prototype.processDataTypeDefinitions=function(){var i,e=this,n=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(n).forEach(function(a){var s=Kl(a,2),c=s[1];e.dataTypeDefinitions[s[0]]=Mo(Mo({},c),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(c)})});var o=null!==(i=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==i?i:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=Kl(a,2),l=s[0],c=s[1],u=e.processDataTypeDefinition(c,o,[l],n);u&&(e.dataTypeDefinitions[l]=u,c.dataTypeMatcher&&(e.dataTypeMatchers[l]=c.dataTypeMatcher))}),this.checkObjectValueHandlers(n),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??n[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,i){var n=Mo(Mo({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(n.columnTypes=mC(mC([],Kl(this.convertColumnTypes(e.columnTypes)),!1),Kl(this.convertColumnTypes(i.columnTypes)),!1)),n},t.prototype.processDataTypeDefinition=function(e,i,n,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],c=i[s];if(l&&c&&(l=c),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(n.includes(s))return void We('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');var u=i[s];if(!this.validateDataTypeDefinition(e,u,s))return;var d=this.processDataTypeDefinition(u,i,mC(mC([],Kl(n),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return Mo(Mo({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,i,n){return i?i.baseDataType===e.baseDataType||(We('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(We("The data type definition ".concat(n," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var i=this;if(e.valueFormatter)return function(n){var o,a;if(null!==(o=n.node)&&void 0!==o&&o.group){var s=n.column.getAggFunc();if(s){if("first"===s||"last"===s)return e.valueFormatter(n);if("number"===e.baseDataType&&"count"!==s){if("number"==typeof n.value)return e.valueFormatter(n);if("object"==typeof n.value){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(Mo(Mo({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(Mo(Mo({},n),{value:n.value.value}))}}}if(!i.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(i.groupHideOpenParents&&n.column.isRowGroupActive()){if("string"!=typeof n.value||null!==(a=e.dataTypeMatcher)&&void 0!==a&&a.call(e,n.value))return e.valueFormatter(n);if(!i.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(n)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,i,n){var o=i.cellDataType,a=i.field;if(void 0===o&&(o=e.cellDataType),(null==o||!0===o)&&(o=!!this.canInferCellDataType(e,i)&&this.inferCellDataType(a,n)),o){var s=this.dataTypeDefinitions[o];if(s)return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,n),s.columnTypes;We('Missing data type definition - "'.concat(o,'"'))}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,i,n){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,i,n),l=null!==(a=null!==(o=i.type)&&void 0!==o?o:s)&&void 0!==a?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var i=this.columnStateUpdatesPendingInference[e.getColId()];if(i){var n=function(o){i.add(o.key)};e.addEventListener(bt.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(bt.EVENT_STATE_UPDATED,n)})}}},t.prototype.canInferCellDataType=function(e,i){var o,n=this;if("clientSide"!==this.rowModel.getType())return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,a))return!1;var s=null===i.type?e.type:i.type;if(s){var l=null!==(o=this.gridOptionsService.get("columnTypes"))&&void 0!==o?o:{};if(this.convertColumnTypes(s).some(function(u){var d=l[u.trim()];return d&&n.doColDefPropsPreventInference(d,a)}))return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,i){var n=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=Kl(o,2);return n.doesColDefPropPreventInference(e,i,a[0],a[1])})},t.prototype.doesColDefPropPreventInference=function(e,i,n,o){if(!i[n])return!1;var a=e[n];return null===a?(i[n]=!1,!1):void 0===o?!!a:a===o},t.prototype.inferCellDataType=function(e,i){var n;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Xm(a,e,s)}else this.initWaitForRowData(i);if(null!=o)return Kl(null!==(n=Object.entries(this.dataTypeMatchers).find(function(u){return(0,Kl(u,2)[1])(o)}))&&void 0!==n?n:["object"],1)[0]}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var i=this.rowModel.getRootNode().allLeafChildren;return i?.length?i[0].data:null},t.prototype.initWaitForRowData=function(e){var i=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var n=this.isColumnTypeOverrideInDataTypeDefinitions;n&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;s&&(o?.(),i.isWaitingForRowData=!1,i.processColumnsPendingInference(s,n),i.columnStateUpdatesPendingInference={},n&&i.columnModel.processResizeOperations(),i.eventService.dispatchEvent({type:x.EVENT_DATA_TYPES_INFERRED}))})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,i){var n=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var c=Kl(l,2),u=c[0],d=c[1],h=n.columnModel.getGridColumn(u);if(h){var p=h.getColDef();if(n.columnModel.resetColumnDefIntoColumn(h,"cellDataTypeInferred")){var f=h.getColDef();if(i&&f.type&&f.type!==p.type){var m=n.getUpdatedColumnState(h,d);m.rowGroup&&null==m.rowGroupIndex&&(a[u]=m),m.pivot&&null==m.pivotIndex&&(s[u]=m),o.push(m)}}}}),i&&o.push.apply(o,mC([],Kl(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,i){var n=this.columnModel.getColumnStateFromColDef(e);return i.forEach(function(o){delete n[o],"rowGroup"===o?delete n.rowGroupIndex:"pivot"===o&&delete n.pivotIndex}),n},t.prototype.checkObjectValueHandlers=function(e){var i=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=i.valueParser!==n.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==n.valueFormatter},t.prototype.convertColumnTypes=function(e){var i=[];return e instanceof Array?e.some(function(o){return"string"!=typeof o})?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:"string"==typeof e?i=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),i},t.prototype.getDateStringTypeDefinition=function(e){var i;return e&&null!==(i=this.getDataTypeDefinition(e))&&void 0!==i?i:this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(e){return this.getDateStringTypeDefinition(e).dateParser},t.prototype.getDateFormatterFunction=function(e){return this.getDateStringTypeDefinition(e).dateFormatter},t.prototype.getDataTypeDefinition=function(e){var i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]},t.prototype.getBaseDataType=function(e){var i;return null===(i=this.getDataTypeDefinition(e))||void 0===i?void 0:i.baseDataType},t.prototype.checkType=function(e,i){var n;if(null==i)return!0;var o=null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.dataTypeMatcher;return!o||o(i)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&We('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&We('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,i,n){var o=this,a=function(d,h,p){var f=d.getColDef().valueFormatter;return f===i.groupSafeValueFormatter&&(f=i.valueFormatter),o.valueFormatterService.formatValue(d,h,p,f)},s=Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),c=function(d){var h=e.filterParams;e.filterParams="object"==typeof h?Mo(Mo({},h),d):d};switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor",s&&c({comparator:function(d,h){var p=null==d?0:parseInt(d),f=null==h?0:parseInt(h);return p===f?0:p>f?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===V.SPACE},c(s?{valueFormatter:function(d){return ae(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return!1===h},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&c({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(1===h&&null!=d){var p=x7[Number(d)-1];return l(p,S7[p])}return d??l("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var u=i.dateParser;c(s?{valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=u(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(1===h&&null!=d){var p=x7[Number(d)-1];return l(p,S7[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var p=u(h);return null==h||p<d?-1:p>d?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(d,h){var p=o.columnModel.getPrimaryColumn(n),f=p?.getColDef();if(!p||!f)return 0;var m=null==d?"":a(p,null,d),g=null==h?"":a(p,null,h);return m===g?0:m>g?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?c({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))}}},t.prototype.getDefaultDataTypes=function(){var e=function(n){return!!n.match("^\\d{4}-\\d{2}-\\d{2}$")},i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(n){var o,a;return""===(null===(a=null===(o=n.newValue)||void 0===o?void 0:o.trim)||void 0===a?void 0:a.call(o))?null:Number(n.newValue)},valueFormatter:function(n){return null==n.value?"":"number"!=typeof n.value||isNaN(n.value)?i("invalidNumber","Invalid Number"):String(n.value)},dataTypeMatcher:function(n){return"number"==typeof n}},text:{baseDataType:"text",valueParser:function(n){return""===n.newValue?null:M_(n.newValue)},dataTypeMatcher:function(n){return"string"==typeof n}},boolean:{baseDataType:"boolean",valueParser:function(n){var o,a;return null==n.newValue?n.newValue:""===(null===(a=null===(o=n.newValue)||void 0===o?void 0:o.trim)||void 0===a?void 0:a.call(o))?null:"true"===String(n.newValue).toLowerCase()},valueFormatter:function(n){return null==n.value?"":String(n.value)},dataTypeMatcher:function(n){return"boolean"==typeof n}},date:{baseDataType:"date",valueParser:function(n){return So(null==n.newValue?null:String(n.newValue))},valueFormatter:function(n){var o;return null==n.value?"":n.value instanceof Date&&!isNaN(n.value.getTime())?null!==(o=$a(n.value,!1))&&void 0!==o?o:"":i("invalidDate","Invalid Date")},dataTypeMatcher:function(n){return n instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(n){var o;return null!==(o=So(n))&&void 0!==o?o:void 0},dateFormatter:function(n){var o;return null!==(o=$a(n??null,!1))&&void 0!==o?o:void 0},valueParser:function(n){return e(String(n.newValue))?n.newValue:null},valueFormatter:function(n){return e(String(n.value))?n.value:""},dataTypeMatcher:function(n){return"string"==typeof n&&e(n)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(n){var o;return null!==(o=M_(n.value))&&void 0!==o?o:""}}}},xp([C("rowModel")],t.prototype,"rowModel",void 0),xp([C("columnModel")],t.prototype,"columnModel",void 0),xp([C("columnUtils")],t.prototype,"columnUtils",void 0),xp([C("valueService")],t.prototype,"valueService",void 0),xp([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),xp([j],t.prototype,"init",null),xp([oe("dataTypeService")],t)}(z),gke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),E7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return gke(t,r),t.prototype.parseValue=function(e,i,n,o){var a=e.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:i,data:i?.data,oldValue:o,newValue:n,colDef:a,column:e}),l=a.valueParser;return ae(l)?"function"==typeof l?l(s):this.expressionService.evaluate(l,s):n},E7([C("expressionService")],t.prototype,"expressionService",void 0),E7([oe("valueParserService")],t)}(z),yke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},_ke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return yke(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(i){return e.setColumnDefs(i)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var i=e.gridOptionsService.get("columnDefs");i?e.setColumnsAndData(i):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var i=Ze.__isRegistered(ie.EnterpriseCoreModule,this.context.getGridId());new oL("AG Grid",function(){return e.gridOptionsService.get("debug")}).log("initialised successfully, enterprise = ".concat(i))},t.prototype.dispatchGridReadyEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_READY})},t.prototype.setColumnDefs=function(e){var i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(i);this.columnModel.setColumnDefs(i,Qm(e.source))}},gC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),gC([C("columnModel")],t.prototype,"columnModel",void 0),gC([C("rowModel")],t.prototype,"rowModel",void 0),gC([j],t.prototype,"postConstruct",null),gC([oe("syncService")],t)}(z),Cke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_L=function(){return _L=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},_L.apply(this,arguments)},vC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},bke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return Cke(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var i=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(i,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var i=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(i,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},t.prototype.showOverlay=function(e,i,n){var o=this,a=e.newAgStackInstance(),s=this.addManagedPropertyListener(n,function(l){var c=l.currentValue;a.then(function(u){u.refresh&&u.refresh(o.gridOptionsService.addGridCommonParams(_L({},c??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,i,s)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},vC([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),vC([C("paginationProxy")],t.prototype,"paginationProxy",void 0),vC([C("columnModel")],t.prototype,"columnModel",void 0),vC([j],t.prototype,"postConstruct",null),vC([oe("overlayService")],t)}(z),wke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rd=function(){return Rd=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Rd.apply(this,arguments)},ma=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Eke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=sa(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return wke(t,r),t.prototype.postConstruct=function(){var i,e=this;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},this.ctrlsService.whenReady(function(){return e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnGridReady()})});var n=this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(s){"gridInitializing"===s.source&&(n?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,x.EVENT_ROW_COUNT_READY,function(){o?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,x.EVENT_FIRST_DATA_RENDERED,function(){a?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnFirstDataRendered()})})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,x.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var i,e=this,n=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{};this.setColumnState(n),this.setColumnGroupState(n),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})},t.prototype.setupStateOnRowCountReady=function(){var i,e=this,n=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},o=n.filter,a=n.rowGroupExpansion,s=n.rowSelection,l=n.pagination,c=this.gridOptionsService.get("advancedFilterModel");(o||c)&&this.setFilterState(o,c),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())}),this.addManagedListener(this.eventService,x.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,x.EVENT_EXPAND_COLLAPSE_ALL,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,function(u){(u.newPage||u.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var i,e=this,n=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},o=n.scroll,a=n.rangeSelection,s=n.focusedCell,l=n.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!l?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(c){c.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),i=[],n=[],o=[],a=[],s=[],l=[],c=[],u=[],d=[],h=this.columnModel.getColumnState(),p=0;p<h.length;p++){var f=h[p],m=f.colId,g=f.sort,v=f.sortIndex,y=f.rowGroup,_=f.rowGroupIndex,b=f.aggFunc,w=f.pivot,E=f.pivotIndex,M=f.pinned,P=f.hide,I=f.width,k=f.flex;d.push(m),g&&(i[v??0]={colId:m,sort:g}),y&&(n[_??0]=m),"string"==typeof b&&o.push({colId:m,aggFunc:b}),w&&(a[E??0]=m),M&&("right"===M?l:s).push(m),P&&c.push(m),(k||I)&&u.push({colId:m,flex:k??void 0,width:I})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var i=e.sort,n=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,c=e.columnSizing,u=e.columnOrder,d={},h=function(v){var y=d[v];return y||(d[v]=y={colId:v},y)};i&&i.sortModel.forEach(function(v,y){var b=v.sort,w=h(v.colId);w.sort=b,w.sortIndex=y}),n&&n.groupColIds.forEach(function(v,y){var _=h(v);_.rowGroup=!0,_.rowGroupIndex=y}),o&&o.aggregationModel.forEach(function(v){var _=v.aggFunc;h(v.colId).aggFunc=_}),a&&(a.pivotColIds.forEach(function(v,y){var _=h(v);_.pivot=!0,_.pivotIndex=y}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(v){h(v).pinned="left"}),s.rightColIds.forEach(function(v){h(v).pinned="right"})),l&&l.hiddenColIds.forEach(function(v){h(v).hide=!0}),c&&c.columnSizingModel.forEach(function(v){var _=v.flex,b=v.width,w=h(v.colId);w.flex=_??null,w.width=b});var p=u?.orderedColIds,f=!!p?.length,m=f?p.map(function(v){return h(v)}):Object.values(d);m.length&&(this.columnStates=m,this.columnModel.applyColumnState({state:m,applyOrder:f,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))},t.prototype.setColumnPivotState=function(e){var i,n,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next()){var u=c.value;this.columnModel.getSecondaryColumn(u.colId)&&s.push(u)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),i=[];return e.forEach(function(n){n.open&&i.push(n.groupId)}),i.length?{openColumnGroupIds:i}:void 0},t.prototype.setColumnGroupState=function(e){var i;if(e.hasOwnProperty("columnGroup")){var n=new Set(null===(i=e.columnGroup)||void 0===i?void 0:i.openColumnGroupIds),a=this.columnModel.getColumnGroupState().map(function(s){var l=s.groupId,c=n.has(l);return c&&n.delete(l),{groupId:l,open:c}});n.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getFilterState=function(){var e,i=this.filterManager.getFilterModel();i&&0===Object.keys(i).length&&(i=void 0);var n=null!==(e=this.filterManager.getAdvancedFilterModel())&&void 0!==e?e:void 0;return i||n?{filterModel:i,advancedFilterModel:n}:void 0},t.prototype.setFilterState=function(e,i){var n=e??{advancedFilterModel:i},o=n.filterModel,a=n.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,i=null===(e=this.rangeService)||void 0===e?void 0:e.getCellRanges().map(function(n){var u=n.startColumn;return{id:n.id,type:n.type,startRow:n.startRow,endRow:n.endRow,colIds:n.columns.map(function(d){return d.getColId()}),startColId:u.getColId()}});return i?.length?{cellRanges:i}:void 0},t.prototype.setRangeSelectionState=function(e){var n,i=this;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return Rd(Rd({},a),{columns:a.colIds.map(function(s){return i.columnModel.getGridColumn(s)}),startColumn:i.columnModel.getGridColumn(a.startColId)})});null===(n=this.rangeService)||void 0===n||n.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,i,n;if(this.isClientSideRowModel){var o=null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e?void 0:e.getScrollFeature(),a=(null!==(i=o?.getHScrollPosition())&&void 0!==i?i:{left:0}).left,s=(null!==(n=o?.getVScrollPosition())&&void 0!==n?n:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var i;if(this.isClientSideRowModel){var n=e.top,o=e.left;null===(i=this.ctrlsService.getGridBodyCtrl())||void 0===i||i.getScrollFeature().setScrollPosition(n,o)}},t.prototype.getSideBarState=function(){var e,i;return null===(i=null===(e=this.sideBarService)||void 0===e?void 0:e.getSideBarComp())||void 0===i?void 0:i.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var n=e.rowIndex,o=e.rowPinned;return{colId:e.column.getColId(),rowIndex:n,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var n=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e.colId),rowIndex:n,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),i=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||i)return{page:e,pageSize:i}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,i=this.selectionService.getSelectionState();return i&&(Array.isArray(i)||!1!==i.selectAll&&!1!==i.selectAllChildren||null!==(e=i?.toggledNodes)&&void 0!==e&&e.length)?i:void 0},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var i=this,n=this.getColumnState(),o=!1;Object.entries(n).forEach(function(a){var s=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a,2);gF(s[1],i.cachedState[s[0]])||(o=!0)}),this.cachedState=Rd(Rd({},this.cachedState),n),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,i){var n,o=this.cachedState[e];this.cachedState=Rd(Rd({},this.cachedState),((n={})[e]=i,n)),gF(i,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var i=this;this.suppressEvents||(e.forEach(function(n){return i.queuedUpdateSources.add(n)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:x.EVENT_STATE_UPDATED,sources:e,state:this.cachedState})},t.prototype.suppressEventsAndDispatchInitEvent=function(e){var i=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(function(){i.suppressEvents=!1,i.queuedUpdateSources.clear(),i.isAlive()&&(i.columnAnimationService.setSuppressAnimation(!1),i.dispatchStateUpdateEvent(["gridInitializing"]))})},ma([C("filterManager")],t.prototype,"filterManager",void 0),ma([gt("rangeService")],t.prototype,"rangeService",void 0),ma([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ma([gt("sideBarService")],t.prototype,"sideBarService",void 0),ma([C("focusService")],t.prototype,"focusService",void 0),ma([C("columnModel")],t.prototype,"columnModel",void 0),ma([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ma([C("rowModel")],t.prototype,"rowModel",void 0),ma([C("selectionService")],t.prototype,"selectionService",void 0),ma([C("expansionService")],t.prototype,"expansionService",void 0),ma([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ma([j],t.prototype,"postConstruct",null),ma([oe("stateService")],t)}(z),Dke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Ep=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},yC=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Tke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Dke(t,r),t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,ske)},t.prototype.processColumnDefs=function(e){this.processOptions(e,fg)},t.prototype.processOptions=function(e,i){var n=this,o=i.validations,a=i.deprecations,s=i.allProperties,c=i.objectName,u=i.docsUrl;s&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,yC(yC([],Ep(i.propertyExceptions??[]),!1),Ep(Object.keys(a)),!1),s,c,u);var d=new Set;Object.keys(e).forEach(function(p){var f,m=a[p];if(m)if("renamed"in m){var g=m.renamed;d.add("As of v".concat(m.version,", ").concat(String(p)," is deprecated. Please use ").concat(String(g)," instead.")),e[g]=e[p]}else{var y=m.message;d.add("As of v".concat(m.version,", ").concat(String(p)," is deprecated. ").concat(y??""))}var _=e[p];if(null!=_&&!1!==_){var w,b=o[p];if(!b)return;if("function"==typeof b){var E=b(e,n.gridOptions);if(!E)return;if("objectName"in E){var M=e[p];return Array.isArray(M)?void M.forEach(function(me){n.processOptions(me,E)}):void n.processOptions(e[p],E)}w=E}else w=b;var P=w.module,I=w.dependencies,k=w.supportedRowModels;if(k){var N=null!==(f=n.gridOptions.rowModelType)&&void 0!==f?f:"clientSide";if(!k.includes(N))return void d.add("".concat(String(p)," is not supported with the '").concat(N,"' row model."))}if(P){var B=Array.isArray(P)?P:[P],Y=!0;if(B.forEach(function(me){Ze.__assertRegistered(me,String(p),n.context.getGridId())||(Y=!1,d.add("".concat(String(p)," is only available when ").concat(me," is loaded.")))}),!Y)return}if(I){var ne=n.checkForWarning(p,I,e);if(ne)return void d.add(ne)}}}),d.size>0&&d.forEach(function(p){We(p)})},t.prototype.checkForWarning=function(e,i,n){if("function"==typeof i)return i(n,this.gridOptions);var a=Object.entries(i).find(function(u){var d=Ep(u,2);return!d[1].includes(n[d[0]])});if(!a)return null;var s=Ep(a,2),l=s[0],c=s[1];return c.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(c.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(c[0],".")},t.prototype.checkProperties=function(e,i,n,o,a){var l=LK(Object.getOwnPropertyNames(e),yC(yC(yC([],Ep(["__ob__","__v_skip","__metadata__"]),!1),Ep(i),!1),Ep(n),!1),n);if(Lr(l,function(u,d){We("invalid ".concat(o," property '").concat(u,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var c=this.getFrameworkOverrides().getDocLink(a);We("to see all the valid ".concat(o," properties please check: ").concat(c))}},CL([C("gridOptions")],t.prototype,"gridOptions",void 0),CL([j],t.prototype,"init",null),CL([oe("validationService")],t)}(z),Ake=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),D7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Oke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return Ake(t,r),t.prototype.postConstruct=function(){this.frameworkEventWrappingService=new SF(this.getFrameworkOverrides())},t.prototype.addEventListener=function(e,i){var n=this.frameworkEventWrappingService.wrap(i),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(e)||a.set(e,new Set),a.get(e).add(n),this.eventService.addEventListener(e,n,o)},t.prototype.addGlobalListener=function(e){var i=this.frameworkEventWrappingService.wrapGlobal(e),n=this.gridOptionsService.useAsyncEvents();(n?this.asyncGlobalEventListeners:this.syncGlobalEventListeners).add(i),this.eventService.addGlobalListener(i,n)},t.prototype.removeEventListener=function(e,i){var n,o=this.frameworkEventWrappingService.unwrap(i),a=this.asyncEventListeners.get(e),s=!!a?.delete(o);s||null===(n=this.asyncEventListeners.get(e))||void 0===n||n.delete(o),this.eventService.removeEventListener(e,o,s)},t.prototype.removeGlobalListener=function(e){var i=this.frameworkEventWrappingService.unwrapGlobal(e),n=this.asyncGlobalEventListeners.delete(i);n||this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,n)},t.prototype.destroyEventListeners=function(e,i){var n=this;e.forEach(function(o,a){o.forEach(function(s){return n.eventService.removeEventListener(a,s,i)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,i){var n=this;e.forEach(function(o){return n.eventService.removeGlobalListener(o,i)}),e.clear()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},D7([j],t.prototype,"postConstruct",null),D7([oe("apiEventService")],t)}(z),Mke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ZE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Ike=function(r){function t(){var e=r.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var i=e.selectPageSizeComp.getValue();if(i){var n=Number(i);isNaN(n)||n<1||n===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(n,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return Mke(t,r),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,function(i){return e.handlePaginationChanged(i)})},t.prototype.handlePaginationChanged=function(e){if(this.selectPageSizeComp&&e?.newPageSize){var i=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){Yn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")},t.prototype.reloadPageSizesSelector=function(){var e=this,i=this.getPageSizeSelectorValues(),n=this.paginationProxy.getPageSize(),o=!n||!i.includes(n);o&&(i.unshift(""),We("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=i.map(function(u){return{value:String(u),text:String(u)}}),c=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ou).addOptions(l).setValue(String(o?"":n)).setAriaLabel(c).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var i=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(i)&&this.validateValues(i)?function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i),!1).sort(function(n,o){return n-o}):[20,50,100]},t.prototype.validateValues=function(e){if(!e.length)return We("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(var i=0;i<e.length;i++){var n=e[i],a=n>0;if("number"!=typeof n)return We("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!a)return We("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),r.prototype.destroy.call(this)},ZE([C("localeService")],t.prototype,"localeService",void 0),ZE([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ZE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ZE([j],t.prototype,"init",null),t}(le),Fke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kke=function(r){function t(){var e=r.call(this)||this;return e.descriptionContainer=null,e.announceValue=sa(e.announceValue.bind(e),200),e}return Fke(t,r),t.prototype.postConstruct=function(){var e=this.gridOptionsService.getDocument(),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),IF(i,"polite"),fK(i,"additions text"),pK(i,!0),this.eGridDiv.appendChild(i)},t.prototype.announceValue=function(e){var i=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){i.descriptionContainer.textContent=e},50))},t.prototype.destroy=function(){r.prototype.destroy.call(this);var e=this.descriptionContainer;e&&(Yn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null},bL([C("eGridDiv")],t.prototype,"eGridDiv",void 0),bL([j],t.prototype,"postConstruct",null),bL([oe("ariaAnnouncementService")],t)}(z),T7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},A7=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))};function O7(r,t,e){if(!t)return Ms("No gridOptions provided to createGrid"),{};var i=w7.getCoercedGridOptions(t),n=(new M7).create(r,i,function(a){var s=new d7(r);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!e?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){Ms("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){Ms("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return n}var Lke=1,M7=function(){function r(){}return r.prototype.create=function(t,e,i,n,o){var a,s=!!e.debug,l=null!==(a=e.gridId)&&void 0!==a?a:String(Lke++),c=this.getRegisteredModules(o,l),u=this.createBeansList(e.rowModelType,c,l),d=this.createProvidedBeans(t,e,o);if(u){var h={providedBeanInstances:d,beanClasses:u,debug:s,gridId:l},p=new oL("Context",function(){return h.debug}),f=new qEe(h,p),m=f.getBean("beans");return this.registerModuleUserComponents(m,c),this.registerStackComponents(m,c),this.registerControllers(m,c),i(f),m.syncService.start(),n&&n(f),m.gridApi}Ms("Failed to create grid.")},r.prototype.registerControllers=function(t,e){e.forEach(function(i){i.controllers&&i.controllers.forEach(function(n){return t.ctrlsFactory.register(n)})})},r.prototype.registerStackComponents=function(t,e){var i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)},r.prototype.getRegisteredModules=function(t,e){var i=t?t.modules:null,n=Ze.__getRegisteredModules(e),o=[],a={},s=function(l,c,u){var h;a[(h=c).moduleName]||(a[h.moduleName]=!0,o.push(h),Ze.__register(h,l,u)),c.dependantModules&&c.dependantModules.forEach(function(h){return s(l,h,u)})};return i&&i.forEach(function(l){return s(!0,l,e)}),n&&n.forEach(function(l){return s(!Ze.__isPackageBased(),l,void 0)}),o},r.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(n){return n.userComponents?n.userComponents:[]}).forEach(function(n){t.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})},r.prototype.createProvidedBeans=function(t,e,i){var n=i?i.frameworkOverrides:null;Qe(n)&&(n=new a7);var o={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:bd},{componentName:"AgRadioButton",componentClass:Ek},{componentName:"AgToggleButton",componentClass:iL},{componentName:"AgInputTextField",componentClass:au},{componentName:"AgInputTextArea",componentClass:WPe},{componentName:"AgInputNumberField",componentClass:dE},{componentName:"AgInputDateField",componentClass:ZY},{componentName:"AgInputRange",componentClass:YPe},{componentName:"AgRichSelect",componentClass:LE},{componentName:"AgSelect",componentClass:ou},{componentName:"AgSlider",componentClass:Xa},{componentName:"AgGridBody",componentClass:KMe},{componentName:"AgHeaderRoot",componentClass:tPe},{componentName:"AgSortIndicator",componentClass:Rk},{componentName:"AgPagination",componentClass:SFe},{componentName:"AgPageSizeSelector",componentClass:Ike},{componentName:"AgOverlayWrapper",componentClass:EFe},{componentName:"AgGroupComponent",componentClass:Vs},{componentName:"AgRowContainer",componentClass:cRe},{componentName:"AgFakeHorizontalScroll",componentClass:ZFe},{componentName:"AgFakeVerticalScroll",componentClass:pke},{componentName:"AgAutocomplete",componentClass:sC}],i=this.extractModuleEntity(t,function(n){return n.agStackComponents?n.agStackComponents:[]});return e.concat(i)},r.prototype.createBeansList=function(t,e,i){void 0===t&&(t="clientSide");var n=e.filter(function(c){return!c.rowModel||c.rowModel===t}),o={clientSide:ie.ClientSideRowModelModule,infinite:ie.InfiniteRowModelModule,serverSide:ie.ServerSideRowModelModule,viewport:ie.ViewportRowModelModule};if(o[t]){if(Ze.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),i)){var a=[OY,TFe,MFe,NFe,JIe,DY,iOe,aFe,lFe,mPe,COe,_Fe,nPe,uke,Tke,kPe,SOe,PDe,Ll,w7,hIe,s7,TOe,DDe,XRe,BPe,MPe,IIe,dDe,LIe,EIe,JMe,tFe,MIe,VIe,ODe,wPe,oPe,Bt,cC,$Ie,ZMe,gFe,wIe,IPe,jPe,qMe,zIe,qIe,ZIe,bFe,fDe,rFe,vPe,kFe,LDe,VFe,BFe,qY,jFe,WFe,JFe,tke,YFe,mke,vke,TY,_ke,bke,Eke,KY,Oke,kke,CPe],s=this.extractModuleEntity(n,function(c){return c.beans?c.beans:[]});a.push.apply(a,A7([],T7(s),!1));var l=[];return a.forEach(function(c){l.indexOf(c)<0&&l.push(c)}),l}}else Ms("Could not find row model for rowModelType = "+t)},r.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],A7([],T7(t.map(e)),!1))},r}(),Nke=function(){function r(){}return r.prototype.wrap=function(t,e,i,n){var o=this;void 0===i&&(i=[]);var a=this.createWrapper(t,n);return e.forEach(function(s){o.createMethod(a,s,!0)}),i.forEach(function(s){o.createMethod(a,s,!1)}),a},r.prototype.unwrap=function(t){return t},r.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},r.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},r}(),Gke={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},wL=["chartSettings","chartData","chartFormat"],R7=["chartUnlink","chartLink","chartDownload"],QE={settings:"chartSettings",data:"chartData",format:"chartFormat"},mg=typeof global>"u"?{}:global;mg.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,mg.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,mg.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,mg.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,mg.Node=typeof Node>"u"?{}:Node,mg.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var _C=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},CC=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Vke=function(){function r(t,e,i,n,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=i,this.columnModel=n,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return r.prototype.getCopyOfNodesMap=function(){return D.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(t){return this.allNodesMap[t]},r.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);var i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,r.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},r.prototype.updateRowData=function(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var i={remove:[],update:[],add:[]},n=[];return this.executeRemove(t,i,n),this.executeUpdate(t,i,n),this.executeAdd(t,i),this.updateSelection(n,"rowDataChanged"),e&&D.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),i},r.prototype.isRowCountReady=function(){return this.rowCountReady},r.prototype.dispatchRowDataUpdateStartedEvent=function(t){this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})},r.prototype.updateSelection=function(t,e){var i=t.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),i&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e})},r.prototype.executeAdd=function(t,e){var n,i=this,o=t.add,a=t.addIndex;if(!D.missingOrEmpty(o)){var s=o.map(function(m){return i.createNode(m,i.rootNode,r.TOP_LEVEL)});if("number"==typeof a&&a>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=a;if(this.gridOptionsService.get("treeData")&&a>0&&c>0)for(var h=0;h<c;h++)if((null===(n=l[h])||void 0===n?void 0:n.rowIndex)==a-1){u=h+1;break}var p=l.slice(0,u),f=l.slice(u,l.length);this.rootNode.allLeafChildren=CC(CC(CC([],_C(p),!1),_C(s),!1),_C(f),!1)}else this.rootNode.allLeafChildren=CC(CC([],_C(this.rootNode.allLeafChildren),!1),_C(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},r.prototype.executeRemove=function(t,e,i){var n=this,o=t.remove;if(!D.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=n.lookupRowNode(s);l&&(l.isSelected()&&i.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete n.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(t,e,i){var n=this,o=t.update;D.missingOrEmpty(o)||o.forEach(function(a){var s=n.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&i.push(s),n.setMasterForRow(s,a,r.TOP_LEVEL,!1),e.update.push(s))})},r.prototype.lookupRowNode=function(t){var i,e=this.gridOptionsService.getCallback("getRowId");if(e){var n=e({data:t,level:0});if(!(i=this.allNodesMap[n]))return console.error("AG Grid: could not find row id=".concat(n,", data item was not found for this id")),null}else if(!(i=this.rootNode.allLeafChildren.find(function(o){return o.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null},r.prototype.createNode=function(t,e,i){var n=new ct(this.beans);n.group=!1,this.setMasterForRow(n,t,i,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(n.parent=e),n.level=i,n.setDataAndId(t,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '".concat(n.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[n.id]=n,this.nextId++,n},r.prototype.setMasterForRow=function(t,e,i,n){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),n&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){var s=this.gridOptionsService.get("isRowMaster");t.setMaster(!s||s(e))}else t.setMaster(!1);if(n){var l=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(i+(l?l.length:0))}}},r.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return-1===e||t<e},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),Bke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ro=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Po=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Io=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Xn=(()=>((Xn=Xn||{})[Xn.Normal=0]="Normal",Xn[Xn.AfterFilter=1]="AfterFilter",Xn[Xn.AfterFilterAndSort=2]="AfterFilterAndSort",Xn[Xn.PivotNodes=3]="PivotNodes",Xn))(),Hke=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return Bke(t,r),t.prototype.init=function(){var e=this,i=this.refreshModel.bind(this,{step:ft.EVERYTHING}),n=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ft.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:n});this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ft.PIVOT})),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,x.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new ct(this.beans),this.nodeManager=new Vke(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,i=new Set(["treeData","masterDetail"]),n=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),c=new Set([]),u=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Io(Io(Io(Io(Io(Io(Io(Io(Io([],Po(i),!1),Po(n),!1),Po(o),!1),Po(a),!1),Po(a),!1),Po(s),!1),Po(l),!1),Po(c),!1),Po(u),!1);this.addManagedPropertyListeners(d,function(h){var p,f=null===(p=h.changeSet)||void 0===p?void 0:p.properties;if(f){var m=function(g){return f.some(function(v){return g.has(v)})};if(m(i))return void e.setRowData(e.rootNode.allLeafChildren.map(function(g){return g.data}));if(m(n))return void e.refreshModel({step:ft.EVERYTHING});if(m(o))return void e.refreshModel({step:ft.FILTER});if(m(a))return void e.refreshModel({step:ft.PIVOT});if(m(s))return void e.refreshModel({step:ft.AGGREGATE});if(m(l))return void e.refreshModel({step:ft.SORT});if(m(c))return void e.refreshModel({step:ft.FILTER_AGGREGATES});m(u)&&e.refreshModel({step:ft.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,i,n,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(i),u=Math.max(l,n),d=Math.min(c,o),h=u;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),i=0,n=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(null!=s.id&&n.add(s.id),null==s.rowHeight){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(i),s.setRowIndex(a),i+=s.rowHeight}return n},t.prototype.clearRowTopAndRowIndex=function(e,i){var n=e.isActive(),o=function(s){s&&null!=s.id&&!i.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(n&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(a))};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,i,n){var o=this;void 0===n&&(n=0);var a=this.getRowIndexAtPixel(i),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s!==e[0]&&(e.forEach(function(c){D.removeFromArray(o.rootNode.allLeafChildren,c)}),e.forEach(function(c,u){D.insertIntoArray(o.rootNode.allLeafChildren,c,Math.max(a+n,0)+u)}),this.refreshModel({step:ft.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,i){var n=null!=i?this.getRowIndexAtPixel(i):null,o=null!=n?this.getRow(n):null;if(o&&e&&o!==e&&null!=i){var a=this.getHighlightPosition(i,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,i){if(!i){var n=this.getRowIndexAtPixel(e);if(!(i=this.getRow(n||0)))return Do.Below}return e-i.rowTop<i.rowHeight/2?Do.Above:Do.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var i=this.rootNode.childrenAfterAggFilter;return i?i.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var n=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex},t.prototype.getRowBounds=function(e){if(D.missing(this.rowsToDisplay))return null;var i=this.rowsToDisplay[e];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ft.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var i=this.gridOptionsService.isAnimateRows(),n=0===e.columns.length||e.columns.some(function(a){return a.isPrimary()});this.refreshModel({step:n?ft.FILTER:ft.FILTER_AGGREGATES,keepRenderedRows:!0,animate:i})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ft.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ft.PIVOT}):this.refreshModel({step:ft.AGGREGATE})},t.prototype.createChangePath=function(e){var i=D.missingOrEmpty(e),n=new nC(!1,this.rootNode);return(i||this.gridOptionsService.get("treeData"))&&n.setInactive(),n},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;var i=e.rowNodeTransactions.filter(function(o){return null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0});return null==i||0==i.length},t.prototype.buildRefreshModelParams=function(e){var i=ft.EVERYTHING,n={everything:ft.EVERYTHING,group:ft.EVERYTHING,filter:ft.FILTER,map:ft.MAP,aggregate:ft.AGGREGATE,sort:ft.SORT,pivot:ft.PIVOT};if(D.exists(e)&&(i=n[e]),!D.missing(i))return{step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(n).join(", ")))},t.prototype.refreshModel=function(e){if(this.hasStarted&&!this.isRefreshingModel&&!this.columnModel.shouldRowModelIgnoreRefresh()){var i="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(i&&!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var n=this.createChangePath(i.rowNodeTransactions);switch(this.isRefreshingModel=!0,i.step){case ft.EVERYTHING:this.doRowGrouping(i.rowNodeTransactions,i.rowNodeOrder,n,!!i.afterColumnsChanged);case ft.FILTER:this.doFilter(n);case ft.PIVOT:this.doPivot(n);case ft.AGGREGATE:this.doAggregate(n);case ft.FILTER_AGGREGATES:this.doFilterAggregates(n);case ft.SORT:this.doSort(i.rowNodeTransactions,n);case ft.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,o),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1,keepUndoRedoStack:i.keepUndoRedoStack})}}},t.prototype.isEmpty=function(){var e=D.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return D.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return D.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,i){var n=!i,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(n&&(l===i||l===e)&&(o=!0,l.group&&s))return void a.push.apply(a,Io([],Po(l.allLeafChildren),!1));if(!n){if(l!==i&&l!==e)return;n=!0}if(!l.group||!s)return void a.push(l)}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var i=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(D.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((i+n)/2),c=this.rowsToDisplay[l];if(this.isRowInPixel(c,e))return l;if(c.rowTop<e?i=l+1:c.rowTop>e&&(n=l-1),a===i&&s===n)return l;a=i,s=n}},t.prototype.isRowInPixel=function(e,i){return e.rowTop<=i&&e.rowTop+e.rowHeight>i},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(i,n){return e(i,n)})},t.prototype.forEachNode=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:Xn.Normal,index:0,includeFooterNodes:i})},t.prototype.forEachNodeAfterFilter=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:Xn.AfterFilter,index:0,includeFooterNodes:i})},t.prototype.forEachNodeAfterFilterAndSort=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:Xn.AfterFilterAndSort,index:0,includeFooterNodes:i})},t.prototype.forEachPivotNode=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Xn.PivotNodes,index:0,includeFooterNodes:i})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var i,n=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,c=0;c<n.length;c++){var u=n[c];if(o(u,l++),u.hasChildren()&&!u.footer){var d=null;switch(a){case Xn.Normal:d=u.childrenAfterGroup;break;case Xn.AfterFilter:d=u.childrenAfterAggFilter;break;case Xn.AfterFilterAndSort:d=u.childrenAfterSort;break;case Xn.PivotNodes:d=u.leafGroup?null:u.childrenAfterSort}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var h=null===(i=n[0])||void 0===i?void 0:i.parent;if(!s||!h)return l;if(h===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return l}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:h}))return l;return h.createFooter(),o(h.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var i=this.gridOptionsService.get("treeData"),n=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(c){var u=function(){c.expanded=e,o(c.childrenAfterGroup)};i?D.exists(c.childrenAfterGroup)&&u():n?!c.leafGroup&&u():c.group&&u()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ft.MAP}),this.eventService.dispatchEvent({type:x.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:i})},t.prototype.doRowGrouping=function(e,i,n,o){this.groupStage?(this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:i,changedPath:n}:{rowNode:this.rootNode,changedPath:n,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(ct.ID_PREFIX_ROW_GROUP)){var n=void 0;return this.forEachNode(function(o){o.id===e&&(n=o)}),n}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ft.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,i){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:i})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var i=[],n=[],o=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);n.push(l),s.callback&&i.push(s.callback.bind(null,l)),"number"==typeof s.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(n,void 0,o),i.length>0&&window.setTimeout(function(){i.forEach(function(s){return s()})},0),n.length>0&&this.eventService.dispatchEvent({type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,i){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,i);return this.commonUpdateRowData([n],i,"number"==typeof e.addIndex),n},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.get("suppressMaintainUnsortedOrder")){var i={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++)i[this.rootNode.allLeafChildren[n].id]=n;return i}},t.prototype.commonUpdateRowData=function(e,i,n){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");n&&(i=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ft.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ft.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(i){i.setRowHeight(i.rowHeight,!0);var n=i.detailNode;n&&n.setRowHeight(n.rowHeight,!0),i.sibling&&i.sibling.setRowHeight(i.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.rowCountReady},Ro([C("columnModel")],t.prototype,"columnModel",void 0),Ro([C("selectionService")],t.prototype,"selectionService",void 0),Ro([C("filterManager")],t.prototype,"filterManager",void 0),Ro([C("valueCache")],t.prototype,"valueCache",void 0),Ro([C("beans")],t.prototype,"beans",void 0),Ro([C("filterStage")],t.prototype,"filterStage",void 0),Ro([C("sortStage")],t.prototype,"sortStage",void 0),Ro([C("flattenStage")],t.prototype,"flattenStage",void 0),Ro([gt("groupStage")],t.prototype,"groupStage",void 0),Ro([gt("aggregationStage")],t.prototype,"aggregationStage",void 0),Ro([gt("pivotStage")],t.prototype,"pivotStage",void 0),Ro([gt("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Ro([j],t.prototype,"init",null),Ro([oe("rowModel")],t)}(z),jke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),P7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Uke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jke(t,r),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},P7([C("filterService")],t.prototype,"filterService",void 0),P7([oe("filterStage")],t)}(z),zke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Wke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zke(t,r),t.prototype.execute=function(e){var i=this,n=this.sortController.getSortOptions(),o=D.exists(n)&&n.length>0,a=o&&D.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=n.some(function(l){return i.gridOptionsService.isColumnsSortingCoupledToGroup()?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(n,o,a,e.rowNodeTransactions,e.changedPath,s)},SL([C("sortService")],t.prototype,"sortService",void 0),SL([C("sortController")],t.prototype,"sortController",void 0),SL([oe("sortStage")],t)}(z),$ke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Kke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $ke(t,r),t.prototype.execute=function(e){var i=e.rowNode,n=[],o=this.columnModel.isPivotMode(),a=o&&i.leafGroup,s=a?[i]:i.childrenAfterSort,l=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(l,s,n,o,0),!a&&n.length>0&&l.groupIncludeTotalFooter&&(i.createFooter(),this.addRowNodeToRowsToDisplay(l,i.sibling,n,0)),n},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,i,n,o,a){if(!D.missingOrEmpty(i))for(var s=0;s<i.length;s++){var l=i[s],c=l.hasChildren(),d=e.groupRemoveSingleChildren&&c&&1===l.childrenAfterGroup.length,h=e.groupRemoveLowestSingleChildren&&c&&l.leafGroup&&1===l.childrenAfterGroup.length;if(!(o&&!c||e.hideOpenParents&&l.expanded&&!l.master&&(!o||!l.leafGroup)||d||h)&&this.addRowNodeToRowsToDisplay(e,l,n,a),!o||!l.leafGroup)if(c){var g=d||h;if(l.expanded||g){var v=g?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,n,o,v),e.getGroupIncludeFooter({node:l})?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,n,v)):l.destroyFooter()}}else if(l.master&&l.expanded){var _=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,_,n,a)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,i,n,o){n.push(i),i.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var i=new ct(this.beans);return i.detail=!0,i.selectable=!1,i.parent=e,D.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1,e.detailNode=i,i},xL([C("columnModel")],t.prototype,"columnModel",void 0),xL([C("beans")],t.prototype,"beans",void 0),xL([oe("flattenStage")],t)}(z),Yke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Yke(t,r),t.prototype.sort=function(e,i,n,o,a,s){var l=this,c=this.gridOptionsService.get("groupMaintainOrder"),u=this.columnModel.getAllGridColumns().some(function(m){return m.isRowGroupActive()}),d={};n&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows");a&&a.forEachChangedNodeDepthFirst(function(m){var g;l.pullDownGroupDataForHideOpenParents(m.childrenAfterAggFilter,!0);var v=h&&m.leafGroup;if(c&&u&&!m.leafGroup&&!s){var _=null===(g=l.columnModel.getRowGroupColumns())||void 0===g?void 0:g[m.level+1],b=null===_?.getSort(),w=m.childrenAfterAggFilter.slice(0);if(m.childrenAfterSort&&!b){var E={};m.childrenAfterSort.forEach(function(P,I){E[P.id]=I}),w.sort(function(P,I){var k,N;return(null!==(k=E[P.id])&&void 0!==k?k:0)-(null!==(N=E[I.id])&&void 0!==N?N:0)})}m.childrenAfterSort=w}else m.childrenAfterSort=!i||v?m.childrenAfterAggFilter.slice(0):n?l.doDeltaSort(m,d,a,e):l.rowNodeSorter.doFullSort(m.childrenAfterAggFilter,e);m.sibling&&(m.sibling.childrenAfterSort=m.childrenAfterSort),l.updateChildIndexes(m),p&&p({nodes:m.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var i={},n=function(o){o&&o.forEach(function(a){return i[a.id]=!0})};return e&&e.forEach(function(o){n(o.add),n(o.update),n(o.remove)}),i},t.prototype.doDeltaSort=function(e,i,n,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var c={},u=[];s.forEach(function(f){i[f.id]||!n.canSkip(f)?u.push(f):c[f.id]=!0});var d=l.filter(function(f){return c[f.id]}),h=function(f,m){return{currentPos:m,rowNode:f}},p=u.map(h).sort(function(f,m){return a.rowNodeSorter.compareRowNodes(o,f,m)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(f){return f.rowNode})},t.prototype.mergeSortedArrays=function(e,i,n){for(var o=[],a=0,s=0;a<i.length&&s<n.length;){var l=this.rowNodeSorter.compareRowNodes(e,i[a],n[s]);o.push(l<0?i[a++]:n[s++])}for(;a<i.length;)o.push(i[a++]);for(;s<n.length;)o.push(n[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!D.missing(e.childrenAfterSort))for(var i=e.childrenAfterSort,n=0;n<i.length;n++){var o=i[n],s=n===e.childrenAfterSort.length-1;o.setFirstChild(0===n),o.setLastChild(s),o.setChildIndex(n)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var i=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return D.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var n=function(o){i.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&n(a)})};e&&e.executeFromRootNode(function(o){return n(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,i){var n=this;!this.gridOptionsService.get("groupHideOpenParents")||D.missing(e)||e.forEach(function(o){n.columnModel.getGroupDisplayColumns().forEach(function(s){var l=s.getColDef().showRowGroup;if("string"==typeof l){var u=n.columnModel.getPrimaryColumn(l);if(u!==o.rowGroupColumn)if(i)o.setGroupValue(s.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(u);h&&o.setGroupValue(s.getId(),h.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},EL([C("columnModel")],t.prototype,"columnModel",void 0),EL([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),EL([oe("sortService")],t)}(z),Xke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),I7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Zke=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xke(t,r),t.prototype.filter=function(e){var i=this.filterManager.isChildFilterPresent();this.filterNodes(i,e)},t.prototype.filterNodes=function(e,i){var n=this,o=function(c,u){c.childrenAfterFilter=c.hasChildren()&&e&&!u?c.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&n.filterManager.doesRowPassFilter({rowNode:d});return h||p}):c.childrenAfterGroup,c.sibling&&(c.sibling.childrenAfterFilter=c.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(c,u){if(c.childrenAfterGroup)for(var d=0;d<c.childrenAfterGroup.length;d++){var h=c.childrenAfterGroup[d],p=u||n.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(c.childrenAfterGroup[d],p):o(h,p)}o(c,u)};i.executeFromRootNode(function(c){return a(c,!1)})}else i.forEachChangedNodeDepthFirst(function(c){return o(c,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},I7([C("filterManager")],t.prototype,"filterManager",void 0),I7([oe("filterService")],t)}(z),Qke=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},eLe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Qke(t,r),t.prototype.postConstruct=function(){var e=this;"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&e},t.prototype.setRowData=function(e){var i=this.createTransactionForRowData(e);if(i){var n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i,2);this.clientSideRowModel.updateRowData(n[0],n[1])}},t.prototype.createTransactionForRowData=function(e){if(D.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var i=this.gridOptionsService.getCallback("getRowId");if(null!=i){var n={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return D.exists(e)&&e.forEach(function(l,c){var u=i({data:l,level:0}),d=o[u];s&&(s[u]=c),d?(d.data!==l&&n.update.push(l),o[u]=void 0):n.add.push(l)}),D.iterateObject(o,function(l,c){c&&n.remove.push(c.data)}),[n,s]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},bC([C("rowModel")],t.prototype,"rowModel",void 0),bC([C("rowRenderer")],t.prototype,"rowRenderer",void 0),bC([C("selectionService")],t.prototype,"selectionService",void 0),bC([j],t.prototype,"postConstruct",null),bC([oe("immutableService")],t)}(z),F7={version:"31.1.1",moduleName:ie.ClientSideRowModelModule,rowModel:"clientSide",beans:[Hke,Uke,Wke,Kke,qke,Zke,eLe]},iLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},k7=function(r){function t(e,i,n){var o=r.call(this,e)||this;return o.parentCache=i,o.params=n,o.startRow=e*n.blockSize,o.endRow=o.startRow+n.blockSize,o}return iLe(t,r),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,i,n){D.exists(i)?e.setDataAndId(i,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,i=this.createLoadParams();D.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(i)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}},t.prototype.forEachNode=function(e,i,n){var o=this;this.rowNodes.forEach(function(a,s){o.startRow+s<n&&e(a,i.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,i){return void 0===i&&(i=!1),i||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var i=this.startRow+e,n=new ct(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(i),n.setRowTop(this.params.rowHeight*i),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var i=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(i.rowNodes[a]=new ct(i.beans),i.rowNodes[a].setRowIndex(o.rowIndex),i.rowNodes[a].setRowTop(o.rowTop),i.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),i.setDataAndId(i.rowNodes[a],s,i.startRow+a)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},DL([C("beans")],t.prototype,"beans",void 0),DL([j],t.prototype,"postConstruct",null),DL([Oi],t.prototype,"destroyRowNodes",null),t}(uu),nLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JE=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},rLe=function(r,t){return function(e,i){t(e,i,r)}},oLe=function(r){function t(e){var i=r.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=e.initialRowCount,i.params=e,i}return nLe(t,r),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,i){void 0===i&&(i=!1);var n=Math.floor(e/this.params.blockSize),o=this.blocks[n];if(!o){if(i)return;o=this.createBlock(n)}return o.getRow(e)},t.prototype.createBlock=function(e){var i=this.createBean(new k7(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(i){return i.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.destroyBlock(i)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,i){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(i)),this.checkRowCount(e,i),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var i=this,n=this.getBlocksInOrder().filter(function(c){return c!=e});n.sort(function(c,u){return u.getLastAccessed()-c.getLastAccessed()});var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(c,u){if(c.getState()===k7.STATE_WAITING_TO_LOAD&&u>=l||a&&u>=s){if(i.isBlockCurrentlyDisplayed(c)||i.isBlockFocused(c))return;i.removeBlockFromCache(c)}})},t.prototype.isBlockFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;var n=e.getStartRow(),o=e.getEndRow();return i.rowIndex>=n&&i.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var i=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,i){this.rowCount=e,D.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var i=this,n=new Nr;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,n,i.rowCount)})},t.prototype.getBlocksInOrder=function(){return D.getAllValuesInObject(this.blocks).sort(function(n,o){return n.getId()-o.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,i=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.params.blockSize>=e.rowCount&&i.push(n)}),i.length>0&&i.forEach(function(n){return e.destroyBlock(n)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.removeBlockFromCache(i)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,i){var n=this,o=[],a=-1,s=!1,l=new Nr;D.missing(e)&&(s=!0);var c=!1;return this.getBlocksInOrder().forEach(function(d){if(!c){if(s&&a+1!==d.getId())return void(c=!0);a=d.getId(),d.forEachNode(function(h){var p=h===e||h===i;(s||p)&&o.push(h),p&&(s=!s)},l,n.rowCount)}}),c||s?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,JE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),JE([C("focusService")],t.prototype,"focusService",void 0),JE([rLe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),JE([Oi],t.prototype,"destroyAllBlocks",null),t}(z),aLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},sLe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return aLe(t,r),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,i,n,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!D.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,i):[]},t.prototype.reset=function(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())},t.prototype.createModelUpdatedEvent=function(){return{type:x.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Nr},this.infiniteCache=this.createBean(new oLe(this.cacheParams)),this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(n){n.setRowHeight(e.rowHeight),n.setRowTop(e.rowHeight*n.rowIndex)});var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(n){n.id===e&&(i=n)}),i},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var i=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return i>n?n:i}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,i){this.infiniteCache&&this.infiniteCache.setRowCount(e,i)},Pd([C("filterManager")],t.prototype,"filterManager",void 0),Pd([C("sortController")],t.prototype,"sortController",void 0),Pd([C("selectionService")],t.prototype,"selectionService",void 0),Pd([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Pd([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Pd([j],t.prototype,"init",null),Pd([Oi],t.prototype,"destroyDatasource",null),Pd([oe("rowModel")],t)}(z),L7={version:"31.1.1",moduleName:ie.InfiniteRowModelModule,rowModel:"infinite",beans:[sLe]},N7=function(){function r(){}return r.prototype.setBeans=function(t){this.beans=t},r.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?"".concat(t,".").concat(e):t},r.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},r.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},r}(),G7=function(){function r(t){this.groupColumns=[];var i=t.valueService,n=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,c=t.processGroupHeaderCallback,u=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=i,this.gridOptionsService=n,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=u}return r.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},r.prototype.extractRowCellValue=function(t,e,i,n,o){var s=this.gridOptionsService.get("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,t,e)?this.valueService.getValue(t,o):this.createValueForGroupNode(t,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:n})},r.prototype.shouldRenderGroupSummaryCell=function(t,e,i){var n;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(n=t.groupData)||void 0===n?void 0:n[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var s=e.getColDef();return null==s||!0===s.showRowGroup||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var c=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&c},r.prototype.getHeaderName=function(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},r.prototype.createValueForGroupNode=function(t,e){var i=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));var n=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(u){var d,h;if(n||o)return u.key;var p=null===(d=u.groupData)||void 0===d?void 0:d[t.getId()];return p&&u.rowGroupColumn&&!1!==u.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(h=i.valueFormatterService.formatValue(u.rowGroupColumn,u,p))&&void 0!==h?h:p},s=e.footer,l=[a(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)l.push(a(e=e.parent));var c=l.reverse().join(" -> ");return s?"Total ".concat(c):c},r.prototype.processCell=function(t){var i,e=this,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback;return l?{value:null!==(i=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:t.accumulatedRowIndex,column:a,node:o,value:s,type:t.type,parseValue:function(u){return e.valueParserService.parseValue(a,o,u,e.valueService.getValue(a,o))},formatValue:function(u){var d;return null!==(d=e.valueFormatterService.formatValue(a,o,u))&&void 0!==d?d:u}})))&&void 0!==i?i:""}:!1!==a.getColDef().useValueFormatterForExport?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},r}(),TL=function(){function r(){}return r.download=function(t,e){var i=document.defaultView||window;if(i){var n=document.createElement("a"),o=i.URL.createObjectURL(e);n.setAttribute("href",o),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(function(){i.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},r}(),cLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uLe=function(r){function t(e){var i=r.call(this,e)||this;i.isFirstLine=!0,i.result="";var o=e.columnSeparator;return i.suppressQuotes=e.suppressQuotes,i.columnSeparator=o,i}return cLe(t,r),t.prototype.addCustomContent=function(e){var i=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(n){i.beginNewLine(),n.forEach(function(o,a){0!==a&&(i.result+=i.columnSeparator),i.result+=i.putInQuotes(o.data.value||""),o.mergeAcross&&i.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,i,n,o){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,i){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,i,n){var o;0!=i&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,i,i,"csv",n);this.result+=this.putInQuotes(null!==(o=a.valueFormatted)&&void 0!==o?o:a.value)},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?i=e:"function"==typeof e.toString?i=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"');var i},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(G7),dLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Id=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},B7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dLe(t,r),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var i=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},i,e)},t.prototype.export=function(e){if(this.isExportSuppressed())console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");else{var i=this.getMergedParams(e),n=this.getData(i),o=new Blob(["\ufeff",n],{type:"text/plain"}),a="function"==typeof i.fileName?i.fileName(this.gridOptionsService.getGridCommonParams()):i.fileName;TL.download(this.getFileName(a),o)}},t.prototype.exportDataAsCsv=function(e){this.export(e)},t.prototype.getDataAsCsv=function(e,i){void 0===i&&(i=!1);var n=i?Object.assign({},e):this.getMergedParams(e);return this.getData(n)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var i=this;return new uLe({columnModel:i.columnModel,valueService:i.valueService,gridOptionsService:i.gridOptionsService,valueFormatterService:i.valueFormatterService,valueParserService:i.valueParserService,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Id([C("columnModel")],t.prototype,"columnModel",void 0),Id([C("valueService")],t.prototype,"valueService",void 0),Id([C("gridSerializer")],t.prototype,"gridSerializer",void 0),Id([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Id([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Id([C("valueParserService")],t.prototype,"valueParserService",void 0),Id([j],t.prototype,"postConstruct",null),Id([oe("csvCreator")],t)}(N7),hLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Fo=(()=>((Fo=Fo||{})[Fo.HEADER_GROUPING=0]="HEADER_GROUPING",Fo[Fo.HEADER=1]="HEADER",Fo[Fo.BODY=2]="BODY",Fo))(),H7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return hLe(t,r),t.prototype.serialize=function(e,i){void 0===i&&(i={});var s=this.getColumnsToExport(i.allColumns,i.skipRowGroups,i.columnKeys);return D.compose(this.prepareSession(s),this.prependContent(i),this.exportColumnGroups(i,s),this.exportHeaders(i,s),this.processPinnedTopRows(i,s),this.processRows(i,s),this.processPinnedBottomRows(i,s),this.appendContent(i))(e).parse()},t.prototype.processRow=function(e,i,n,o){var a=i.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=null!=i.rowPositions||!!i.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!u,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer;if(!(!h&&!p&&(i.skipRowGroups||1===o.allChildrenCount&&(s||l&&o.leafGroup)||d)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&"top"===o.rowPinned||i.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||h||p)&&!a(this.gridOptionsService.addGridCommonParams({node:o}))){var y=e.onNewBodyRow(o);if(n.forEach(function(b,w){y.onColumn(b,w,o)}),i.getCustomContentBelowRow){var _=i.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));_&&e.addCustomContent(_)}}},t.prototype.appendContent=function(e){return function(i){var n=e.appendContent;return n&&i.addCustomContent(n),i}},t.prototype.prependContent=function(e){return function(i){var n=e.prependContent;return n&&i.addCustomContent(n),i}},t.prototype.prepareSession=function(e){return function(i){return i.prepare(e),i}},t.prototype.exportColumnGroups=function(e,i){var n=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new rK,s=n.displayedGroupCreator.createDisplayedGroups(i,a,null);n.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,i){return function(n){if(!e.skipColumnHeaders){var o=n.onNewHeaderRow();i.forEach(function(a,s){o.onColumn(a,s,void 0)})}return n}},t.prototype.processPinnedTopRows=function(e,i){var n=this;return function(o){var a=n.processRow.bind(n,o,e,i);return e.rowPositions?e.rowPositions.filter(function(s){return"top"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return n.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):n.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,i){var n=this;return function(o){var a=n.rowModel,s=a.getType(),l="clientSide"===s,c="serverSide"===s,u=!l&&e.onlySelected,d=n.processRow.bind(n,o,e,i),h=e.exportedRows,p=void 0===h?"filteredAndSorted":h;if(e.rowPositions)e.rowPositions.filter(function(m){return null==m.rowPinned}).sort(function(m,g){return m.rowIndex-g.rowIndex}).map(function(m){return a.getRow(m.rowIndex)}).forEach(d);else if(n.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||u){var f=n.selectionService.getSelectedNodes();n.replicateSortedOrder(f),f.forEach(d)}else"all"===p?a.forEachNode(d):l||c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var i=this,n=this.sortController.getSortOptions(),o=function(a,s){var l,c,u,d;return null!=a.rowIndex&&null!=s.rowIndex?a.rowIndex-s.rowIndex:a.level===s.level?(null===(l=a.parent)||void 0===l?void 0:l.id)===(null===(c=s.parent)||void 0===c?void 0:c.id)?i.rowNodeSorter.compareRowNodes(n,{rowNode:a,currentPos:null!==(u=a.rowIndex)&&void 0!==u?u:-1},{rowNode:s,currentPos:null!==(d=s.rowIndex)&&void 0!==d?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,i){var n=this;return function(o){var a=n.processRow.bind(n,o,e,i);return e.rowPositions?e.rowPositions.filter(function(s){return"bottom"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return n.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):n.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);var a=this.gridOptionsService.get("treeData"),s=[];return s=e&&!o?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),i&&!a&&(s=s.filter(function(l){return l.getColId()!==fd})),s},t.prototype.recursivelyAddHeaderGroups=function(e,i,n){var o=[];e.forEach(function(a){a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Tn&&this.doAddHeaderHeader(i,e,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,n)},t.prototype.doAddHeaderHeader=function(e,i,n){var o=this,a=e.onNewHeaderGroupingRow(),s=0;i.forEach(function(l){var u,c=l;u=n?n(o.gridOptionsService.addGridCommonParams({columnGroup:c})):o.columnModel.getDisplayNameForColumnGroup(c,"header");var d=c.getLeafColumns().reduce(function(h,p,f,m){var g=D.last(h);return"open"===p.getColumnGroupShow()?(!g||null!=g[1])&&h.push(g=[f]):g&&null==g[1]&&(g[1]=f-1),f===m.length-1&&g&&null==g[1]&&(g[1]=f),h},[]);a.onColumn(c,u||"",s++,c.getLeafColumns().length-1,d)})},Fd([C("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Fd([C("columnModel")],t.prototype,"columnModel",void 0),Fd([C("rowModel")],t.prototype,"rowModel",void 0),Fd([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Fd([C("selectionService")],t.prototype,"selectionService",void 0),Fd([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Fd([C("sortController")],t.prototype,"sortController",void 0),Fd([oe("gridSerializer")],t)}(z),eD={version:"31.1.1",moduleName:ie.CsvExportModule,beans:[B7,H7]},j7=function(){function r(){}return r.createHeader=function(t){void 0===t&&(t={});var n=["version"];t.version||(t.version="1.0"),t.encoding&&n.push("encoding"),t.standalone&&n.push("standalone");var o=n.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat("<?","xml ").concat(o," ").concat("?>")},r.createXml=function(t,e){var i=this,n="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){n+=i.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){n+=i.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+n;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach(function(a){o+=i.createXml(a,e)}),o+"</"+t.name+">\r\n"):o+"/>\r\n"},r.returnAttributeIfPopulated=function(t,e,i){if(!e&&""!==e&&0!==e)return"";var n=e;return"boolean"==typeof e&&i&&(n=i(e))," ".concat(t,'="').concat(n,'"')},r}();function Gr(r,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&r),r>>>=8;return e}var z7=function(r){return r.length?function(r){if(!r.length)return 0;for(var t=-1,o=0;o<r.length;o++)t=t>>>8^gLe[255&(t^r[o])];return-1^t}("string"==typeof r?(new TextEncoder).encode(r):r):0},gLe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),W7=function(r,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function n(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(r,t||[])).next())})},$7=function(r,t){var i,n,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(r,e)}catch(u){c=[6,u],n=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},vLe=function(r){return W7(void 0,void 0,void 0,function(){var t,e,i,n,o;return $7(this,function(a){switch(a.label){case 0:return t=0,e=[],i=new WritableStream({write:function(s){e.push(s),t+=s.length}}),n=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(c){var u;!(null===(u=c.target)||void 0===u)&&u.result&&s.enqueue(c.target.result),s.close()},l.readAsArrayBuffer(r)}}),o=new window.CompressionStream("deflate-raw"),[4,n.pipeThrough(o).pipeTo(i)];case 1:return a.sent(),[2,{size:t,content:new Blob(e)}]}})})},yLe=function(r){return W7(void 0,void 0,void 0,function(){var t,e,i,o,a;return $7(this,function(s){switch(s.label){case 0:return t=new Blob([r]),[4,vLe(t)];case 1:return e=s.sent(),i=e.size,a=Uint8Array.bind,[4,e.content.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:i,content:o}]}})})},gg=function(){return gg=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},gg.apply(this,arguments)},bLe=D.utf8_encode,wLe=function(r,t){return function(r,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function n(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(r,t||[])).next())})}(void 0,void 0,void 0,function(){var e,i,n,o,a,s,l,u,d;return function(r,t){var i,n,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(r,e)}catch(u){c=[6,u],n=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(h){switch(h.label){case 0:return i=(e=r.content)?Y7(e):{size:0,content:Uint8Array.from([])},n=i.size,o=i.content,a=void 0,s=void 0,l=!1,"file"===r.type&&o&&n>0?[4,yLe(o)]:[3,2];case 1:u=h.sent(),a=u.content,s=u.size,l=!0,h.label=2;case 2:return d=K7(r,l,t,n,o,s),[2,gg(gg({},d),{content:a||o,isCompressed:l})]}})})},SLe=function(r,t){var e=r.content,i=(e?Y7(e):{content:Uint8Array.from([])}).content,n=K7(r,!1,t,i.length,i,void 0);return gg(gg({},n),{content:i,isCompressed:!1})},K7=function(r,t,e,i,n,o){var a=r.content,s=r.path,l=r.created,c=function(r){var t=r.getHours();return t<<=6,t|=r.getMinutes(),(t<<=5)|r.getSeconds()/2}(l),u=function(r){var t=r.getFullYear()-1980;return t<<=4,t|=r.getMonth()+1,(t<<=5)|r.getDate()}(l),d=z7(n),h=void 0!==o?o:i,p=bLe(s),f=p!==s,m="";if(f){var g=Gr(1,1)+Gr(z7(p),4)+p;m="up"+Gr(g.length,2)+g}var v="\x14\0"+(f?"\0\b":"\0\0")+Gr(t?8:0,2)+Gr(c,2)+Gr(u,2)+Gr(h?d:0,4)+Gr(o??i,4)+Gr(i,4)+Gr(p.length,2)+Gr(m.length,2),y="PK\x03\x04"+v+p+m,_="PK\x01\x02\x14\0"+v+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+Gr(e,4)+p+m;return{localFileHeader:Uint8Array.from(y,function(b){return b.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(_,function(b){return b.charCodeAt(0)})}},Y7=function(r){var t;return{size:(t="string"==typeof r?function(r){for(var t=new Uint8Array(r.length),e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}(atob(r.split(";base64,")[1])):r).length,content:t}},q7=function(r,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function n(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(r,t||[])).next())})},X7=function(r,t){var i,n,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(r,e)}catch(u){c=[6,u],n=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},AL=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iD=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},nD=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Sr=function(){function r(){}return r.addFolders=function(t){t.forEach(this.addFolder.bind(this))},r.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})},r.addFile=function(t,e,i){void 0===i&&(i=!1),this.files.push({path:t,created:new Date,content:i?e:(new TextEncoder).encode(e),isBase64:i,type:"file"})},r.getZipFile=function(t){return void 0===t&&(t="application/zip"),q7(this,void 0,void 0,function(){var e;return X7(this,function(i){switch(i.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return e=i.sent(),this.clearStream(),[2,new Blob([e],{type:t})]}})})},r.getUncompressedZipFile=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})},r.clearStream=function(){this.folders=[],this.files=[]},r.packageFiles=function(t){var e,i,n=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=AL(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.localFileHeader,h=u.centralDirectoryHeader,p=u.content,f=new Uint8Array(n.length+d.length);f.set(n),f.set(d,n.length),n=f;var m=new Uint8Array(n.length+p.length);m.set(n),m.set(p,n.length),n=m;var g=new Uint8Array(o.length+h.length);g.set(o),g.set(h,o.length),o=g,a+=d.length+p.length,s+=h.length}}catch(_){e={error:_}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}var v=function(r,t,e){var i="PK\x05\x06\0\0\0\0"+Gr(r,2)+Gr(r,2)+Gr(t,4)+Gr(e,4)+"\0\0";return Uint8Array.from(i,function(n){return n.charCodeAt(0)})}(t.length,s,a),y=new Uint8Array(n.length+o.length+v.length);return y.set(n),y.set(o,n.length),y.set(v,n.length+o.length),y},r.buildCompressedFileStream=function(){return q7(this,void 0,void 0,function(){var t,e,i,n,o,s,l,c,u,d,h;return X7(this,function(p){switch(p.label){case 0:t=nD(nD([],iD(this.folders),!1),iD(this.files),!1),e=[],i=0,p.label=1;case 1:p.trys.push([1,6,7,8]),n=AL(t),o=n.next(),p.label=2;case 2:return o.done?[3,5]:[4,wLe(o.value,i)];case 3:s=p.sent(),l=s.localFileHeader,c=s.content,e.push(s),i+=l.length+c.length,p.label=4;case 4:return o=n.next(),[3,2];case 5:return[3,8];case 6:return u=p.sent(),d={error:u},[3,8];case 7:try{o&&!o.done&&(h=n.return)&&h.call(n)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(e)]}})})},r.buildFileStream=function(){var t,e,i=nD(nD([],iD(this.folders),!1),iD(this.files),!1),n=[],o=0;try{for(var a=AL(i),s=a.next();!s.done;s=a.next()){var c=SLe(s.value,o),u=c.localFileHeader,d=c.content;n.push(c),o+=u.length+d.length}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.packageFiles(n)},r.folders=[],r.files=[],r}();Ze.registerModules([F7,L7,eD]);var TLe=function(){function r(){this.ieCompatibility=!1}return r.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},r.prototype.md5cycle=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3];i=this.ff(i,n,o,a,e[0],7,-680876936),a=this.ff(a,i,n,o,e[1],12,-389564586),o=this.ff(o,a,i,n,e[2],17,606105819),n=this.ff(n,o,a,i,e[3],22,-1044525330),i=this.ff(i,n,o,a,e[4],7,-176418897),a=this.ff(a,i,n,o,e[5],12,1200080426),o=this.ff(o,a,i,n,e[6],17,-1473231341),n=this.ff(n,o,a,i,e[7],22,-45705983),i=this.ff(i,n,o,a,e[8],7,1770035416),a=this.ff(a,i,n,o,e[9],12,-1958414417),o=this.ff(o,a,i,n,e[10],17,-42063),n=this.ff(n,o,a,i,e[11],22,-1990404162),i=this.ff(i,n,o,a,e[12],7,1804603682),a=this.ff(a,i,n,o,e[13],12,-40341101),o=this.ff(o,a,i,n,e[14],17,-1502002290),n=this.ff(n,o,a,i,e[15],22,1236535329),i=this.gg(i,n,o,a,e[1],5,-165796510),a=this.gg(a,i,n,o,e[6],9,-1069501632),o=this.gg(o,a,i,n,e[11],14,643717713),n=this.gg(n,o,a,i,e[0],20,-373897302),i=this.gg(i,n,o,a,e[5],5,-701558691),a=this.gg(a,i,n,o,e[10],9,38016083),o=this.gg(o,a,i,n,e[15],14,-660478335),n=this.gg(n,o,a,i,e[4],20,-405537848),i=this.gg(i,n,o,a,e[9],5,568446438),a=this.gg(a,i,n,o,e[14],9,-1019803690),o=this.gg(o,a,i,n,e[3],14,-187363961),n=this.gg(n,o,a,i,e[8],20,1163531501),i=this.gg(i,n,o,a,e[13],5,-1444681467),a=this.gg(a,i,n,o,e[2],9,-51403784),o=this.gg(o,a,i,n,e[7],14,1735328473),n=this.gg(n,o,a,i,e[12],20,-1926607734),i=this.hh(i,n,o,a,e[5],4,-378558),a=this.hh(a,i,n,o,e[8],11,-2022574463),o=this.hh(o,a,i,n,e[11],16,1839030562),n=this.hh(n,o,a,i,e[14],23,-35309556),i=this.hh(i,n,o,a,e[1],4,-1530992060),a=this.hh(a,i,n,o,e[4],11,1272893353),o=this.hh(o,a,i,n,e[7],16,-155497632),n=this.hh(n,o,a,i,e[10],23,-1094730640),i=this.hh(i,n,o,a,e[13],4,681279174),a=this.hh(a,i,n,o,e[0],11,-358537222),o=this.hh(o,a,i,n,e[3],16,-722521979),n=this.hh(n,o,a,i,e[6],23,76029189),i=this.hh(i,n,o,a,e[9],4,-640364487),a=this.hh(a,i,n,o,e[12],11,-421815835),o=this.hh(o,a,i,n,e[15],16,530742520),n=this.hh(n,o,a,i,e[2],23,-995338651),i=this.ii(i,n,o,a,e[0],6,-198630844),a=this.ii(a,i,n,o,e[7],10,1126891415),o=this.ii(o,a,i,n,e[14],15,-1416354905),n=this.ii(n,o,a,i,e[5],21,-57434055),i=this.ii(i,n,o,a,e[12],6,1700485571),a=this.ii(a,i,n,o,e[3],10,-1894986606),o=this.ii(o,a,i,n,e[10],15,-1051523),n=this.ii(n,o,a,i,e[1],21,-2054922799),i=this.ii(i,n,o,a,e[8],6,1873313359),a=this.ii(a,i,n,o,e[15],10,-30611744),o=this.ii(o,a,i,n,e[6],15,-1560198380),n=this.ii(n,o,a,i,e[13],21,1309151649),i=this.ii(i,n,o,a,e[4],6,-145523070),a=this.ii(a,i,n,o,e[11],10,-1120210379),o=this.ii(o,a,i,n,e[2],15,718787259),n=this.ii(n,o,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(n,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(a,t[3])},r.prototype.cmn=function(t,e,i,n,o,a){return e=this.add32(this.add32(e,t),this.add32(n,a)),this.add32(e<<o|e>>>32-o,i)},r.prototype.ff=function(t,e,i,n,o,a,s){return this.cmn(e&i|~e&n,t,e,o,a,s)},r.prototype.gg=function(t,e,i,n,o,a,s){return this.cmn(e&n|i&~n,t,e,o,a,s)},r.prototype.hh=function(t,e,i,n,o,a,s){return this.cmn(e^i^n,t,e,o,a,s)},r.prototype.ii=function(t,e,i,n,o,a,s){return this.cmn(i^(e|~n),t,e,o,a,s)},r.prototype.md51=function(t){var n,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)this.md5cycle(i,this.md5blk(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(this.md5cycle(i,o),n=0;n<16;n++)o[n]=0;return o[14]=8*e,this.md5cycle(i,o),i},r.prototype.md5blk=function(t){for(var e=[],i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e},r.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),i="",n=0;n<4;n++)i+=e[t>>8*n+4&15]+e[t>>8*n&15];return i},r.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},r.prototype.md5=function(t){return this.hex(this.md51(t))},r.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},r.prototype.add32Std=function(t,e){return t+e&4294967295},r.prototype.add32Compat=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},r}();function OL(r){return null==r||0===r.length}var rD={"01":"GRID","02":"CHARTS","0102":"BOTH"},oD=function(){function r(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new TLe,this.md5.init()}return r.prototype.validateLicense=function(){var t=this.getLicenseDetails(r.licenseKey),e="AG Grid ".concat("BOTH"===t.currentLicenseType?"and AG Charts ":"","Enterprise"),i=void 0===t.suppliedLicenseType?"":"AG ".concat("BOTH"===t.suppliedLicenseType?"Grid and AG Charts":"GRID"===t.suppliedLicenseType?"Grid":"Charts"," Enterprise");if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(e);else if(t.expired){var n=r.getGridReleaseDate(),o=r.formatDate(n);this.outputExpiredKey(t.expiry,o,e,i)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,e,i):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,e,i)},r.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(r.decode(e),10))},r.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};var i=e.length-32,n=e.substring(i),o=e.substring(0,i),a=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(r.extractBracketedInformation(e),3);return{md5:n,license:o,version:a[0],isTrial:a[1],type:a[2]}},r.prototype.getLicenseDetails=function(t){var e=r.chartsLicenseManager?"BOTH":"GRID";if(OL(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:e};var i=r.getGridReleaseDate(),n=r.extractLicenseComponents(t),a=n.license,s=n.version,l=n.isTrial,c=n.type,u=n.md5===this.md5.md5(a)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),d=void 0,h=void 0,p=null,f=!1,m=void 0;function g(){d=p<new Date,h=void 0}if(u&&(p=r.extractExpiry(a),u=!isNaN(p.getTime())))switch(h=i>p,s){case"legacy":case"2":l&&g();break;case"3":OL(c)?u=!1:(m=c,c!==rD["01"]&&c!==rD["0102"]||"BOTH"===e&&"BOTH"!==m?(u=!1,f=!0):l&&g())}return u?{licenseKey:t,valid:u,expiry:r.formatDate(p),expired:h,version:s,isTrial:l,trialExpired:d,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:m}:{licenseKey:t,valid:u,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:m}},r.prototype.isDisplayWatermark=function(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!OL(this.watermarkMessage)},r.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},r.prototype.getHostname=function(){var i=(this.document.defaultView||window).location.hostname;return void 0===i?"":i},r.prototype.isForceWatermark=function(){var i=(this.document.defaultView||window).location.pathname;return!!i&&-1!==i.indexOf("forceWatermark")},r.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},r.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},r.formatDate=function(t){var i=t.getDate(),n=t.getMonth(),o=t.getFullYear();return i+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+o},r.getGridReleaseDate=function(){return new Date(parseInt(r.decode(r.RELEASE_INFORMATION),10))},r.decode=function(t){for(var o,a,s,l,c,u,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",d=0,h=t.replace(/[^A-Za-z0-9+/=]/g,"");d<h.length;)s=e.indexOf(h.charAt(d++)),o=(15&(l=e.indexOf(h.charAt(d++))))<<4|(c=e.indexOf(h.charAt(d++)))>>2,a=(3&c)<<6|(u=e.indexOf(h.charAt(d++))),i+=String.fromCharCode(s<<2|l>>4),64!=c&&(i+=String.fromCharCode(o)),64!=u&&(i+=String.fromCharCode(a));return r.utf8_decode(i)},r.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},r.setChartsLicenseManager=function(t){this.chartsLicenseManager=t},r.setLicenseKey=function(t){this.licenseKey=t,this.chartsLicenseManager&&this.chartsLicenseManager.setLicenseKey(t,!0)},r.extractBracketedInformation=function(t){if(!t.includes("["))return["legacy",!1,void 0];var e=t.match(/\[(.*?)\]/g).map(function(s){return s.replace("[","").replace("]","")});if(!e||0===e.length)return["legacy",!1,void 0];var i=1===e.filter(function(s){return"TRIAL"===s}).length,n=e.filter(function(s){return 0===s.indexOf("v")})[0];return[n?n.replace("v",""):"legacy",i,rD[e.filter(function(s){return rD[s]})[0]]]},r.prototype.centerPadAndOutput=function(t){console.error(t.padStart((this.totalMessageLength-t.length)/2+t.length,"*").padEnd(this.totalMessageLength,"*"))},r.prototype.padAndOutput=function(t,e,i){void 0===e&&(e="*"),void 0===i&&(i=""),console.error(t.padEnd(this.totalMessageLength-i.length,e)+i)},r.prototype.outputInvalidLicenseKey=function(t,e,i){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(i," only and does not cover you for ").concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"},r.prototype.outputExpiredTrialKey=function(t,e,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(i," expired on ").concat(t,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"},r.prototype.outputMissingLicenseKey=function(t){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(t," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"},r.prototype.outputExpiredKey=function(t,e,i,n){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(i," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions of ".concat(n," released before ").concat(t,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"},r.RELEASE_INFORMATION="MTcwODI3NzkwNjI5Nw==",r}(),OLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Z7=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},MLe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return OLe(t,r),t.prototype.validateLicense=function(){this.licenseManager=new oD(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new oD(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){oD.setLicenseKey(e)},t.setChartsLicenseManager=function(e){oD.setChartsLicenseManager(e)},Z7([Zm],t.prototype,"validateLicense",null),Z7([oe("licenseManager")],t)}(z),RLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ML=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},PLe=function(r){function t(){return r.call(this,'<div class="ag-watermark">\n                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n            </div>')||this}return RLe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.shouldDisplayWatermark();this.setDisplayed(i),i&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},ML([C("licenseManager")],t.prototype,"licenseManager",void 0),ML([G("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),ML([j],t.prototype,"postConstruct",null),t}(le),ur={version:"31.1.1",moduleName:ie.EnterpriseCoreModule,beans:[MLe],agStackComponents:[{componentName:"AgWatermark",componentClass:PLe}]},FLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kLe=function(r){function t(e){var i=r.call(this,'\n            <div class="ag-advanced-filter-header" role="row">\n            </div>')||this;return i.enabled=e,i}return FLe(t,r),t.prototype.postConstruct=function(){var e=this;this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(function(){return e.destroyBean(e.eAdvancedFilter)}),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onGridColumnsChanged()}),this.addGuiEventListener("keydown",function(i){return e.onKeyDown(i)}),this.addGuiEventListener("focusout",function(i){e.getFocusableElement().contains(i.relatedTarget)||e.focusService.clearAdvancedFilterColumn()})},t.prototype.getFocusableElement=function(){var e,i;return null!==(i=null===(e=this.eAdvancedFilter)||void 0===e?void 0:e.getGui())&&void 0!==i?i:this.getGui()},t.prototype.setEnabled=function(e){e!==this.enabled&&this.setupAdvancedFilter(e)},t.prototype.refresh=function(){var e;null===(e=this.eAdvancedFilter)||void 0===e||e.refresh()},t.prototype.getHeight=function(){return this.height},t.prototype.setInputDisabled=function(e){var i;null===(i=this.eAdvancedFilter)||void 0===i||i.setInputDisabled(e)},t.prototype.setupAdvancedFilter=function(e){var i=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new IL);var n=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.height=this.columnModel.getFloatingFiltersHeight();var o="".concat(this.height,"px");i.style.height=o,i.style.minHeight=o,this.setAriaRowIndex(),D.setAriaRole(n,"gridcell"),D.setAriaColIndex(n,1),this.setAriaColumnCount(n),i.appendChild(n)}else D.clearElement(i),this.destroyBean(this.eAdvancedFilter),this.height=0;D.setDisplayed(i,e),this.enabled=e},t.prototype.setAriaColumnCount=function(e){D.setAriaColSpan(e,this.columnModel.getAllGridColumns().length)},t.prototype.setAriaRowIndex=function(){D.setAriaRowIndex(this.getGui(),this.headerNavigationService.getHeaderRowCount())},t.prototype.onGridColumnsChanged=function(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())},t.prototype.onKeyDown=function(e){switch(e.key){case V.ENTER:this.hasFocus()&&this.focusService.focusInto(this.getFocusableElement())&&e.preventDefault();break;case V.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case V.UP:this.navigateUpDown(!0,e);break;case V.DOWN:this.navigateUpDown(!1,e);break;case V.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{var i=this.focusService.findNextFocusableElement(this.getFocusableElement(),null,e.shiftKey);i?(e.preventDefault(),i.focus()):this.navigateLeftRight(e)}}},t.prototype.navigateUpDown=function(e,i){this.hasFocus()&&this.focusService.focusNextFromAdvancedFilter(e)&&i.preventDefault()},t.prototype.navigateLeftRight=function(e){(e.shiftKey?this.focusService.focusLastHeader():this.focusService.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()},t.prototype.hasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.getFocusableElement()},aD([C("columnModel")],t.prototype,"columnModel",void 0),aD([C("focusService")],t.prototype,"focusService",void 0),aD([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),aD([j],t.prototype,"postConstruct",null),t}(le),LLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sD=function(){return sD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},sD.apply(this,arguments)},Q7=function(r){function t(e){var i=r.call(this,sD(sD({},e),{template:'\n                <div class="ag-picker-field" role="presentation">\n                    <div ref="eLabel"></div>\n                    <div ref="eWrapper" class="ag-wrapper ag-picker-collapsed">\n                        <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                    </div>\n                </div>'}))||this;return i.params=e,i}return LLe(t,r),t.prototype.showPicker=function(){var e=this;setTimeout(function(){return r.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return r.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.params,i=e.wrapperClassName,n=e.ariaLabel;D.setDisplayed(this.eDisplayField,!1),i&&this.eWrapper.classList.add(i),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,n)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?r.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(LE),NLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RL=function(r){function t(e,i){var n=r.call(this)||this;return n.comp=e,n.virtualList=i,n}return NLe(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new EY(this.comp,this.virtualList,{dragSourceType:zt.AdvancedFilterBuilder,listItemDragStartEvent:t.EVENT_DRAG_STARTED,listItemDragEndEvent:t.EVENT_DRAG_ENDED,eventSource:this,getCurrentDragValue:function(i){return e.getCurrentDragValue(i)},isMoveBlocked:function(){return!1},getNumRows:function(i){return i.getNumItems()},moveItem:function(i,n){return e.moveItem(i,n)}}))},t.prototype.getCurrentDragValue=function(e){return e.item},t.prototype.moveItem=function(e,i){this.comp.moveItem(e,i)},t.EVENT_DRAG_STARTED="advancedFilterBuilderDragStarted",t.EVENT_DRAG_ENDED="advancedFilterBuilderDragEnded",function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(z),VLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),J7=function(r){function t(e,i,n){var o=r.call(this)||this;return o.eGui=e,o.focusWrapper=i,o.eFocusableComp=n,o}return VLe(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eGui,"keydown",function(i){switch(i.key){case V.TAB:i.defaultPrevented||D.stopPropagationForAgGrid(i);break;case V.UP:case V.DOWN:D.stopPropagationForAgGrid(i);break;case V.ESCAPE:if(D.isStopPropagationForAgGrid(i))return;var n=e.gridOptionsService.getDocument();e.eGui.contains(n.activeElement)&&(i.preventDefault(),D.stopPropagationForAgGrid(i),e.focusWrapper.focus())}}),this.addManagedListener(this.focusWrapper,"keydown",function(i){if(i.key===V.ENTER){if(D.isStopPropagationForAgGrid(i))return;e.gridOptionsService.getDocument().activeElement===e.focusWrapper&&(i.preventDefault(),D.stopPropagationForAgGrid(i),e.eFocusableComp.getFocusableElement().focus())}}),this.addManagedListener(this.focusWrapper,"focusin",function(){e.focusWrapper.classList.add("ag-advanced-filter-builder-virtual-list-item-highlight")}),this.addManagedListener(this.focusWrapper,"focusout",function(i){e.focusWrapper.contains(i.relatedTarget)||e.focusWrapper.classList.remove("ag-advanced-filter-builder-virtual-list-item-highlight")})},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"postConstruct",null),t}(z);function e9(r,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:r("advancedFilterBuilderAddCondition")},{key:"join",displayValue:r("advancedFilterBuilderAddJoin")}],valueFormatter:function(e){var i;return null==e?null:null!==(i=e.displayValue)&&void 0!==i?i:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(t??120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:r("advancedFilterBuilderAddButtonTooltip")}}var ga=function(){function r(){}return r.EVENT_ADDED="advancedFilterBuilderAdded",r.EVENT_MOVED="advancedFilterBuilderMoved",r.EVENT_REMOVED="advancedFilterBuilderRemoved",r.EVENT_VALUE_CHANGED="advancedFilterBuilderValueChanged",r.EVENT_VALID_CHANGED="advancedFilterBuilderValidChanged",r}(),HLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),t9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},jLe=function(r){function t(){var e=r.call(this,'\n            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>\n        ')||this;return e.validationMessage=null,e}return HLe(t,r),t.prototype.init=function(e){var i=this,n=e.item,o=e.createPill;this.item=n,this.createPill=o,this.filterModel=n.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(function(){return i.destroyBeans([i.eColumnPill,i.eOperatorPill,i.eOperandPill])})},t.prototype.getDragName=function(){return this.filterModel.colId?this.advancedFilterExpressionService.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return this.validationMessage},t.prototype.getFocusableElement=function(){return this.eColumnPill.getFocusableElement()},t.prototype.setupColumnCondition=function(e){var n,i=this,o=this.advancedFilterExpressionService.getColumnDetails(e.colId);this.baseCellDataType=o.baseCellDataType,this.column=o.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:null!==(n=this.getColumnDisplayValue())&&void 0!==n?n:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:function(){return{values:i.advancedFilterExpressionService.getColumnAutocompleteEntries()}},update:function(a){return i.setColumnKey(a)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),D.exists(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())},t.prototype.createOperatorPill=function(){var i,e=this;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:null!==(i=this.getOperatorDisplayValue())&&void 0!==i?i:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:function(){return{values:e.getOperatorAutocompleteEntries()}},update:function(n){return e.setOperatorKey(n)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())},t.prototype.createOperandPill=function(){var i,e=this,n=null!==(i=this.getOperandDisplayValue())&&void 0!==i?i:"";this.eOperandPill=this.createPill({key:n,displayValue:n,baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:function(o){return e.setOperand(o)},ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())},t.prototype.getColumnKey=function(){return this.filterModel.colId},t.prototype.getColumnDisplayValue=function(){return this.advancedFilterExpressionService.getColumnDisplayValue(this.filterModel)},t.prototype.getOperatorKey=function(){return this.filterModel.type},t.prototype.getOperatorDisplayValue=function(){return this.advancedFilterExpressionService.getOperatorDisplayValue(this.filterModel)},t.prototype.getOperandDisplayValue=function(){return this.advancedFilterExpressionService.getOperandDisplayValue(this.filterModel,!0)},t.prototype.hasOperand=function(){return this.numOperands>0},t.prototype.getOperatorAutocompleteEntries=function(){return this.column?this.advancedFilterExpressionService.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]},t.prototype.setColumnKey=function(e){this.eOperatorPill||this.createOperatorPill();var i=this.advancedFilterExpressionService.getColumnDetails(e);this.column=i.column;var n=i.baseCellDataType;this.baseCellDataType!==n&&(this.baseCellDataType=n,this.setOperatorKey(void 0),this.eOperatorPill&&(D.removeFromParent(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType},t.prototype.setOperatorKey=function(e){var i=this.getNumOperands(e);i!==this.numOperands&&(this.numOperands=i,0===i?this.destroyOperandPill():(this.createOperandPill(),"number"!==this.baseCellDataType&&this.setOperand(""))),this.filterModel.type=e,this.validate()},t.prototype.setOperand=function(e){var i,n=e;this.column&&(n=null!==(i=this.advancedFilterExpressionService.getOperandModelValue(e,this.baseCellDataType,this.column))&&void 0!==i?i:""),this.filterModel.filter=n,this.validate()},t.prototype.getNumOperands=function(e){var i,n;return null!==(n=null===(i=this.advancedFilterExpressionService.getExpressionOperator(this.baseCellDataType,e))||void 0===i?void 0:i.numOperands)&&void 0!==n?n:0},t.prototype.destroyOperandPill=function(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0},t.prototype.validate=function(){var e=null;D.exists(this.getColumnKey())?D.exists(this.getOperatorKey())?this.numOperands>0&&!D.exists(this.getOperandDisplayValue())&&(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationEnterValue")):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectOption"):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchEvent({type:ga.EVENT_VALID_CHANGED}))},t.prototype.getDefaultColumnDisplayValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectColumn")},t.prototype.getDefaultOptionSelectValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectOption")},t9([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t9([C("valueParserService")],t.prototype,"valueParserService",void 0),t}(le),ULe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zLe=function(r){function t(e){var i=r.call(this,'\n            <div class="ag-advanced-filter-builder-pill-wrapper" role="presentation">\n                <div ref="ePill" class="ag-advanced-filter-builder-pill" role="button">\n                    <span ref="eLabel" class="ag-advanced-filter-builder-pill-display"></span>\n                </div>\n            </div>\n        ')||this;return i.params=e,i.value=e.value,i}return ULe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.params,o=i.ariaLabel;this.ePill.classList.add(i.cssClass),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),D.setAriaDescribedBy(this.ePill,this.eLabel.id),D.setAriaLabel(this.ePill,o),this.renderValue(),this.addManagedListener(this.ePill,"click",function(a){a.preventDefault(),e.showEditor()}),this.addManagedListener(this.ePill,"keydown",function(a){a.key===V.ENTER&&(a.preventDefault(),D.stopPropagationForAgGrid(a),e.showEditor())}),this.addDestroyFunc(function(){return e.destroyBean(e.eEditor)})},t.prototype.getFocusableElement=function(){return this.ePill},t.prototype.showEditor=function(){var e=this;if(!this.eEditor){D.setDisplayed(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);var i=this.eEditor.getGui();this.eEditor.addManagedListener(i,"keydown",function(n){switch(n.key){case V.ENTER:n.preventDefault(),D.stopPropagationForAgGrid(n),e.updateValue(!0);break;case V.ESCAPE:n.preventDefault(),D.stopPropagationForAgGrid(n),e.hideEditor(!0)}}),this.eEditor.addManagedListener(i,"focusout",function(){e.updateValue(!1)}),this.getGui().appendChild(i),this.eEditor.getFocusableElement().focus()}},t.prototype.createEditorComp=function(e){var i;switch(e){case"text":i=new au;break;case"number":i=new dE;break;case"date":i=new ZY}return this.createBean(i)},t.prototype.hideEditor=function(e){var i=this.eEditor;i&&(this.eEditor=void 0,this.getGui().removeChild(i.getGui()),this.destroyBean(i),D.setDisplayed(this.ePill,!0),e&&this.ePill.focus())},t.prototype.renderValue=function(){var e;this.eLabel.classList.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),D.exists(this.value)?"number"===this.params.type?(e=this.value,this.eLabel.classList.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(this.value,'"'),this.eLabel.classList.add("ag-advanced-filter-builder-value-text")):(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderEnterValue"),this.eLabel.classList.add("ag-advanced-filter-builder-value-empty")),this.eLabel.innerText=e},t.prototype.updateValue=function(e){var i;if(this.eEditor){var n=null!==(i=this.eEditor.getValue())&&void 0!==i?i:"";this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED,value:n}),this.value=n,this.renderValue(),this.hideEditor(e)}},lD([G("ePill")],t.prototype,"ePill",void 0),lD([G("eLabel")],t.prototype,"eLabel",void 0),lD([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),lD([j],t.prototype,"postConstruct",null),t}(le),WLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KLe=function(r){function t(){return r.call(this,'\n            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>\n        ')||this}return WLe(t,r),t.prototype.init=function(e){var i=this,o=e.createPill,a=e.item.filterModel;this.filterModel=a,this.ePill=o({key:a.type,displayValue:this.advancedFilterExpressionService.parseJoinOperator(a),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:function(){return{values:i.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries()}},update:function(s){return a.type=s},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(function(){return i.destroyBean(i.ePill)})},t.prototype.getDragName=function(){return this.advancedFilterExpressionService.parseJoinOperator(this.filterModel)},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return null},t.prototype.getFocusableElement=function(){return this.ePill.getFocusableElement()},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t}(le),YLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cD=function(){return cD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},cD.apply(this,arguments)},qLe=function(r){function t(e){var i=r.call(this,cD(cD({},e),{template:'\n                <div class="ag-picker-field ag-advanced-filter-builder-pill-wrapper" role="presentation">\n                    <div ref="eLabel"></div>\n                    <div ref="eWrapper" class="ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed">\n                        <div ref="eDisplayField" class="ag-picker-field-display ag-advanced-filter-builder-pill-display"></div>\n                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                    </div>\n                </div>'}))||this;return i.params=e,i}return YLe(t,r),t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.showPicker=function(){var e=this;setTimeout(function(){return r.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return r.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.params,n=e.ariaLabel;this.eWrapper.classList.add(e.wrapperClassName),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,n)},t.prototype.createPickerComponent=function(){var e;if(!this.values){var i=this.params.getEditorParams().values;this.values=i;var n=this.value.key,o=null!==(e=i.find(function(a){return a.key===n}))&&void 0!==e?e:{key:n,displayValue:this.value.displayValue};this.value=o}return r.prototype.createPickerComponent.call(this)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?r.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(LE),XLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),va=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},PL=function(r){function t(e,i,n){var o=r.call(this,'\n            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">\n                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">\n                    <div ref="eTreeLines" class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true"></div>\n                    <span ref="eDragHandle" class="ag-drag-handle" aria-hidden="true"></span>\n                    <span ref="eValidation" class="ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid" aria-hidden="true"></span>\n                </div>\n                <div ref="eButtons" class="ag-advanced-filter-builder-item-buttons">\n                    <span ref="eMoveUpButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                    <span ref="eMoveDownButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                    <div ref="eAddButton" role="presentation"></div>\n                    <span ref="eRemoveButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                </div>\n            </div>\n        ')||this;return o.item=e,o.dragFeature=i,o.focusWrapper=n,o.moveUpDisabled=!1,o.moveDownDisabled=!1,o}return XLe(t,r),t.prototype.postConstruct=function(){var e=this,i=this.item,o=i.level,a=i.showMove;if(this.ePillWrapper=this.createManagedBean("join"===i.filterModel.filterType?new KLe:new jLe),this.ePillWrapper.init({item:this.item,createPill:function(c){return e.createPill(c)}}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),0===o){var l=document.createElement("div");l.classList.add("ag-advanced-filter-builder-item-tree-line-vertical-bottom"),l.classList.add("ag-advanced-filter-builder-item-tree-line-root"),this.eTreeLines.appendChild(l),D.setDisplayed(this.eDragHandle,!1),D.setDisplayed(this.eButtons,!1),D.setAriaExpanded(this.focusWrapper,!0)}else this.setupTreeLines(o),this.eDragHandle.appendChild(D.createIconNoSpan("advancedFilterBuilderDrag",this.gridOptionsService)),this.setupValidation(),this.setupMoveButtons(a),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();D.setAriaLevel(this.focusWrapper,o+1),this.initialiseTabGuard({}),this.createManagedBean(new J7(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListener(this.ePillWrapper,ga.EVENT_VALUE_CHANGED,function(){return e.dispatchEvent({type:ga.EVENT_VALUE_CHANGED})}),this.addManagedListener(this.ePillWrapper,ga.EVENT_VALID_CHANGED,function(){return e.updateValidity()})},t.prototype.setState=function(e){if(0!==this.item.level){var n=this.item.showMove,o=e.disableMoveUp,a=e.disableMoveDown;this.updateTreeLines(e.treeLines,e.showStartTreeLine),this.updateAriaExpanded(),n&&(this.moveUpDisabled=!!o,this.moveDownDisabled=!!a,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",a),D.setAriaDisabled(this.eMoveUpButton,!!o),D.setAriaDisabled(this.eMoveDownButton,!!a),this.moveUpTooltipFeature.refreshToolTip(),this.moveDownTooltipFeature.refreshToolTip())}},t.prototype.focusMoveButton=function(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()},t.prototype.afterAdd=function(){this.ePillWrapper.getFocusableElement().focus()},t.prototype.setupTreeLines=function(e){for(var i=0;i<e;i++){var n=document.createElement("div");this.eTreeLines.appendChild(n)}},t.prototype.updateTreeLines=function(e,i){for(var n=e.length-1,o=this.eTreeLines.children,a=0;a<n;a++){var s=o.item(a);s&&s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[a])}var l=o.item(n);if(l){l.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");var c=e[n];l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",c),l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!c)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",i)},t.prototype.setupValidation=function(){var e=this;this.eValidation.appendChild(D.createIconNoSpan("advancedFilterBuilderInvalid",this.gridOptionsService)),this.validationTooltipFeature=this.createManagedBean(new Ns({getGui:function(){return e.eValidation},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.ePillWrapper.getValidationMessage()},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eValidation),this.updateValidity()},t.prototype.setupAddButton=function(){var i,e=this,n=e9(function(s){return e.advancedFilterExpressionService.translate(s)},null===(i=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===i?void 0:i.addSelectWidth),o=this.createManagedBean(new Q7(n));this.addManagedListener(o,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){return e.dispatchEvent({type:ga.EVENT_ADDED,item:e.item,isJoin:"join"===s.value.key})}),this.eAddButton.appendChild(o.getGui()),this.createManagedBean(new Ns({getGui:function(){return e.eAddButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans)).setComp(this.eAddButton)},t.prototype.setupRemoveButton=function(){var e=this;this.eRemoveButton.appendChild(D.createIconNoSpan("advancedFilterBuilderRemove",this.gridOptionsService)),this.addManagedListener(this.eRemoveButton,"click",function(){return e.removeItem()}),this.addManagedListener(this.eRemoveButton,"keydown",function(n){n.key===V.ENTER&&(n.preventDefault(),D.stopPropagationForAgGrid(n),e.removeItem())}),this.createManagedBean(new Ns({getGui:function(){return e.eRemoveButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")}},this.beans)).setComp(this.eRemoveButton),D.setAriaLabel(this.eRemoveButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])},t.prototype.setupMoveButtons=function(e){var i=this;e?(this.eMoveUpButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveUp",this.gridOptionsService)),this.addManagedListener(this.eMoveUpButton,"click",function(){return i.moveItem(!0)}),this.addManagedListener(this.eMoveUpButton,"keydown",function(n){n.key===V.ENTER&&(n.preventDefault(),D.stopPropagationForAgGrid(n),i.moveItem(!0))}),this.moveUpTooltipFeature=this.createManagedBean(new Ns({getGui:function(){return i.eMoveUpButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return i.moveUpDisabled?null:i.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")}},this.beans)),this.moveUpTooltipFeature.setComp(this.eMoveUpButton),D.setAriaLabel(this.eMoveUpButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveDown",this.gridOptionsService)),this.addManagedListener(this.eMoveDownButton,"click",function(){return i.moveItem(!1)}),this.addManagedListener(this.eMoveDownButton,"keydown",function(n){n.key===V.ENTER&&(n.preventDefault(),D.stopPropagationForAgGrid(n),i.moveItem(!1))}),this.moveDownTooltipFeature=this.createManagedBean(new Ns({getGui:function(){return i.eMoveDownButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return i.moveDownDisabled?null:i.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")}},this.beans)),this.moveDownTooltipFeature.setComp(this.eMoveDownButton),D.setAriaLabel(this.eMoveDownButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(D.setDisplayed(this.eMoveUpButton,!1),D.setDisplayed(this.eMoveDownButton,!1))},t.prototype.updateValidity=function(){D.setVisible(this.eValidation,!this.item.valid),this.validationTooltipFeature.refreshToolTip(),this.updateAriaLabel()},t.prototype.createPill=function(e){var n,o,i=this,a=e.key,s=e.displayValue,l=e.cssClass,c=e.update,u=e.ariaLabel,d=function(_){null!=_&&(c(_),i.dispatchEvent({type:ga.EVENT_VALUE_CHANGED}))};if(e.isSelect){var h=e.getEditorParams,p=e.pickerAriaLabelKey,f=e.pickerAriaLabelValue,m=this.gridOptionsService.get("advancedFilterBuilderParams"),g="".concat(null!==(n=m?.pillSelectMinWidth)&&void 0!==n?n:140,"px"),v="".concat(null!==(o=m?.pillSelectMaxWidth)&&void 0!==o?o:200,"px"),y=this.createBean(new qLe({pickerAriaLabelKey:p,pickerAriaLabelValue:f,pickerType:"ag-list",value:{key:a,displayValue:s},valueFormatter:function(_){var b;return null==_?null:null!==(b=_.displayValue)&&void 0!==b?b:_.key},variableWidth:!0,minPickerWidth:g,maxPickerWidth:v,getEditorParams:h,wrapperClassName:l,ariaLabel:u}));return this.addManagedListener(y,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(_){var b=_.value;return d(b?.key)}),y}return y=this.createBean(new zLe({value:s,cssClass:l,type:this.getInputType(e.baseCellDataType),ariaLabel:u})),this.addManagedListener(y,x.EVENT_FIELD_VALUE_CHANGED,function(b){return d(b.value)}),y},t.prototype.getInputType=function(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}},t.prototype.setupDragging=function(){var e=this,i={type:zt.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:function(){return e.ePillWrapper.getDragName()},getDefaultIconName:function(){return Bt.ICON_NOT_ALLOWED},getDragItem:function(){return{}},onDragStarted:function(){return e.dragFeature.dispatchEvent({type:RL.EVENT_DRAG_STARTED,item:e.item})},onDragStopped:function(){return e.dragFeature.dispatchEvent({type:RL.EVENT_DRAG_ENDED})}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.updateAriaLabel=function(){var o,e=this.ePillWrapper.getAriaLabel(),i="".concat(this.item.level+1),n=this.ePillWrapper.getValidationMessage();o=n?this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItemValidation",[e,i,n]):this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[e,i]),D.setAriaLabel(this.focusWrapper,o)},t.prototype.updateAriaExpanded=function(){D.removeAriaExpanded(this.focusWrapper);var e=this.item.filterModel;"join"===e?.filterType&&e.conditions.length&&D.setAriaExpanded(this.focusWrapper,!0)},t.prototype.removeItem=function(){this.dispatchEvent({type:ga.EVENT_REMOVED,item:this.item})},t.prototype.moveItem=function(e){this.dispatchEvent({type:ga.EVENT_MOVED,item:this.item,backwards:e})},va([G("eTreeLines")],t.prototype,"eTreeLines",void 0),va([G("eDragHandle")],t.prototype,"eDragHandle",void 0),va([G("eItem")],t.prototype,"eItem",void 0),va([G("eButtons")],t.prototype,"eButtons",void 0),va([G("eValidation")],t.prototype,"eValidation",void 0),va([G("eMoveUpButton")],t.prototype,"eMoveUpButton",void 0),va([G("eMoveDownButton")],t.prototype,"eMoveDownButton",void 0),va([G("eAddButton")],t.prototype,"eAddButton",void 0),va([G("eRemoveButton")],t.prototype,"eRemoveButton",void 0),va([C("beans")],t.prototype,"beans",void 0),va([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),va([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),va([j],t.prototype,"postConstruct",null),t}(Ed),ZLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},QLe=function(r){function t(e,i){var n=r.call(this,'\n            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">\n                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">\n                    <div class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true">\n                        <div class="ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"></div>\n                    </div>\n                </div>\n            </div>\n        ')||this;return n.item=e,n.focusWrapper=i,n}return ZLe(t,r),t.prototype.postConstruct=function(){var i,e=this;D.setAriaLevel(this.focusWrapper,2);var n=e9(function(s){return e.advancedFilterExpressionService.translate(s)},null===(i=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===i?void 0:i.addSelectWidth),o=this.createManagedBean(new Q7(n));this.addManagedListener(o,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){e.dispatchEvent({type:ga.EVENT_ADDED,item:e.item,isJoin:"join"===s.value.key})}),this.eItem.appendChild(o.getGui()),this.createManagedBean(new Ns({getGui:function(){return o.getGui()},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans)).setComp(o.getGui()),this.createManagedBean(new J7(this.getGui(),this.focusWrapper,o)),D.setAriaLabel(this.focusWrapper,this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[this.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))},t.prototype.afterAdd=function(){},uD([C("beans")],t.prototype,"beans",void 0),uD([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),uD([G("eItem")],t.prototype,"eItem",void 0),uD([j],t.prototype,"postConstruct",null),t}(le),JLe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},iNe=function(r){function t(){var e=r.call(this,'\n            <div role="presentation" class="ag-advanced-filter-builder" tabindex="-1">\n                <div role="presentation" class="ag-advanced-filter-builder-list" ref="eList"></div>\n                <div role="presentation" class="ag-advanced-filter-builder-button-panel">\n                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-apply-button" ref="eApplyFilterButton"></button>\n                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-cancel-button" ref="eCancelFilterButton"></button>\n                </div>\n            </div>')||this;return e.validationMessage=null,e}return JLe(t,r),t.prototype.postConstruct=function(){var i,e=this,n=(null!==(i=this.gridOptionsService.get("advancedFilterBuilderParams"))&&void 0!==i?i:{}).showMoveButtons;this.showMove=!!n,this.addManagedPropertyListener("advancedFilterBuilderParams",function(o){var a=o.currentValue;e.showMove=!!a?.showMoveButtons,e.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new RL(this,this.virtualList)),this.setupButtons()},t.prototype.refresh=function(){var e=this.virtualList.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),null!=e&&(this.virtualList.getComponentAt(e)||(e=0),this.virtualList.focusRow(e))},t.prototype.getNumItems=function(){return this.items.length},t.prototype.moveItem=function(e,i){!i||!e||this.moveItemToIndex(e,i.rowIndex,i.position)},t.prototype.afterGuiAttached=function(){this.virtualList.focusRow(0)},t.prototype.setupVirtualList=function(){var e=this;this.virtualList=this.createManagedBean(new cg({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderList")})),this.virtualList.setComponentCreator(this.createItemComponent.bind(this)),this.virtualList.setComponentUpdater(this.updateItemComponent.bind(this)),this.virtualList.setRowHeight(40),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.items.length},getRow:function(i){return e.items[i]},areRowsEqual:function(i,n){return i===n}}),this.buildList(),this.virtualList.refresh()},t.prototype.setupButtons=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){e.advancedFilterService.setModel(e.filterModel),e.filterManager.onFilterChanged({source:"advancedFilter"}),e.close()}),this.validationTooltipFeature=this.createManagedBean(new Ns({getGui:function(){return e.eApplyFilterButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.validationMessage},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eApplyFilterButton),this.validate(),this.addManagedListener(this.eApplyFilterButton,"mouseenter",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!0)}),this.addManagedListener(this.eApplyFilterButton,"mouseleave",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!1)}),this.eCancelFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedListener(this.eCancelFilterButton,"click",function(){return e.close()})},t.prototype.removeItemFromParent=function(e){var i=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(i,1),i},t.prototype.moveItemToIndex=function(e,i,n){var o,c,a=this.items[i],s="join"===(null===(o=a.filterModel)||void 0===o?void 0:o.filterType)&&"bottom"===n,l=s?a.filterModel:a.parent;l&&!this.isChildOrSelf(l,e.filterModel)&&a!==e&&(this.removeItemFromParent(e),s?c=0:-1===(c=l.conditions.indexOf(a.filterModel))?c=l.conditions.length:"bottom"===n&&(c+=1),l.conditions.splice(c,0,e.filterModel),this.refreshList(!1))},t.prototype.isChildOrSelf=function(e,i){var n=this;return e===i||"join"===i.filterType&&i.conditions.some(function(o){return n.isChildOrSelf(e,o)})},t.prototype.setupFilterModel=function(){var e=this.formatFilterModel(this.advancedFilterService.getModel());return this.stringifiedModel=JSON.stringify(e),e},t.prototype.formatFilterModel=function(e){return"join"!==(e=e??{filterType:"join",type:"AND",conditions:[]}).filterType&&(e={filterType:"join",type:"AND",conditions:[e]}),e},t.prototype.buildList=function(){var e=this,i=function(n,o,a,s){o.push({filterModel:n,level:a,parent:s,valid:!0,showMove:e.showMove}),"join"===n.filterType&&(n.conditions.forEach(function(l){return i(l,o,a+1,n)}),0===a&&o.push({filterModel:null,level:a+1,parent:n,valid:!0}))};this.items=[],i(this.filterModel,this.items,0)},t.prototype.refreshList=function(e){if(!e){var i=[];this.items.forEach(function(n){n.valid||i.push(n.filterModel)}),this.buildList(),i.length&&this.items.forEach(function(n){n.filterModel&&i.includes(n.filterModel)&&(n.valid=!1)})}this.virtualList.refresh(e),this.validate()},t.prototype.updateItemComponent=function(e,i){var n=this,o=this.items.indexOf(e),a=function(u,d){var h=n.items.find(function(m){return m.filterModel===u}),p=h?.parent;if(p){var f=p.conditions;a(p,d),d.push(f[f.length-1]===u)}},s=[],l=e.filterModel;l&&(a(l,s),s[0]=!1);var c="join"===l?.filterType&&!!l.conditions.length;i.setState({disableMoveUp:1===o,disableMoveDown:!this.canMoveDown(e,o),treeLines:s,showStartTreeLine:c})},t.prototype.createItemComponent=function(e,i){var n=this,o=this.createBean(e.filterModel?new PL(e,this.dragFeature,i):new QLe(e,i));return o.addManagedListener(o,ga.EVENT_REMOVED,function(a){return n.removeItem(a.item)}),o.addManagedListener(o,ga.EVENT_VALUE_CHANGED,function(){return n.validate()}),o.addManagedListener(o,ga.EVENT_ADDED,function(a){return n.addItem(a.item,a.isJoin)}),o.addManagedListener(o,ga.EVENT_MOVED,function(a){return n.moveItemUpDown(a.item,a.backwards)}),o instanceof PL&&this.updateItemComponent(e,o),o},t.prototype.addItem=function(e,i){var n,o,a=e.parent,s=e.level,l=e.filterModel,c="join"===l?.filterType,u=i?{filterType:"join",type:"AND",conditions:[]}:{},d=c?l:a,h=c?0:d.conditions.indexOf(l);h>=0?(c||(h+=1),d.conditions.splice(h,0,u)):d.conditions.push(u);var p=this.items.indexOf(e),f=p>=0;f&&(e.filterModel&&p++,(n=this.items).splice.apply(n,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([p,0],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([{filterModel:u,level:c?s+1:s,parent:d,valid:i,showMove:this.showMove}]),!1))),this.refreshList(f),f&&(null===(o=this.virtualList.getComponentAt(p))||void 0===o||o.afterAdd())},t.prototype.removeItem=function(e){var i,n=e.parent,a=n.conditions.indexOf(e.filterModel);n.conditions.splice(a,1);var s="join"===(null===(i=e.filterModel)||void 0===i?void 0:i.filterType),l=this.items.indexOf(e),c=!s&&l>=0;c&&this.items.splice(l,1),this.refreshList(c),l>=0&&this.virtualList.focusRow(l)},t.prototype.moveItemUpDown=function(e,i){var n=this.items.indexOf(e),o=i?n-1:n+1;if(0!==o&&(i||this.canMoveDown(e,n))){var a=this.items[o],s=this.removeItemFromParent(e),l=e.level,c=e.filterModel,u=e.parent,d=a.level,h=a.filterModel,p=a.parent;if(i)if(d===l&&"join"===h.filterType)h.conditions.push(c);else if(d<=l){var f=p.conditions.indexOf(h);p.conditions.splice(f,0,c)}else u.conditions[s-1].conditions.push(c);else if(d===l)if("join"===h.filterType)h.conditions.splice(0,0,c);else{var g=p.conditions.indexOf(h);p.conditions.splice(g+1,0,c)}else if(s<u.conditions.length)u.conditions.splice(s+1,0,c);else{var v=this.items.find(function(w){return w.filterModel===u}),y=v.parent.conditions.indexOf(v.filterModel)+1;v.parent.conditions.splice(y,0,c)}this.refreshList(!1);var _=this.items.findIndex(function(w){return w.filterModel===c});if(_>=0){var b=this.virtualList.getComponentAt(_);b instanceof PL&&b.focusMoveButton(i)}}},t.prototype.canMoveDown=function(e,i){return!(1===e.level&&i===this.items.length-2||1===e.level&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)},t.prototype.close=function(){this.advancedFilterService.getCtrl().toggleFilterBuilder("ui")},t.prototype.validate=function(){var e=!this.items.every(function(i){return i.valid});e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,this.validationMessage=e?this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationAlreadyApplied"):null),D.setDisabled(this.eApplyFilterButton,e),this.validationTooltipFeature.refreshToolTip()},t.prototype.validateItems=function(){var e=this,i=function(o){o.type=void 0},n=function(o){delete o.filter};this.items.forEach(function(o){if(o.valid&&o.filterModel&&"join"!==o.filterModel.filterType){var a=o.filterModel,s=a.colId,l=e.advancedFilterExpressionService.getColumnAutocompleteEntries().find(function(h){return h.key===s}),c=e.advancedFilterExpressionService.getColumnDetails(a.colId);if(!l||!c.column)return o.valid=!1,a.colId=void 0,i(a),void n(a);var d=e.advancedFilterExpressionService.getDataTypeExpressionOperator(c.baseCellDataType).operators[a.type];if(!d)return o.valid=!1,i(a),void n(a);if(d.numOperands>0&&!D.exists(a.filter))return void(o.valid=!1)}})},kd([G("eList")],t.prototype,"eList",void 0),kd([G("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),kd([G("eCancelFilterButton")],t.prototype,"eCancelFilterButton",void 0),kd([C("filterManager")],t.prototype,"filterManager",void 0),kd([C("advancedFilterService")],t.prototype,"advancedFilterService",void 0),kd([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),kd([C("beans")],t.prototype,"beans",void 0),kd([j],t.prototype,"postConstruct",null),t}(le),nNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},i9=function(r){function t(e){var i=r.call(this)||this;return i.enabled=e,i}return nNe(t,r),t.prototype.postConstruct=function(){var e=this;this.hasAdvancedFilterParent=!!this.gridOptionsService.get("advancedFilterParent"),this.ctrlsService.whenReady(function(){return e.setAdvancedFilterComp()}),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(i){return e.onEnabledChanged(i.enabled)}),this.addManagedPropertyListener("advancedFilterParent",function(){return e.updateComps()}),this.addDestroyFunc(function(){e.destroyAdvancedFilterComp(),e.destroyBean(e.eBuilderComp),e.eBuilderDialog&&e.eBuilderDialog.isAlive()&&e.destroyBean(e.eBuilderDialog)})},t.prototype.setupHeaderComp=function(e){this.eHeaderComp=this.createManagedBean(new kLe(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())},t.prototype.focusHeaderComp=function(){return!!this.eHeaderComp&&(this.eHeaderComp.getFocusableElement().focus(),!0)},t.prototype.refreshComp=function(){var e,i;null===(e=this.eFilterComp)||void 0===e||e.refresh(),null===(i=this.eHeaderComp)||void 0===i||i.refresh()},t.prototype.refreshBuilderComp=function(){var e;null===(e=this.eBuilderComp)||void 0===e||e.refresh()},t.prototype.getHeaderHeight=function(){var e,i;return null!==(i=null===(e=this.eHeaderComp)||void 0===e?void 0:e.getHeight())&&void 0!==i?i:0},t.prototype.setInputDisabled=function(e){var i,n;null===(i=this.eFilterComp)||void 0===i||i.setInputDisabled(e),null===(n=this.eHeaderComp)||void 0===n||n.setInputDisabled(e)},t.prototype.toggleFilterBuilder=function(e,i){var n=this;if(!(i&&this.eBuilderDialog||!1===i&&!this.eBuilderDialog)){if(this.eBuilderDialog)return this.builderDestroySource=e,void this.destroyBean(this.eBuilderDialog);this.setInputDisabled(!0);var o=this.getBuilderDialogSize(),a=o.width,s=o.height,l=o.minWidth;this.eBuilderComp=this.createBean(new iNe),this.eBuilderDialog=this.createBean(new ug({title:this.advancedFilterExpressionService.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:a,height:s,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:l,afterGuiAttached:function(){var c;return null===(c=n.eBuilderComp)||void 0===c?void 0:c.afterGuiAttached()}})),this.dispatchFilterBuilderVisibleChangedEvent(e,!0),this.eBuilderDialog.addEventListener(ug.EVENT_DESTROYED,function(){var c;n.destroyBean(n.eBuilderComp),n.eBuilderComp=void 0,n.eBuilderDialog=void 0,n.setInputDisabled(!1),n.dispatchEvent({type:t.EVENT_BUILDER_CLOSED}),n.dispatchFilterBuilderVisibleChangedEvent(null!==(c=n.builderDestroySource)&&void 0!==c?c:"ui",!1),n.builderDestroySource=void 0})}},t.prototype.dispatchFilterBuilderVisibleChangedEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED,source:e,visible:i})},t.prototype.getBuilderDialogSize=function(){var e,i,n=null!==(i=null===(e=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===e?void 0:e.minWidth)&&void 0!==i?i:500,o=this.popupService.getPopupParent(),a=Math.round(D.getAbsoluteWidth(o))-2,s=Math.round(.75*D.getAbsoluteHeight(o))-2;return{width:Math.min(Math.max(600,n),a),height:Math.min(600,s),minWidth:n}},t.prototype.onEnabledChanged=function(e){this.enabled=e,this.updateComps()},t.prototype.updateComps=function(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventService.dispatchEvent({type:x.EVENT_HEADER_HEIGHT_CHANGED})},t.prototype.setAdvancedFilterComp=function(){var e;if(this.destroyAdvancedFilterComp(),this.enabled){var i=this.gridOptionsService.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!i,i){var n=this.createBean(new IL),o=n.getGui(),a=this.environment.getTheme().allThemes;a.length&&(e=o.classList).add.apply(e,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1)),o.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr"),i.appendChild(o),this.eFilterComp=n}}},t.prototype.setHeaderCompEnabled=function(){var e;null===(e=this.eHeaderComp)||void 0===e||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)},t.prototype.destroyAdvancedFilterComp=function(){this.eFilterComp&&(D.removeFromParent(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))},t.EVENT_BUILDER_CLOSED="advancedFilterBuilderClosed",wC([C("focusService")],t.prototype,"focusService",void 0),wC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),wC([C("popupService")],t.prototype,"popupService",void 0),wC([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),wC([j],t.prototype,"postConstruct",null),t}(z),aNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),du=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},IL=function(r){function t(){var e=r.call(this,'\n            <div class="ag-advanced-filter" role="presentation" tabindex="-1">\n                <ag-autocomplete ref="eAutocomplete"></ag-autocomplete>\n                <button class="ag-button ag-standard-button ag-advanced-filter-apply-button" ref="eApplyFilterButton"></button>\n                <button class="ag-advanced-filter-builder-button" ref="eBuilderFilterButton">\n                    <span ref="eBuilderFilterButtonIcon" aria-hidden="true"></span>\n                    <span class="ag-advanced-filter-builder-button-label" ref="eBuilderFilterButtonLabel"></span>\n                </button>\n            </div>')||this;return e.expressionParser=null,e.isApplyDisabled=!0,e.builderOpen=!1,e}return aNe(t,r),t.prototype.postConstruct=function(){var e=this;this.eAutocomplete.setListGenerator(function(i,n){return e.generateAutocompleteListParams(n)}).setValidator(function(){return e.validateValue()}).setForceLastSelection(function(i,n){return e.forceLastSelection(i,n)}).setInputAriaLabel(this.advancedFilterExpressionService.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advancedFilterExpressionService.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListener(this.eAutocomplete,sC.EVENT_VALUE_CHANGED,function(i){return e.onValueChanged(i.value)}),this.addManagedListener(this.eAutocomplete,sC.EVENT_VALUE_CONFIRMED,function(i){return e.onValueConfirmed(i.isValid)}),this.addManagedListener(this.eAutocomplete,sC.EVENT_OPTION_SELECTED,function(i){return e.onOptionSelected(i.position,i.updateEntry,i.autocompleteType)}),this.addManagedListener(this.eAutocomplete,sC.EVENT_VALID_CHANGED,function(i){return e.onValidChanged(i.isValid,i.validationMessage)}),this.setupApplyButton(),this.setupBuilderButton()},t.prototype.refresh=function(){var e=this.advancedFilterService.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e?.length,updateListOnlyIfOpen:!0})},t.prototype.setInputDisabled=function(e){this.eAutocomplete.setInputDisabled(e),D.setDisabled(this.eApplyFilterButton,e||this.isApplyDisabled)},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="advancedFilter",e},t.prototype.setupApplyButton=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){return e.onValueConfirmed(e.eAutocomplete.isValid())}),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled)},t.prototype.setupBuilderButton=function(){var e=this;this.eBuilderFilterButtonIcon.appendChild(D.createIconNoSpan("advancedFilterBuilder",this.gridOptionsService)),this.eBuilderFilterButtonLabel.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedListener(this.eBuilderFilterButton,"click",function(){return e.openBuilder()}),this.addManagedListener(this.advancedFilterService.getCtrl(),i9.EVENT_BUILDER_CLOSED,function(){return e.closeBuilder()})},t.prototype.onValueChanged=function(e){var i;e=D.makeNull(e),this.advancedFilterService.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilterService.createExpressionParser(e);var n=null===(i=this.expressionParser)||void 0===i?void 0:i.parseExpression();n&&n!==e&&this.eAutocomplete.setValue({value:n,silent:!0,restoreFocus:!0})},t.prototype.onValueConfirmed=function(e){!e||this.isApplyDisabled||(D.setDisabled(this.eApplyFilterButton,!0),this.advancedFilterService.applyExpression(),this.filterManager.onFilterChanged({source:"advancedFilter"}))},t.prototype.onOptionSelected=function(e,i,n){var o=this.updateExpression(e,i,n);this.eAutocomplete.setValue({value:o.updatedValue,position:o.updatedPosition,updateListOnlyIfOpen:o.hideAutocomplete,restoreFocus:!0})},t.prototype.validateValue=function(){var e,i,n;return null!==(e=this.expressionParser)&&void 0!==e&&e.isValid()?null:null!==(n=null===(i=this.expressionParser)||void 0===i?void 0:i.getValidationMessage())&&void 0!==n?n:null},t.prototype.onValidChanged=function(e,i){this.isApplyDisabled=!e||this.advancedFilterService.isCurrentExpressionApplied(),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled),this.setTooltip(i,1e3)},t.prototype.generateAutocompleteListParams=function(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advancedFilterExpressionService.getDefaultAutocompleteListParams("")},t.prototype.updateExpression=function(e,i,n){var o,a;return this.advancedFilterExpressionService.updateAutocompleteCache(i,n),null!==(a=null===(o=this.expressionParser)||void 0===o?void 0:o.updateExpression(e,i,n))&&void 0!==a?a:this.advancedFilterService.getDefaultExpression(i)},t.prototype.forceLastSelection=function(e,i){var n=e.key,o=e.displayValue;return!!i.toLocaleLowerCase().match("^".concat((o??n).toLocaleLowerCase(),"\\s*$"))},t.prototype.openBuilder=function(){this.builderOpen||(this.builderOpen=!0,D.setDisabled(this.eBuilderFilterButton,!0),this.advancedFilterService.getCtrl().toggleFilterBuilder("ui"))},t.prototype.closeBuilder=function(){this.builderOpen&&(this.builderOpen=!1,D.setDisabled(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())},du([G("eAutocomplete")],t.prototype,"eAutocomplete",void 0),du([G("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),du([G("eBuilderFilterButton")],t.prototype,"eBuilderFilterButton",void 0),du([G("eBuilderFilterButtonIcon")],t.prototype,"eBuilderFilterButtonIcon",void 0),du([G("eBuilderFilterButtonLabel")],t.prototype,"eBuilderFilterButtonLabel",void 0),du([C("advancedFilterService")],t.prototype,"advancedFilterService",void 0),du([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),du([C("filterManager")],t.prototype,"filterManager",void 0),du([j],t.prototype,"postConstruct",null),t}(le),sNe={ariaAdvancedFilterBuilderItem:function(r){return"".concat(r[0],". Level ").concat(r[1],". Press ENTER to edit.")},ariaAdvancedFilterBuilderItemValidation:function(r){return"".concat(r[0],". Level ").concat(r[1],". ").concat(r[2]," Press ENTER to edit.")},ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:function(r){return"Expression has an error. ".concat(r[0]," - ").concat(r[1],".")},advancedFilterValidationMessageAtEnd:function(r){return"Expression has an error. ".concat(r[0]," at end of expression.")},advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function FL(r,t,e){if(!r)return"";var i=e-t;return i?r.slice(0,r.length-i):r}function Ld(r,t,e,i,n,o,a){var s=e+(!r.length||a?0:1),l=0;return n&&(" "===r[s]?l=1:(i+=" ",o&&(i+='"'))),{updatedValue:r.slice(0,t)+i+r.slice(s),updatedPosition:t+i.length+l}}function kL(r,t,e,i){for(var n=t,o=!1;n<r.length;){var a=r[n];if("("===a){i&&" "===r[n-1]?o=!0:n-=1;break}if(" "===a||e&&")"===a){n-=1;break}n++}return{endPosition:n,isEmpty:o}}function LL(r,t,e,i){e!==t&&(r.expression=Ld(r.expression,i-t.length+1,i,e).updatedValue)}var dD=function(){return dD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},dD.apply(this,arguments)},uNe=function(){function r(t,e){this.params=t,this.startPosition=e,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}return r.prototype.parse=function(t,e){if(t!==Dp.COL_START_CHAR||this.colName)if(t===Dp.COL_END_CHAR&&this.hasStartChar){if(this.parseColumn(!1,e))return this.hasEndChar=!0,!1;this.colName+=t}else this.colName+=t;else this.hasStartChar=!0},r.prototype.getDisplayValue=function(){return(this.hasStartChar?Dp.COL_START_CHAR:"")+this.colName+(this.hasEndChar?Dp.COL_END_CHAR:"")},r.prototype.getColId=function(){return this.colId},r.prototype.complete=function(t){this.parseColumn(!0,t)},r.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}},r.prototype.parseColumn=function(t,e){var i;this.endPosition=e;var n=this.params.advancedFilterExpressionService.getColId(this.colName);return n&&this.hasStartChar&&(this.colId=n.colId,LL(this.params,this.colName,n.columnName,e-1),this.colName=n.columnName,this.column=this.params.columnModel.getPrimaryColumn(this.colId),this.column)?(this.baseCellDataType=null!==(i=this.params.dataTypeService.getBaseDataType(this.column))&&void 0!==i?i:"text",!0):(t&&(this.valid=!1),this.baseCellDataType="text",!1)},r}(),dNe=function(){function r(t,e,i){this.params=t,this.startPosition=e,this.baseCellDataType=i,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}return r.prototype.parse=function(t,e){if(" "===t||")"===t){if(this.parseOperator(!1,e-1))return!0;this.operator+=t}else this.operator+=t},r.prototype.complete=function(t){this.parseOperator(!0,t)},r.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}},r.prototype.getDisplayValue=function(){return this.operator},r.prototype.getOperatorKey=function(){return this.parsedOperator},r.prototype.parseOperator=function(t,e){var i=this.params.advancedFilterExpressionService.getDataTypeExpressionOperator(this.baseCellDataType),n=i.findOperator(this.operator);if(this.endPosition=e,n){this.parsedOperator=n;var o=i.operators[n];this.expectedNumOperands=o.numOperands;var a=o.displayValue;return LL(this.params,this.operator,a,e),this.operator=a,!0}return(t||!(null===n))&&(this.valid=!1),!1},r}(),hNe=function(){function r(t,e,i,n){this.params=t,this.startPosition=e,this.baseCellDataType=i,this.column=n,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}return r.prototype.parse=function(t,e){if(" "===t){if(!this.quotes)return this.parseOperand(!1,e),!0;this.operand+=t}else if(")"===t){if("number"===this.baseCellDataType||!this.quotes)return this.parseOperand(!1,e-1),!0;this.operand+=t}else if(this.operand||this.quotes||"'"!==t&&'"'!==t){if(this.quotes&&t===this.quotes)return this.parseOperand(!1,e),!1;this.operand+=t}else this.quotes=t},r.prototype.complete=function(t){this.parseOperand(!0,t)},r.prototype.getValidationError=function(){var t;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}:null},r.prototype.getRawValue=function(){return this.operand},r.prototype.getModelValue=function(){return this.modelValue},r.prototype.parseOperand=function(t,e){var i=this.params.advancedFilterExpressionService;if(this.endPosition=e,this.modelValue=this.operand,t&&this.quotes)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingQuote");else if(""===this.modelValue)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingValue");else{var n=i.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(null!=n&&(this.modelValue=n),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":null==n&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationInvalidDate"))}}},r}(),Dp=function(){function r(t,e){this.params=t,this.startPosition=e,this.isAwaiting=!0}return r.prototype.parseExpression=function(){for(var t,e,i=this.startPosition,n=this.params.expression;i<n.length;){var o=n[i];if(" "!==o||!this.isAwaiting){if(this.isAwaiting=!1,!this.parser){var a=void 0;this.columnParser?this.operatorParser?(this.operandParser=new hNe(this.params,i,this.columnParser.baseCellDataType,this.columnParser.column),a=this.operandParser):(this.operatorParser=new dNe(this.params,i,this.columnParser.baseCellDataType),a=this.operatorParser):(this.columnParser=new uNe(this.params,i),a=this.columnParser),this.parser=a}var s=this.parser.parse(o,i);if(null!=s){if(this.isComplete())return this.returnEndPosition(s?i-1:i,!0);this.parser=void 0,this.isAwaiting=!0}}i++}return null===(e=null===(t=this.parser)||void 0===t?void 0:t.complete)||void 0===e||e.call(t,i-1),this.returnEndPosition(i)},r.prototype.isValid=function(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)},r.prototype.getValidationError=function(){var t,e,i,n,o,a=null!==(n=null!==(e=null===(t=this.columnParser)||void 0===t?void 0:t.getValidationError())&&void 0!==e?e:null===(i=this.operatorParser)||void 0===i?void 0:i.getValidationError())&&void 0!==n?n:null===(o=this.operandParser)||void 0===o?void 0:o.getValidationError();if(a)return a;var l,s=this.params.expression.length;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(l="advancedFilterValidationMissingValue"):l="advancedFilterValidationMissingOption":l="advancedFilterValidationMissingColumn",l?{message:this.params.advancedFilterExpressionService.translate(l),startPosition:s,endPosition:s}:null},r.prototype.getFunction=function(t){var e,i,f,n=this.columnParser.getColId(),o=function cNe(r){return r.replace(/(['"])/,"\\$1")}(n),a=null===(e=this.operatorParser)||void 0===e?void 0:e.getOperatorKey(),s=t.operators,l=t.evaluatorParams,c=t.operands,u=this.params.advancedFilterExpressionService.getExpressionOperator(this.columnParser.baseCellDataType,a),d=this.addToListAndGetIndex(s,u),h=this.params.advancedFilterExpressionService.getExpressionEvaluatorParams(n),p=this.addToListAndGetIndex(l,h);if(0===(null===(i=this.operatorParser)||void 0===i?void 0:i.expectedNumOperands))f="";else{var m=this.addToListAndGetIndex(c,this.getOperandValue());f=", params.operands[".concat(m,"]")}return"params.operators[".concat(d,"].evaluator(expressionProxy.getValue('").concat(o,"', node), node, params.evaluatorParams[").concat(p,"]").concat(f,")")},r.prototype.getAutocompleteListParams=function(t){return this.isColumnPosition(t)?this.getColumnAutocompleteListParams(t):this.isOperatorPosition(t)?this.getOperatorAutocompleteListParams(t):this.isBeyondEndPosition(t)?void 0:{enabled:!1}},r.prototype.updateExpression=function(t,e,i){var n,o,a,s,l,c=this.params.expression;if(this.isColumnPosition(t))return Ld(this.params.expression,this.startPosition,null!==(n=this.columnParser)&&void 0!==n&&n.getColId()?this.columnParser.endPosition:kL(c,t).endPosition,this.params.advancedFilterExpressionService.getColumnValue(e),!0);if(this.isOperatorPosition(t)){var u=this.getBaseCellDataTypeFromOperatorAutocompleteType(i),d=this.hasOperand(u,e.key),h=d&&this.doesOperandNeedQuotes(u),p=void 0;if(null!=(null===(o=this.operatorParser)||void 0===o?void 0:o.startPosition)&&t<this.operatorParser.startPosition)p=Ld(c,t,t,null!==(a=e.displayValue)&&void 0!==a?a:e.key,d,h);else{var f=void 0,m=!1;if(null!==(s=this.operatorParser)&&void 0!==s&&s.getOperatorKey())f=this.operatorParser.endPosition;else{var g=kL(c,t,!0,!0);f=g.endPosition,m=g.isEmpty}p=Ld(c,function lNe(r,t,e){for(var i=t;i<e&&" "===r[i];)i++;return i}(c,this.columnParser.endPosition+1,f),f,null!==(l=e.displayValue)&&void 0!==l?l:e.key,d,h,m)}return dD(dD({},p),{hideAutocomplete:!d})}return null},r.prototype.getModel=function(){var t=this.columnParser.getColId(),e={filterType:this.columnParser.baseCellDataType,colId:t,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(e.filter=this.operandParser.getModelValue()),e},r.prototype.getOperandValue=function(){var t=this.operandParser.getRawValue(),e=this.columnParser,i=e.baseCellDataType,n=e.column;switch(i){case"number":t=Number(t);break;case"date":case"dateString":t=this.params.valueParserService.parseValue(n,null,t,void 0)}return"dateString"===i?this.params.dataTypeService.getDateParserFunction(n)(t):t},r.prototype.isComplete=function(){return!(!this.operatorParser||!(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))},r.prototype.isColumnPosition=function(t){return!this.columnParser||null==this.columnParser.endPosition||t<=this.columnParser.endPosition+1},r.prototype.isOperatorPosition=function(t){return!this.operatorParser||null==this.operatorParser.endPosition||t<=this.operatorParser.endPosition+1},r.prototype.isBeyondEndPosition=function(t){return this.isComplete()&&null!=this.endPosition&&t>this.endPosition+1&&this.endPosition+1<this.params.expression.length},r.prototype.returnEndPosition=function(t,e){return this.endPosition=e?t:t-1,t},r.prototype.getColumnAutocompleteListParams=function(t){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(t))},r.prototype.getColumnSearchString=function(t){var e,i,n,o,a,s=null!==(i=null===(e=this.columnParser)||void 0===e?void 0:e.getDisplayValue())&&void 0!==i?i:"",l=FL(s,t,null==(null===(n=this.columnParser)||void 0===n?void 0:n.endPosition)?this.params.expression.length:this.columnParser.endPosition+1),c=(null===(o=this.columnParser)||void 0===o?void 0:o.hasStartChar)&&l.length>0,u=(null===(a=this.columnParser)||void 0===a?void 0:a.hasEndChar)&&l.length===s.length+2;return c?l.slice(1,u?-1:void 0):l},r.prototype.getOperatorAutocompleteListParams=function(t){var e,i,n,o,a,s=null===(e=this.columnParser)||void 0===e?void 0:e.column;if(!s)return{enabled:!1};var l=this.columnParser.baseCellDataType,c=null!=(null===(i=this.operatorParser)||void 0===i?void 0:i.startPosition)&&t<this.operatorParser.startPosition?"":FL(null!==(o=null===(n=this.operatorParser)||void 0===n?void 0:n.getDisplayValue())&&void 0!==o?o:"",t,null==(null===(a=this.operatorParser)||void 0===a?void 0:a.endPosition)?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getOperatorAutocompleteEntries(s,l),"operator-".concat(l),c)},r.prototype.getBaseCellDataTypeFromOperatorAutocompleteType=function(t){return t?.replace("operator-","")},r.prototype.hasOperand=function(t,e){var i,n;return!t||!e||(null!==(n=null===(i=this.params.advancedFilterExpressionService.getExpressionOperator(t,e))||void 0===i?void 0:i.numOperands)&&void 0!==n?n:0)>0},r.prototype.doesOperandNeedQuotes=function(t){return"number"!==t},r.prototype.addToListAndGetIndex=function(t,e){var i=t.length;return t.push(e),i},r.COL_START_CHAR="[",r.COL_END_CHAR="]",r}();function hD(r,t,e){var i=!1,n=r.toLocaleLowerCase(),o=n+" ",a=Object.entries(t).find(function(s){var l=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(s,2),u=e(l[1]).toLocaleLowerCase();return u.startsWith(o)&&(i=!0),u===n});return a?a[0]:i?null:void 0}function NL(r,t){return(t??Object.keys(r)).map(function(i){return{key:i,displayValue:r[i].displayValue}})}var n9=function(){function r(t){this.params=t,this.initOperators()}return r.prototype.getEntries=function(t){return NL(this.operators,t)},r.prototype.findOperator=function(t){return hD(t,this.operators,function(e){return e.displayValue})},r.prototype.initOperators=function(){var t=this,e=this.params.translate;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!1,function(s,l){return s.includes(l)})},numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!0,function(s,l){return!s.includes(l)})},numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!1,function(s,l){return s===l})},numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!0,function(s,l){return s!=l})},numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!1,function(s,l){return s.startsWith(l)})},numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:function(i,n,o,a){return t.evaluateExpression(i,n,o,a,!1,function(s,l){return s.endsWith(l)})},numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:function(i){return null==i||"string"==typeof i&&0===i.trim().length},numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:function(i){return null!=i&&("string"!=typeof i||i.trim().length>0)},numOperands:0}}},r.prototype.evaluateExpression=function(t,e,i,n,o,a){return null==t?o:i.caseSensitive?a(i.valueConverter(t,e),n):a(i.valueConverter(t,e).toLocaleLowerCase(),n.toLocaleLowerCase())},r}(),GL=function(){function r(t){this.params=t,this.initOperators()}return r.prototype.getEntries=function(t){return NL(this.operators,t)},r.prototype.findOperator=function(t){return hD(t,this.operators,function(e){return e.displayValue})},r.prototype.initOperators=function(){var t=this,e=this.params,i=e.translate,n=e.equals;this.operators={equals:{displayValue:i("advancedFilterEquals"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,n)},numOperands:1},notEqual:{displayValue:i("advancedFilterNotEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,function(c,u){return!n(c,u)})},numOperands:1},greaterThan:{displayValue:i("advancedFilterGreaterThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(c,u){return c>u})},numOperands:1},greaterThanOrEqual:{displayValue:i("advancedFilterGreaterThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(c,u){return c>=u})},numOperands:1},lessThan:{displayValue:i("advancedFilterLessThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(c,u){return c<u})},numOperands:1},lessThanOrEqual:{displayValue:i("advancedFilterLessThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(c,u){return c<=u})},numOperands:1},blank:{displayValue:i("advancedFilterBlank"),evaluator:function(o){return null==o},numOperands:0},notBlank:{displayValue:i("advancedFilterNotBlank"),evaluator:function(o){return null!=o},numOperands:0}}},r.prototype.evaluateSingleOperandExpression=function(t,e,i,n,o,a){return null==t?o:a(i.valueConverter(t,e),n)},r}(),fNe=function(){function r(t){this.params=t,this.initOperators()}return r.prototype.getEntries=function(t){return NL(this.operators,t)},r.prototype.findOperator=function(t){return hD(t,this.operators,function(e){return e.displayValue})},r.prototype.initOperators=function(){var t=this.params.translate;this.operators={true:{displayValue:t("advancedFilterTrue"),evaluator:function(e){return!!e},numOperands:0},false:{displayValue:t("advancedFilterFalse"),evaluator:function(e){return!1===e},numOperands:0},blank:{displayValue:t("advancedFilterBlank"),evaluator:function(e){return null==e},numOperands:0},notBlank:{displayValue:t("advancedFilterNotBlank"),evaluator:function(e){return null!=e},numOperands:0}}},r}(),mNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vNe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.columnNameToIdMap={},e.columnAutocompleteEntries=null,e.expressionEvaluatorParams={},e}return mNe(t,r),t.prototype.postConstruct=function(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()},t.prototype.parseJoinOperator=function(e){var i,n=e.type;return null!==(i=this.expressionJoinOperators[n])&&void 0!==i?i:n},t.prototype.getColumnDisplayValue=function(e){var a,i=e.colId,o=this.getColumnAutocompleteEntries().find(function(s){return s.key===i});return o?this.columnNameToIdMap[(a=o.displayValue).toLocaleUpperCase()]={colId:i,columnName:a}:a=i,a},t.prototype.getOperatorDisplayValue=function(e){var i,n;return null!==(n=null===(i=this.getExpressionOperator(e.filterType,e.type))||void 0===i?void 0:i.displayValue)&&void 0!==n?n:e.type},t.prototype.getOperandModelValue=function(e,i,n){var o;switch(i){case"number":return D.exists(e)?Number(e):null;case"date":return D.serialiseDate(this.valueParserService.parseValue(n,null,e,void 0),!1);case"dateString":var a=this.valueParserService.parseValue(n,null,e,void 0);return D.serialiseDate(null!==(o=this.dataTypeService.getDateParserFunction(n)(a))&&void 0!==o?o:null,!1)}return e},t.prototype.getOperandDisplayValue=function(e,i){var n,o,l=e.filter,c=this.columnModel.getPrimaryColumn(e.colId),u="";if(null!=l){var d=void 0;switch(e.filterType){case"number":d=null!==(n=D.toStringOrNull(l))&&void 0!==n?n:"";break;case"date":var h=D.parseDateTimeFromString(l);d=c?this.valueFormatterService.formatValue(c,null,h):null;break;case"dateString":var p=D.parseDateTimeFromString(l),f=c?this.dataTypeService.getDateFormatterFunction(c)(p??void 0):null;d=c?this.valueFormatterService.formatValue(c,null,f):null}"number"!==e.filterType&&(d=null!==(o=d??D.toStringOrNull(l))&&void 0!==o?o:"",i||(d='"'.concat(d,'"'))),u=i?d:" ".concat(d)}return u},t.prototype.parseColumnFilterModel=function(e){var i,n,o=null!==(i=this.getColumnDisplayValue(e))&&void 0!==i?i:"",a=null!==(n=this.getOperatorDisplayValue(e))&&void 0!==n?n:"",s=this.getOperandDisplayValue(e);return"[".concat(o,"] ").concat(a).concat(s)},t.prototype.updateAutocompleteCache=function(e,i){if("column"===i){var n=e.key,o=e.displayValue;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:n,columnName:o}}},t.prototype.translate=function(e,i){var n=sNe[e];return"function"==typeof n&&(n=n(i)),this.localeService.getLocaleTextFunc()(e,n,i)},t.prototype.generateAutocompleteListParams=function(e,i,n){return{enabled:!0,type:i,searchString:n,entries:e}},t.prototype.getColumnAutocompleteEntries=function(){var i,e=this;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;var n=null!==(i=this.columnModel.getAllPrimaryColumns())&&void 0!==i?i:[],o=[],a=this.gridOptionsService.get("includeHiddenColumnsInAdvancedFilter");return n.forEach(function(s){s.getColDef().filter&&(a||s.isVisible()||s.isRowGroupActive())&&o.push({key:s.getColId(),displayValue:e.columnModel.getDisplayNameForColumn(s,"advancedFilter")})}),o.sort(function(s,l){var c,u,d=null!==(c=s.displayValue)&&void 0!==c?c:"",h=null!==(u=l.displayValue)&&void 0!==u?u:"";return d<h?-1:h>d?1:0}),o},t.prototype.getOperatorAutocompleteEntries=function(e,i){var n=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(i).getEntries(n)},t.prototype.getJoinOperatorAutocompleteEntries=function(){return Object.entries(this.expressionJoinOperators).map(function(e){var i=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e,2);return{key:i[0],displayValue:i[1]}})},t.prototype.getDefaultAutocompleteListParams=function(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)},t.prototype.getDataTypeExpressionOperator=function(e){return this.expressionOperators[e]},t.prototype.getExpressionOperator=function(e,i){var n,o;return null===(o=null===(n=this.getDataTypeExpressionOperator(e))||void 0===n?void 0:n.operators)||void 0===o?void 0:o[i]},t.prototype.getExpressionJoinOperators=function(){return this.expressionJoinOperators},t.prototype.getColId=function(e){var i=e.toLocaleUpperCase(),n=this.columnNameToIdMap[i];if(n)return n;var a=this.getColumnAutocompleteEntries().find(function(u){return u.displayValue.toLocaleUpperCase()===i});if(a){var c={colId:a.key,columnName:a.displayValue};return this.columnNameToIdMap[i]=c,c}return null},t.prototype.getExpressionEvaluatorParams=function(e){var i=this,n=this.expressionEvaluatorParams[e];if(n)return n;var o=this.columnModel.getPrimaryColumn(e);if(!o)return{valueConverter:function(l){return l}};switch(this.dataTypeService.getBaseDataType(o)){case"dateString":n={valueConverter:this.dataTypeService.getDateParserFunction(o)};break;case"object":n=o.getColDef().filterValueGetter?{valueConverter:function(l){return l}}:{valueConverter:function(l,c){var u;return null!==(u=i.valueFormatterService.formatValue(o,c,l))&&void 0!==u?u:"function"==typeof l.toString?l.toString():""}};break;case"text":case void 0:n={valueConverter:function(l){return D.toStringOrNull(l)}};break;default:n={valueConverter:function(l){return l}}}var s=o.getColDef().filterParams;return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(function(l){var c=s[l];c&&(n[l]=c)}),this.expressionEvaluatorParams[e]=n,n},t.prototype.getColumnDetails=function(e){var i,n,o=null!==(i=this.columnModel.getPrimaryColumn(e))&&void 0!==i?i:void 0;return{column:o,baseCellDataType:null!==(n=o?this.dataTypeService.getBaseDataType(o):void 0)&&void 0!==n?n:"text"}},t.prototype.generateExpressionOperators=function(){var e=this,i=function(n,o){return e.translate(n,o)};return{text:new n9({translate:i}),boolean:new fNe({translate:i}),object:new n9({translate:i}),number:new GL({translate:i,equals:function(n,o){return n===o}}),date:new GL({translate:i,equals:function(n,o){return n.getTime()===o.getTime()}}),dateString:new GL({translate:i,equals:function(n,o){return n.getTime()===o.getTime()}})}},t.prototype.getColumnValue=function(e){var i=e.displayValue;return"".concat(Dp.COL_START_CHAR).concat(i).concat(Dp.COL_END_CHAR)},t.prototype.generateExpressionJoinOperators=function(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}},t.prototype.getActiveOperators=function(e){var i,n=null===(i=e.getColDef().filterParams)||void 0===i?void 0:i.filterOptions;if(n)return n.every(function(a){return"string"==typeof a})?n:void 0},t.prototype.resetColumnCaches=function(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}},vg([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),vg([C("valueParserService")],t.prototype,"valueParserService",void 0),vg([C("columnModel")],t.prototype,"columnModel",void 0),vg([C("dataTypeService")],t.prototype,"dataTypeService",void 0),vg([j],t.prototype,"postConstruct",null),vg([oe("advancedFilterExpressionService")],t)}(z),yNe=function(){function r(t){this.params=t,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}return r.prototype.parseExpression=function(t){this.operators.push(""),this.operatorStartPositions.push(t),this.operatorEndPositions.push(void 0);for(var e=this.params.expression;t<e.length;){var i=e[t];if(" "===i){if(this.parseOperator(t-1))return this.activeOperator++,t-1;this.operators[this.activeOperator]+=i}else this.operators[this.activeOperator]+=i;t++}return this.parseOperator(t-1),t},r.prototype.isValid=function(){return!(this.validationError||this.operators.length&&!this.parsedOperator)},r.prototype.getValidationError=function(){return this.validationError},r.prototype.getFunction=function(){return"OR"===this.parsedOperator?"||":"&&"},r.prototype.getModel=function(){return"OR"===this.parsedOperator?"OR":"AND"},r.prototype.getAutocompleteListParams=function(t,e){var n,i=this;if(null==e)n="";else{var a=this.operatorEndPositions[e];n=FL(this.operators[e],t,null==a?this.params.expression.length:a+1)}var s=this.params.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries();return(e||null==e&&this.activeOperator)&&(s=s.filter(function(l){return l.key===i.parsedOperator})),this.params.advancedFilterExpressionService.generateAutocompleteListParams(s,"join",n)},r.prototype.updateExpression=function(t,e,i){var n,o,a=this.params.expression,s=null!==(n=e.displayValue)&&void 0!==n?n:e.key;if(0===i)for(var l=this.operatorEndPositions.length-1;l>0;l--){var c=this.operatorEndPositions[l];null!=c&&(a=Ld(a,this.operatorStartPositions[l],c,s).updatedValue)}return Ld(a,this.operatorStartPositions.length>i?this.operatorStartPositions[i]:t,null!==(o=this.operatorEndPositions.length>i?this.operatorEndPositions[i]:void 0)&&void 0!==o?o:kL(a,t,!0).endPosition,s,!0)},r.prototype.getNumOperators=function(){return this.operators.length},r.prototype.getLastOperatorEndPosition=function(){return this.operatorEndPositions[this.operatorEndPositions.length-1]},r.prototype.parseOperator=function(t){var e=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",i=this.params.advancedFilterExpressionService.getExpressionJoinOperators(),n=hD(e,i,function(a){return a});if(n){this.operatorEndPositions[this.activeOperator]=t;var o=i[n];if(this.activeOperator){if(n!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:t-e.length+1,endPosition:t}),!1}else this.parsedOperator=n;return e!==o&&(LL(this.params,e,o,t),this.operators[this.activeOperator]=o),!0}return null!==n&&(this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:t-e.length+1,endPosition:t}),!0)},r}(),_Ne=function(){function r(t,e){this.params=t,this.startPosition=e,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new yNe(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}return r.prototype.parseExpression=function(){for(var t=this.startPosition,e=this.params.expression;t<e.length;){var i=e[t];if("("!==i||this.expectingOperator){if(")"===i)return this.endPosition=t-1,0===this.startPosition&&(this.extraEndBracket=!0),t;" "!==i&&(this.expectingExpression?(t=(n=new Dp(this.params,t)).parseExpression(),this.expressionParsers.push(n),this.expectingExpression=!1,this.expectingOperator=!0):this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0))}else{var n;t=(n=new r(this.params,t+1)).parseExpression(),this.expressionParsers.push(n),this.expectingExpression=!1,this.expectingOperator=!0}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t},r.prototype.isValid=function(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(function(t){return t.isValid()})},r.prototype.getValidationError=function(){for(var t=this.operatorParser.getValidationError(),e=0;e<this.expressionParsers.length;e++){var i=this.expressionParsers[e].getValidationError();if(i)return t&&t.startPosition<i.startPosition?t:i}return t||(this.extraEndBracket?{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1}:(this.expressionParsers.length===this.operatorParser.getNumOperators()?n="advancedFilterValidationMissingCondition":this.missingEndBracket&&(n="advancedFilterValidationMissingEndBracket"),n?{message:this.params.advancedFilterExpressionService.translate(n),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null));var n},r.prototype.getFunction=function(t){var e=this.expressionParsers.length>1,i=this.expressionParsers.map(function(n){return n.getFunction(t)}).join(" ".concat(this.operatorParser.getFunction()," "));return e?"(".concat(i,")"):i},r.prototype.getAutocompleteListParams=function(t){if(!(null!=this.endPosition&&t>this.endPosition+1)){if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();var e=this.getExpressionParserIndex(t);if(null==e)return"("===this.params.expression[t]?{enabled:!1}:this.getColumnAutocompleteListParams();var n=this.expressionParsers[e].getAutocompleteListParams(t);if(!n){if(e<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(t,e);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var o=this.operatorParser.getLastOperatorEndPosition();return null==o||t<=o+1?this.operatorParser.getAutocompleteListParams(t,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return")"===this.params.expression[t-1]?{enabled:!1}:this.operatorParser.getAutocompleteListParams(t)}return n}},r.prototype.updateExpression=function(t,e,i){var n,o=this.params.expression,a=this.getExpressionParserIndex(t);if(null==a){var s="column"===i?this.params.advancedFilterExpressionService.getColumnValue(e):null!==(n=e.displayValue)&&void 0!==n?n:e.key;return Ld(o,this.startPosition,this.startPosition,s,!0)}return this.expressionParsers[a].updateExpression(t,e,i)??("column"===i?Ld(o,t,o.length-1,this.params.advancedFilterExpressionService.getColumnValue(e),!0):null!=this.endPosition&&t>this.endPosition+1?null:this.operatorParser.updateExpression(t,e,a))},r.prototype.getModel=function(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(function(t){return t.getModel()})}:this.expressionParsers[0].getModel()},r.prototype.getColumnAutocompleteListParams=function(){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column","")},r.prototype.getExpressionParserIndex=function(t){for(var e,i=0;i<this.expressionParsers.length&&!(this.expressionParsers[i].startPosition>t);i++)e=i;return e},r}(),CNe=function(){function r(t){this.params=t,this.valid=!1}return r.prototype.parseExpression=function(){this.joinExpressionParser=new _Ne(this.params,0);var t=this.joinExpressionParser.parseExpression();return this.valid=t>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression},r.prototype.isValid=function(){return this.valid},r.prototype.getValidationMessage=function(){var t=this.joinExpressionParser.getValidationError();if(!t)return null;var e=t.message,i=t.startPosition;return i<this.params.expression.length?this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessage",[e,this.params.expression.slice(i,t.endPosition+1).trim()]):this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessageAtEnd",[e])},r.prototype.getFunction=function(){var t={operands:[],operators:[],evaluatorParams:[]};return{functionBody:"return ".concat(this.joinExpressionParser.getFunction(t),";"),params:t}},r.prototype.getAutocompleteListParams=function(t){var e;return null!==(e=this.joinExpressionParser.getAutocompleteListParams(t))&&void 0!==e?e:{enabled:!1}},r.prototype.updateExpression=function(t,e,i){return this.joinExpressionParser.updateExpression(t,e,i)},r.prototype.getModel=function(){return this.isValid()?this.joinExpressionParser.getModel():null},r}(),bNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wNe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.appliedExpression=null,e.expression=null,e.isValid=!0,e}return bNe(t,r),t.prototype.postConstruct=function(){var e=this;this.setEnabled(this.gridOptionsService.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new i9(this.enabled)),this.expressionProxy={getValue:function(i,n){var o=e.columnModel.getPrimaryColumn(i);return o?e.valueService.getValue(o,n,!0):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",function(i){return e.setEnabled(!!i.currentValue)}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(i){return e.onNewColumnsLoaded(i)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",function(){return e.updateValidity()})},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFilterPresent=function(){return!!this.expressionFunction},t.prototype.doesFilterPass=function(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)},t.prototype.getModel=function(){var e,i=this.createExpressionParser(this.appliedExpression);return i?.parseExpression(),null!==(e=i?.getModel())&&void 0!==e?e:null},t.prototype.setModel=function(e){var i=this,n=function(a,s){if("join"===a.filterType){var l=i.advancedFilterExpressionService.parseJoinOperator(a),c=a.conditions.map(function(u){return n(u)}).filter(function(u){return D.exists(u)}).join(" ".concat(l," "));return s||a.conditions.length<=1?c:"(".concat(c,")")}return i.advancedFilterExpressionService.parseColumnFilterModel(a)},o=e?n(e,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()},t.prototype.getExpressionDisplayValue=function(){return this.expression},t.prototype.setExpressionDisplayValue=function(e){this.expression=e},t.prototype.isCurrentExpressionApplied=function(){return this.appliedExpression===this.expression},t.prototype.createExpressionParser=function(e){return e?new CNe({expression:e,columnModel:this.columnModel,dataTypeService:this.dataTypeService,valueParserService:this.valueParserService,advancedFilterExpressionService:this.advancedFilterExpressionService}):null},t.prototype.getDefaultExpression=function(e){var i=this.advancedFilterExpressionService.getColumnValue(e)+" ";return{updatedValue:i,updatedPosition:i.length}},t.prototype.isHeaderActive=function(){return!this.gridOptionsService.get("advancedFilterParent")},t.prototype.getCtrl=function(){return this.ctrl},t.prototype.setEnabled=function(e,i){var n=this.enabled,o=this.rowModel.getType(),a="clientSide"===o||"serverSide"===o;e&&!o&&D.warnOnce("Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model."),this.enabled=e&&a,i||this.enabled===n||this.eventService.dispatchEvent({type:x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,enabled:this.enabled})},t.prototype.applyExpression=function(){var e=this.createExpressionParser(this.expression);e?.parseExpression(),this.applyExpressionFromParser(e)},t.prototype.applyExpressionFromParser=function(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid)return this.expressionFunction=null,this.expressionParams=null,void(this.appliedExpression=null);var i=e.getFunction(),o=i.params;this.expressionFunction=new Function("expressionProxy","node","params",i.functionBody),this.expressionParams=o,this.appliedExpression=this.expression},t.prototype.updateValidity=function(){this.advancedFilterExpressionService.resetColumnCaches();var e=this.createExpressionParser(this.expression);e?.parseExpression();var n=(!e||e.isValid())!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),n},t.prototype.onNewColumnsLoaded=function(e){var i=this;if("gridInitializing"===e.source&&this.dataTypeService.isPendingInference()){this.ctrl.setInputDisabled(!0);var n=this.addManagedListener(this.eventService,x.EVENT_DATA_TYPES_INFERRED,function(){n?.(),i.ctrl.setInputDisabled(!1)})}},Nd([C("valueService")],t.prototype,"valueService",void 0),Nd([C("columnModel")],t.prototype,"columnModel",void 0),Nd([C("dataTypeService")],t.prototype,"dataTypeService",void 0),Nd([C("valueParserService")],t.prototype,"valueParserService",void 0),Nd([C("rowModel")],t.prototype,"rowModel",void 0),Nd([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Nd([j],t.prototype,"postConstruct",null),Nd([oe("advancedFilterService")],t)}(z),xNe={version:"31.1.1",moduleName:ie.AdvancedFilterModule,beans:[wNe,vNe],agStackComponents:[{componentName:"agAdvancedFilter",componentClass:IL}],dependantModules:[ur]},ENe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xr=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},r9=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VL="paste",BL="dragCopy",o9="clipboard",ko=(()=>((ko=ko||{})[ko.CellRange=0]="CellRange",ko[ko.SelectedRows=1]="SelectedRows",ko[ko.FocusedCell=2]="FocusedCell",ko))(),a9=function(r){return"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(r,"()). ")+"The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."},ANe=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.lastPasteOperationTime=0,i.navigatorApiFailed=!1,i}var e;return ENe(t,r),e=t,t.prototype.init=function(){var i=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(n){i.gridCtrl=n.gridCtrl})},t.prototype.pasteFromClipboard=function(){var i=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.get("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){D.doOnce(function(){console.warn(o),console.warn(a9("readText"))},"clipboardApiError"),i.navigatorApiFailed=!0,i.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var i=this,n=!1,o=function(a){var s=(new Date).getTime();s-i.lastPasteOperationTime<50&&(n=!0,a.preventDefault()),i.lastPasteOperationTime=s};this.executeOnTempElement(function(a){a.addEventListener("paste",o),a.focus({preventScroll:!0})},function(a){var s=a.value;n?i.refocusLastFocusedCell():i.processClipboardData(s),a.removeEventListener("paste",o)})},t.prototype.refocusLastFocusedCell=function(){var i=this.focusService.getFocusedCell();i&&this.focusService.setFocusedCell({rowIndex:i.rowIndex,column:i.column,rowPinned:i.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var i=this.gridOptionsService.get("clipboardDelimiter");return D.exists(i)?i:"\t"},t.prototype.processClipboardData=function(i){var n=this;if(null!=i){var o=e.stringToArray(i,this.getClipboardDelimiter()),a=this.gridOptionsService.getCallback("processDataFromClipboard");a&&(o=a({data:o})),null!=o&&(this.gridOptionsService.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o),this.doPasteOperation(function(l,c,u,d){n.rangeService&&n.rangeService.isMoreThanOneCell()&&!n.hasOnlyOneValueToPaste(o)?n.pasteIntoActiveRange(o,l,c,d):n.pasteStartingFromFocusedCell(o,l,c,u,d)}))}},t.stringToArray=function(i,n){void 0===n&&(n=",");var o=[],a=function(m){return"\r"===m||"\n"===m},s=!1;if(""===i)return[[""]];for(var c,u,d,l=function(m,g,v){var y=i[v-1],_=i[v],b=i[v+1],w=function(){o[m]||(o[m]=[]),o[m][g]||(o[m][g]="")};if(w(),'"'===_&&(s?'"'===b?(o[m][g]+='"',v++):s=!1:(void 0===y||y===n||a(y))&&(s=!0)),!s&&'"'!==_){if(_===n)return g++,w(),c=m,u=g,d=v,"continue";if(a(_))return g=0,m++,w(),"\r"===_&&"\n"===b&&v++,c=m,u=g,d=v,"continue"}o[m][g]+=_,c=m,u=g,d=v},h=0,p=0,f=0;f<i.length;f++)l(h,p,f),h=c,p=u,f=d;return o},t.prototype.doPasteOperation=function(i){var o,n="clipboard";if(this.eventService.dispatchEvent({type:x.EVENT_PASTE_START,source:n}),this.clientSideRowModel){var a=this.gridOptionsService.get("aggregateOnlyChangedColumns");o=new nC(a,this.clientSideRowModel.getRootNode())}var s={},l=[];i(s,l,this.focusService.getFocusedCell(),o);var u=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(l),!1);o&&(this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(function(h){u.push(h)})),this.rowRenderer.refreshCells({rowNodes:u}),this.dispatchFlashCells(s),this.fireRowChanged(l),this.refocusLastFocusedCell(),this.eventService.dispatchEvent({type:x.EVENT_PASTE_END,source:n})},t.prototype.pasteIntoActiveRange=function(i,n,o,a){var s=this,l=this.getRangeSize()%i.length!=0,c=0,u=0;this.iterateActiveRanges(!1,function(h,p,f,m){if(m-c>=i.length){if(l)return;c+=u,u=0}var v=i[m-c];o.push(p);var y=s.gridOptionsService.getCallback("processCellFromClipboard");f.forEach(function(_,b){if(_.isCellEditable(p)&&!_.isSuppressPaste(p)){b>=v.length&&(b%=v.length);var w=s.processCell(p,_,v[b],BL,y,!0);p.setDataValue(_,w,VL),a&&a.addParentNode(p.parent,[_]);var P=s.cellPositionUtils.createIdFromValues({rowIndex:h.rowIndex,column:_,rowPinned:h.rowPinned});n[P]=!0}}),u++})},t.prototype.pasteStartingFromFocusedCell=function(i,n,o,a,s){if(a){var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned},c=this.columnModel.getDisplayedColumnsStartingAt(a.column);this.isPasteSingleValueIntoRange(i)?this.pasteSingleValueIntoRange(i,o,n,s):this.pasteMultipleValues(i,l,o,c,n,o9,s)}},t.prototype.isPasteSingleValueIntoRange=function(i){return this.hasOnlyOneValueToPaste(i)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(i,n,o,a){var s=this,l=i[0][0];this.iterateActiveRanges(!1,function(u,d,h){n.push(d),h.forEach(function(p){return s.updateCellValue(d,p,l,o,o9,a)})})},t.prototype.hasOnlyOneValueToPaste=function(i){return 1===i.length&&1===i[0].length},t.prototype.copyRangeDown=function(){var i=this;if(this.rangeService&&!this.rangeService.isEmpty()){var n=[];this.doPasteOperation(function(a,s,l,c){var u=i.gridOptionsService.getCallback("processCellForClipboard"),d=i.gridOptionsService.getCallback("processCellFromClipboard");i.iterateActiveRanges(!0,function(p,f,m){n.length?(s.push(f),m.forEach(function(g,v){if(g.isCellEditable(f)&&!g.isSuppressPaste(f)){var y=i.processCell(f,g,n[v],BL,d,!0);f.setDataValue(g,y,VL),c&&c.addParentNode(f.parent,[g]);var w=i.cellPositionUtils.createIdFromValues({rowIndex:p.rowIndex,column:g,rowPinned:p.rowPinned});a[w]=!0}})):m.forEach(function(g){var v=i.processCell(f,g,i.valueService.getValue(g,f),BL,u,!1,!0);n.push(v)})})})}},t.prototype.removeLastLineIfBlank=function(i){var n=D.last(i);if(n&&1===n.length&&""===n[0]){if(1===i.length)return;D.removeFromArray(i,n)}},t.prototype.fireRowChanged=function(i){var n=this;"fullRow"===this.gridOptionsService.get("editType")&&i.forEach(function(o){n.eventService.dispatchEvent({type:x.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned})})},t.prototype.pasteMultipleValues=function(i,n,o,a,s,l,c){var u=this,d=n,h=null!=this.clientSideRowModel&&!this.gridOptionsService.get("enableGroupEdit")&&!this.gridOptionsService.get("treeData");i.forEach(function(f){var m=function(){for(;;){if(!d)return null;var f=u.rowPositionUtils.getRowNode(d);if(d=u.cellNavigationService.getRowBelow({rowPinned:d.rowPinned,rowIndex:d.rowIndex}),null==f)return null;if(!(f.detail||f.footer||h&&f.group))return f}}();m&&(f.forEach(function(g,v){return u.updateCellValue(m,a[v],g,s,l,c)}),o.push(m))})},t.prototype.updateCellValue=function(i,n,o,a,s,l){if(i&&n&&n.isCellEditable(i)&&!n.isSuppressPaste(i)&&(!i.group||!n.isValueActive())){var c=this.processCell(i,n,o,s,this.gridOptionsService.getCallback("processCellFromClipboard"),!0);i.setDataValue(n,c,VL),a[this.cellPositionUtils.createIdFromValues({rowIndex:i.rowIndex,column:n,rowPinned:i.rowPinned})]=!0,l&&l.addParentNode(i.parent,[n])}},t.prototype.copyToClipboard=function(i){void 0===i&&(i={}),this.copyOrCutToClipboard(i)},t.prototype.cutToClipboard=function(i,n){void 0===i&&(i={}),void 0===n&&(n="api"),this.gridOptionsService.get("suppressCutToClipboard")||(this.eventService.dispatchEvent({type:x.EVENT_CUT_START,source:n}),this.copyOrCutToClipboard(i,!0),this.eventService.dispatchEvent({type:x.EVENT_CUT_END,source:n}))},t.prototype.copyOrCutToClipboard=function(i,n){var o=i.includeHeaders,a=i.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = ".concat(o)),null==o&&(o=this.gridOptionsService.get("copyHeadersToClipboard")),null==a&&(a=this.gridOptionsService.get("copyGroupHeadersToClipboard"));var s={includeHeaders:o,includeGroupHeaders:a},l=!this.gridOptionsService.get("suppressCopyRowsToClipboard"),c=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?l&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(s),c=ko.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),c=ko.FocusedCell):(this.copySelectedRangeToClipboard(s),c=ko.CellRange),n&&null!==c&&this.clearCellsAfterCopy(c)},t.prototype.clearCellsAfterCopy=function(i){if(this.eventService.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),i===ko.CellRange)this.rangeService.clearCellRangeCellValues({cellEventSource:"clipboardService"});else if(i===ko.SelectedRows)this.clearSelectedRows();else{var n=this.focusService.getFocusedCell();if(null==n)return;var o=this.rowPositionUtils.getRowNode(n);o&&this.clearCellValue(o,n.column)}this.eventService.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var i,n,o,a,s=this.selectionService.getSelectedNodes(),l=this.columnModel.getAllDisplayedColumns();try{for(var c=r9(s),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,r9(l)),p=h.next();!p.done;p=h.next())this.clearCellValue(d,p.value)}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(m){i={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}},t.prototype.clearCellValue=function(i,n){n.isCellEditable(i)&&i.setDataValue(n,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.get("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(i,n,o){var a=this;if(this.rangeService&&!this.rangeService.isEmpty()){var s=this.rangeService.getCellRanges();i?this.iterateActiveRange(s[0],n,o,!0):s.forEach(function(l,c){return a.iterateActiveRange(l,n,o,c===s.length-1)})}},t.prototype.iterateActiveRange=function(i,n,o,a){if(this.rangeService){var s=this.rangeService.getRangeStartRow(i),l=this.rangeService.getRangeEndRow(i);o&&i.columns&&o(i.columns);for(var c=0,u=!1;!u&&null!=s;){var d=this.rowPositionUtils.getRowNode(s);u=this.rowPositionUtils.sameRow(s,l),n(s,d,i.columns,c++,u&&a),s=this.cellNavigationService.getRowBelow(s)}}},t.prototype.copySelectedRangeToClipboard=function(i){if(void 0===i&&(i={}),this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(i):this.buildDataFromRanges(i),s=o.cellsToFlash;this.copyDataToClipboard(o.data),this.dispatchFlashCells(s)}},t.prototype.buildDataFromMergedRanges=function(i){var n=this,o=new Set,a=this.rangeService.getCellRanges(),s=new Map,l=[],c={};a.forEach(function(p){p.columns.forEach(function(v){return o.add(v)});var f=n.getRangeRowPositionsAndCellsToFlash(p),g=f.cellsToFlash;f.rowPositions.forEach(function(v){var y="".concat(v.rowIndex,"-").concat(v.rowPinned||"null");s.get(y)||(s.set(y,!0),l.push(v))}),Object.assign(c,g)});var u=this.columnModel.getAllDisplayedColumns(),d=Array.from(o);return d.sort(function(p,f){return u.indexOf(p)-u.indexOf(f)}),{data:this.buildExportParams({columns:d,rowPositions:l,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders}),cellsToFlash:c}},t.prototype.buildDataFromRanges=function(i){var n=this,o=this.rangeService.getCellRanges(),a=[],s={};return o.forEach(function(l){var c=n.getRangeRowPositionsAndCellsToFlash(l),u=c.rowPositions;Object.assign(s,c.cellsToFlash),a.push(n.buildExportParams({columns:l.columns,rowPositions:u,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders}))}),{data:a.join("\n"),cellsToFlash:s}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(i){for(var n=this,o=[],a={},s=this.rangeService.getRangeStartRow(i),l=this.rangeService.getRangeEndRow(i),c=s;c&&(o.push(c),i.columns.forEach(function(u){var f=n.cellPositionUtils.createIdFromValues({rowIndex:c.rowIndex,column:u,rowPinned:c.rowPinned});a[f]=!0}),!this.rowPositionUtils.sameRow(c,l));)c=this.cellNavigationService.getRowBelow(c);return{rowPositions:o,cellsToFlash:a}},t.prototype.getCellsToFlashFromRowNodes=function(i){for(var n=this.columnModel.getAllDisplayedColumns(),o={},a=0;a<i.length;a++){var s=i[a],l=s.rowIndex,c=s.rowPinned;if(null!=l)for(var u=0;u<n.length;u++)o[this.cellPositionUtils.createIdFromValues({rowIndex:l,column:n[u],rowPinned:c})]=!0}return o},t.prototype.copyFocusedCellToClipboard=function(i){var n;void 0===i&&(i={});var o=this.focusService.getFocusedCell();if(null!=o){var a=this.cellPositionUtils.createId(o),c=this.buildExportParams({columns:[o.column],rowPositions:[{rowPinned:o.rowPinned,rowIndex:o.rowIndex}],includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders});this.copyDataToClipboard(c),this.dispatchFlashCells(((n={})[a]=!0,n))}},t.prototype.copySelectedRowsToClipboard=function(i){void 0===i&&(i={});var s=this.buildExportParams({columns:i.columnKeys,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders});this.copyDataToClipboard(s);var l=this.selectionService.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(l))},t.prototype.buildExportParams=function(i){var n=this,a=i.rowPositions,s=i.includeHeaders,c=i.includeGroupHeaders,d={columnKeys:i.columns,rowPositions:a,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==c&&c),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(h){return n.processRowGroupCallback(h)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(d,!0)},t.prototype.processRowGroupCallback=function(i){var n=this,o=i.node,a=i.column,s=this.gridOptionsService.get("treeData"),l=this.gridOptionsService.get("suppressGroupMaintainValueType"),u=function(){var f,m;if(s||l||!a)return o.key;var g=null===(f=o.groupData)||void 0===f?void 0:f[a.getId()];return g&&o.rowGroupColumn&&!1!==o.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(m=n.valueFormatterService.formatValue(o.rowGroupColumn,o,g))&&void 0!==m?m:g}();if(i.node.footer){var d="";u&&u.length&&(d=" ".concat(u)),u="Total".concat(d)}var h=this.gridOptionsService.getCallback("processCellForClipboard");if(h){var p=o.rowGroupColumn;return!p&&o.footer&&-1===o.level&&(p=this.columnModel.getRowGroupColumns()[0]),h({value:u,node:o,column:p,type:"clipboard",formatValue:function(f){var m;return null!==(m=n.valueFormatterService.formatValue(p,o,f))&&void 0!==m?m:f},parseValue:function(f){return n.valueParserService.parseValue(p,o,f,n.valueService.getValue(p,o))}})}return u},t.prototype.dispatchFlashCells=function(i){var n=this;window.setTimeout(function(){n.eventService.dispatchEvent({type:x.EVENT_FLASH_CELLS,cells:i})},0)},t.prototype.processCell=function(i,n,o,a,s,l,c){var d,u=this;return s?s({column:n,node:i,value:o,type:a,formatValue:function(p){var f;return null!==(f=u.valueFormatterService.formatValue(n,i??null,p))&&void 0!==f?f:p},parseValue:function(p){return u.valueParserService.parseValue(n,i??null,p,u.valueService.getValue(n,i))}}):l&&!1!==n.getColDef().useValueParserForImport?this.valueParserService.parseValue(n,i??null,o,this.valueService.getValue(n,i)):c&&!1!==n.getColDef().useValueFormatterForExport&&null!==(d=this.valueFormatterService.formatValue(n,i??null,o))&&void 0!==d?d:o},t.prototype.copyDataToClipboard=function(i){var n=this,o=this.gridOptionsService.getCallback("sendToClipboard");o?o({data:i}):!this.gridOptionsService.get("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(i).catch(function(s){D.doOnce(function(){console.warn(s),console.warn(a9("writeText"))},"clipboardApiError"),n.copyDataToClipboardLegacy(i)}):this.copyDataToClipboardLegacy(i)},t.prototype.copyDataToClipboardLegacy=function(i){var n=this;this.executeOnTempElement(function(o){var a=n.gridOptionsService.getDocument(),s=a.activeElement;o.value=i||" ",o.select(),o.focus({preventScroll:!0}),a.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=s&&null!=s.focus&&s.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(i,n){var o=this.gridOptionsService.getDocument(),a=o.createElement("textarea");a.style.width="1px",a.style.height="1px",a.style.top=o.documentElement.scrollTop+"px",a.style.left=o.documentElement.scrollLeft+"px",a.style.position="absolute",a.style.opacity="0";var s=this.gridCtrl.getGui();s.appendChild(a);try{i(a)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}n?window.setTimeout(function(){n(a),s.removeChild(a)},100):s.removeChild(a)},t.prototype.getRangeSize=function(){var i=this.rangeService.getCellRanges(),n=0,o=0;return i.length>0&&(n=this.rangeService.getRangeStartRow(i[0]).rowIndex,o=this.rangeService.getRangeEndRow(i[0]).rowIndex),n-o+1},xr([C("csvCreator")],t.prototype,"csvCreator",void 0),xr([C("loggerFactory")],t.prototype,"loggerFactory",void 0),xr([C("selectionService")],t.prototype,"selectionService",void 0),xr([gt("rangeService")],t.prototype,"rangeService",void 0),xr([C("rowModel")],t.prototype,"rowModel",void 0),xr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),xr([C("valueService")],t.prototype,"valueService",void 0),xr([C("focusService")],t.prototype,"focusService",void 0),xr([C("rowRenderer")],t.prototype,"rowRenderer",void 0),xr([C("columnModel")],t.prototype,"columnModel",void 0),xr([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),xr([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),xr([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),xr([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),xr([C("valueParserService")],t.prototype,"valueParserService",void 0),xr([j],t.prototype,"init",null),e=xr([oe("clipboardService")],t)}(z),MNe={version:"31.1.1",moduleName:ie.ClipboardModule,beans:[ANe],dependantModules:[ur,eD]},RNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Er=(()=>((Er=Er||{})[Er.EXPANDED=0]="EXPANDED",Er[Er.COLLAPSED=1]="COLLAPSED",Er[Er.INDETERMINATE=2]="INDETERMINATE",Er))(),PNe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return RNe(t,r),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(n){n.key===V.SPACE&&(n.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.addManagedPropertyListener("functionsReadOnly",function(){return e.onFunctionsReadOnlyPropChanged()}),this.eFilterTextField.setAutoComplete(!1).onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var i=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(i("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(i("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])},t.prototype.onFunctionsReadOnlyPropChanged=function(){var e=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)},t.prototype.init=function(e){this.params=e;var i=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(i),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",i),this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(Er.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,i=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eSelect.getGui(),i),D.setDisplayed(this.eExpand,n&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=D.debounce(function(){var i=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:i})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyDown=function(e){var i=this;e.key===V.ENTER&&setTimeout(function(){return i.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Er.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,D.setDisplayed(this.eExpandChecked,this.expandState===Er.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.expandState===Er.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.expandState===Er.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',SC([C("columnModel")],t.prototype,"columnModel",void 0),SC([G("eExpand")],t.prototype,"eExpand",void 0),SC([G("eSelect")],t.prototype,"eSelect",void 0),SC([G("eFilterTextField")],t.prototype,"eFilterTextField",void 0),SC([j],t.prototype,"postConstruct",null),t}(le),xC=function(){function r(t,e,i,n,o){void 0===n&&(n=!1),this.eventService=new Ll,this.displayName=t,this.dept=i,this.group=n,n?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return r.prototype.isGroup=function(){return this.group},r.prototype.getDisplayName=function(){return this.displayName},r.prototype.getColumnGroup=function(){return this.columnGroup},r.prototype.getColumn=function(){return this.column},r.prototype.getDept=function(){return this.dept},r.prototype.isExpanded=function(){return!!this.expanded},r.prototype.getChildren=function(){return this.children},r.prototype.isPassesFilter=function(){return this.passesFilter},r.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:r.EVENT_EXPANDED_CHANGED}))},r.prototype.setPassesFilter=function(t){this.passesFilter=t},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r}(),INe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},s9=function(r){function t(e,i,n){var o=r.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=i,o.parentEl=n,o.displayName=null,o}return INe(t,r),t.prototype.postConstruct=function(){if(this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof bt?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()){this.mouseEvent.preventDefault();var e=this.getMappedMenuItems();if(0===e.length)return;this.displayContextMenu(e)}},t.prototype.initializeProperties=function(e){this.columns=e instanceof ei?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(i){return i.isPrimary()&&i.isAllowRowGroup()}),this.allowValues=this.columns.some(function(i){return i.isPrimary()&&i.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(i){return i.isPrimary()&&i.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,i=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(n){return n.isPrimary()&&n.isAllowRowGroup()&&!e.columnModel.isColumnGroupingLocked(n)},activeFunction:function(n){return n.isRowGroupActive()},activateLabel:function(){return"".concat(i("groupBy","Group by")," ").concat(e.displayName)},deactivateLabel:function(){return"".concat(i("ungroupBy","Un-Group by")," ").concat(e.displayName)},activateFunction:function(){var n=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(n),"toolPanelUi")},deActivateFunction:function(){var n=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(n),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(n){return n.isPrimary()&&n.isAllowValue()},activeFunction:function(n){return n.isValueActive()},activateLabel:function(){return i("addToValues","Add ".concat(e.displayName," to values"),[e.displayName])},deactivateLabel:function(){return i("removeFromValues","Remove ".concat(e.displayName," from values"),[e.displayName])},activateFunction:function(){var n=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(n),"toolPanelUi")},deActivateFunction:function(){var n=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(n),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(n){return e.columnModel.isPivotMode()&&n.isPrimary()&&n.isAllowPivot()},activeFunction:function(n){return n.isPivotActive()},activateLabel:function(){return i("addToLabels","Add ".concat(e.displayName," to labels"),[e.displayName])},deactivateLabel:function(){return i("removeFromLabels","Remove ".concat(e.displayName," from labels"),[e.displayName])},activateFunction:function(){var n=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(n),"toolPanelUi")},deActivateFunction:function(){var n=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(n),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1).concat(this.columns.filter(function(i){return-1===e.indexOf(i)}))},t.prototype.removeColumnsFromList=function(e){var i=this;return e.filter(function(n){return-1===i.columns.indexOf(n)})},t.prototype.displayContextMenu=function(e){var i=this,n=this.getGui(),o=this.createBean(new GE),a=this.localeService.getLocaleTextFunc(),s=function(){};n.appendChild(o.getGui()),o.addMenuItems(e),o.addManagedListener(o,Bs.EVENT_CLOSE_MENU,function(){i.parentEl.focus(),s()});var l=this.popupService.addPopup({modal:!0,eChild:n,closeOnEsc:!0,afterGuiAttached:function(){return i.focusService.focusInto(o.getGui())},ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:function(c){c instanceof KeyboardEvent&&i.parentEl.focus(),i.destroyBean(o)}});l&&(s=l.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:n})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,i,n=[],o=function(u){var d=a.columns.some(function(p){return u.allowedFunction(p)&&!u.activeFunction(p)}),h=a.columns.some(function(p){return u.allowedFunction(p)&&u.activeFunction(p)});d&&n.push({name:u.activateLabel(a.displayName),icon:D.createIconNoSpan(u.addIcon,a.gridOptionsService,null),action:function(){return u.activateFunction()}}),h&&n.push({name:u.deactivateLabel(a.displayName),icon:D.createIconNoSpan(u.removeIcon,a.gridOptionsService,null),action:function(){return u.deActivateFunction()}})},a=this;try{for(var s=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),l=s.next();!l.done;l=s.next())o(l.value)}catch(u){e={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return n},pD([C("columnModel")],t.prototype,"columnModel",void 0),pD([C("popupService")],t.prototype,"popupService",void 0),pD([C("focusService")],t.prototype,"focusService",void 0),pD([j],t.prototype,"postConstruct",null),t}(le),NNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hu=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},l9=function(r){function t(e,i,n,o){var a=r.call(this)||this;return a.modelItem=e,a.allowDragging=i,a.eventType=n,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a.allowDragging=i,a}return NNe(t,r),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var i=this.cbSelect.getGui(),n=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),n.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,x.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,xC.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),Cp.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,i=this.columnGroup.getColGroupDef();if(i){var n=function(){e.setTooltip(i.headerTooltip)};n(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case V.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case V.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case V.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var i=this,o=this.columnGroup;if(!this.gridOptionsService.get("functionsReadOnly")){var s=this.createBean(new s9(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&i.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(i){e.addManagedListener(i,bt.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),n={type:zt.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return i?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){i=!e.gridOptionsService.get("suppressDragLeaveHidesColumns"),e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(o){i&&e.modelItemUtils.updateColumns({columns:e.columnGroup.getLeafColumns(),visibleState:o?.visibleState,pivotState:o?.pivotState,eventType:e.eventType})},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else D.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e=this,i=this.columnGroup.getLeafColumns(),n={},o={};return i.forEach(function(a){var s=a.getId();n[s]=a.isVisible(),o[s]=e.modelItemUtils.createPivotState(a)}),{columns:i,visibleState:n,pivotState:o}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(D.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new Pn(this.eColumnGroupIcons,!0);this.addManagedListener(e,Pn.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],i=function(n){n.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?i(o.getChildren()):e.push(o.getColumn()))})};return i(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue(),o=void 0===n?e("ariaIndeterminate","indeterminate"):n?e("ariaVisible","visible"):e("ariaHidden","hidden"),a=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(i)),this.cbSelect.setInputAriaLabel("".concat(a," (").concat(o,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),i=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(i),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",i),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,i=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),o=0,a=0;if(n.forEach(function(s){!i&&s.getColDef().lockVisible||(e.isColumnChecked(s,i)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),i=0;return this.columnGroup.getLeafColumns().forEach(function(n){e?n.isAnyFunctionAllowed()&&i++:n.getColDef().lockVisible||i++}),0===i},t.prototype.isColumnChecked=function(e,i){if(i){var n=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return n||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();D.setDisplayed(this.eGroupClosedIcon,!e),D.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var i=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!i||!e&&i)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',hu([C("columnModel")],t.prototype,"columnModel",void 0),hu([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),hu([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),hu([G("cbSelect")],t.prototype,"cbSelect",void 0),hu([G("eLabel")],t.prototype,"eLabel",void 0),hu([G("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),hu([G("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),hu([G("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),hu([j],t.prototype,"init",null),t}(le),GNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},VNe=function(r){function t(e,i){var n=r.call(this)||this;return n.comp=e,n.virtualList=i,n}return GNe(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new EY(this.comp,this.virtualList,{dragSourceType:zt.ToolPanel,listItemDragStartEvent:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:function(i){return e.getCurrentDragValue(i)},isMoveBlocked:function(i){return e.isMoveBlocked(i)},getNumRows:function(i){return i.getDisplayedColsList().length},moveItem:function(i,n){return e.moveItem(i,n)}}))},t.prototype.getCurrentDragValue=function(e){return e.column},t.prototype.isMoveBlocked=function(e){return!!this.gridOptionsService.get("suppressMovableColumns")||!!this.getCurrentColumns(e).find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition})},t.prototype.moveItem=function(e,i){var n=this.getTargetIndex(e,i),o=this.getCurrentColumns(e);null!=n&&this.columnModel.moveColumns(o,n,"toolPanelUi")},t.prototype.getMoveDiff=function(e,i){var n=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(e),s=o.length;return n.indexOf(o[0])<i?s:0},t.prototype.getCurrentColumns=function(e){return e instanceof ei?e.getLeafColumns():[e]},t.prototype.getTargetIndex=function(e,i){if(!i)return null;var a,n=i.component,o="top"===i.position;if(n instanceof l9?(a=n.getColumns()[0],o=!0):a=n.getColumn(),-1!==this.getCurrentColumns(e).indexOf(a))return null;var c=this.columnModel.getAllGridColumns().indexOf(a),u=o?c:c+1;return u-this.getMoveDiff(e,u)},HL([C("columnModel")],t.prototype,"columnModel",void 0),HL([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),HL([j],t.prototype,"postConstruct",null),t}(z),BNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yg=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},HNe=function(r){function t(e,i,n,o){var a=r.call(this)||this;return a.allowDragging=i,a.groupsExist=n,a.focusWrapper=o,a.processingColumnStateChange=!1,a.column=e.getColumn(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a}return BNe(t,r),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var i=this.cbSelect.getGui(),n=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),n.setAttribute("tabindex","-1");var o=D.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-".concat(a)),this.setupDragging(),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,x.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),Cp.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,i=function(){var n=e.column.getColDef().headerTooltip;e.setTooltip(n)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var i=this,o=this.column;if(!this.gridOptionsService.get("functionsReadOnly")){var s=this.createBean(new s9(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&i.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===V.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.get("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumn","Column"),n=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(i)),this.cbSelect.setInputAriaLabel("".concat(o," (").concat(n,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),n={type:zt.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return i?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){i=!e.gridOptionsService.get("suppressDragLeaveHidesColumns"),e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(o){i&&e.modelItemUtils.updateColumns({columns:[e.column],visibleState:o?.visibleState,pivotState:o?.pivotState,eventType:"toolPanelUi"})},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else D.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e,i,n=this.column.getColId(),o=((e={})[n]=this.column.isVisible(),e),a=((i={})[n]=this.modelItemUtils.createPivotState(this.column),i);return{columns:[this.column],visibleState:o,pivotState:a}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var i=this.column.isAnyFunctionActive();this.cbSelect.setValue(i)}else this.cbSelect.setValue(this.column.isVisible());var n=!0,o=!0;if(e){var a=this.gridOptionsService.get("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();o=n=!a&&!s}else{var l=this.column.getColDef();n=!l.lockVisible,o=!!l.enableRowGroup||!!l.enableValue||!(l.lockPosition||l.suppressMovable)}this.cbSelect.setReadOnly(!n),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!n);var g=e&&this.gridOptionsService.get("functionsPassive");this.cbSelect.setPassive(g),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',yg([C("columnModel")],t.prototype,"columnModel",void 0),yg([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),yg([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),yg([G("eLabel")],t.prototype,"eLabel",void 0),yg([G("cbSelect")],t.prototype,"cbSelect",void 0),yg([j],t.prototype,"init",null),t}(le),jNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},UNe=function(){function r(t){this.items=t}return r.prototype.getRowCount=function(){return this.items.length},r.prototype.getRow=function(t){return this.items[t]},r}(),WNe=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e.hasLoadedInitialState=!1,e.isInitialState=!1,e}return jNe(t,r),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,i,n){var o=this;this.params=e,this.allowDragging=i,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[x.EVENT_COLUMN_PIVOT_CHANGED,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,x.EVENT_COLUMN_ROW_GROUP_CHANGED,x.EVENT_COLUMN_VALUE_CHANGED,x.EVENT_COLUMN_VISIBLE,x.EVENT_NEW_COLUMNS_LOADED].forEach(function(l){o.addManagedListener(o.eventService,l,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new cg({cssIdentifier:"column-select",ariaRole:"tree"})),this.appendChild(this.virtualList.getGui());var s=this.virtualList.getAriaElement();D.setAriaLive(s,"assertive"),D.setAriaAtomic(s,!1),D.setAriaRelevant(s,"text"),this.virtualList.setComponentCreator(function(l,c){return D.setAriaLevel(c,l.getDept()+1),o.createComponentFromItem(l,c)}),this.columnModel.isReady()&&this.onColumnsChanged(),!this.params.suppressColumnMove&&(this.colsListPanelItemDragFeature=this.createManagedBean(new VNe(this,this.virtualList)))},t.prototype.createComponentFromItem=function(e,i){if(e.isGroup()){var n=new l9(e,this.allowDragging,this.eventType,i);return this.getContext().createBean(n),n}var o=new HNe(e,this.allowDragging,this.groupsExist,i);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var e=this.getExpandedStates(),i=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||i?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){var e={};return this.isInitialState?(this.params.initialState.expandedGroupIds.forEach(function(n){e[n]=!0}),e):this.allColsTree?(this.forEachItem(function(n){if(n.isGroup()){var o=n.getColumnGroup();o&&(e[o.getId()]=n.isExpanded())}}),e):{}},t.prototype.setExpandedStates=function(e){if(this.allColsTree){var i=this.isInitialState;this.forEachItem(function(n){if(n.isGroup()){var o=n.getColumnGroup();if(o){var a=e[o.getId()];(null!=a||i)&&n.setExpanded(!!a)}}})}},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var i=this.colDefService.createColumnTree(e);this.buildListModel(i),this.groupsExist=e.some(function(n){return n&&typeof n.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var i=this,n=this.onColumnExpanded.bind(this),a=function(c,u,d){c.forEach(function(h){h instanceof ei?s(h,u,d):l(h,u,d)})},s=function(c,u,d){var h=c.getColGroupDef();if(!h||!h.suppressColumnsToolPanel){if(c.isPadding())return void a(c.getChildren(),u,d);var f=i.columnModel.getDisplayNameForProvidedColumnGroup(null,c,"columnToolPanel"),m=new xC(f,c,u,!0,i.expandGroupsByDefault);d.push(m),function(c){c.addEventListener(xC.EVENT_EXPANDED_CHANGED,n);var u=c.removeEventListener.bind(c,xC.EVENT_EXPANDED_CHANGED,n);i.destroyColumnItemFuncs.push(u)}(m),a(c.getChildren(),u+1,m.getChildren())}},l=function(c,u,d){if(!c.getColDef()||!c.getColDef().suppressColumnsToolPanel){var p=i.columnModel.getDisplayNameForColumn(c,"columnToolPanel");d.push(new xC(p,c,u))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var i=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(i))};this.allColsTree.forEach(i),this.virtualList.setModel(new UNe(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners(),this.refreshAriaLabel()},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumnPanelList","Column List"),n=e("columns","Columns"),o=this.displayedColsList.length;D.setAriaLabel(this.virtualList.getAriaElement(),"".concat(i," ").concat(o," ").concat(n))},t.prototype.focusRowIfAlive=function(e){var i=this;window.setTimeout(function(){i.isAlive()&&i.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var i=function(n){n.forEach(function(o){e(o),o.isGroup()&&i(o.getChildren())})};this.allColsTree&&i(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(i){i.isGroup()&&i.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,i){if(i){var n=[];this.forEachItem(function(a){if(a.isGroup()){var s=a.getColumnGroup().getId();i.indexOf(s)>=0&&(a.setExpanded(e),n.push(s))}});var o=i.filter(function(a){return!D.includes(n,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,i=0;return this.forEachItem(function(n){n.isGroup()&&(n.isExpanded()?e++:i++)}),e>0&&i>0?Er.INDETERMINATE:i>0?Er.COLLAPSED:Er.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,i=0,n=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var l,a=o.getColumn(),s=a.getColDef();if(n){if(!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue())return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:i++}}),!(e>0&&i>0))return!(0===e||i>0)},t.prototype.setFilterText=function(e){this.filterText=D.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,i=function(o){if(!D.exists(e.filterText))return!0;var a=o.getDisplayName();return null==a||-1!==a.toLowerCase().indexOf(e.filterText)},n=function(o,a){var s=!1;if(o.isGroup()){var l=i(o);o.getChildren().forEach(function(u){var d=n(u,l||a);d&&(s=d)})}var c=!(!a&&!s)||i(o);return o.setPassesFilter(c),c};this.allColsTree.forEach(function(o){return n(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){if(this.allColsTree){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}},t.prototype.getExpandedGroups=function(){var e=[];return this.allColsTree&&this.forEachItem(function(i){i.isGroup()&&i.isExpanded()&&e.push(i.getColumnGroup().getId())}),e},t.TEMPLATE='<div class="'.concat("ag-column-select-list",'" role="presentation"></div>'),fD([C("columnModel")],t.prototype,"columnModel",void 0),fD([C("toolPanelColDefService")],t.prototype,"colDefService",void 0),fD([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),fD([Oi],t.prototype,"destroyColumnTree",null),t}(le),$Ne=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},c9=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $Ne(t,r),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,x.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.gridOptionsService.updateGridOptions({options:{pivotMode:e},source:"toolPanelUi"});var i=this.api;i&&i.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},mD([C("columnModel")],t.prototype,"columnModel",void 0),mD([C("gridApi")],t.prototype,"api",void 0),mD([G("cbPivotMode")],t.prototype,"cbPivotMode",void 0),mD([Zm],t.prototype,"init",null),t}(le),KNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},YNe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KNe(t,r),t.prototype.execute=function(e){var i=D.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsService.getCallback("getGroupRowAgg"),o=e.changedPath&&e.changedPath.isActive();if(!(i&&n&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var i=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),o=i?this.columnModel.getPivotColumns():[];return{alwaysAggregateAtRootLevel:this.gridOptionsService.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:n,pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")}},t.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.get("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var i=this;e.changedPath.forEachChangedNodeDepthFirst(function(o){if(o.hasChildren()){if(-1===o.level&&!e.groupIncludeTotalFooter){var l=!i.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l)return void o.setAggData(null)}i.aggregateRowNode(o,e)}else o.aggData&&o.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,i){var a,n=0===i.valueColumns.length,o=0===i.pivotColumns.length;a=i.userAggFunc?i.userAggFunc({nodes:e.childrenAfterFilter}):n?null:o?this.aggregateRowNodeUsingValuesOnly(e,i):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(a),e.sibling&&e.sibling.setAggData(a)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){for(var i,n,o={},a=null!==(i=this.columnModel.getSecondaryColumns())&&void 0!==i?i:[],s=!0,l=0;l<a.length;l++)if(null==(u=(c=a[l]).getColDef()).pivotTotalColumnIds){var h,d=null!==(n=u.pivotKeys)&&void 0!==n?n:[];h=e.leafGroup?this.getValuesFromMappedSet(e.childrenMapped,d,u.pivotValueColumn):this.getValuesPivotNonLeaf(e,u.colId),o[u.colId]=this.aggregateValues(h,u.pivotValueColumn.getAggFunc(),u.pivotValueColumn,e,c)}else s=!1;if(!s)for(l=0;l<a.length;l++){var c,u;if(null!=(u=(c=a[l]).getColDef()).pivotTotalColumnIds&&u.pivotTotalColumnIds.length){var p=u.pivotTotalColumnIds.map(function(v){return o[v]});o[u.colId]=this.aggregateValues(p,u.pivotValueColumn.getAggFunc(),u.pivotValueColumn,e,c)}}return o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,i){var n=this,o={},a=i.changedPath.isActive()?i.changedPath.getValueColumnsForNode(e,i.valueColumns):i.valueColumns,s=i.changedPath.isActive()?i.changedPath.getNotValueColumnsForNode(e,i.valueColumns):null,l=this.getValuesNormal(e,a,i.filteredOnly),c=e.aggData;return a.forEach(function(u,d){o[u.getId()]=n.aggregateValues(l[d],u.getAggFunc(),u,e)}),s&&c&&s.forEach(function(u){o[u.getId()]=c[u.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,i){return e.childrenAfterFilter.map(function(n){return n.aggData[i]})},t.prototype.getValuesFromMappedSet=function(e,i,n){for(var o=this,a=e,s=0;s<i.length;s++)a=a?a[i[s]]:null;return a?a.map(function(c){return o.valueService.getValue(n,c)}):[]},t.prototype.getValuesNormal=function(e,i,n){var o=[];i.forEach(function(){return o.push([])});for(var a=i.length,s=n?e.childrenAfterFilter:e.childrenAfterGroup,l=s.length,c=0;c<l;c++)for(var u=s[c],d=0;d<a;d++){var p=this.valueService.getValue(i[d],u);o[d].push(p)}return o},t.prototype.aggregateValues=function(e,i,n,o,a){var s="string"==typeof i?this.aggFuncService.getAggFunc(i):i;return"function"!=typeof s?(console.error("AG Grid: unrecognised aggregation function ".concat(i)),null):s(this.gridOptionsService.addGridCommonParams({values:e,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:a,rowNode:o,data:o?o.data:void 0}))},gD([C("columnModel")],t.prototype,"columnModel",void 0),gD([C("valueService")],t.prototype,"valueService",void 0),gD([C("aggFuncService")],t.prototype,"aggFuncService",void 0),gD([oe("aggregationStage")],t)}(z),jL=function(){function r(){this.allSets={},this.allParents=[]}return r.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},r.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},r.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},r.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},r.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},r.prototype.getAllParents=function(){return this.allParents},r.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var i=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(n){return!i.removeFromChildrenAfterGroup[n.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(n){return!i.removeFromAllLeafChildren[n.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},r}(),qNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_g=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},u9=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},d9=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},XNe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return qNe(t,r),t.prototype.execute=function(e){var i=this.createGroupingDetails(e);i.transactions?this.handleTransaction(i):this.shotgunResetEverything(i,!0===e.afterColumnsChanged),i.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(i)),this.selectableService.updateSelectableAfterGrouping()},t.prototype.positionLeafsAndGroups=function(e){e.forEachChangedNodeDepthFirst(function(i){if(i.childrenAfterGroup){var a,n=[],o=[];i.childrenAfterGroup.forEach(function(s){var l;null!==(l=s.childrenAfterGroup)&&void 0!==l&&l.length?""!==s.key||a?o.push(s):a=s:n.push(s)}),a&&o.push(a),i.childrenAfterGroup=d9(d9([],u9(n),!1),u9(o),!1)}},!1)},t.prototype.createGroupingDetails=function(e){var i,n=e.rowNode,o=e.changedPath,a=e.rowNodeTransactions,s=e.rowNodeOrder,l=this.gridOptionsService.get("treeData"),c=l?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.get("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.get("groupDefaultExpanded"),groupedCols:c,rootNode:n,pivotMode:this.columnModel.isPivotMode(),groupedColCount:l||!c?0:c.length,rowNodeOrder:s,transactions:a,changedPath:o,groupAllowUnbalanced:this.gridOptionsService.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),usingTreeData:l,suppressGroupMaintainValueType:this.gridOptionsService.get("suppressGroupMaintainValueType"),getDataPath:l?this.gridOptionsService.get("getDataPath"):void 0,keyCreators:null!==(i=c?.map(function(d){return d.getColDef().keyCreator}))&&void 0!==i?i:[]}},t.prototype.handleTransaction=function(e){var i=this;e.transactions.forEach(function(n){var o=e.usingTreeData?void 0:new jL;if(D.existsAndNotEmpty(n.remove)&&i.removeNodes(n.remove,e,o),D.existsAndNotEmpty(n.update)&&i.moveNodesInWrongPath(n.update,e,o),D.existsAndNotEmpty(n.add)&&i.insertNodes(n.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),i.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(i){i.childrenAfterGroup&&D.sortRowNodesByOrder(i.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(i)},!1,!0)},t.prototype.orderGroups=function(e){var i=e.initialGroupOrderComparator;D.exists(i)&&function n(o){D.exists(o.childrenAfterGroup)&&!o.leafGroup&&(o.childrenAfterGroup.sort(function(s,l){return i({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return n(s)}))}(e.rootNode)},t.prototype.getExistingPathForNode=function(e,i){for(var n=[],o=i.usingTreeData?e:e.parent;o&&o!==i.rootNode;)n.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return n.reverse(),n},t.prototype.moveNodesInWrongPath=function(e,i,n){var o=this;e.forEach(function(a){i.changedPath.isActive()&&i.changedPath.addParentNode(a.parent);var s=function(d){return d.key},l=o.getExistingPathForNode(a,i).map(s),c=o.getGroupInfo(a,i).map(s);D.areEqual(l,c)||o.moveNode(a,i,n)})},t.prototype.moveNode=function(e,i,n){this.removeNodesInStages([e],i,n),this.insertOneNode(e,i,!0,n),e.setData(e.data),i.changedPath.isActive()&&i.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,i,n){this.removeNodesInStages(e,i,n),i.changedPath.isActive()&&e.forEach(function(o){return i.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,i,n){if(this.removeNodesFromParents(e,i,n),i.usingTreeData){this.postRemoveCreateFillerNodes(e,i);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,i)}},t.prototype.forEachParentGroup=function(e,i,n){for(var o=i;o&&o!==e.rootNode;)n(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,i,n){var o=this,a=null==n,s=n||new jL;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(i,l.parent,function(c){s.removeFromAllLeafChildren(c,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,i){var n=this;e.forEach(function(o){if(o.hasChildren()){var s=n.getExistingPathForNode(o,i),l=n.findParentForNode(o,s,i);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(c){return c.parent=l})}})},t.prototype.removeEmptyGroups=function(e,i){for(var n=this,o=!0,s=function(){o=!1;var l=new jL;e.forEach(function(c){n.forEachParentGroup(i,c,function(u){(function(l){var c=n.getChildrenMappedKey(l.key,l.rowGroupColumn),u=l.parent;return!!(u&&u.childrenMapped&&u.childrenMapped[c]&&l.isEmptyRowGroupNode())})(u)&&(o=!0,n.removeFromParent(u,l),u.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,i){e.parent&&(i?i.removeFromChildrenAfterGroup(e.parent,e):(D.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,i){var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);i&&(null!=i.childrenMapped&&(i.childrenMapped[n]=e),i.childrenAfterGroup.push(e),i.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,i){return null!=e&&null!=i&&e.pivotMode===i.pivotMode&&D.areEqual(e.groupedCols,i.groupedCols)&&D.areEqual(e.keyCreators,i.keyCreators)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var i=this,n=function(o){o&&o.forEach(function(a){!e.usingTreeData&&!a.group||(i.setGroupData(a,{field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn,leafNode:a.allLeafChildren[0]},e),n(a.childrenAfterGroup))})};n(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,i){if(!this.noChangeInGroupingColumns(e,i)){this.selectionService.filterFromSelection(function(s){return s&&!s.group});var n=e.rootNode;n.leafGroup=!e.usingTreeData&&0===e.groupedCols.length,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();var a=n.sibling;a&&(a.childrenAfterGroup=n.childrenAfterGroup,a.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,i){var n=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return i&&(n=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,n},t.prototype.insertNodes=function(e,i,n){var o=this;e.forEach(function(a){o.insertOneNode(a,i,n),i.changedPath.isActive()&&i.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,i,n,o){var a=this.getGroupInfo(e,i),s=this.findParentForNode(e,a,i,o);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),i.usingTreeData?this.swapGroupWithUserNode(s,e,n):(e.parent=s,e.level=a.length,s.childrenAfterGroup.push(e),s.updateHasChildren())},t.prototype.findParentForNode=function(e,i,n,o){var a=this,s=n.rootNode;return i.forEach(function(l,c){s=a.getOrCreateNextNode(s,l,c,n),o?.isRemoveFromAllLeafChildren(s,e)?o?.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)}),s},t.prototype.swapGroupWithUserNode=function(e,i,n){i.parent=e.parent,i.key=e.key,i.field=e.field,i.groupData=e.groupData,i.level=e.level,n||(i.expanded=e.expanded),i.leafGroup=e.leafGroup,i.rowGroupIndex=e.rowGroupIndex,i.allLeafChildren=e.allLeafChildren,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenMapped=e.childrenMapped,i.sibling=e.sibling,i.updateHasChildren(),this.removeFromParent(e),i.childrenAfterGroup.forEach(function(o){return o.parent=i}),this.addToParent(i,e.parent)},t.prototype.getOrCreateNextNode=function(e,i,n,o){var a=this.getChildrenMappedKey(i.key,i.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(i,e,n,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,i,n,o){var a=new ct(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e,o),a.key=e.key,a.id=this.createGroupId(a,i,o.usingTreeData,n),a.level=n,a.leafGroup=!o.usingTreeData&&n===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=o.usingTreeData?null:n,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?i:null,this.setExpandedInitialValue(o,a),a},t.prototype.createGroupId=function(e,i,n,o){var a;return ct.ID_PREFIX_ROW_GROUP+(a=n?function(s,l,c){if(c<0)return null;var u=l?a(l,l.parent,c-1):null;return"".concat(null==u?"":u+"-").concat(c,"-").concat(s.key)}:function(s,l){if(!s.rowGroupColumn)return null;var c=l?a(l,l.parent,0):null;return"".concat(null==c?"":c+"-").concat(s.rowGroupColumn.getColId(),"-").concat(s.key)})(e,i,o)},t.prototype.setGroupData=function(e,i,n){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(s){if(n.usingTreeData)e.groupData[s.getColId()]=i.key;else{var c=e.rowGroupColumn;null!==c&&s.isRowGroupDisplayed(c.getId())&&(e.groupData[s.getColId()]=n.suppressGroupMaintainValueType?i.key:o.valueService.getValue(c,i.leafNode))}})},t.prototype.getChildrenMappedKey=function(e,i){return i?i.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,i){if(e.pivotMode&&i.leafGroup)i.expanded=!1;else{var n=e.isGroupOpenByDefault;i.expanded=n?1==n({rowNode:i,field:i.field,key:i.key,level:i.level,rowGroupColumn:i.rowGroupColumn}):-1===e.expandByDefault||i.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,i){return i.usingTreeData?this.getGroupInfoFromCallback(e,i):this.getGroupInfoFromGroupColumns(e,i)},t.prototype.getGroupInfoFromCallback=function(e,i){var n=i.getDataPath?i.getDataPath(e.data):null;return(null==n||0===n.length)&&D.warnOnce("getDataPath() should not return an empty path for data ".concat(e.data)),n?n.map(function(a){return{key:a,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,i){var n=this,o=[];return i.groupedCols.forEach(function(a){var s=n.valueService.getKeyForNode(a,e),l=null!=s&&""!==s;if((i.pivotMode||!i.groupAllowUnbalanced)&&!l&&(s="",l=!0),l){var u={key:s,field:a.getColDef().field,rowGroupColumn:a,leafNode:e};o.push(u)}}),o},_g([C("columnModel")],t.prototype,"columnModel",void 0),_g([C("selectableService")],t.prototype,"selectableService",void 0),_g([C("valueService")],t.prototype,"valueService",void 0),_g([C("beans")],t.prototype,"beans",void 0),_g([C("selectionService")],t.prototype,"selectionService",void 0),_g([oe("groupStage")],t)}(z),ZNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vD=function(){return vD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},vD.apply(this,arguments)},yD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},_D=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Cg=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},QNe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return ZNe(t,r),e=t,t.prototype.init=function(){var i=this,n=function(){var a;return null!==(a=i.gos.get("serverSidePivotResultFieldSeparator"))&&void 0!==a?a:"_"};this.fieldSeparator=n(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",function(){i.fieldSeparator=n()});var o=function(){return i.gos.get("pivotDefaultExpanded")};this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",function(){i.pivotDefaultExpanded=o()})},t.prototype.createPivotColumnDefs=function(i){var n=this.createPivotColumnsFromUniqueValues(i),a=function o(l,c){return void 0===c&&(c=[]),l.forEach(function(u){void 0!==u.children?o(u.children,c):c.push(u)}),c}(n);return this.addRowGroupTotals(n,a),this.addExpandablePivotGroups(n,a),this.addPivotTotalsToGroups(n,a),{pivotColumnGroupDefs:n,pivotColumnDefs:a.map(function(l){return D.cloneObject(l)})}},t.prototype.createPivotColumnsFromUniqueValues=function(i){var n=this.columnModel.getPivotColumns();return this.recursivelyBuildGroup(0,i,[],n.length,n)},t.prototype.recursivelyBuildGroup=function(i,n,o,a,s){var l=this,c=this.columnModel.getValueColumns();if(i>=a)return this.buildMeasureCols(o);var u=s[i].getColDef(),d=this.headerNameComparator.bind(this,u.pivotComparator);if(1===c.length&&this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&i===a-1){var h=[];return D.iterateObject(n,function(f){var m=Cg(Cg([],_D(o),!1),[f],!1),g=l.createColDef(c[0],f,m);g.columnGroupShow="open",h.push(g)}),h.sort(d),h}var p=[];return D.iterateObject(n,function(f,m){var g=-1===l.pivotDefaultExpanded||i<l.pivotDefaultExpanded,v=Cg(Cg([],_D(o),!1),[f],!1);p.push({children:l.recursivelyBuildGroup(i+1,m,v,a,s),headerName:f,pivotKeys:v,columnGroupShow:"open",openByDefault:g,groupId:l.generateColumnGroupId(v)})}),p.sort(d),p},t.prototype.buildMeasureCols=function(i){var n=this,o=this.columnModel.getValueColumns();return 0===o.length?[this.createColDef(null,"-",i)]:o.map(function(a){var s=n.columnModel.getDisplayNameForColumn(a,"header");return vD(vD({},n.createColDef(a,s,i)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(i,n){var o=this;if(!this.gridOptionsService.get("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var a=function(s,l,c){var u=s;if(u.children){var d=new Map;u.children.forEach(function(g){a(g,l,d)});var h=!u.children.some(function(g){return g.children});o.columnModel.getValueColumns().forEach(function(g){var v=o.columnModel.getDisplayNameForColumn(g,"header"),y=o.createColDef(g,v,s.pivotKeys);y.pivotTotalColumnIds=d.get(g.getColId()),y.columnGroupShow="closed",y.aggFunc=g.getAggFunc(),h||(s.children.push(y),l.push(y))}),o.merge(c,d)}else{var p=s;if(!p.pivotValueColumn)return;var f=p.pivotValueColumn.getColId(),m=c.has(f)?c.get(f):[];m.push(p.colId),c.set(f,m)}};i.forEach(function(s){a(s,n,new Map)})}},t.prototype.addPivotTotalsToGroups=function(i,n){var o=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var a="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),s=this.columnModel.getValueColumns(),l=s.map(function(u){return u.getAggFunc()});if(l&&!(l.length<1)&&this.sameAggFuncs(l)){var c=s[0];i.forEach(function(u){o.recursivelyAddPivotTotal(u,n,c,a)})}}},t.prototype.recursivelyAddPivotTotal=function(i,n,o,a){var s=this,l=i;if(!l.children)return i.colId?[i.colId]:null;var u=[];if(l.children.forEach(function(m){var g=s.recursivelyAddPivotTotal(m,n,o,a);g&&(u=u.concat(g))}),l.children.length>1){var h=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),p=this.createColDef(o,h,i.pivotKeys,!0);p.pivotTotalColumnIds=u,p.aggFunc=o.getAggFunc();var f=i.children;a?f.push(p):f.unshift(p),n.push(p)}return u},t.prototype.addRowGroupTotals=function(i,n){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var a="after"===this.gridOptionsService.get("pivotRowTotals"),s=this.columnModel.getValueColumns(),l=a?s.slice():s.slice().reverse(),c=function(h){var p=l[h],f=[];i.forEach(function(g){f=f.concat(o.extractColIdsForValueColumn(g,p))});var m=l.length>1||!u.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");u.createRowGroupTotal(i,n,p,f,a,m)},u=this,d=0;d<l.length;d++)c(d)},t.prototype.extractColIdsForValueColumn=function(i,n){var o=this;if(!i.children)return i.pivotValueColumn===n&&i.colId?[i.colId]:[];var l=[];return i.children.forEach(function(c){o.extractColIdsForValueColumn(c,n);var u=o.extractColIdsForValueColumn(c,n);l=l.concat(u)}),l},t.prototype.createRowGroupTotal=function(i,n,o,a,s,l){var u;if(0===this.columnModel.getValueColumns().length)u=this.createColDef(null,"-",[]);else{var d=this.columnModel.getDisplayNameForColumn(o,"header");(u=this.createColDef(o,d,[])).pivotTotalColumnIds=a}u.colId=e.PIVOT_ROW_TOTAL_PREFIX+u.colId,n.push(u);var h=l?{children:[u],pivotKeys:[],groupId:"".concat(e.PIVOT_ROW_TOTAL_PREFIX,"_pivotGroup_").concat(o.getColId())}:u;s?i.push(h):i.unshift(h)},t.prototype.createColDef=function(i,n,o,a){void 0===a&&(a=!1);var s={};if(i){var l=i.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=n,s.colId=this.generateColumnId(o||[],i&&!a?i.getColId():""),s.field=s.colId,s.valueGetter=function(c){var u;return null===(u=c.data)||void 0===u?void 0:u[c.colDef.field]},s.pivotKeys=o,s.pivotValueColumn=i,!0===s.filter&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(i){if(1==i.length)return!0;for(var n=1;n<i.length;n++)if(i[n]!==i[0])return!1;return!0},t.prototype.headerNameComparator=function(i,n,o){return i?i(n.headerName,o.headerName):n.headerName&&!o.headerName?1:!n.headerName&&o.headerName?-1:n.headerName&&o.headerName?n.headerName<o.headerName?-1:n.headerName>o.headerName?1:0:0},t.prototype.merge=function(i,n){n.forEach(function(o,a,s){var l=i.has(a)?i.get(a):[],c=Cg(Cg([],_D(l),!1),_D(o),!1);i.set(a,c)})},t.prototype.generateColumnGroupId=function(i){var n=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_".concat(n.join("-"),"_").concat(i.join("-"))},t.prototype.generateColumnId=function(i,n){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_".concat(o.join("-"),"_").concat(i.join("-"),"_").concat(n)},t.prototype.createColDefsFromFields=function(i){for(var n=this,o={},a=0;a<i.length;a++)for(var l=i[a].split(this.fieldSeparator),c=o,u=0;u<l.length;u++){var d=l[u];null==c[d]&&(c[d]={}),c=c[d]}var h=function(v,y,_,b){var w,E=[];for(var M in _){var P=_[M],I=h("".concat(v).concat(n.fieldSeparator).concat(M),M,P,b+1);E.push(I)}if(0===E.length){var k=n.columnModel.getPrimaryColumn(y);if(k){var N=null!==(w=n.columnModel.getDisplayNameForColumn(k,"header"))&&void 0!==w?w:y,B=n.createColDef(k,N,void 0,!1);return B.colId=v,B.aggFunc=k.getAggFunc(),B.valueGetter=function(W){var $;return null===($=W.data)||void 0===$?void 0:$[v]},B}return{colId:v,headerName:y,valueGetter:function(W){var $;return null===($=W.data)||void 0===$?void 0:$[v]}}}return n.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===E.length&&"colId"in E[0]?(E[0].headerName=y,E[0]):{openByDefault:-1===n.pivotDefaultExpanded||b<n.pivotDefaultExpanded,groupId:v,headerName:y,children:E}},p=[];for(var f in o){var g=h(f,f,o[f],0);p.push(g)}return p},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",yD([C("columnModel")],t.prototype,"columnModel",void 0),yD([C("gridOptionsService")],t.prototype,"gos",void 0),yD([j],t.prototype,"init",null),e=yD([oe("pivotColDefService")],t)}(z),JNe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},e1e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.uniqueValues={},e}return JNe(t,r),t.prototype.execute=function(e){var i=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(i):this.executePivotOff(i)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var i=this.bucketUpRowNodes(e),n=this.setUniqueValues(i),o=this.columnModel.getValueColumns(),a=o.map(function(b){return"".concat(b.getId(),"-").concat(b.getColDef().headerName)}).join("#"),s=o.map(function(b){return b.getAggFunc().toString()}).join("#"),l=this.aggregationColumnsHashLastTime!==a,c=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=a,this.aggregationFuncsHashLastTime=s;var u=this.columnModel.getRowGroupColumns().map(function(b){return b.getId()}).join("#"),d=u!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=u;var h=this.gridOptionsService.get("pivotRowTotals"),p=this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.gridOptionsService.get("suppressExpandablePivotGroups"),m=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn"),g=h!==this.pivotRowTotalsLastTime||p!==this.pivotColumnGroupTotalsLastTime||f!==this.suppressExpandablePivotGroupsLastTime||m!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=h,this.pivotColumnGroupTotalsLastTime=p,this.suppressExpandablePivotGroupsLastTime=f,this.removePivotHeaderRowWhenSingleValueColumnLastTime=m,n||l||d||c||g){var v=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),y=v.pivotColumnGroupDefs;this.pivotColumnDefs=v.pivotColumnDefs,this.columnModel.setSecondaryColumns(y,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var i=this,n={};e.forEachChangedNodeDepthFirst(function(a){a.leafGroup&&(a.childrenMapped=null)});var o=function(a){var s;a.leafGroup?i.bucketRowNode(a,n):null===(s=a.childrenAfterFilter)||void 0===s||s.forEach(o)};return e.executeFromRootNode(o),n},t.prototype.bucketRowNode=function(e,i){var n=this.columnModel.getPivotColumns();e.childrenMapped=0===n.length?null:this.bucketChildren(e.childrenAfterFilter,n,0,i),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,i,n,o){var a=this,s={},l=i[n];if(e.forEach(function(u){var d=a.valueService.getKeyForNode(l,u);D.missing(d)&&(d=""),o[d]||(o[d]={}),s[d]||(s[d]=[]),s[d].push(u)}),n===i.length-1)return s;var c={};return D.iterateObject(s,function(u,d){c[u]=a.bucketChildren(d,i,n+1,o[u])}),c},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},CD([C("valueService")],t.prototype,"valueService",void 0),CD([C("columnModel")],t.prototype,"columnModel",void 0),CD([C("pivotColDefService")],t.prototype,"pivotColDefService",void 0),CD([oe("pivotStage")],t)}(z),t1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Yl=typeof BigInt>"u"?null:BigInt,i1e={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},n1e=function(r){function t(){var i=null!==r&&r.apply(this,arguments)||this;return i.aggFuncsMap={},i.initialised=!1,i}var e;return t1e(t,r),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=r1e,this.aggFuncsMap[e.AGG_FIRST]=o1e,this.aggFuncsMap[e.AGG_LAST]=a1e,this.aggFuncsMap[e.AGG_MIN]=s1e,this.aggFuncsMap[e.AGG_MAX]=l1e,this.aggFuncsMap[e.AGG_COUNT]=c1e,this.aggFuncsMap[e.AGG_AVG]=u1e,this.initialised=!0},t.prototype.isAggFuncPossible=function(i,n){var o=this.getFuncNames(i),a=D.includes(o,n),s=D.exists(this.aggFuncsMap[n]);return a&&s},t.prototype.getDefaultFuncLabel=function(i){var n;return null!==(n=i1e[i])&&void 0!==n?n:i},t.prototype.getDefaultAggFunc=function(i){var n=i.getColDef().defaultAggFunc;if(D.exists(n)&&this.isAggFuncPossible(i,n))return n;if(this.isAggFuncPossible(i,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(i);return D.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(i){var n=this;this.init(),D.iterateObject(i,function(o,a){n.aggFuncsMap[o]=a})},t.prototype.getAggFunc=function(i){return this.init(),this.aggFuncsMap[i]},t.prototype.getFuncNames=function(i){return i.getColDef().allowedAggFuncs??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",h9([j],t.prototype,"init",null),e=h9([oe("aggFuncService")],t)}(z);function r1e(r){for(var t=r.values,e=null,i=0;i<t.length;i++){var n=t[i];"number"==typeof n?null===e?e=n:e+=Yl?"number"==typeof e?n:Yl(n):n:"bigint"==typeof n&&(e=null===e?n:("bigint"==typeof e?e:Yl(e))+n)}return e}function o1e(r){return r.values.length>0?r.values[0]:null}function a1e(r){return r.values.length>0?D.last(r.values):null}function s1e(r){for(var t=r.values,e=null,i=0;i<t.length;i++){var n=t[i];("number"==typeof n||"bigint"==typeof n)&&(null===e||e>n)&&(e=n)}return e}function l1e(r){for(var t=r.values,e=null,i=0;i<t.length;i++){var n=t[i];("number"==typeof n||"bigint"==typeof n)&&(null===e||e<n)&&(e=n)}return e}function c1e(r){for(var t,e,i=r.values,n=0,o=0;o<i.length;o++){var a=i[o];n+=null!=a&&"number"==typeof a.value?a.value:1}var s=null===(e=null===(t=r.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[r.column.getColId()];return s&&s.value===n?s:{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function u1e(r){for(var t,e,i,n=r.values,o=0,a=0,s=0;s<n.length;s++){var l=n[s],c=null;"number"==typeof l||"bigint"==typeof l?(c=l,a++):null!=l&&("number"==typeof l.value||"bigint"==typeof l.value)&&"number"==typeof l.count&&(c=Yl?l.value*("number"==typeof l.value?l.count:Yl(l.count)):l.value*l.count,a+=l.count),"number"==typeof c?o+=Yl?"number"==typeof o?c:Yl(c):c:"bigint"==typeof c&&(o=("bigint"==typeof o?o:Yl(o))+c)}var u=null;a>0&&(u=Yl?o/("number"==typeof o?a:Yl(a)):o/a);var d=null===(e=null===(t=r.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[null===(i=r.column)||void 0===i?void 0:i.getColId()];return d&&d.count===a&&d.value===u?d:{count:a,value:u,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var PD,Sg,RC,PC,IC,I9,ID,F9,iN,p9=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ql=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},f9=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.column=e,s.dragSourceDropTarget=i,s.ghost=n,s.dropZonePurpose=o,s.horizontal=a,s.popupShowing=!1,s}return p9(t,r),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var i=this.getGui(),n=this.gridOptionsService.get("functionsReadOnly");this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(D.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(D.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!n&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip(),this.activateTabIndex();var o=function(){var a=e.isGroupingAndLocked();D.setDisplayed(e.eButton,!a&&!e.gridOptionsService.get("functionsReadOnly")),e.eDragHandle.classList.toggle("ag-column-select-column-readonly",a),e.setupAria()};o(),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",function(){return o()})},t.prototype.getColumn=function(){return this.column},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),i=this.getColumnAndAggFuncName(),n=i.name,o=i.aggFuncName,a=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),c=this.gridOptionsService.get("rowGroupPanelSuppressSort"),u=[[o&&"".concat(o).concat(a),n,this.isGroupingZone()&&!c&&l&&", ".concat(s[l])].filter(function(m){return!!m}).join("")],d=this.gridOptionsService.get("functionsReadOnly");if(this.isAggregationZone()&&!d){var h=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");u.push(h)}if(this.isGroupingZone()&&this.column.isSortable()&&!c){var p=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");u.push(p)}if(!this.isGroupingAndLocked()){var f=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");u.push(f)}D.setAriaLabel(this.getGui(),u.join(". "))},t.prototype.setupTooltip=function(){var e=this,i=function(){var n=e.column.getColDef().headerTooltip;e.setTooltip(n)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)},t.prototype.setupSort=function(){var e=this,i=this.column.isSortable(),n=this.isGroupingZone();if(i&&n&&!this.gridOptionsService.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(a){a.preventDefault();var s="ctrl"===e.gridOptionsService.get("multiSortKey");e.sortController.progressSort(e.column,s?a.ctrlKey||a.metaKey:a.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(a){a.key===V.ENTER&&e.isGroupingZone()&&o(a)})}},t.prototype.addDragSource=function(){var e=this,i=this,n=i.dragAndDropService,s=i.column,l={type:zt.ToolPanel,eElement:i.eDragHandle,getDefaultIconName:function(){return Bt.ICON_HIDE},getDragItem:function(){return e.createDragItem(s)},dragItemName:i.displayName};n.addDragSource(l,!0),this.addDestroyFunc(function(){return n.removeDragSource(l)})},t.prototype.createDragItem=function(e){var i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.isGroupingAndLocked=function(){return this.isGroupingZone()&&this.columnModel.isColumnGroupingLocked(this.column)},t.prototype.setupRemove=function(){var e=this;D.setDisplayed(this.eButton,!this.isGroupingAndLocked()&&!this.gridOptionsService.get("functionsReadOnly"));var i={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===V.ENTER;o.key===V.DELETE&&(e.isGroupingAndLocked()||(o.preventDefault(),e.dispatchEvent(i))),a&&e.isAggregationZone()&&!e.gridOptionsService.get("functionsReadOnly")&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(i),o.stopPropagation()});var n=new Pn(this.eButton);this.addManagedListener(n,Pn.EVENT_TAP,function(){e.dispatchEvent(i)}),this.addDestroyFunc(n.destroy.bind(n))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,i="";if(this.isAggregationZone()){var n=this.column.getAggFunc(),o="string"==typeof n?n:"agg";i=this.localeService.getLocaleTextFunc()(o,o)}return{name:e,aggFuncName:i}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),i=e.name,n=e.aggFuncName,o=this.isAggregationZone()?"".concat(n,"(").concat(i,")"):i,a=D.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var i=new cg({cssIdentifier:"select-agg-func"}),n=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=i.getGui();i.setModel({getRow:function(p){return n[p]},getRowCount:function(){return n.length}}),this.getContext().createBean(i);var s=D.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width="".concat(o.clientWidth,"px");var l=this.addManagedListener(s,"focusout",function(p){!s.contains(p.relatedTarget)&&d&&d.hideFunc()}),u=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(p){e.destroyBean(i),e.popupShowing=!1,"Escape"===p?.key&&o.focus(),l&&l()},ariaLabel:u("ariaLabelAggregationFunction","Aggregation Function")});d&&i.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),i.addGuiEventListener("keydown",function(p){if(p.key===V.ENTER||p.key===V.SPACE){var f=i.getLastFocusedRow();if(null==f)return;var m=i.getComponentAt(f);m&&m.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),i.refresh();var h=n.findIndex(function(p){return p===e.column.getAggFunc()});-1===h&&(h=0),i.focusRow(h)}},t.prototype.createAggSelect=function(e,i){var n=this,a=this.localeService.getLocaleTextFunc(),s=i.toString(),l=a(s,s);return new d1e(function(){e(),n.gridOptionsService.get("functionsPassive")?n.eventService.dispatchEvent({type:x.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:i}):n.columnModel.setColumnAggFunc(n.column,i,"toolPanelDragAndDrop")},l)},t.prototype.addElementClasses=function(e,i){i=i?"-".concat(i):"";var n=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(i),"ag-column-drop-".concat(n,"-cell").concat(i))},t.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},t.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.column=null,this.dragSourceDropTarget=null},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',ql([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ql([C("columnModel")],t.prototype,"columnModel",void 0),ql([C("popupService")],t.prototype,"popupService",void 0),ql([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),ql([C("sortController")],t.prototype,"sortController",void 0),ql([G("eText")],t.prototype,"eText",void 0),ql([G("eDragHandle")],t.prototype,"eDragHandle",void 0),ql([G("eButton")],t.prototype,"eButton",void 0),ql([G("eSortIndicator")],t.prototype,"eSortIndicator",void 0),ql([j],t.prototype,"init",null),t}(le),d1e=function(r){function t(e,i){var n=r.call(this,'<div class="ag-select-agg-func-item"/>')||this;return n.selectItem=e,n.getGui().innerText=i,n.addGuiEventListener("click",n.selectItem),n}return p9(t,r),t}(le),h1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),m9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},g9=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},v9=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},UL=function(r){function t(e,i){var n=r.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return n.horizontal=e,n.dropZonePurpose=i,n.state=t.STATE_NOT_DRAGGING,n.guiDestroyFunctions=[],n.childColumnComponents=[],n.resizeEnabled=!1,n.addElementClasses(n.getGui()),n.eColumnDropList=document.createElement("div"),n.addElementClasses(n.eColumnDropList,"list"),D.setAriaRole(n.eColumnDropList,"listbox"),n}return h1e(t,r),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.isSourceEventFromTarget=function(e){return e.dropZoneTarget.contains(e.dragSource.eElement)},t.prototype.destroy=function(){this.destroyGui(),r.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,D.clearElement(this.getGui()),D.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new ru(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new uE(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),D.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var n=e.key===V.DOWN,o=e.key===V.UP;if(this.horizontal){var a=this.gridOptionsService.get("enableRtl");n=!a&&e.key===V.RIGHT||a&&e.key===V.LEFT,o=!a&&e.key===V.LEFT||a&&e.key===V.RIGHT}if(n||o){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,i){i=i?"-".concat(i):"";var n=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(i),"ag-column-drop-".concat(n).concat(i))},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===zt.HeaderCell||e===zt.ToolPanel},t.prototype.minimumAllowedNewInsertIndex=function(){var e=this.gridOptionsService.get("groupLockGroupColumns"),i=this.colModel.getRowGroupColumns().length;return-1===e?i:Math.min(e,i)},t.prototype.checkInsertIndex=function(e){var i=this.getNewInsertIndex(e);if(i<0)return!1;var n=this.minimumAllowedNewInsertIndex(),o=Math.max(n,i),a=o!==this.insertIndex;return a&&(this.insertIndex=o),a},t.prototype.getNewInsertIndex=function(e){var i=this,n=e.event,o=this.horizontal?n.clientX:n.clientY,a=this.childColumnComponents.map(function(d){return d.getGui().getBoundingClientRect()}),s=a.findIndex(function(d){return i.horizontal?d.right>o&&d.left<o:d.top<o&&d.bottom>o});if(-1===s){var l=this.beans.gridOptionsService.get("enableRtl");return a.every(function(d){return o>(i.horizontal?d.right:d.bottom)})?l&&this.horizontal?0:this.childColumnComponents.length:a.every(function(d){return o<(i.horizontal?d.left:d.top)})?l&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var i=this,n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=n.filter(function(u){return i.isColumnDroppable(u,e)}),a=o.every(function(u){return-1!==i.childColumnComponents.map(function(d){return d.getColumn()}).indexOf(u)});if(0!==o.length){if(this.potentialDndColumns=o,a)return void(this.state=t.STATE_NOT_DRAGGING);if(this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&!e.fromNudge){var l=e.dragSource.getDragItem();this.setColumnsVisible(l.columns,!1,"uiColumnDragged")}this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,i,n){if(e){var o=e.filter(function(a){return!a.getColDef().lockVisible});this.colModel.setColumnsVisible(o,i,n)}},t.prototype.isPotentialDndColumns=function(){return D.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var i=e.dragSource.getDragItem().columns||[];this.removeColumns(i)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){var o=e.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.get("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var i=this.getExistingColumns().filter(function(n){return!D.includes(e,n)});this.updateColumns(i)},t.prototype.addColumns=function(e){if(e){var i=this.getExistingColumns().slice(),n=e.filter(function(o){return i.indexOf(o)<0});D.insertArrayIntoArray(i,n,this.insertIndex),this.updateColumns(i)}},t.prototype.rearrangeColumns=function(e){var i=this.getNonGhostColumns().slice();return D.insertArrayIntoArray(i,e,this.insertIndex),!D.areEqual(i,this.getExistingColumns())&&(this.updateColumns(i),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,i=this.resizeEnabled,n=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(n,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1},t.prototype.restoreFocus=function(e,i){var n=this.getGui(),o=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===o.length&&i.focus();var s=o[Math.min(o.length-1,e)];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,i=this.getExistingColumns();return this.isPotentialDndColumns()?i.filter(function(n){return!D.includes(e.potentialDndColumns,n)}):i},t.prototype.addColumnsToGui=function(){var e=this,n=this.getNonGhostColumns().map(function(a){return e.createColumnComponent(a,!1)});if(this.isPotentialDndColumns()){var o=this.potentialDndColumns.map(function(a){return e.createColumnComponent(a,!0)});this.insertIndex>=n.length?n.push.apply(n,v9([],g9(o),!1)):n.splice.apply(n,v9([this.insertIndex,0],g9(o),!1))}this.appendChild(this.eColumnDropList),n.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(i,n){var o=i.getGui();D.setAriaPosInSet(o,n+1),D.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,i){var n=this,o=new f9(e,this.dropTarget,i,this.dropZonePurpose,this.horizontal);return o.addEventListener(f9.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return n.destroyBean(o)}),i||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,i=document.createElement("div");if(D.setAriaHidden(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),i.appendChild(e),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,i.appendChild(n)}this.appendChild(i)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var i=this.beans.gridOptionsService.get("enableRtl"),n=D.createIconNoSpan(i?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",m9([C("columnModel")],t.prototype,"colModel",void 0),m9([C("focusService")],t.prototype,"focusService",void 0),t}(le),p1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zL=function(r){function t(e){return r.call(this,e,"rowGroup")||this}return p1e(t,r),t.prototype.passBeansUp=function(){r.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=e("groups","Row Groups");r.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_GROUP,icon:D.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:i,title:n}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_GROUP:Bt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},bD([C("columnModel")],t.prototype,"columnModel",void 0),bD([C("loggerFactory")],t.prototype,"loggerFactory",void 0),bD([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bD([j],t.prototype,"passBeansUp",null),t}(UL),f1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},WL=function(r){function t(e){return r.call(this,e,"pivot")||this}return f1e(t,r),t.prototype.passBeansUp=function(){r.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("pivotColumnsEmptyMessage","Drag here to set column labels"),n=e("pivots","Column Labels");r.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_GROUP,icon:D.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:i,title:n}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var i=this.columnModel.isPivotActive();this.setDisplayed(e&&i);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_PIVOT:Bt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},wD([C("columnModel")],t.prototype,"columnModel",void 0),wD([C("loggerFactory")],t.prototype,"loggerFactory",void 0),wD([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),wD([j],t.prototype,"passBeansUp",null),t}(UL),m1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),y9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},g1e=function(r){function t(){return r.call(this)||this}return m1e(t,r),t.prototype.postConstruct=function(){var e=this;this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.onRowGroupChanged()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("rowGroupPanelShow",function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("pivotPanelShow",function(){return e.onPivotPanelShow()}),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,i=document.createElement("div");return i.classList.add("ag-column-drop-wrapper"),D.setAriaRole(i,"presentation"),this.rowGroupComp=new zL(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new WL(!0),this.createManagedBean(this.pivotComp),i.appendChild(this.rowGroupComp.getGui()),i.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,le.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.addManagedListener(this.pivotComp,le.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.onDropPanelVisible(),i},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if("always"===e)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===e){var i=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(i)}else this.rowGroupComp.setDisplayed(!1)}},t.prototype.onPivotPanelShow=function(){if(this.pivotComp){var e=this.gridOptionsService.get("pivotPanelShow");if("always"===e)this.pivotComp.setDisplayed(!0);else if("onlyWhenPivoting"===e){var i=this.columnModel.isPivotActive();this.pivotComp.setDisplayed(i)}else this.pivotComp.setDisplayed(!1)}},y9([C("columnModel")],t.prototype,"columnModel",void 0),y9([j],t.prototype,"postConstruct",null),t}(le),v1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$L=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},y1e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return v1e(t,r),t.prototype.execute=function(e){var i=this,n=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),l=this.gridOptionsService.getGroupAggFiltering()||(n?function(h){return h.node.leafGroup}:function(h){return!h.node.group}),u=function(h,p){void 0===p&&(p=!1),h.childrenAfterFilter&&(h.childrenAfterAggFilter=h.childrenAfterFilter,p&&h.childrenAfterAggFilter.forEach(function(f){return u(f,p)}),i.setAllChildrenCount(h)),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(o?function(h){var p;h.childrenAfterAggFilter=(null===(p=h.childrenAfterFilter)||void 0===p?void 0:p.filter(function(f){var m;return l({node:f})&&i.filterManager.doesRowPassAggregateFilters({rowNode:f})?(u(f,!0),!0):null===(m=f.childrenAfterAggFilter)||void 0===m?void 0:m.length}))||null,i.setAllChildrenCount(h),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)}:u,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(n){i++,i+=n.allChildrenCount}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCountGridGrouping=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(n){n.group?i+=n.allChildrenCount:i++}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsService.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},$L([C("filterManager")],t.prototype,"filterManager",void 0),$L([C("columnModel")],t.prototype,"columnModel",void 0),$L([oe("filterAggregatesStage")],t)}(z),C1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},KL=function(r){function t(){return r.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return C1e(t,r),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var i=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){i.addManagedListener(i.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&D.warnOnce('Group Column Filter does not work with the colDef property "field". This property will be ignored.'),e.filterValueGetter&&D.warnOnce('Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),e.filterParams&&D.warnOnce('Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){return this.groupColumn=this.params.column,this.gridOptionsService.get("treeData")?(D.warnOnce("Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),[]):this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn)||(D.warnOnce("Group Column Filter only works on group columns. Please use a different filter."),[])},t.prototype.updateGroupField=function(){var e=this;D.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var i=this.getSourceColumns(),n=i.filter(function(o){return o.isFilterAllowed()});return n.length?(1===i.length?(this.selectedColumn=n[0],D.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!n.some(function(o){return o.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=n[0]),this.createGroupFieldSelectElement(n),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),D.setDisplayed(this.eGroupField,!0)),n):(this.selectedColumn=void 0,D.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var i=this;this.eGroupFieldSelect=this.createManagedBean(new ou);var n=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(n("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(o){var a;return{value:o.getId(),text:null!==(a=i.columnModel.getDisplayNameForColumn(o,"groupFilter",!1))&&void 0!==a?a:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(o){return i.updateSelectedColumn(o)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===e.length&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var i=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),vt.resolve();var n=[],o=[];return e.forEach(function(a){var s=i.filterManager.getOrCreateFilterWrapper(a,"COLUMN_MENU");s?.filterPromise&&n.push(s.filterPromise.then(function(l){return l&&o.push({filter:l,column:a}),a.getId()===i.selectedColumn.getId()&&(i.selectedFilter=l??void 0),l}))}),vt.all(n).then(function(){i.filterColumnPairs=o,i.groupColumn.setFilterActive(i.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(D.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return vt.resolve();var i=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return i?i.guiPromise.then(function(n){var o;e.eUnderlyingFilter.appendChild(n),null===(o=i.filterPromise)||void 0===o||o.then(function(a){var s,l;null===(s=a?.afterGuiAttached)||void 0===s||s.call(a,e.afterGuiAttachedParams),(null===(l=e.afterGuiAttachedParams)||void 0===l||!l.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):vt.resolve()},t.prototype.updateSelectedColumn=function(e){var i,n;if(e){null===(n=null===(i=this.selectedFilter)||void 0===i?void 0:i.afterGuiDetached)||void 0===n||n.call(i);var o=this.getFilterColumnPair(e);this.selectedColumn=o?.column,this.selectedFilter=o?.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!(null===(e=this.filterColumnPairs)||void 0===e||!e.some(function(i){return i.filter.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return vt.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,i;D.clearElement(this.eUnderlyingFilter),null===(i=null===(e=this.selectedFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===i||i.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var i;if(e)return null===(i=this.filterColumnPairs)||void 0===i?void 0:i.find(function(n){return n.column.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",EC([C("filterManager")],t.prototype,"filterManager",void 0),EC([C("columnModel")],t.prototype,"columnModel",void 0),EC([G("eGroupField")],t.prototype,"eGroupField",void 0),EC([G("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),EC([j],t.prototype,"postConstruct",null),t}(Ed),b1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YL=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},w1e=function(r){function t(){var e=r.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this;return e.haveAddedColumnListeners=!1,e}return b1e(t,r),t.prototype.init=function(e){var i=this;this.params=e;var n="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new vt(function(o){i.params.parentFilterInstance(function(a){i.parentFilterInstance=a,n?i.setupUnderlyingFloatingFilterElement().then(function(){return o()}):(i.setupReadOnlyFloatingFilterElement(),o())})}).then(function(){i.addManagedListener(i.parentFilterInstance,KL.EVENT_SELECTED_COLUMN_CHANGED,function(){return i.onSelectedColumnChanged()}),i.addManagedListener(i.parentFilterInstance,KL.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onColumnRowGroupChanged()})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams()},t.prototype.setParams=function(){var e,i=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),n=this.localeService.getLocaleTextFunc();null===(e=this.eFloatingFilterText)||void 0===e||e.setInputAriaLabel("".concat(i," ").concat(n("ariaFilterInput","Filter Input")))},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new au),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return e.params.showParentFilter()}),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,D.clearElement(this.eFloatingFilter);var i=this.parentFilterInstance.getSelectedColumn();if(i&&!i.isVisible()){var n=this.filterManager.getFloatingFilterCompDetails(i,this.params.showParentFilter);if(n)return this.compDetails=n,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(i,bt.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(i,bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),n.newAgStackInstance().then(function(o){var a,s;e.underlyingFloatingFilter=o,null===(a=e.underlyingFloatingFilter)||void 0===a||a.onParentModelChanged(null===(s=e.parentFilterInstance.getSelectedFilter())||void 0===s?void 0:s.getModel()),e.appendChild(o.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),vt.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onColDefChanged=function(e){var i,n,o;if(e.column){var a=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);a&&(null!==(i=this.underlyingFloatingFilter)&&void 0!==i&&i.refresh?this.underlyingFloatingFilter.refresh(a.params):null===(o=null===(n=this.underlyingFloatingFilter)||void 0===n?void 0:n.onParamsUpdated)||void 0===o||o.call(n,a.params))}},t.prototype.onParentModelChanged=function(e,i){var n,o;this.showingUnderlyingFloatingFilter?null===(n=this.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(null===(o=this.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel(),i):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var e=this.parentFilterInstance.getSelectedFilter();if(!e)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var i=e.getModel();this.eFloatingFilterText.setValue(null==i?"":e.getModelAsString(i))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},YL([C("columnModel")],t.prototype,"columnModel",void 0),YL([C("filterManager")],t.prototype,"filterManager",void 0),YL([G("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(le),_9={version:"31.1.1",moduleName:ie.RowGroupingModule,beans:[YNe,y1e,XNe,QNe,e1e,n1e],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:g1e}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:KL},{componentName:"agGroupColumnFloatingFilter",componentClass:w1e}],dependantModules:[ur]},S1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},C9=function(r){function t(e){return r.call(this,e,"aggregation")||this}return S1e(t,r),t.prototype.passBeansUp=function(){r.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("valueColumnsEmptyMessage","Drag here to aggregate"),n=e("values","Values");r.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_AGGREGATE,icon:D.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:i,title:n}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_AGGREGATE:Bt.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},SD([C("columnModel")],t.prototype,"columnModel",void 0),SD([C("loggerFactory")],t.prototype,"loggerFactory",void 0),SD([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),SD([j],t.prototype,"passBeansUp",null),t}(UL),x1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),b9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qL=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return x1e(t,r),t.prototype.init=function(e,i,n){this.allowDragging=e,this.params=i,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new uE(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.prototype.getExpandedGroups=function(){return this.primaryColsListPanel.getExpandedGroups()},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',b9([G("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),b9([G("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(le),E1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xD=function(){return xD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},xD.apply(this,arguments)},D1e=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return E1e(t,r),t.prototype.setVisible=function(e){r.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var i=this,n=this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1});if(this.params=xD(xD({},n),e),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new c9),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new qL),this.childDestroyFuncs.push(function(){return i.destroyBean(i.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new zL(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new C9(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new WL(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){i.resetChildrenHeight(),i.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var i=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new c9),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new zL(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new C9(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new WL(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var i=e.getGui();e.toggleResizable(!i.classList.contains("ag-last-column-drop")&&!i.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(a){return a.classList.remove("ag-last-column-drop")});var n=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=D.last(n);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var i=this.getGui().children,n=0;n<i.length;n++){var o=i[n];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return Ze.__assertRegistered(ie.RowGroupingModule,"Row Grouping",this.context.getGridId())},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,D.clearElement(this.getGui())},t.prototype.refresh=function(e){return this.destroyChildren(),this.init(e),!0},t.prototype.getState=function(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}},t.prototype.destroy=function(){this.destroyChildren(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',t}(le),T1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},S9=function(r){function t(){var e=r.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return T1e(t,r),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.get("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,i,n){this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_SIZE_CHANGED,width:n,started:e,ended:i})},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,i){void 0===i&&(i=!1);var o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width="".concat(o,"px"),this.dispatchResizeEvent(!1,i,o)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},w9([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),w9([j],t.prototype,"postConstruct",null),t}(le),A1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ED=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},x9=function(r){function t(e){var i=r.call(this)||this;return i.toolPanelDef=e,i}return A1e(t,r),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))},t.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=this.toolPanelDef,n=e(i.labelKey,i.labelDefault);this.eLabel.innerText=n},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",D.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e),D.setAriaExpanded(this.eToggleButton,e)},t.prototype.getButtonElement=function(){return this.eToggleButton},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",ED([G("eToggleButton")],t.prototype,"eToggleButton",void 0),ED([G("eIconWrapper")],t.prototype,"eIconWrapper",void 0),ED([G("eLabel")],t.prototype,"eLabel",void 0),ED([j],t.prototype,"postConstruct",null),t}(le),O1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DD=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},E9=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return O1e(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===V.TAB&&e.shiftKey){var i=D.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(i,!0)&&e.preventDefault()}},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(i){i.setSelected(e===i.getToolPanelId())})},t.prototype.addButtonComp=function(e){var i=this,n=this.createBean(new x9(e));return this.buttonComps.push(n),this.appendChild(n),n.addEventListener(x9.EVENT_TOGGLE_BUTTON_CLICKED,function(){i.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),n},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),D.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',DD([C("focusService")],t.prototype,"focusService",void 0),DD([C("columnModel")],t.prototype,"columnModel",void 0),DD([j],t.prototype,"postConstruct",null),DD([Oi],t.prototype,"clearButtons",null),t}(le),D9=function(){function r(){}return r.parse=function(t){if(t){if(!0===t)return{toolPanels:[r.DEFAULT_COLUMN_COMP,r.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return r.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(n){var o=r.DEFAULT_BY_KEY[n];o?e.push(o):console.warn("AG Grid: the key ".concat(n," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(r.DEFAULT_BY_KEY).join(",")))}),0===e.length?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:r.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}}},r.parseComponents=function(t){var e=[];return t&&t.forEach(function(i){var n=null;if("string"==typeof i){var o=r.DEFAULT_BY_KEY[i];if(!o)return void console.warn("AG Grid: the key ".concat(i," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(r.DEFAULT_BY_KEY).join(",")));n=o}else n=i;e.push(n)}),e},r.DEFAULT_BY_KEY={columns:r.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:r.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},r}(),M1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),T9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},R1e=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return M1e(t,r),t.prototype.setupResize=function(){var e=this.getGui(),i=this.resizeBar=this.createManagedBean(new S9);e.setAttribute("id","ag-".concat(this.getCompId())),i.setElementToResize(e),this.appendChild(i)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e,i){var n=e.id,o=e.minWidth,a=e.maxWidth,s=e.width;this.toolPanelId=n,this.width=s;var l=this.userComponentFactory.getToolPanelCompDetails(e,i),c=l.newAgStackInstance();this.params=l.params,null!=c?(c.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=a&&this.resizeBar.setMaxWidth(a)):console.warn("AG Grid: error processing tool panel component ".concat(n,". You need to specify 'toolPanel'"))},t.prototype.setToolPanelComponent=function(e){var i=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){i.destroyBean(e)}),this.width&&(this.getGui().style.width="".concat(this.width,"px"))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var i=this.gridOptionsService.get("enableRtl"),n="left"===e;this.resizeBar.setInverted(i?n:!n)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh(this.params)},t.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>',T9([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),T9([j],t.prototype,"setupResize",null),t}(le),P1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TD=function(){return TD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},TD.apply(this,arguments)},DC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},F1e=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return P1e(t,r),t.prototype.postConstruct=function(){var e;this.sideBarButtonsComp.addEventListener(E9.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this));var i=(null!==(e=this.gridOptionsService.get("initialState"))&&void 0!==e?e:{}).sideBar;this.setSideBarDef({sideBarDef:D9.parse(this.gridOptionsService.get("sideBar")),sideBarState:i}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),this.sideBarService.registerSideBarComp(this),this.createManagedBean(new ru(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this.focusService,o=this.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),c=this.gridOptionsService.getDocument().activeElement,u=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target;if(u){if(s.contains(c))return void(n.focusInto(u,e.shiftKey)&&e.preventDefault());if(e.shiftKey){var h=null;u.contains(c)?h=this.focusService.findNextFocusableElement(u,void 0,!0):n.isTargetUnderManagedComponent(u,d)&&e.shiftKey&&(h=this.focusService.findFocusableElementBeforeTabGuard(u,d)),h||(h=s.querySelector(".ag-selected button")),h&&h!==e.target&&(e.preventDefault(),h.focus())}}}},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(i.activeElement)){var n=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),a=i.activeElement,s=o.findIndex(function(u){return u.contains(a)}),l=null;switch(e.key){case V.LEFT:case V.UP:l=Math.max(0,s-1);break;case V.RIGHT:case V.DOWN:l=Math.min(s+1,o.length-1)}if(null!==l){var c=o[l].querySelector("button");c&&(c.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var i=e.toolPanelId,n=this.openedItem();this.openToolPanel(n===i?void 0:i,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(e){var i=e.sideBarDef,n=e.sideBarState,o=e.existingToolPanelWrappers;if(this.setDisplayed(!1),this.sideBar=i,this.sideBar&&this.sideBar.toolPanels){if(this.createToolPanelsAndSideButtons(this.sideBar.toolPanels,n,o),!this.toolPanelWrappers.length)return;var s=n?n.visible:!this.sideBar.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(n?n.position:this.sideBar.position),s)if(n){var l=n.openToolPanel;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right"),this.position=e;var i="left"===e,n=i?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",i),this.addOrRemoveCssClass("ag-side-bar-right",!i),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(n)}),this.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED}),this},t.prototype.setDisplayed=function(e,i){r.prototype.setDisplayed.call(this,e,i),this.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})},t.prototype.getState=function(){var e={};return this.toolPanelWrappers.forEach(function(i){var n,o;e[i.getToolPanelId()]=null===(o=null===(n=i.getToolPanelInstance())||void 0===n?void 0:n.getState)||void 0===o?void 0:o.call(n)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}},t.prototype.createToolPanelsAndSideButtons=function(e,i,n){var o,a,s;try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),c=l.next();!c.done;c=l.next()){var u=c.value;this.createToolPanelAndSideButton(u,null===(s=i?.toolPanels)||void 0===s?void 0:s[u.id],n?.[u.id])}}catch(d){o={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.prototype.validateDef=function(e){if(null==e.id)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if("agColumnsToolPanel"===e.toolPanel&&!Ze.__assertRegistered(ie.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId()))return!1;if("agFiltersToolPanel"===e.toolPanel){if(!Ze.__assertRegistered(ie.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId()))return!1;if(this.filterManager.isAdvancedFilterEnabled())return D.warnOnce("Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled."),!1}return!0},t.prototype.createToolPanelAndSideButton=function(e,i,n){var o=this;if(this.validateDef(e)){var s,a=this.sideBarButtonsComp.addButtonComp(e);n?s=n:(s=this.getContext().createBean(new R1e)).setToolPanelDef(e,{initialState:i,onStateUpdated:function(){return o.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})}}),s.setDisplayed(!1);var l=s.getGui();this.appendChild(l),this.toolPanelWrappers.push(s),D.setAriaControls(a.getButtonElement(),l)}},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,i){void 0===i&&(i="api");var n=this.openedItem();n!==e&&(this.toolPanelWrappers.forEach(function(s){var l=e===s.getToolPanelId();s.setDisplayed(l)}),n!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,n??void 0,i)))},t.prototype.getToolPanelInstance=function(e){var i=this.toolPanelWrappers.filter(function(n){return n.getToolPanelId()===e})[0];if(i)return i.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: ".concat(e))},t.prototype.raiseToolPanelVisibleEvent=function(e,i,n){var o=!!e&&!!i;i&&this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:i,visible:!1,switchingToolPanel:o}),e&&this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:e,visible:!0,switchingToolPanel:o})},t.prototype.close=function(e){void 0===e&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(i){i.isDisplayed()&&(e=i.getToolPanelId())}),e},t.prototype.onSideBarUpdated=function(){var i,e=this,n=D9.parse(this.gridOptionsService.get("sideBar")),o={};n&&this.sideBar&&(null===(i=n.toolPanels)||void 0===i||i.forEach(function(a){var s,l,c=a.id;if(c){var u=null===(s=e.sideBar.toolPanels)||void 0===s?void 0:s.find(function(f){return f.id===c});if(u&&a.toolPanel===u.toolPanel){var d=e.toolPanelWrappers.find(function(f){return f.getToolPanelId()===c});if(d){var h=e.gridOptionsService.addGridCommonParams(TD(TD({},null!==(l=a.toolPanelParams)&&void 0!==l?l:{}),{onStateUpdated:function(){return e.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})}}));!0===d.getToolPanelInstance().refresh(h)&&(e.toolPanelWrappers=e.toolPanelWrappers.filter(function(f){return f!==d}),D.removeFromParent(d.getGui()),o[c]=d)}}}})),this.clearDownUi(),this.setSideBarDef({sideBarDef:n,existingToolPanelWrappers:o})},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',DC([C("focusService")],t.prototype,"focusService",void 0),DC([C("filterManager")],t.prototype,"filterManager",void 0),DC([C("sideBarService")],t.prototype,"sideBarService",void 0),DC([G("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),DC([j],t.prototype,"postConstruct",null),t}(le),k1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),A9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},L1e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isColGroupDef=function(i){return i&&typeof i.children<"u"},e.getId=function(i){return e.isColGroupDef(i)?i.groupId:i.colId},e}return k1e(t,r),t.prototype.createColumnTree=function(e){var i=this,n=[],o=function(s,l){if(i.isColGroupDef(s)){var c=s,d=new ei(c,typeof c.groupId<"u"?c.groupId:c.headerName,!1,l),h=[];return c.children.forEach(function(g){var v=o(g,l+1);v&&h.push(v)}),d.setChildren(h),d}var p=s,m=i.columnModel.getPrimaryColumn(p.colId?p.colId:p.field);return m||n.push(p),m},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),a},t.prototype.syncLayoutWithGrid=function(e){var i=this.getLeafPathTrees();e(this.mergeLeafPathTrees(i))},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof ei)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var c=Object.assign({},o.getColDef());c.colId=o.getColId(),s=c}var u=o.getOriginalParent();return u?e(u,s):s};return this.columnModel.getAllGridColumns().filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup}).map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var i=this,o=function(u,d){if(!i.isColGroupDef(d))return u;var h=u,p=d;return p.children&&p.groupId&&i.addChildrenToGroup(h,p.groupId,p.children[0])||p.children.forEach(function(m){return o(h,m)}),h},a=[],s=1;s<=e.length;s++){var l=e[s-1],c=e[s];d=c,i.isColGroupDef(u=l)&&i.isColGroupDef(d)&&i.getId(u)===i.getId(d)?e[s]=o(l,c):a.push(l)}var u,d;return a},t.prototype.addChildrenToGroup=function(e,i,n){var o=this;if(!this.isColGroupDef(e))return!0;var d,h,p,f,m,g,s=e,l=n;if(h=l,p=(d=s).children.map(o.getId),f=D.includes(p,o.getId(h)),g=(m=D.last(d.children))&&o.getId(m)!==o.getId(h),f&&g)return s.children.push(l),!0;if(s.groupId===i){var c=s.children.map(this.getId);if(!D.includes(c,this.getId(l)))return s.children.push(l),!0}return s.children.forEach(function(d){return o.addChildrenToGroup(d,i,n)}),!1},A9([C("columnModel")],t.prototype,"columnModel",void 0),A9([oe("toolPanelColDefService")],t)}(z),G1e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),B1e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return G1e(t,r),t.prototype.registerSideBarComp=function(e){this.sideBarComp=e},t.prototype.getSideBarComp=function(){return this.sideBarComp},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("sideBarService")],t),t}(z),XL={version:"31.1.1",moduleName:ie.SideBarModule,beans:[L1e,B1e],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:S9},{componentName:"AgSideBar",componentClass:F1e},{componentName:"AgSideBarButtons",componentClass:E9}],dependantModules:[ur]},TC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},H1e=function(){function r(){}return r.prototype.selectAllChildren=function(t,e,i){var n=this.extractAllLeafColumns(t);this.setAllColumns(n,e,i)},r.prototype.setColumn=function(t,e,i){this.setAllColumns([t],e,i)},r.prototype.setAllColumns=function(t,e,i){this.columnModel.isPivotMode()?this.setAllPivot(t,e,i):this.setAllVisible(t,e,i)},r.prototype.extractAllLeafColumns=function(t){var e=[],i=function(n){n.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?i(o.getChildren()):e.push(o.getColumn()))})};return i(t),e},r.prototype.setAllVisible=function(t,e,i){var n=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&n.push({colId:o.getId(),hide:!e})}),n.length>0&&this.columnModel.applyColumnState({state:n},i)},r.prototype.setAllPivot=function(t,e,i){this.gridOptionsService.get("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,i)},r.prototype.setAllPivotPassive=function(t,e){var i=this.columnModel.getPivotColumns().slice(),n=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1;t.forEach(e?function(m){m.isAnyFunctionActive()||(m.isAllowValue()?(n.push(m),s=!0):m.isAllowRowGroup()?(o.push(m),a=!0):m.isAllowPivot()&&(i.push(m),l=!0))}:function(m){m.isAnyFunctionActive()&&(i.indexOf(m)>=0&&(D.removeFromArray(i,m),a=!0),n.indexOf(m)>=0&&(D.removeFromArray(n,m),s=!0),o.indexOf(m)>=0&&(D.removeFromArray(o,m),l=!0))}),a&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:i}),l&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o}),s&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o})},r.prototype.setAllPivotActive=function(t,e,i){var n=this,o=[];t.forEach(e?function(c){if(!c.isAnyFunctionActive())if(c.isAllowValue()){var u="string"==typeof c.getAggFunc()?c.getAggFunc():n.aggFuncService.getDefaultAggFunc(c);o.push({colId:c.getId(),aggFunc:u})}else c.isAllowRowGroup()?o.push({colId:c.getId(),rowGroup:!0}):c.isAllowPivot()&&o.push({colId:c.getId(),pivot:!0})}:function(c){(c.isPivotActive()||c.isRowGroupActive()||c.isValueActive())&&o.push({colId:c.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),o.length>0&&this.columnModel.applyColumnState({state:o},i)},r.prototype.updateColumns=function(t){var e=this,n=t.visibleState,o=t.pivotState,a=t.eventType,s=t.columns.map(function(l){var c=l.getColId();if(e.columnModel.isPivotMode()){var u=o?.[c];return{colId:c,pivot:u?.pivot,rowGroup:u?.rowGroup,aggFunc:u?.aggFunc}}return{colId:c,hide:!n?.[c]}});this.columnModel.applyColumnState({state:s},a)},r.prototype.createPivotState=function(t){return{pivot:t.isPivotActive(),rowGroup:t.isRowGroupActive(),aggFunc:t.isValueActive()?t.getAggFunc():void 0}},TC([C("aggFuncService")],r.prototype,"aggFuncService",void 0),TC([C("columnModel")],r.prototype,"columnModel",void 0),TC([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),TC([C("eventService")],r.prototype,"eventService",void 0),TC([oe("modelItemUtils")],r)}(),U1e={version:"31.1.1",moduleName:ie.ColumnsToolPanelModule,beans:[H1e],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PNe},{componentName:"AgPrimaryColsList",componentClass:WNe},{componentName:"AgPrimaryCols",componentClass:qL}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:D1e}],dependantModules:[ur,_9,XL]},ZL=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},bg=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},O9={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},q1e=function(r){return Math.round(96*r/72)},wg=function(r){return Math.ceil(9525*r)},AD=function(r,t){if(t)return function(r){return Math.round(72*r/96)}("number"==typeof t?t:t({rowIndex:r}))},Za=function(r){var t=j7.createHeader({encoding:"UTF-8",standalone:"yes"}),e=j7.createXml(r);return"".concat(t).concat(e)},AC=function(r){var i=String.fromCharCode,n=Math.floor(r/26),o=r%26;return n&&26!==r?o?n<26?i(65+n-1)+i(65+o-1):AC(n)+i(65+o-1):AC(n-1)+"Z":i(65+r-1)},M9=function(r,t){return{name:"xdr:".concat(r),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},J1e=function(r){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(r.recolor&&r.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},eGe=function(r,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:r.id,descr:null!=r.altText?r.altText:void 0}},children:[J1e(r)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},R9=function(r){if(r.saturation||r.tint){var t=[];return r.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*r.saturation}}}),r.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*r.tint}}}),t}},iGe=function(r,t){var e;if(r.transparency){var i=Math.min(Math.max(r.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(r.recolor)switch(e||(e=[]),r.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(r,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:r.color}},children:R9(r)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:R9(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},nGe=function(r,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return r.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(r.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},oGe=function(r,t,e,i){return{name:"xdr:pic",children:[eGe(r,t+1),iGe(r,e+1),nGe(r,i)]}},Qa=function(r){var t=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(r,4),i=t[1],n=t[2],o=t[3];return{name:"a:".concat(t[0]),children:[{name:"a:".concat(i),properties:{rawMap:{val:n,lastClr:o}}}]}},ve=function(r){var t=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(r,4),i=t[1],n=t[2],o=t[3];return{name:"a:".concat(t[0]),properties:{rawMap:{script:n,typeface:i,panose:o}}}},OC=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Xl=function(r,t,e){return{name:"a:".concat(r),properties:{rawMap:{val:t}},children:e}},QL=function(r){var t=OC(r,6),e=t[0],i=t[1],o=t[3],a=t[4],s=t[5],l=[];return l.push(Xl("satMod",t[2])),o&&l.push(Xl("lumMod",o)),a&&l.push(Xl("tint",a)),s&&l.push(Xl("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:l}]}},OD=function(r,t){return{name:"a:solidFill",children:[Xl("schemeClr",r,t)]}},JL=function(r){var t=OC(r,5),e=t[0],i=t[1],n=t[2],o=t[3],s=OC(t[4],2),l=s[0],c=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[QL(i),QL(n),QL(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:c}}}]}},eN=function(r){var t=OC(r,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[OD("phClr"),Xl("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},tN=function(r){var t=[];if(r){var e=OC(r,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[Xl("srgbClr","000000",[Xl("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},_Ge=function(r){var t,e,i=[];try{for(var n=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.keys()),o=n.next();!o.done;o=n.next()){var s=o.value.toString(),l={name:"t",textNode:D.escapeString(s)};s.trim().length!==s.length&&(l.properties={rawMap:{"xml:space":"preserve"}}),i.push({name:"si",children:[l]})}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return i},SGe_getTemplate=function(r){return{name:"numFmts",properties:{rawMap:{count:r.length}},children:r.map(function(t){return function(r){var t=r.formatCode,e=r.numFmtId;return t.length&&(t=function bGe(r){for(var t=r.split(/(\[[^\]]*\])/),e=0;e<t.length;e++){var i=t[e];i.length&&(i.startsWith("[")||(i=i.replace(/\$/g,'"$"')),t[e]=D.escapeString(i))}return t.join("")}(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}(t)})}},OGe={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},MGe=["Dashed","DashDot","DashDotDot"],RGe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},PGe={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},IGe={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Gd=function(r){return null==r?r:("#"===r.charAt(0)&&(r=r.substring(1)),6===r.length?"FF"+r:r)},MD=function(r,t){if(!r)return"thin";var e=function(r){switch(r){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),i=OGe[r];return"Continuous"===r?e:"medium"===e&&-1!==MGe.indexOf(i)?"medium".concat(i):i.charAt(0).toLowerCase()+i.substring(1)},kGe=function(r){return PGe[r]||"general"},LGe=function(r){return IGe[r]||void 0},MC=function(r){return{name:"color",properties:{rawMap:{rgb:Gd(r||"#000000")}}}},GGe_getTemplate=function(r){return{name:"borders",properties:{rawMap:{count:r.length}},children:r.map(function(t){return function(r){var t=r.left,e=r.right,i=r.top,n=r.bottom,o=r.diagonal,a=t?[MC(t.color)]:void 0,s=e?[MC(e.color)]:void 0,l=i?[MC(i.color)]:void 0,c=n?[MC(n.color)]:void 0,u=o?[MC(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:n&&n.style}},children:c},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:u}]}}(t)})}},VGe=function(r){var e=["Context","LeftToRight","RightToLeft"].indexOf(r);return Math.max(e,0)},P9_getTemplate=function(r){var t=r.alignment,e=r.borderId,i=r.fillId,n=r.fontId,o=r.numFmtId,a=r.protection,s=r.quotePrefix,l=r.xfId,c=[];return t&&c.push(function(r){var t=r.horizontal,e=r.indent,i=r.readingOrder,n=r.rotate,o=r.shrinkToFit,a=r.vertical,s=r.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&kGe(t),indent:e,readingOrder:i&&VGe(i),textRotation:n,shrinkToFit:o,vertical:a&&LGe(a),wrapText:s}}}}(t)),a&&c.push(function(r){return{name:"protection",properties:{rawMap:{hidden:!0===r.hideFormula?1:0,locked:!1===r.protected?0:1}}}}(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:i?1:void 0,borderId:e,fillId:i,applyFont:n?1:void 0,fontId:n,applyNumberFormat:o?1:void 0,numFmtId:o,quotePrefix:s?1:void 0,xfId:l}},children:c.length?c:void 0}},RD=function(){return RD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},RD.apply(this,arguments)},k9=function(r,t){return-1!==r.indexOf("mixedStyle")&&t>1&&(r+="_".concat(t)),r},L9=function(){PD={base:0},Sg=[],RC=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],PC=[{patternType:"none"},{patternType:"gray125"}],IC=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],I9=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],ID=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],F9=[{builtinId:0,name:"Normal",xfId:0}]},XGe=function(r){var t=r.alignment,e=r.borders,i=r.font,n=r.interior,o=r.numberFormat,a=r.protection,s=r.quotePrefix,l=r.id,c=0,u=0,d=0,h=0;l&&(l=k9(l,iN),null==PD[l]&&(n&&(c=function(r){var t=function(r){return r?RGe[r]||r:"none"}(r.pattern),e=Gd(r.color),i=Gd(r.patternColor),n=PC.findIndex(function(o){return!(o.patternType!=t||o.fgRgb!=e||o.bgRgb!=i)});return-1===n&&(n=PC.length,PC.push({patternType:t,fgRgb:e,bgRgb:i})),n}(n)),e&&(u=function(r){var o,a,s,l,c,u,d,h,t=r.borderBottom,e=r.borderTop,i=r.borderLeft,n=r.borderRight;i&&(s=MD(i.lineStyle,i.weight),d=Gd(i.color)),n&&(l=MD(n.lineStyle,n.weight),h=Gd(n.color)),t&&(o=MD(t.lineStyle,t.weight),c=Gd(t.color)),e&&(a=MD(e.lineStyle,e.weight),u=Gd(e.color));var p=IC.findIndex(function(f){var m=f.left,g=f.right,v=f.top,y=f.bottom;if(!m&&(s||d)||!g&&(l||h)||!v&&(a||u)||!y&&(o||c))return!1;var _=m||{},E=g||{},I=v||{},B=y||{};return!(_.style!=s||_.color!=d||E.style!=l||E.color!=h||I.style!=a||I.color!=u||B.style!=o||B.color!=c)});return-1===p&&(p=IC.length,IC.push({left:{style:s,color:d},right:{style:l,color:h},top:{style:a,color:u},bottom:{style:o,color:c},diagonal:{style:void 0,color:void 0}})),p}(e)),i&&(d=function(r){var t=r.fontName,e=void 0===t?"Calibri":t,n=r.size,o=r.bold,a=r.italic,s=r.outline,l=r.shadow,c=r.strikeThrough,u=r.underline,d=r.family,h=r.verticalAlign,p=Gd(r.color),f=function(r){if(void 0!==r){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(r||"Automatic");return Math.max(e,0)}}(d),m=u?u.toLocaleLowerCase():void 0,g=h?h.toLocaleLowerCase():void 0,v=RC.findIndex(function(y){return!(y.fontName!=e||y.color!=p||y.size!=n||y.bold!=o||y.italic!=a||y.outline!=s||y.shadow!=l||y.strikeThrough!=c||y.underline!=m||y.verticalAlign!=g||y.family!=f)});return-1===v&&(v=RC.length,RC.push({fontName:e,color:p,size:n,bold:o,italic:a,outline:s,shadow:l,strikeThrough:c,underline:m,verticalAlign:g,family:f?.toString()})),v}(i)),o&&(h=function(r){if(O9[r])return O9[r];var t=Sg.findIndex(function(e){return e.formatCode===r});return-1===t?Sg.push({formatCode:r,numFmtId:t=Sg.length+164}):t=Sg[t].numFmtId,t}(o.format)),PD[l]=ID.length,ID.push({alignment:t,borderId:u||0,fillId:c||0,fontId:d||0,numFmtId:h||0,protection:a,quotePrefix:s,xfId:0})))},ZGe_getTemplate=function(r){var t=SGe_getTemplate(Sg),e=function(r){return{name:"fonts",properties:{rawMap:{count:r.length}},children:r.map(function(t){return function(r){var i=r.color,o=r.fontName,s=r.family,l=r.scheme,c=r.italic,u=r.bold,d=r.strikeThrough,h=r.outline,p=r.shadow,f=r.underline,m=r.verticalAlign,g=[{name:"sz",properties:{rawMap:{val:r.size}}},{name:"color",properties:{rawMap:{theme:r.colorTheme,rgb:void 0===i?"FF000000":i}}},{name:"name",properties:{rawMap:{val:void 0===o?"Calibri":o}}}];return s&&g.push({name:"family",properties:{rawMap:{val:s}}}),l&&g.push({name:"scheme",properties:{rawMap:{val:l}}}),c&&g.push({name:"i"}),u&&g.push({name:"b"}),d&&g.push({name:"strike"}),h&&g.push({name:"outline"}),p&&g.push({name:"shadow"}),f&&g.push({name:"u",properties:{rawMap:{val:f}}}),m&&g.push({name:"vertAlign",properties:{rawMap:{val:m}}}),{name:"font",children:g}}(t)})}}(RC.map(function(l){return RD(RD({},l),{size:null!=l.size?l.size:r})})),i=function(r){return{name:"fills",properties:{rawMap:{count:r.length}},children:r.map(function(t){return function(r){var e=r.fgTheme,i=r.fgTint,n=r.fgRgb,o=r.bgRgb,a=r.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:r.patternType}}};return(e||i||n)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:i,rgb:n}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}(t)})}}(PC),n=GGe_getTemplate(IC),o=function(r){return{name:"cellStyleXfs",properties:{rawMap:{count:r.length}},children:r.map(function(t){return P9_getTemplate(t)})}}(I9),a=function(r){return{name:"cellXfs",properties:{rawMap:{count:r.length}},children:r.map(function(t){return P9_getTemplate(t)})}}(ID),s=function(r){return{name:"cellStyles",properties:{rawMap:{count:r.length}},children:r.map(function(t){return function(r){return{name:"cellStyle",properties:{rawMap:{builtinId:r.builtinId,name:r.name,xfId:r.xfId}}}}(t)})}}(F9);return L9(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,i,n,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},QGe=function(r,t){return PD[k9(r,t)]||0},tVe_getTemplate=function(r){return{name:"sheets",children:r.map(function(t,e){return function(r,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:r,sheetId:e,"r:id":"rId".concat(e)}}}}(t,e)})}},sVe=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},lVe=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},uVe=function(r){var t;return""!==(null===(t=r.data)||void 0===t?void 0:t.value)||void 0!==r.styleId},dVe_getTemplate=function(r,t,e){var i=r.collapsed,n=r.hidden,o=r.height,a=r.outlineLevel,s=r.cells,l=void 0===s?[]:s;return function(r,t){for(var e=[],i=0,n=0;n<r.length;n++)(o=r[n]).mergeAcross&&(e.push({pos:n,excelPos:i}),i+=o.mergeAcross),i++;if(e.length)for(n=e.length-1;n>=0;n--){for(var a=[],o=r[e[n].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:"".concat(AC(e[n].excelPos+1+s)).concat(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&r.splice.apply(r,lVe([e[n].pos+1,0],sVe(a),!1))}}(l,t),{name:"row",properties:{rawMap:{r:t+1,collapsed:i?"1":"0",hidden:n?"1":"0",ht:o,customHeight:null!=o?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:l.filter(uVe).map(function(u,d){return function(r,t,e){var i=r.ref,o=r.styleId,a=r.data||{type:"empty",value:null},s=a.type,l=a.value,c=s;"f"===s?c="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(c=function(r){var t=r.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(s));var d,u={name:"c",properties:{rawMap:{r:i,t:"empty"===c?void 0:c,s:o?QGe(o,e):void 0}}};return"empty"===c?u:(d="str"===c&&"f"===s?[{name:"f",textNode:D.escapeString(l)}]:"inlineStr"===c?[{name:"is",children:[{name:"t",textNode:D.escapeString(l)}]}]:[{name:"v",textNode:l}],Object.assign({},u,{children:d}))}(u,0,e)})}},fVe=function(r){return!r||"Portrait"!==r&&"Landscape"!==r?"portrait":r.toLocaleLowerCase()},mVe=function(r){if(null==r)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(r);return-1===e?1:e+1},xVe=function(r){return r.reduce(function(t,e){var i=function(r){return"Center"===r?"C":"Right"===r?"R":"L"}(e.position),n=function(r,t){return t&&(r+="&amp;&quot;",r+=t.fontName||"Calibri",r+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",r+="&quot;",t.size&&(r+="&amp;".concat(t.size)),t.strikeThrough&&(r+="&amp;S"),t.underline&&(r+="&amp;".concat("Double"===t.underline?"E":"U")),t.color&&(r+="&amp;K".concat(t.color.replace("#","").toUpperCase()))),r}("".concat(t,"&amp;").concat(i),e.font);return"".concat(n).concat(D.escapeString(function(r){return D.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,i){r=r.replace(e,i)}),r}(e.value)))},"")},EVe=function(r){var e=[];return["all","first","even"].forEach(function(i){var n=r[i],o="all"===i?"odd":i;!n||!n.header&&!n.footer||D.iterateObject(n,function(a,s){var l="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));s&&e.push({name:"".concat(o).concat(l),properties:{rawMap:{"xml:space":"preserve"}},textNode:xVe(s)})})}),e},MVe_getTemplate=function(r){var e=r.currentSheet,i=r.config,n=i.margins,o=void 0===n?{}:n,a=i.pageSetup,s=i.headerFooterConfig,c=r.worksheet.table,u=c.rows,d=c.columns,h=d&&d.length?function(r,t,e){var i=[],n=[];r.forEach(function(s,l){var d,u=0;s.cells.forEach(function(h,p){var f=p+u+1,m=AC(f),g=l+1;if(h.mergeAcross){var v=AC(p+(u+=h.mergeAcross)+1);i.push("".concat(m).concat(g,":").concat(v).concat(g))}t[f-1]||(t[f-1]={});var y=h.collapsibleRanges;y&&y.forEach(function(_){n.push([f+_[0],f+_[1]])}),(d=t[f-1]).min=f,d.max=f,h.ref="".concat(m).concat(g)})}),n.sort(function(s,l){return s[0]!==l[0]?s[0]-l[0]:l[1]-s[1]});var o=new Map,a=new Map;return n.filter(function(s){var l=s.toString();return!o.get(l)&&(o.set(l,!0),!0)}).forEach(function(s){var l=t.find(function(u){return u.min==s[0]&&u.max==s[1]}),c=a.get(s[0]);t.push({min:s[0],max:s[1],outlineLevel:e?void 0:c||1,width:(l||{width:100}).width}),a.set(s[0],(c||0)+1)}),i}(u,d,!!i.suppressColumnOutline):[],p=D.compose(function(r){return r.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),r},function(r){return function(t){var e=r.reduce(function(i,n){return n.outlineLevel&&n.outlineLevel>i?n.outlineLevel:i},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}}(u),function(r){return function(t){return r.length&&t.push({name:"cols",children:r.map(function(e){return function(r){var t=r.min,e=r.max,i=r.outlineLevel,n=r.s,o=r.width,a=r.hidden,s=r.bestFit,l=1,c="0";return o>1&&(l=function(r){return Math.ceil((r-12)/7+1)}(o),c="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:i??void 0,width:l,style:n,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:c}}}}(e)})}),t}}(d),function(r,t){return function(e){return r.length&&e.push({name:"sheetData",children:r.map(function(i,n){return dVe_getTemplate(i,n,t)})}),e}}(u,e+1),function(r){return function(t){return r.length&&t.push({name:"mergeCells",properties:{rawMap:{count:r.length}},children:r.map(function(e){return function(r){return{name:"mergeCell",properties:{rawMap:{ref:r}}}}(e)})}),t}}(h),function(r){return function(t){var e=r.top,n=r.right,a=r.bottom,l=r.left,u=r.header,h=r.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===a?.75:a,footer:void 0===h?.3:h,header:void 0===u?.3:u,left:void 0===l?.7:l,right:void 0===n?.7:n,top:void 0===e?.75:e}}}),t}}(o),function(r){return function(t){return r&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:fVe(r.orientation),paperSize:mVe(r.pageSize)}}}),t}}(a),function(r){return function(t){return r?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=r.first?1:0,differentOddEven:null!=r.even?1:0}},children:EVe(r)}),t):t}}(s),function(r){return function(t){return Mi.worksheetImages.get(r)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:p([])}},FD_getTemplate=function(r){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:r.map(function(e){return function(r){return{name:"Relationship",properties:{rawMap:{Id:r.Id,Type:r.Type,Target:r.Target}}}}(e)})}},N9=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Mi=function(){function r(){}return r.createExcel=function(t,e,i){return this.addSheetName(e),function(r,t){1===(iN=t)&&L9(),r.forEach(XGe)}(t,this.sheetNames.length),this.createWorksheet(e,i)},r.buildImageMap=function(t,e,i,n,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:n.indexOf(i)+1}));var l=t;if(function(r,t){var e=r.position,i=e.colSpan,n=e.column;if(r.width)if(i)for(var o=t.slice(n-1,n+i-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(r.width<a+l){r.position.colSpan=s+1,r.totalWidth=r.width,r.width=r.totalWidth-a;break}a+=l}else r.totalWidth=r.width}(l,n),function(r,t){var e=r.position,i=e.rowSpan,n=e.row;if(r.height)if(i)for(var o=0,a=0,s=n;s<n+i;s++){var l=q1e(AD(s,t)||20);if(r.height<o+l){r.position.rowSpan=a+1,r.totalHeight=r.height,r.height=r.totalHeight-o;break}o+=l,a++}else r.totalHeight=r.height}(l,o),s){var c=s.find(function(u){return u.sheetId===a});c?c.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},r.buildSheetImageMap=function(t,e){var i=this.worksheetImageIds.get(t);i||this.worksheetImageIds.set(t,i=new Map);var n=this.worksheetImages.get(t);n?(n.push(e),i.get(e.id)||i.set(e.id,{index:i.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),i.set(e.id,{index:0,type:e.imageType}))},r.addSheetName=function(t){for(var e=D.escapeString(t.name)||"",i="";-1!==this.sheetNames.indexOf("".concat(e).concat(i));)if(""===i)i="_1";else{var n=parseInt(i.slice(1),10);i="_".concat(n+1)}t.name="".concat(e).concat(i),this.sheetNames.push(t.name)},r.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},r.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=Ls.SINGLE_SHEET},r.createWorkbook=function(){return Za(function(r){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[tVe_getTemplate(r)]}}(this.sheetNames))},r.createStylesheet=function(t){return Za(ZGe_getTemplate(t))},r.createSharedStrings=function(){return Za(function(r){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.size,uniqueCount:r.size}},children:_Ge(r)}}(this.sharedStrings))},r.createCore=function(t){return Za(function(r){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:r},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}(t))},r.createContentTypes=function(t){return Za(function(r){var t=new Array(r).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(l+1,".xml")}}),e=Mi.worksheetImages.size,i={};Mi.workbookImageIds.forEach(function(s){i[s.type]=!0});var n=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(l+1,".xml")}}),o=Object.keys(i).map(function(s){return{name:"Default",ContentType:"image/".concat(s),Extension:s}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:bg(bg(bg(bg(bg(bg([],ZL(o),!1),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],!1),ZL(t),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],!1),ZL(n),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}],!1).map(function(s){return function(r){return{name:r.name,properties:{rawMap:{Extension:r.Extension,PartName:r.PartName,ContentType:r.ContentType}}}}(s)})}}(t))},r.createRels=function(){var t=FD_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return Za(t)},r.createTheme=function(){return Za({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Qa(["dk1","sysClr","windowText","000000"]),Qa(["lt1","sysClr","window","FFFFFF"]),Qa(["dk2","srgbClr","44546A"]),Qa(["lt2","srgbClr","E7E6E6"]),Qa(["accent1","srgbClr","4472C4"]),Qa(["accent2","srgbClr","ED7D31"]),Qa(["accent3","srgbClr","A5A5A5"]),Qa(["accent4","srgbClr","FFC000"]),Qa(["accent5","srgbClr","5B9BD5"]),Qa(["accent6","srgbClr","70AD47"]),Qa(["hlink","srgbClr","0563C1"]),Qa(["folHlink","srgbClr","954F72"])]},{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ve(["latin","Calibri Light",void 0,"020F0302020204030204"]),ve(["ea",""]),ve(["cs",""]),ve(["font","\u6e38\u30b4\u30b7\u30c3\u30af Light","Jpan"]),ve(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),ve(["font","\u7b49\u7ebf Light","Hans"]),ve(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),ve(["font","Times New Roman","Arab"]),ve(["font","Times New Roman","Hebr"]),ve(["font","Tahoma","Thai"]),ve(["font","Nyala","Ethi"]),ve(["font","Vrinda","Beng"]),ve(["font","Shruti","Gujr"]),ve(["font","MoolBoran","Khmr"]),ve(["font","Tunga","Knda"]),ve(["font","Raavi","Guru"]),ve(["font","Euphemia","Cans"]),ve(["font","Plantagenet Cherokee","Cher"]),ve(["font","Microsoft Yi Baiti","Yiii"]),ve(["font","Microsoft Himalaya","Tibt"]),ve(["font","MV Boli","Thaa"]),ve(["font","Mangal","Deva"]),ve(["font","Gautami","Telu"]),ve(["font","Latha","Taml"]),ve(["font","Estrangelo Edessa","Syrc"]),ve(["font","Kalinga","Orya"]),ve(["font","Kartika","Mlym"]),ve(["font","DokChampa","Laoo"]),ve(["font","Iskoola Pota","Sinh"]),ve(["font","Mongolian Baiti","Mong"]),ve(["font","Times New Roman","Viet"]),ve(["font","Microsoft Uighur","Uigh"]),ve(["font","Sylfaen","Geor"]),ve(["font","Arial","Armn"]),ve(["font","Leelawadee UI","Bugi"]),ve(["font","Microsoft JhengHei","Bopo"]),ve(["font","Javanese Text","Java"]),ve(["font","Segoe UI","Lisu"]),ve(["font","Myanmar Text","Mymr"]),ve(["font","Ebrima","Nkoo"]),ve(["font","Nirmala UI","Olck"]),ve(["font","Ebrima","Osma"]),ve(["font","Phagspa","Phag"]),ve(["font","Estrangelo Edessa","Syrn"]),ve(["font","Estrangelo Edessa","Syrj"]),ve(["font","Estrangelo Edessa","Syre"]),ve(["font","Nirmala UI","Sora"]),ve(["font","Microsoft Tai Le","Tale"]),ve(["font","Microsoft New Tai Lue","Talu"]),ve(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ve(["latin","Calibri",void 0,"020F0502020204030204"]),ve(["ea",""]),ve(["cs",""]),ve(["font","\u6e38\u30b4\u30b7\u30c3\u30af","Jpan"]),ve(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),ve(["font","\u7b49\u7ebf","Hans"]),ve(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),ve(["font","Arial","Arab"]),ve(["font","Arial","Hebr"]),ve(["font","Tahoma","Thai"]),ve(["font","Nyala","Ethi"]),ve(["font","Vrinda","Beng"]),ve(["font","Shruti","Gujr"]),ve(["font","DaunPenh","Khmr"]),ve(["font","Tunga","Knda"]),ve(["font","Raavi","Guru"]),ve(["font","Euphemia","Cans"]),ve(["font","Plantagenet Cherokee","Cher"]),ve(["font","Microsoft Yi Baiti","Yiii"]),ve(["font","Microsoft Himalaya","Tibt"]),ve(["font","MV Boli","Thaa"]),ve(["font","Mangal","Deva"]),ve(["font","Gautami","Telu"]),ve(["font","Latha","Taml"]),ve(["font","Estrangelo Edessa","Syrc"]),ve(["font","Kalinga","Orya"]),ve(["font","Kartika","Mlym"]),ve(["font","DokChampa","Laoo"]),ve(["font","Iskoola Pota","Sinh"]),ve(["font","Mongolian Baiti","Mong"]),ve(["font","Arial","Viet"]),ve(["font","Microsoft Uighur","Uigh"]),ve(["font","Sylfaen","Geor"]),ve(["font","Arial","Armn"]),ve(["font","Leelawadee UI","Bugi"]),ve(["font","Microsoft JhengHei","Bopo"]),ve(["font","Javanese Text","Java"]),ve(["font","Segoe UI","Lisu"]),ve(["font","Myanmar Text","Mymr"]),ve(["font","Ebrima","Nkoo"]),ve(["font","Nirmala UI","Olck"]),ve(["font","Ebrima","Osma"]),ve(["font","Phagspa","Phag"]),ve(["font","Estrangelo Edessa","Syrn"]),ve(["font","Estrangelo Edessa","Syrj"]),ve(["font","Estrangelo Edessa","Syre"]),ve(["font","Nirmala UI","Sora"]),ve(["font","Microsoft Tai Le","Tale"]),ve(["font","Microsoft New Tai Lue","Talu"]),ve(["font","Ebrima","Tfng"])]}]},{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[OD("phClr"),JL(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),JL(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[eN(["6350","flat","sng","ctr"]),eN(["12700","flat","sng","ctr"]),eN(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[tN(),tN(),tN(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[OD("phClr"),OD("phClr",[Xl("tint","95000"),Xl("satMod","170000")]),JL(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},r.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(n,o){return{Id:"rId".concat(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(o+1,".xml")}}),i=FD_getTemplate(N9(N9([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1),[{Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}],!1));return Za(i)},r.createDrawing=function(t){return Za(function(r){var t=r.sheetIndex,e=Mi.worksheetImages.get(t),i=Mi.worksheetImageIds.get(t),n=e.map(function(o,a){var s=function(r){r.fitCell=!!r.fitCell||!r.width||!r.height;var t=r.position,e=void 0===t?{}:t,i=r.fitCell,n=r.width,o=void 0===n?0:n,a=r.height,s=void 0===a?0:a,l=r.totalHeight,c=r.totalWidth,u=e.offsetX,d=void 0===u?0:u,h=e.offsetY,p=void 0===h?0:h,f=e.row,m=void 0===f?1:f,g=e.rowSpan,v=void 0===g?1:g,y=e.column,_=void 0===y?1:y,b=e.colSpan,w=void 0===b?1:b;return{from:{row:m-1,col:_-1,offsetX:wg(d),offsetY:wg(p)},to:{row:m-1+(i?1:v-1),col:_-1+(i?1:w-1),offsetX:wg(o+d),offsetY:wg(s+p)},height:wg(l||s),width:wg(c||o)}}(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[M9("from",s.from),M9("to",s.to),oGe(o,a,i.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n}}({sheetIndex:t}))},r.createDrawingRel=function(t){var e=this,i=this.worksheetImageIds.get(t),n=[];return i.forEach(function(o,a){n.push({Id:"rId".concat(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(e.workbookImageIds.get(a).index+1,".").concat(o.type)})}),Za(FD_getTemplate(n))},r.createWorksheetDrawingRel=function(t){var e=FD_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(t+1,".xml")}]);return Za(e)},r.createWorksheet=function(t,e){return Za(MVe_getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,config:e}))},r.sharedStrings=new Map,r.sheetNames=[],r.images=new Map,r.worksheetImages=new Map,r.workbookImageIds=new Map,r.worksheetImageIds=new Map,r.factoryMode=Ls.SINGLE_SHEET,r}(),IVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kD=function(){return kD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},kD.apply(this,arguments)},G9=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},nN=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},V9=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FVe=function(r){function t(e){var i=r.call(this,e)||this;return i.mixedStyles={},i.mixedStyleCounter=0,i.rows=[],i.config=Object.assign({},e),i.stylesByIds={},i.config.baseExcelStyles.forEach(function(n){i.stylesByIds[n.id]=n}),i.excelStyles=nN(nN([],G9(i.config.baseExcelStyles),!1),[{id:"_quotePrefix",quotePrefix:1}],!1),i}return IVe(t,r),t.prototype.addCustomContent=function(e){var i=this;e.forEach(function(n){var a,o=i.rows.length+1;!i.config.suppressRowOutline&&null!=n.outlineLevel&&(a=n.outlineLevel);var s={height:AD(o,n.height||i.config.rowHeight),cells:(n.cells||[]).map(function(l,c){var u,d,h,p=i.addImage(o,i.columnsToExport[c],null===(u=l.data)||void 0===u?void 0:u.value),f=null;l.styleId&&(f="string"==typeof l.styleId?[l.styleId]:l.styleId);var m=i.getStyleId(f);if(p)return i.createCell(m,i.getDataTypeForValue(p.value),null==p.value?"":p.value);var g=null!==(h=null===(d=l.data)||void 0===d?void 0:d.value)&&void 0!==h?h:"",v=i.getDataTypeForValue(g);return l.mergeAcross?i.createMergedCell(m,v,g,l.mergeAcross):i.createCell(m,v,g)}),outlineLevel:a};null!=n.collapsed&&(s.collapsed=n.collapsed),null!=n.hidden&&(s.hidden=n.hidden),i.rows.push(s)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,i=[];return this.rows.push({cells:i,height:AD(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,o,a,s,l){var c=e.config.styleLinker({rowType:Fo.HEADER_GROUPING,rowIndex:1,value:"grouping-".concat(o),columnGroup:n});i.push(kD(kD({},e.createMergedCell(e.getStyleId(c),e.getDataTypeForValue("string"),o,s)),{collapsibleRanges:l}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(e){var i=this.onNewRow(this.onNewBodyColumn,this.config.rowHeight);return e&&this.addRowOutlineIfNecessary(e),i},t.prototype.prepare=function(e){var i=this;r.prototype.prepare.call(this,e),this.columnsToExport=nN([],G9(e),!1),this.cols=e.map(function(n,o){return i.convertColumnToExcel(n,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(n,o){return Math.max(n,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.addRowOutlineIfNecessary=function(e){var i=this.config,o=i.suppressRowOutline,a=i.rowGroupExpandState,s=void 0===a?"expanded":a;if(!i.gridOptionsService.get("groupHideOpenParents")&&!o&&null!=e.level){var c=e.footer?1:0,u=D.last(this.rows);if(u.outlineLevel=e.level+c,"expanded"!==s){var d="collapsed"===s;e.isExpandable()&&(u.collapsed=!(!d&&e.expanded)),u.hidden=!!e.parent&&-1!==e.parent.level&&(d||this.isAnyParentCollapsed(e.parent))}}},t.prototype.isAnyParentCollapsed=function(e){for(;e&&-1!==e.level;){if(!e.expanded)return!0;e=e.parent}return!1},t.prototype.convertColumnToExcel=function(e,i){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:e,index:i})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,i){var n=this;return function(o,a){var s=n.extractHeaderValue(o),l=n.config.styleLinker({rowType:Fo.HEADER,rowIndex:e,value:s,column:o});i.push(n.createCell(n.getStyleId(l),n.getDataTypeForValue("string"),s))}},t.prototype.onNewBodyColumn=function(e,i){var n=this,o=0;return function(a,s,l){if(o>0)o-=1;else{var c=n.extractRowCellValue(a,s,e,"excel",l),u=c.value,d=c.valueFormatted,h=n.config.styleLinker({rowType:Fo.BODY,rowIndex:e,value:u,column:a,node:l}),p=n.getStyleId(h),f=a.getColSpan(l),m=n.addImage(e,a,u);m?i.push(n.createCell(p,n.getDataTypeForValue(m.value),null==m.value?"":m.value)):f>1?(o=f-1,i.push(n.createMergedCell(p,n.getDataTypeForValue(u),u,f-1))):i.push(n.createCell(p,n.getDataTypeForValue(u),u,d))}}},t.prototype.onNewRow=function(e,i){var n=[];return this.rows.push({cells:n,height:AD(this.rows.length+1,i)}),{onColumn:e.bind(this,this.rows.length,n)()}},t.prototype.createExcel=function(e){return Mi.createExcel(this.excelStyles,e,this.config)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getTypeFromStyle=function(e,i){if(this.isFormula(i))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export [".concat(e.id,".dataType=").concat(e.dataType,"]"))}return null},t.prototype.addImage=function(e,i,n){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,i,n);if(o)return Mi.buildImageMap(o.image,e,i,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,i,n,o){var a=this.getStyleById(e);!a?.dataType&&"s"===i&&o&&(n=o);var s=this.getTypeFromStyle(a,n)||i,l=this.getCellValue(s,n),c=l.value,u=l.escaped,d=[];return a&&d.push(e),u&&d.push("_quotePrefix"),{styleId:e=this.getStyleId(d)||void 0,data:{type:s,value:c}}},t.prototype.createMergedCell=function(e,i,n,o){var a=n??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:i,value:"s"===i?Mi.getStringPosition(a).toString():n},mergeAcross:o}},t.prototype.getCellValue=function(e,i){var n=!1;return null==i&&(e="s",i=""),"s"===e?(i&&"'"===i[0]&&(n=!0,i=i.slice(1)),i=Mi.getStringPosition(i).toString()):"f"===e?i=i.slice(1):"n"===e&&(i=Number(i).toString()),{value:i,escaped:n}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var i=e.join("-");return this.mixedStyles[i]||this.addNewMixedStyle(e),this.mixedStyles[i].excelID},t.prototype.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.addNewMixedStyle=function(e){var i,n,o,a;this.mixedStyleCounter+=1;var s="mixedStyle".concat(this.mixedStyleCounter),l={};try{for(var c=V9(e),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,V9(this.excelStyles)),p=h.next();!p.done;p=h.next()){var f=p.value;f.id===d&&D.mergeDeep(l,this.deepCloneObject(f))}}catch(g){o={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(g){i={error:g}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}l.id=s,l.name=s;var m=e.join("-");this.mixedStyles[m]={excelID:s,key:m,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return"bigint"==typeof e||isFinite(e)&&""!==e&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t}(G7),kVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LD=function(){return LD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},LD.apply(this,arguments)},pu=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},B9=function(r,t,e){return void 0===t&&(t=11),void 0===e&&(e="AG Grid"),r&&r.length>0?(function(){if(Sr.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),Mi.images.size){Sr.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var r=0;Mi.images.forEach(function(t){var e=t[0].image[0],i=e.imageType;Sr.addFile("xl/media/image".concat(++r,".").concat(i),e.base64,!0)})}}(),function(r){var t=0;r.forEach(function(e,i){Sr.addFile("xl/worksheets/sheet".concat(i+1,".xml"),e,!1),Mi.images.size&&Mi.worksheetImages.get(i)&&BVe(i,t++)})}(r),function(r,t,e){Sr.addFile("xl/workbook.xml",Mi.createWorkbook()),Sr.addFile("xl/styles.xml",Mi.createStylesheet(r)),Sr.addFile("xl/sharedStrings.xml",Mi.createSharedStrings()),Sr.addFile("xl/theme/theme1.xml",Mi.createTheme()),Sr.addFile("xl/_rels/workbook.xml.rels",Mi.createWorkbookRels(e)),Sr.addFile("docProps/core.xml",Mi.createCore(t)),Sr.addFile("[Content_Types].xml",Mi.createContentTypes(e)),Sr.addFile("_rels/.rels",Mi.createRels())}(t,e,r.length)):console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),Mi.resetFactory(),!(!r||0===r.length)},H9=function(r){var n=r.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return B9(r.data,r.fontSize,r.author)?Sr.getZipFile(n):Promise.resolve(void 0)},j9=function(r){var n=r.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if(B9(r.data,r.fontSize,r.author))return Sr.getUncompressedZipFile(n)},BVe=function(r,t){var e="xl/drawings",i="".concat(e,"/drawing").concat(t+1,".xml"),n="".concat(e,"/_rels/drawing").concat(t+1,".xml.rels"),o="xl/worksheets/_rels/sheet".concat(r+1,".xml.rels");Sr.addFile(n,Mi.createDrawingRel(r)),Sr.addFile(i,Mi.createDrawing(r)),Sr.addFile(o,Mi.createWorksheetDrawingRel(t))},HVe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kVe(t,r),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var i=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},i,e)},t.prototype.export=function(e){var i=this;if(this.isExportSuppressed())console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");else{var n=this.getMergedParams(e),o=this.getData(n);this.packageCompressedFile({data:[o],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType}).then(function(s){if(s){var l=n.fileName,c="function"==typeof l?l(i.gridOptionsService.getGridCommonParams()):l;TL.download(i.getFileName(c),s)}})}},t.prototype.exportDataAsExcel=function(e){this.export(e)},t.prototype.getDataAsExcel=function(e){var i=this.getMergedParams(e),n=this.getData(i);return this.packageFile({data:[n],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType})},t.prototype.setFactoryMode=function(e){Mi.factoryMode=e},t.prototype.getFactoryMode=function(){return Mi.factoryMode},t.prototype.getSheetDataForExcel=function(e){var i=this.getMergedParams(e);return this.getData(i)},t.prototype.getMultipleSheetsAsExcel=function(e){return j9(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){!function(r){var t=r.fileName,e=void 0===t?"export.xlsx":t;H9(r).then(function(i){if(i){var n="function"==typeof e?e():e;TL.download(n,i)}})}(e)},t.prototype.getDefaultFileExtension=function(){return"xlsx"},t.prototype.createSerializingSession=function(e){var c,i=this,n=i.columnModel,o=i.valueService,a=i.gridOptionsService,s=i.valueFormatterService,l=i.valueParserService;if(null!=e.sheetName){var u=e.sheetName,d="function"==typeof u?u(this.gridOptionsService.getGridCommonParams()):u;c=String(d).substring(0,31)}else c="ag-grid";var h=LD(LD({},e),{sheetName:c,columnModel:n,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new FVe(h)},t.prototype.styleLinker=function(e){var i=e.rowType,n=e.rowIndex,o=e.value,a=e.column,s=e.columnGroup,l=e.node,c=i===Fo.HEADER,u=i===Fo.HEADER_GROUPING,d=c?a:s,h=[];if(c||u)return h.push("header"),u&&h.push("headerGroup"),d&&(h=h.concat(Cp.getHeaderClassesFromColDef(d.getDefinition(),this.gridOptionsService,a||null,s||null))),h;var p=this.gridOptionsService.get("excelStyles"),f=["cell"];if(!p||!p.length)return f;var m=p.map(function(g){return g.id});return this.stylingService.processAllCellClasses(a.getDefinition(),this.gridOptionsService.addGridCommonParams({value:o,data:l.data,node:l,colDef:a.getDefinition(),column:a,rowIndex:n}),function(g){m.indexOf(g)>-1&&f.push(g)}),f.sort(function(g,v){return m.indexOf(g)<m.indexOf(v)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressExcelExport")},t.prototype.packageCompressedFile=function(e){return H9(e)},t.prototype.packageFile=function(e){return j9(e)},pu([C("columnModel")],t.prototype,"columnModel",void 0),pu([C("valueService")],t.prototype,"valueService",void 0),pu([C("stylingService")],t.prototype,"stylingService",void 0),pu([C("gridSerializer")],t.prototype,"gridSerializer",void 0),pu([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),pu([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),pu([C("valueParserService")],t.prototype,"valueParserService",void 0),pu([j],t.prototype,"postConstruct",null),pu([oe("excelCreator")],t)}(N7),UVe={version:"31.1.1",moduleName:ie.ExcelExportModule,beans:[HVe,H7,B7],dependantModules:[eD,ur]},zVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FC=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Dr=(()=>((Dr=Dr||{})[Dr.EXPANDED=0]="EXPANDED",Dr[Dr.COLLAPSED=1]="COLLAPSED",Dr[Dr.INDETERMINATE=2]="INDETERMINATE",Dr))(),WVe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zVe(t,r),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(Dr.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,i=!this.params.suppressExpandAll,n=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var a=this.columnModel.getAllGridColumns().some(function(s){return s.getOriginalParent()&&s.isFilterAllowed()});D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eExpand,i&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=D.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===Dr.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,D.setDisplayed(this.eExpandChecked,this.currentExpandState===Dr.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Dr.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Dr.INDETERMINATE)},FC([C("columnModel")],t.prototype,"columnModel",void 0),FC([G("eExpand")],t.prototype,"eExpand",void 0),FC([G("eFilterTextField")],t.prototype,"eFilterTextField",void 0),FC([Zm],t.prototype,"preConstruct",null),FC([j],t.prototype,"postConstruct",null),t}(le),$Ve=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vd=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},U9=function(r){function t(e,i){var n=r.call(this,t.TEMPLATE)||this;return n.expandedCallback=i,n.expanded=!1,n.hideHeader=e,n}return $Ve(t,r),t.prototype.postConstruct=function(){this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var i=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(n){(n.key===V.ENTER||n.key===V.SPACE)&&(n.preventDefault(),i.toggleExpanded())}),this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),D.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(D.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,i,n){if(null!=i){var o=D.createIconNoSpan(e,this.gridOptionsService,n);i.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:bt.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement(!0))},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,D.setAriaExpanded(this.eFilterToolPanelHeader,!0),D.setDisplayed(this.eExpandChecked,!0),D.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())},t.prototype.addFilterElement=function(e){var i=this,n=D.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var a=o.filterPromise,s=o.guiPromise;a?.then(function(l){i.underlyingFilter=l,l&&s.then(function(c){c&&n.appendChild(c),i.agFilterToolPanelBody.appendChild(n),l.afterGuiAttached&&l.afterGuiAttached({container:"toolPanel",suppressFocus:e})})})}},t.prototype.collapse=function(){var e,i;this.expanded&&(this.expanded=!1,D.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),D.setDisplayed(this.eExpandChecked,!1),D.setDisplayed(this.eExpandUnchecked,!0),null===(i=null===(e=this.underlyingFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===i||i.call(e),this.expandedCallback())},t.prototype.removeFilterElement=function(){D.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var i;if(this.expanded){var n=this.underlyingFilter;n&&(e?"function"==typeof n.refreshVirtualList&&n.refreshVirtualList():null===(i=n.afterGuiDetached)||void 0===i||i.call(n))}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',Vd([G("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Vd([G("eFilterName")],t.prototype,"eFilterName",void 0),Vd([G("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Vd([G("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Vd([G("eExpand")],t.prototype,"eExpand",void 0),Vd([C("filterManager")],t.prototype,"filterManager",void 0),Vd([C("columnModel")],t.prototype,"columnModel",void 0),Vd([j],t.prototype,"postConstruct",null),t}(le),KVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ND=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Bd=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.columnGroup=e,s.childFilterComps=i,s.depth=o,s.expandedCallback=n,s.showingColumn=a,s}return KVe(t,r),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-".concat(this.depth)),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(this.depth,"-header")),this.childFilterComps.forEach(function(i){e.filterGroupComp.addItem(i),i.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(e.depth+1,"-header"))}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var i=function(){var n=e.columnGroup.getColDef().headerTooltip;e.setTooltip(n)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(i){i instanceof t?i.refreshFilters(e):i.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof ei},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,i){this.filterGroupComp.hideItem(e,i)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(i){i instanceof U9&&e(i)})},t.prototype.addExpandCollapseListeners=function(){var e=this,i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,Vs.EVENT_EXPANDED,i),this.addManagedListener(this.filterGroupComp,Vs.EVENT_COLLAPSED,n)},t.prototype.getColumns=function(){return this.columnGroup instanceof ei?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(i){e.addManagedListener(i,bt.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof ei||this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(n){return n.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ei?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',ND([G("filterGroupComp")],t.prototype,"filterGroupComp",void 0),ND([C("columnModel")],t.prototype,"columnModel",void 0),ND([Zm],t.prototype,"preConstruct",null),ND([j],t.prototype,"init",null),t}(le),YVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),z9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qVe=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.hasLoadedInitialState=!1,e.isInitialState=!1,e.filterGroupComps=[],e.suppressOnColumnsChanged=!1,e.onColumnsChangedPending=!1,e}return YVe(t,r),t.prototype.init=function(e){var i=this;this.initialised=!0;var n=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});D.mergeDeep(n,e),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(a){"filters"===a.key&&i.refreshFilters(a.visible)}),this.addManagedListener(this.eventService,x.EVENT_DRAG_STARTED,function(){i.suppressOnColumnsChanged=!0}),this.addManagedListener(this.eventService,x.EVENT_DRAG_STOPPED,function(){i.suppressOnColumnsChanged=!1,i.onColumnsChangedPending&&(i.onColumnsChangedPending=!1,i.onColumnsChanged())}),this.columnModel.isReady()&&this.onColumnsChanged();var o=this.getAriaElement();D.setAriaLive(o,"assertive"),D.setAriaAtomic(o,!1),D.setAriaRelevant(o,"text")},t.prototype.onColumnsChanged=function(){if(this.suppressOnColumnsChanged)this.onColumnsChangedPending=!0;else{var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout(),this.refreshAriaLabel()}},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this)),this.refreshAriaLabel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var i=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(i)},t.prototype.recreateFilters=function(e){var i=this,n=this.gridOptionsService.getDocument().activeElement;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,o);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return i.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),D.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(n)&&n.focus(),this.isInitialState=!1,this.refreshAriaLabel()},t.prototype.recursivelyAddComps=function(e,i,n){var o=this;return D.flatten(e.map(function(a){if(a instanceof ei)return D.flatten(o.recursivelyAddFilterGroupComps(a,i,n));var s=a;if(!o.shouldDisplayFilter(s))return[];var c=new U9(0===i,function(){return o.onFilterExpanded()});if(o.createBean(c),c.setColumn(s),n.get(s.getId())&&c.expand(),i>0)return c;var u=o.createBean(new Bd(s,[c],o.onGroupExpanded.bind(o),i,!0));return u.addCssClassToTitleBar("ag-filter-toolpanel-header"),n.get(u.getFilterGroupId())||u.collapse(),u}))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaFilterPanelList","Filter List"),n=e("filters","Filters"),u=this.getGui().querySelectorAll("".concat(".ag-filter-toolpanel-group-item",":not(").concat(".ag-filter-toolpanel-group-wrapper",", ").concat(".ag-hidden",")")).length;D.setAriaLabel(this.getAriaElement(),"".concat(i," ").concat(u," ").concat(n))},t.prototype.recursivelyAddFilterGroupComps=function(e,i,n){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var a=e.isPadding()?i:i+1,s=D.flatten(this.recursivelyAddComps(e.getChildren(),a,n));if(e.isPadding())return s;var l=new Bd(e,s,this.onGroupExpanded.bind(this),i,!1);this.createBean(l),l.addCssClassToTitleBar("ag-filter-toolpanel-header");var c=n.get(l.getFilterGroupId());return(this.isInitialState&&!c||!1===c)&&l.collapse(),[l]}},t.prototype.filtersExistInChildren=function(e){var i=this;return e.some(function(n){return n instanceof ei?i.filtersExistInChildren(n.getChildren()):i.shouldDisplayFilter(n)})},t.prototype.shouldDisplayFilter=function(e){var i=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!i},t.prototype.getExpansionState=function(){var e=new Map;if(this.isInitialState){var i=this.params.initialState,o=i.expandedGroupIds;return i.expandedColIds.forEach(function(s){return e.set(s,!0)}),o.forEach(function(s){return e.set(s,!0)}),e}var a=function(s){e.set(s.getFilterGroupId(),s.isExpanded()),s.getChildren().forEach(function(l){l instanceof Bd?a(l):e.set(l.getColumn().getId(),l.isExpanded())})};return this.filterGroupComps.forEach(a),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){r.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,i){var n=[],o=function(s){var l=s.getFilterGroupId();(!i||D.includes(i,l))&&(e&&s.isColumnGroup()?s.expand():s.collapse(),n.push(l)),s.getChildren().forEach(function(u){u instanceof Bd&&o(u)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),i){var a=i.filter(function(s){return n.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,i){var n=[],o=function(s){if(s instanceof Bd){var l=!1;return s.getChildren().forEach(function(d){o(d)&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var c=s.getColumn().getColId(),u=!i||D.includes(i,c);return u&&(e?s.expand():s.collapse(),n.push(c)),u};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),i){var a=i.filter(function(s){return n.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.onFilterExpanded=function(){this.dispatchEvent({type:"filterExpanded"})},t.prototype.fireExpandedEvent=function(){var e=0,i=0,n=function(a){a.isColumnGroup()&&(a.isExpanded()?e++:i++,a.getChildren().forEach(function(s){s instanceof Bd&&n(s)}))};this.filterGroupComps.forEach(n),this.dispatchEvent({type:"groupExpanded",state:e>0&&i>0?Dr.INDETERMINATE:i>0?Dr.COLLAPSED:Dr.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=D.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var o,a,i=function(s){return!D.exists(e)||-1!==s.toLowerCase().indexOf(e)},n=function(s,l){if(!(s instanceof Bd))return i(s.getColumnFilterName()||"");var c=s.getChildren(),u=i(s.getFilterGroupName()),d=l||u;if(d){s.hideGroup(!1);for(var h=0;h<c.length;h++)n(c[h],d),s.hideGroupItem(!1,h);return!0}var p=!1;return c.forEach(function(f,m){var g=n(f,l);s.hideGroupItem(!g,m),g&&(p=!0)}),s.hideGroup(!p),p};this.filterGroupComps.forEach(function(s,l){n(s,!1),void 0===o?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a),this.refreshAriaLabel()},t.prototype.setFirstAndLastVisible=function(e,i){this.filterGroupComps.forEach(function(n,o){n.removeCssClass("ag-first-group-visible"),n.removeCssClass("ag-last-group-visible"),o===e&&n.addCssClass("ag-first-group-visible"),o===i&&n.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(i){return i.refreshFilters(e)})},t.prototype.getExpandedFiltersAndGroups=function(){var e=[],i=new Set,n=function(o){if(o instanceof Bd){o.getChildren().forEach(function(s){return n(s)});var a=o.getFilterGroupId();o.isExpanded()&&!i.has(a)&&e.push(a)}else o.isExpanded()&&i.add(o.getColumn().getColId())};return this.filterGroupComps.forEach(n),{expandedGroupIds:e,expandedColIds:Array.from(i)}},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',z9([C("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),z9([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),XVe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),GD=function(){return GD=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},GD.apply(this,arguments)},W9=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ZVe=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return XVe(t,r),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var i=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});this.params=GD(GD({},i),e),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"filterExpanded",this.onFilterExpanded.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){r.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onFilterExpanded=function(){this.params.onStateUpdated()},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(e){return this.init(e),!0},t.prototype.getState=function(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',W9([G("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),W9([G("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),t}(le),JVe={version:"31.1.1",moduleName:ie.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:WVe},{componentName:"AgFiltersToolPanelList",componentClass:qVe}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:ZVe}],dependantModules:[XL,ur]},rN=Object.defineProperty,eBe=Object.defineProperties,tBe=Object.getOwnPropertyDescriptor,iBe=Object.getOwnPropertyDescriptors,VD=Object.getOwnPropertySymbols,nBe=Object.getPrototypeOf,$9=Object.prototype.hasOwnProperty,K9=Object.prototype.propertyIsEnumerable,rBe=Reflect.get,oN=(r,t)=>(t=Symbol[r])?t:Symbol.for("Symbol."+r),Pt=Math.pow,Y9=(r,t,e)=>t in r?rN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,J=(r,t)=>{for(var e in t||(t={}))$9.call(t,e)&&Y9(r,e,t[e]);if(VD)for(var e of VD(t))K9.call(t,e)&&Y9(r,e,t[e]);return r},Pe=(r,t)=>eBe(r,iBe(t)),Zn=(r,t)=>{var e={};for(var i in r)$9.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&VD)for(var i of VD(r))t.indexOf(i)<0&&K9.call(r,i)&&(e[i]=r[i]);return e},fu=(r,t)=>{for(var e in t)rN(r,e,{get:t[e],enumerable:!0})},S=(r,t,e,i)=>{for(var a,n=i>1?void 0:i?tBe(t,e):t,o=r.length-1;o>=0;o--)(a=r[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&rN(t,e,n),n},mu=(r,t,e)=>rBe(nBe(r),e,t),he=(r,t,e)=>new Promise((i,n)=>{var o=l=>{try{s(e.next(l))}catch(c){n(c)}},a=l=>{try{s(e.throw(l))}catch(c){n(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(r,t)).next())}),oBe=function(r,t){this[0]=r,this[1]=t},aBe=r=>{var i,t=r[oN("asyncIterator")],e=!1,n={};return null==t?(t=r[oN("iterator")](),i=o=>n[o]=a=>t[o](a)):(t=t.call(r),i=o=>n[o]=a=>{if(e){if(e=!1,"throw"===o)throw a;return a}return e=!0,{done:!1,value:new oBe(new Promise(s=>{var l=t[o](a);if(!(l instanceof Object))throw TypeError("Object expected");s(l)}),1)}}),n[oN("iterator")]=()=>n,i("next"),"throw"in t?i("throw"):n.throw=o=>{throw o},"return"in t&&i("return"),n},q9=(r=>(r.POINTER="pointer",r.NODE="node",r))(q9||{});fu({},{day:()=>aq,friday:()=>TBe,hour:()=>oq,millisecond:()=>J9,minute:()=>nq,monday:()=>SBe,month:()=>lq,saturday:()=>ABe,second:()=>tq,sunday:()=>sq,thursday:()=>DBe,tuesday:()=>xBe,utcDay:()=>zBe,utcHour:()=>HBe,utcMinute:()=>GBe,utcMonth:()=>KBe,utcYear:()=>XBe,wednesday:()=>EBe,year:()=>cq});var aN=new Map;function sN(r,t){aN.has(t)||(aN.set(t,!0),r())}function Z9(r){return r}function Q9(r,t=0,e){const{leading:i=!0,trailing:n=!0}=e??{};let o,a,s=!1;function l(){n&&a?(o=setTimeout(l,t),r(...a)):s=!1,a=null}return Object.assign(function c(...u){s?a=u:(s=!0,o=setTimeout(l,t),i?r(...u):a=u)},{cancel(){clearTimeout(o),s=!1,a=null}})}sN.clear=()=>aN.clear();var Ae={log(...r){console.log(...r)},warn(r,...t){console.warn(`AG Charts - ${r}`,...t)},error(r,...t){"object"==typeof r?console.error("AG Charts error",r,...t):console.error(`AG Charts - ${r}`,...t)},table(...r){console.table(...r)},warnOnce(r,...t){sN(()=>Ae.warn(r,...t),`Logger.warn: ${r}`)},errorOnce(r,...t){sN(()=>Ae.error(r,...t),`Logger.error: ${r}`)}},kC=class{constructor(r,t,e){this._encode=r,this._decode=t,this._rangeCallback=e}floor(r){const t=new Date(r),e=this._encode(t);return this._decode(e)}ceil(r){const t=new Date(Number(r)-1),e=this._encode(t);return this._decode(e+1)}range(r,t,e){var i;const n=null==(i=this._rangeCallback)?void 0:i.call(this,r,t),o=this._encode(e?this.floor(r):this.ceil(r)),a=this._encode(e?this.ceil(t):this.floor(t));if(a<o)return[];const s=[];for(let l=o;l<=a;l++){const c=this._decode(l);s.push(c)}return n?.(),s}},ya=class extends kC{getOffset(r,t){const e="number"==typeof r||r instanceof Date?this._encode(new Date(r)):0;return Math.floor(e)%t}every(r,t){let i,e=0;const n=r;n!==(r=Math.max(1,Math.round(r)))&&Ae.warnOnce(`interval step of [${n}] rounded to [${r}].`);const{snapTo:o="start"}=t??{};if("string"==typeof o){const l=e;i=(c,u)=>(e=this.getOffset("start"===o?c:u,r),()=>e=l)}else"number"==typeof o?e=this.getOffset(new Date(o),r):o instanceof Date&&(e=this.getOffset(o,r));return new kC(l=>{const c=this._encode(l);return Math.floor((c-e)/r)},l=>this._decode(l*r+e),i)}},J9=new ya(function lBe(r){return r.getTime()},function cBe(r){return new Date(r)}),uBe=J9,no=6e4,Zl=60*no,Hd=24*Zl,LC=7*Hd,NC=30*Hd,BD=365*Hd,eq=(new Date).getTimezoneOffset()*no,tq=new ya(function dBe(r){return Math.floor((r.getTime()-eq)/1e3)},function hBe(r){return new Date(eq+1e3*r)}),pBe=tq,iq=(new Date).getTimezoneOffset()*no,nq=new ya(function fBe(r){return Math.floor((r.getTime()-iq)/no)},function mBe(r){return new Date(iq+r*no)}),gBe=nq,rq=(new Date).getTimezoneOffset()*no,oq=new ya(function vBe(r){return Math.floor((r.getTime()-rq)/Zl)},function yBe(r){return new Date(rq+r*Zl)}),_Be=oq,aq=new ya(function CBe(r){const t=r.getTimezoneOffset()*no;return Math.floor((r.getTime()-t)/Hd)},function bBe(r){const t=new Date(1970,0,1);return t.setDate(t.getDate()+r),t}),wBe=aq;function Ap(r){const e=(7+r-4)%7;return new ya(function i(o){const a=o.getTimezoneOffset()*no;return Math.floor((o.getTime()-a)/LC-e/7)},function n(o){const a=new Date(1970,0,1);return a.setDate(a.getDate()+7*o+e),a})}var sq=Ap(0),SBe=Ap(1),xBe=Ap(2),EBe=Ap(3),DBe=Ap(4),TBe=Ap(5),ABe=Ap(6),OBe=sq,lq=new ya(function MBe(r){return 12*r.getFullYear()+r.getMonth()},function RBe(r){const t=Math.floor(r/12);return new Date(t,r-12*t,1)}),PBe=lq,cq=new ya(function IBe(r){return r.getFullYear()},function FBe(r){const t=new Date;return t.setFullYear(r),t.setMonth(0,1),t.setHours(0,0,0,0),t}),kBe=cq,GBe=new ya(function LBe(r){return Math.floor(r.getTime()/no)},function NBe(r){return new Date(r*no)}),HBe=new ya(function VBe(r){return Math.floor(r.getTime()/Zl)},function BBe(r){return new Date(r*Zl)}),zBe=new ya(function jBe(r){return Math.floor(r.getTime()/Hd)},function UBe(r){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+r),t.setUTCHours(0,0,0,0),t}),KBe=new ya(function WBe(r){return 12*r.getUTCFullYear()+r.getUTCMonth()},function $Be(r){const t=Math.floor(r/12);return new Date(Date.UTC(t,r-12*t,1))}),XBe=new ya(function YBe(r){return r.getUTCFullYear()},function qBe(r){const t=new Date;return t.setUTCFullYear(r),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}),xg={isEnterprise:!1},lN=class{constructor(){this.destroyFns=[]}destroy(){for(const r of this.destroyFns)r()}},Ql=[];function Hs(r){const t=Ql.find(e=>r.type===e.type&&r.optionsKey===e.optionsKey&&r.identifier===e.identifier);if(t){if("enterprise"===r.packageType&&"community"===t.packageType){const e=Ql.indexOf(t);Ql.splice(e,1,r)}}else Ql.push(r)}function cN(){return Ql.some(r=>"enterprise"===r.packageType)}var HD={};function uq(r,t){HD[r]=t}function ZBe(r,t){const e=HD[r];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${r}`)}var uN={has:r=>Object.hasOwn(HD,r),get axesTypes(){return Object.keys(HD)}},dq={};function hq(r,t){dq[r]=t}function QBe(r){var t;return null!=(t=dq[r])?t:{}}var jD=Symbol("BREAK"),Eg="__decorator_config";function pq(r,t){null==Object.getOwnPropertyDescriptor(r,Eg)&&Object.defineProperty(r,Eg,{value:{}});const e=r[Eg],i=t.toString();if(typeof e[i]<"u")return e[i];const n=new WeakMap;e[i]={setters:[],getters:[],observers:[],valuesMap:n};const o=Object.getOwnPropertyDescriptor(r,t),a=o?.set,s=o?.get;return Object.defineProperty(r,t,{set:function(u){const{setters:d,observers:h}=e[i];let p;d.some(f=>f.length>2)&&(p=s?s.call(this):n.get(this));for(const f of d)if((u=f(this,t,u,p))===jD)return;a?a.call(this,u):n.set(this,u);for(const f of h)f(this,u,p)},get:function(){let u=s?s.call(this):n.get(this);for(const d of e[i].getters)if(u=d(this,t,u),u===jD)return;return u},enumerable:!0,configurable:!1}),e[i]}function gu(r,t,e){return(i,n)=>{const o=pq(i,n);o.setters.push(r),t&&o.getters.unshift(t),e&&Object.assign(o,e)}}function UD(r){return typeof r<"u"&&Eg in r}function Dg(r){const t=new Set;for(;UD(r);)t.add(r?.[Eg]),r=Object.getPrototypeOf(r);return Array.from(t).flatMap(e=>Object.keys(e))}function e2e(r){return Dg(r).reduce((t,e)=>{var i;return t[e]=null!=(i=r[e])?i:null,t},{})}function dN(r){return null!=r}function Fn(r){return Array.isArray(r)}function fq(r){return"boolean"==typeof r}function zD(r){return r instanceof Date}function GC(r){return zD(r)&&!isNaN(Number(r))}function mq(r){return r instanceof RegExp}function Tg(r){return"function"==typeof r}function Jl(r){return"object"==typeof r&&null!==r&&!Fn(r)}function i2e(r){return Fn(r)||Ja(r)}function Ja(r){return"object"==typeof r&&null!==r&&r.constructor===Object}function es(r){return"string"==typeof r}function js(r){return"number"==typeof r}function ai(r){return js(r)&&Number.isFinite(r)}function gq(r){return typeof window<"u"&&r instanceof HTMLElement}function n2e(r,t){return es(t)&&Object.keys(r).includes(t)}function vq(r,t){return Object.values(r).includes(t)}function yq(r){return"symbol"==typeof r}function r2e(...r){return Gt(...r.reverse())}function Gt(...r){const e={};for(const i of r){if(!Jl(i))continue;const n=UD(i)?Dg(i):Object.keys(i);for(const o of n)Ja(e[o])&&Ja(i[o])?e[o]=Gt(e[o],i[o]):null!=e[o]||(e[o]=i[o])}return e}function hN(r,...t){return t&&Fn(r)?r.map(e=>Gt(e,...t)):r}function _q(r,t){return Object.entries(r).reduce((e,[i,n])=>(e[i]=t(n,i,r),e),{})}function Cq(r,t){return(Fn(t)?t:t.split(".")).reduce((i,n)=>i[n],r)}function bq(r,t,e){const i=Fn(t)?t.slice():t.split("."),n=i.pop();i.reduce((a,s)=>a[s],r)[n]=e}function pN(r,t,e){if(void 0===e)return t;for(const i of r){const n=e[i];void 0!==n&&(t[i]=n)}return t}var Op={},fN={},ts={has:r=>Object.hasOwn(Op,r),isCartesian:r=>"cartesian"===Op[r],isPolar:r=>"polar"===Op[r],isHierarchy:r=>"hierarchy"===Op[r],get seriesTypes(){return Object.keys(Op)},get cartesianTypes(){return this.seriesTypes.filter(r=>this.isCartesian(r))},get polarTypes(){return this.seriesTypes.filter(r=>this.isPolar(r))},get hierarchyTypes(){return this.seriesTypes.filter(r=>this.isHierarchy(r))}};function a2e(r,t){fN[r]=Gt(t,fN[r])}function wq(r){var t;return null!=(t=fN[r])?t:{}}var Ag=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function Sq(r){return Ag.some(t=>"series"===t.type&&t.identifier===r)}function mN(r){var t;return null==(t=Ag.find(e=>"series"===e.type&&e.identifier===r))?void 0:t.chartTypes}function l2e(r){var t,e;return(null!=(e=null==(t=Ag.find(i=>"series"===i.type&&i.identifier===r))?void 0:t.useCount)?e:0)>0}function p2e(r){if(!function h2e(r){return"enterprise"===r.packageType}(r))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Ag.find(i=>i.type===r.type&&i.optionsKey===r.optionsKey&&i.identifier===r.identifier&&r.chartTypes.every(n=>i.chartTypes.includes(n)));return e&&(null!=e.useCount||(e.useCount=0),e.useCount++),null!=e}function VC(r){var t,e,i;return null!=(i=null==(e=null==(t=r.series)?void 0:t[0])?void 0:e.type)?i:"line"}function Mp(r){const t=VC(r);return null==t||("cartesian"===t?(Ae.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isCartesian(t)||function c2e(r){var t;return"cartesian"===(null==(t=mN(r))?void 0:t.find(i=>"cartesian"===i))}(t))}function gN(r){const t=VC(r);return null!=t&&("hierarchy"===t?(Ae.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isHierarchy(t)||function d2e(r){var t;return"hierarchy"===(null==(t=mN(r))?void 0:t.find(i=>"hierarchy"===i))}(t))}function BC(r){const t=VC(r);return null!=t&&("polar"===t?(Ae.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isPolar(t)||function u2e(r){var t;return"polar"===(null==(t=mN(r))?void 0:t.find(i=>"polar"===i))}(t))}function v2e(r){return null!=r&&uN.has(r)}var wi=class{constructor(r){this.className=r}set(r){const t=new Set(Object.keys(r));for(const e of Dg(this))if(t.has(e)){const i=r[e],n=this;n[e]=_a(n[e])?n[e]instanceof HC?n[e].reset(i):n[e].set(i):i,t.delete(e)}for(const e of t){const{className:i=this.constructor.name}=this.constructor;Ae.warn(`unable to set [${e}] in ${i} - property is unknown`)}return this}isValid(){return Dg(this).every(r=>{const{optional:t}=function t2e(r,t){const e=t.toString();for(;UD(r);){const i=r[Eg];if(Object.hasOwn(i,e))return i[e];r=Object.getPrototypeOf(r)}}(this,r);return t||typeof this[r]<"u"})}toJson(){return Dg(this).reduce((r,t)=>{const e=this[t];return r[t]=_a(e)?e.toJson():e,r},{})}},HC=class mie extends Array{constructor(t,...e){super(e.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(e)}set(t){if(Fn(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=(new this.itemFactory).set(t[e])}return this}reset(t){return new mie(this.itemFactory,...t)}toJson(){return this.slice()}};function _a(r){return r instanceof wi||r instanceof HC}var WD="class-instance";function Ca(r,t){if(Fn(t)){if(!Fn(r)||r.length!==t.length||t.some((e,i)=>null!=Ca(r[i],e)))return t}else{if(Ja(t)){if(!Ja(r))return t;const e={},i=new Set([...Object.keys(r),...Object.keys(t)]);for(const n of i)if(r[n]!==t[n])if(typeof r[n]!=typeof t[n])e[n]=t[n];else{const o=Ca(r[n],t[n]);null!==o&&(e[n]=o)}return Object.keys(e).length?e:null}if(r!==t)return t}return null}function Vr(r,t){return Fn(r)?r.map(e=>Vr(e,t)):Ja(r)?Object.entries(r).reduce((e,[i,n])=>{var o;return e[i]=null!=(o=t?.shallow)&&o.includes(i)?$D(n):Vr(n,t),e},{}):$D(r)}function $D(r){return Fn(r)?[...r]:Ja(r)?J({},r):zD(r)?new Date(r):mq(r)?new RegExp(r.source,r.flags):r}function ec(r,t,e,...i){var n;if(Fn(r))t(r,...i),r.forEach((o,a)=>{ec(o,t,e,...xq(i,a))});else if(Ja(r)){t(r,...i);for(const o of Object.keys(r)){if(null!=(n=e?.skip)&&n.includes(o))continue;const a=r[o];(Fn(a)||Ja(a))&&ec(a,t,e,...xq(i,o))}}}function jd(r,t,e={}){var i,n,o;const{path:a,matcherPath:s=(a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0),skip:l=[],constructors:c={},constructedArrays:u=new WeakMap,allowedTypes:d={},idx:h}=e;if(null==r)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(null==t)return r;if(_a(r))return r.set(t);const p=r;null!=h&&"_declarationOrder"in p&&(p._declarationOrder=h);const f=vN(r);for(const m in t){const g=`${s?s+".":""}${m}`;if(l.indexOf(g)>=0)continue;const v=t[m],y=`${a?a+".":""}${m}`,_=p.constructor,b=p[m];let w=null!=(i=c[g])?i:c[m];try{const E=vN(b),M=vN(v);if(f===WD&&!(m in r)&&!Object.hasOwn(p,m)){Ae.warn(`unable to set [${y}] in ${_?.name} - property is unknown`);continue}const P=null!=(n=d[g])?n:[E];if((E!==WD||"object"!==M)&&null!=E&&null!=M&&!P.includes(M)){Ae.warn(`unable to set [${y}] in ${_?.name} - can't apply type of [${M}], allowed types are: [${P}]`);continue}if("array"===M)w=null!=(o=w??u.get(b))?o:c[`${g}[]`],_a(p[m])?p[m].set(v):p[m]=null!=w?v.map((k,N)=>jd(new w,k,Pe(J({},e),{path:y,matcherPath:g+"[]",idx:N}))):v;else if(M===WD)p[m]=v;else if("object"===M)if(_a(b))p[m].set(v);else if(null!=b)jd(b,v,Pe(J({},e),{path:y,matcherPath:g,idx:void 0}));else if(null!=w){const I=new w;p[m]=_a(I)?I.set(v):jd(I,v,Pe(J({},e),{path:y,matcherPath:g,idx:void 0}))}else p[m]=v;else _a(p[m])?p[m].set(v):p[m]=v}catch(E){Ae.warn(`unable to set [${y}] in [${_?.name}]; nested error is: ${E.message}`)}}return r}function xq(r,t){return r.map(e=>e?.[t])}function vN(r){return null==r?null:gq(r)||zD(r)?"primitive":Fn(r)?"array":Jl(r)?Ja(r)?"object":WD:Tg(r)?"function":"primitive"}var Eq={},Dq={},yN={},Tq={},Aq={},Oq=new Set,Mq=new Set,Rq=new Set,Pq=new Set,_N={};function _2e({identifier:r,chartTypes:[t],instanceConstructor:e,seriesDefaults:i,themeTemplate:n,enterpriseThemeTemplate:o,paletteFactory:a,solo:s,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:d}){Eq[r]=e,Dq[r]=i,Iq(r,n,o),a&&function S2e(r,t){Aq[r]=t}(r,a),s&&function O2e(r){Oq.add(r)}(r),l&&function M2e(r){Mq.add(r)}(r),c&&function A2e(r){Rq.add(r)}(r),u&&function R2e(r){Pq.add(r)}(r),d&&function P2e(r,t){_N[r]=t}(r,d),function o2e(r,t){Op[r]=t}(r,t)}function Iq(r,t,e={}){const i=yN[r];yN[r]=Gt(t,i),Tq[r]=Gt(e,t,i)}function C2e(r,t){const e=Eq[r];if(e)return new e(t);throw new Error(`AG Charts - unknown series type: ${r}`)}function w2e(r){return xg.isEnterprise?Tq[r]:yN[r]}function CN(r){return Oq.has(r)}var Fq={};function kq(r,t,e,i){Fq[r]=t,Lq[t]=i}var Lq={},Nq=(r=>(r[r.SMALL=12]="SMALL",r[r.MEDIUM=13]="MEDIUM",r[r.LARGE=17]="LARGE",r))(Nq||{}),Gq=(r=>(r.NORMAL="normal",r.BOLD="bold",r.BOLDER="bolder",r.LIGHTER="lighter",r))(Gq||{}),Vq=(r=>(r.TOP="top",r.RIGHT="right",r.BOTTOM="bottom",r.LEFT="left",r))(Vq||{}),Bq=(r=>(r.CATEGORY="category",r.NUMBER="number",r.TIME="time",r.LOG="log",r))(Bq||{}),Hq=(r=>(r.ANGLE_CATEGORY="angle-category",r.ANGLE_NUMBER="angle-number",r.RADIUS_CATEGORY="radius-category",r.RADIUS_NUMBER="radius-number",r))(Hq||{}),jq=(r=>(r.CIRCLE="circle",r.POLYGON="polygon",r))(jq||{}),tc={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Rp={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},Pp=Symbol("is-dark-theme"),Uq=Symbol("extends-chart-defaults"),zq=Symbol("extends-legend-defaults"),Wq=Symbol("extends-legend-item-defaults"),$q=Symbol("extends-legend-item-marker-defaults"),Kq=Symbol("extends-axes-defaults"),Yq=Symbol("extends-axes-label-defaults"),qq=Symbol("extends-axes-line-defaults"),Xq=Symbol("extends-axes-tick-defaults"),Zq=Symbol("extends-axes-grid-line-defaults"),vu=Symbol("extends-series-defaults"),Og=Symbol("extends-cartesian-marker-defaults"),Qq=Symbol("override-series-label-defaults"),Qn=Symbol("default-font"),si=Symbol("default-label-colour"),Jq=Symbol("default-inverted-label-colour"),Mg=Symbol("default-inside-series-label-colour"),Rg=Symbol("default-muted-label-colour"),KD=Symbol("default-axis-grid-colour"),YD=Symbol("default-axis-line-colour"),jC=Symbol("default-cross-lines-colour"),UC=Symbol("default-background-colour"),Pg=Symbol("default-shadow-colour"),Us=Symbol("default-waterfall-series-positive-colors"),zs=Symbol("default-waterfall-series-negative-colors"),Ws=Symbol("default-waterfall-series-total-colors"),$s=Symbol("default-waterfall-series-connector-line-stroke"),bN=Symbol("default-polar-series-stroke"),Ks=Symbol("default-diverging-series-colour-range"),wN=Symbol("default-hierarchy-fills"),SN=Symbol("default-hierarchy-strokes"),xN="white",L2e={fills:Object.values(tc),strokes:Object.values(Rp)},EN={get cartesian(){return{seriesTypes:ts.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ts.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:ts.hierarchyTypes,commonOptions:[]}}},N2e=Object.values(EN).reduce((r,{commonOptions:t})=>[...r,...t],[]),Ip=class un{getPalette(){return L2e}static getAxisDefaults(t){return Gt(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Qn,color:si},label:{fontSize:12,fontFamily:Qn,padding:5,color:si,avoidCollisions:!0},line:{enabled:!0,width:1,color:YD},tick:{enabled:!1,width:1,color:YD},gridLine:{enabled:!0,style:[{stroke:KD,lineDash:[]}]},crossLines:{enabled:!1,fill:jC,stroke:jC,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Qn,padding:5,color:si}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:UC},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Qn,color:si,wrapping:un.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Qn,color:Rg,wrapping:un.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Qn,color:"rgb(140, 140, 140)",wrapping:un.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:un.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:si,fontSize:12,fontFamily:Qn}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:si},inactiveStyle:{fill:Rg},highlightStyle:{fill:si},label:{color:si}}},tooltip:{enabled:!0,darkTheme:Pp,range:"nearest",delay:0},overlays:{loading:{darkTheme:Pp},noData:{darkTheme:Pp},noVisibleSeries:{darkTheme:Pp}},listeners:{}}}constructor(t){var e;t=Vr(t??{});const{overrides:i=null,palette:n=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(i){const{common:s}=i,l=(c,u)=>{if(u)for(const d of c)o[d]=Gt(u,o[d])};for(const[,{seriesTypes:c,commonOptions:u}]of Object.entries(EN)){const d=J({},s);for(const h of N2e)u.includes(h)||delete d[h];l(c,d)}ts.seriesTypes.forEach(c=>{i[c]&&(o[c]=Gt(i[c],o[c]))})}const a=this.getPalette();this.palette=null!=(e=function G2e(r,t){var e,i;return null==r?null:{fills:null!=(e=r.fills)?e:t.fills,strokes:null!=(i=r.strokes)?i:t.strokes}}(n,a))?e:a,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(EN).forEach(([e,{seriesTypes:i}])=>{const n=wq(e);i.forEach(o=>{t[o]||(t[o]=Vr(n))})}),t}getDefaults(){const e=(i,n)=>{var o;const a=(i=>J(J(J({axes:{}},function F2e(){return Lq}()),un.getChartDefaults()),wq(i)))(i),s={};for(const l of n){s[l]=Gt(w2e(l),null!=(o=s[l])?o:Vr(a));const{axes:c}=s[l];for(const u of uN.axesTypes)c[u]=Gt(c[u],QBe(u),"cartesian"===i&&un.cartesianAxisDefault[u])}return s};return Gt(e("cartesian",ts.cartesianTypes),e("polar",ts.polarTypes),e("hierarchy",ts.hierarchyTypes))}templateTheme(t){const e=Vr(t),{extensions:i,properties:n}=this.getTemplateParameters();return ec(e,o=>{if(o.__extends__){const a=o.__extends__,s=i.get(a);if(null==s)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(s).forEach(l=>{l in o?Jl(o[l])&&(o[l]=Gt(o[l],s[l])):o[l]=s[l]}),delete o.__extends__}if(o.__overrides__){const a=o.__overrides__,s=i.get(a);if(null==s)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(o,s),delete o.__overrides__}if(Fn(o))for(let a=0;a<o.length;a++){const s=o[a];n.has(s)&&(o[a]=n.get(s))}else for(const[a,s]of Object.entries(o))n.has(s)&&(o[a]=n.get(s))}),Vr(e)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:tc.BLUE,stroke:Rp.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:tc.ORANGE,stroke:Rp.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:tc.GRAY,stroke:Rp.GRAY,label:{color:si}}}getTemplateParameters(){const t=new Map;t.set(Uq,un.getChartDefaults()),t.set(Kq,un.getAxisDefaults()),t.set(zq,un.getChartDefaults().legend),t.set(Wq,un.getChartDefaults().legend.item),t.set($q,un.getLegendItemMarkerDefaults()),t.set(Yq,un.getAxisDefaults().label),t.set(qq,un.getAxisDefaults().line),t.set(Xq,un.getAxisDefaults().tick),t.set(Zq,un.getAxisDefaults().gridLine),t.set(vu,un.getSeriesDefaults()),t.set(Qq,{}),t.set(Og,un.getCartesianSeriesMarkerDefaults());const e=new Map;return e.set(Pp,!1),e.set(Qn,"Verdana, sans-serif"),e.set(si,"rgb(70, 70, 70)"),e.set(Jq,"white"),e.set(Rg,"rgb(140, 140, 140)"),e.set(KD,"rgb(224,234,241)"),e.set(YD,"rgb(195, 195, 195)"),e.set(jC,"rgb(70, 70, 70)"),e.set(Mg,xN),e.set(UC,xN),e.set(Pg,"rgba(0, 0, 0, 0.5)"),e.set(Ks,[tc.ORANGE,tc.YELLOW,tc.GREEN]),e.set(wN,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(SN,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(bN,xN),e.set(Us,un.getWaterfallSeriesDefaultPositiveColors()),e.set(zs,un.getWaterfallSeriesDefaultNegativeColors()),e.set(Ws,un.getWaterfallSeriesDefaultTotalColors()),e.set($s,un.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:e}}};Ip.cartesianAxisDefault={number:Ip.getAxisDefaults({line:{enabled:!1}}),log:Ip.getAxisDefaults({base:10,line:{enabled:!1}}),category:Ip.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:Ip.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":Ip.getAxisDefaults()};var yu=Ip,DN="#192232",Fp={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},qD={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},V2e={fills:Object.values(Fp),strokes:Object.values(qD)},zC=class cw extends yu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Fp.BLUE,stroke:qD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Fp.ORANGE,stroke:qD.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Fp.GRAY,stroke:qD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Pp,!0),t.properties.set(Us,cw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,cw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,cw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,cw.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(bN,DN),t.properties.set(si,"white"),t.properties.set(Rg,"#7D91A0"),t.properties.set(KD,"#545A6E"),t.properties.set(jC,"white"),t.properties.set(Ks,[Fp.ORANGE,Fp.YELLOW,Fp.GREEN]),t.properties.set(wN,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(SN,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(UC,DN),t.properties.set(Mg,DN),t}getPalette(){return V2e}constructor(t){super(t)}},kp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},XD={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},B2e={fills:Object.values(kp),strokes:Object.values(XD)},H2e=class uw extends zC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:kp.BLUE,stroke:XD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:kp.RED,stroke:XD.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:kp.GRAY,stroke:XD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,uw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,uw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,uw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[kp.ORANGE,kp.YELLOW,kp.GREEN]),t.properties.set($s,uw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return B2e}},Lp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ZD={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},j2e={fills:Object.values(Lp),strokes:Object.values(ZD)},U2e=class dw extends yu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Lp.BLUE,stroke:ZD.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Lp.RED,stroke:ZD.RED,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Lp.GRAY,stroke:ZD.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,dw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,dw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,dw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[Lp.ORANGE,Lp.YELLOW,Lp.GREEN]),t.properties.set($s,dw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return j2e}},WC={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},TN={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},$2e={fills:Object.values(WC),strokes:Object.values(TN)},K2e=class hw extends zC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:WC.BLUE,stroke:TN.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:WC.RED,stroke:TN.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:"#bbbbbb",stroke:"#eeeeee",label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,hw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,hw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,hw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[WC.BLUE,WC.RED]),t.properties.set($s,hw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return $2e}},$C={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},AN={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},X2e={fills:Object.values($C),strokes:Object.values(AN)},Z2e=class pw extends yu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:$C.BLUE,stroke:AN.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:$C.RED,stroke:AN.RED,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:"#bbbbbb",stroke:"#888888",label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,pw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,pw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,pw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[$C.BLUE,$C.RED]),t.properties.set($s,pw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return X2e}},Np={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},QD={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Q2e={fills:Object.values(Np),strokes:Object.values(QD)},J2e=class fw extends zC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Np.BLUE,stroke:QD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Np.ORANGE,stroke:QD.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Np.GRAY,stroke:QD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,fw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,fw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,fw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[Np.ORANGE,Np.YELLOW,Np.GREEN]),t.properties.set($s,fw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Q2e}},Gp={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},JD={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},eHe={fills:Object.values(Gp),strokes:Object.values(JD)},tHe=class mw extends yu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Gp.BLUE,stroke:JD.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Gp.ORANGE,stroke:JD.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Gp.GRAY,stroke:JD.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,mw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,mw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,mw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[Gp.ORANGE,Gp.YELLOW,Gp.GREEN]),t.properties.set($s,mw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return eHe}},Vp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},eT={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},iHe={fills:Object.values(Vp),strokes:Object.values(eT)},nHe=class gw extends zC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Vp.BLUE,stroke:eT.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Vp.ORANGE,stroke:eT.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Vp.GRAY,stroke:eT.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,gw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,gw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,gw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[Vp.ORANGE,Vp.YELLOW,Vp.GREEN]),t.properties.set($s,gw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return iHe}},Bp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},tT={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},rHe={fills:Object.values(Bp),strokes:Object.values(tT)},oHe=class vw extends yu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Bp.BLUE,stroke:tT.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Bp.ORANGE,stroke:tT.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Bp.GRAY,stroke:tT.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Us,vw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(zs,vw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,vw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ks,[Bp.ORANGE,Bp.YELLOW,Bp.GREEN]),t.properties.set($s,vw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return rHe}},KC=()=>new yu,ON=()=>new zC,aHe={undefined:KC,null:KC,"ag-default":KC,"ag-sheets":()=>new tHe,"ag-polychroma":()=>new Z2e,"ag-vivid":()=>new oHe,"ag-material":()=>new U2e},eX=J(J({},{undefined:ON,null:ON,"ag-default-dark":ON,"ag-sheets-dark":()=>new J2e,"ag-polychroma-dark":()=>new K2e,"ag-vivid-dark":()=>new nHe,"ag-material-dark":()=>new H2e}),aHe);function MN(r){let t=function cHe(r){return void 0===r||"string"==typeof r||r instanceof yu?r:"object"==typeof r?function lHe(r){if(null===r)return;let t=!0;const{baseTheme:e,palette:i,overrides:n}=r;if(void 0!==e&&"string"!=typeof e&&"object"!=typeof e&&(Ae.warn(`invalid theme.baseTheme type ${typeof e}, expected (string | object).`),t=!1),void 0!==n&&"object"!=typeof n&&(Ae.warn(`invalid theme.overrides type ${typeof n}, expected object.`),t=!1),"object"==typeof i){if(null!==i){const{fills:o,strokes:a}=i;void 0!==o&&!Array.isArray(o)&&(Ae.warn("theme.overrides.fills must be undefined or an array"),t=!1),void 0!==a&&!Array.isArray(a)&&(Ae.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else void 0!==i&&(Ae.warn(`invalid theme.palette type ${typeof i}, expected object.`),t=!1);return t?r:void 0}(r):void Ae.warn(`invalid theme value type ${typeof r}, expected object or string.`)}(r);if(t instanceof yu)return t;if(void 0===t||"string"==typeof t){const a=eX[t];return a?a():(Ae.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),KC())}const e=[];let i;for(;"object"==typeof t;)e.push(t.overrides),i??(i=t.palette),t=t.baseTheme;const n={baseTheme:t,overrides:Gt(...e),palette:i};return new((n.baseTheme?MN(n.baseTheme):KC()).constructor)(n)}function ic(r){if(0===r.length)return;let t=1/0,e=-1/0;for(let n of r)n instanceof Date&&(n=n.getTime()),"number"==typeof n&&(n<t&&(t=n),n>e&&(e=n));const i=[t,e];return i.every(isFinite)?i:void 0}function tX(r,t,e){return YC(r,t,e).extent}function YC(r,t,e){var i;let n=!1;return r.length>2&&(r=null!=(i=ic(r))?i:[NaN,NaN]),isNaN(t)||(n||(n=t>r[0]),r=[t,r[1]]),isNaN(e)||(n||(n=e<r[1]),r=[r[0],e]),r[0]>r[1]&&(r=[]),{extent:r,clipped:n}}function qC(r,t){if(null==r||null==t||r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(Array.isArray(r[e])&&Array.isArray(t[e])){if(!qC(r[e],t[e]))return!1}else if(r[e]!==t[e])return!1;return!0}function iT(r){return typeof r>"u"?[]:Array.isArray(r)?r:[r]}function RN(r){return Array.from(new Set(r))}function PN(r,t){return r.reduce((e,i)=>{const o=t(i);return null!=e[o]||(e[o]=[]),e[o].push(i),e},{})}function IN(r,t,e=0){if(0===r.length)return[];const i=[];for(let n=0;n<t;n++)i.push(r.at((n+e)%r.length));return i}function FN(r){const t=typeof window<"u"?window:void 0;return t?.[r]}var iX=Date.now(),sn={create:(...r)=>Object.assign((...e)=>{sn.check(...r)&&("function"==typeof e[0]&&(e=iT(e[0]())),(()=>{const r=Date.now()-iX;if(r>2e3){const t=(Math.floor(r/100)/10).toFixed(1);Ae.log(`**** ${t}s since last log message ****`)}iX=Date.now()})(),Ae.log(...e))},{check:()=>sn.check(...r)}),check:(...r)=>(0===r.length&&r.push(!0),iT(FN("agChartsDebug")).some(e=>r.includes(e)))},nX=class{constructor(r,t){var e,i;const o={shallow:["data"]},a=Vr(r,o),s=this.optionsType(a);this.sanityCheckAndCleanup(a),this.userOptions=a,this.activeTheme=MN(a.theme),this.seriesDefaults=this.getOptionsDefaults(a),this.specialOverrides=this.specialOverridesDefaults(J({},t));const l=this.getSeriesThemeConfig(s),{axes:c={}}=l,d=Zn(l,["axes","series"]);this.processedOptions=Vr(Gt(this.userOptions,d,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),(Mp(this.processedOptions)||function m2e(r){const t=VC(r);return BC(r)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==(null==(e=this.processedOptions.legend)?void 0:e.enabled)&&(null!=(i=this.processedOptions).legend||(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),xg.isEnterprise||function y2e(r){var t,e,i,n;const o=[],a=function s2e(r){var t;return null!=(t=Op[r])?t:"unknown"}(VC(r));for(const{type:s,chartTypes:l,optionsKey:c,optionsInnerKey:u,identifier:d}of Ag)if("unknown"===a||l.includes(a))if("root"===s||"legend"===s){const h=r[c];if(null==h)continue;u?h[u]&&(o.push(`${c}.${u}`),delete h[u]):(o.push(c),delete r[c])}else if("axis"===s){if(!("axes"in r)||null==(t=r.axes)||!t.some(h=>h.type===d))continue;o.push(`axis[type=${d}]`),r.axes=r.axes.filter(h=>h.type!==d)}else if("axis-option"===s){if(!("axes"in r)||null==(e=r.axes)||!e.some(h=>h[c]))continue;o.push(`axis.${c}`),r.axes.forEach(h=>{h[c]&&delete h[c]})}else if("series"===s){if(null==(i=r.series)||!i.some(h=>h.type===d))continue;o.push(`series[type=${d}]`),r.series=r.series.filter(h=>h.type!==d)}else if("series-option"===s){if(null==(n=r.series)||!n.some(h=>h[c]))continue;o.push(`series.${c}`),r.series.forEach(h=>{h[c]&&delete h[c]})}o.length&&Ae.warnOnce(["unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:\n","",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join("\n"))}(this.processedOptions)}getOptions(){var r;return null!=(r=this.processedOptions)?r:{}}diffOptions(r){return Ca(r,this.processedOptions)}getSeriesThemeConfig(r){var t,e;return Vr(null!=(e=null==(t=this.activeTheme)?void 0:t.config[r])?e:{})}getOptionsDefaults(r){const e=function b2e(r){var t;return Vr(null!=(t=Dq[r])?t:{})}(this.optionsType(r));return function I2e(r){var t,e;let i;for(const n of null!=(t=r.series)?t:[]){const{type:o="line"}=n,a=null==(e=_N[o])?void 0:e.call(_N,n);if(null!=a){if(null!=i&&i!=a)throw new Error("AG Charts - The provided series have incompatible directions");i=a}}return i}(r)&&this.swapAxesPosition(e),e}optionsType(r){var t,e,i;return null!=(i=null==(e=null==(t=r.series)?void 0:t[0])?void 0:e.type)?i:"line"}sanityCheckAndCleanup(r){var t;this.deprecationWarnings(r),this.axesTypeIntegrity(r),this.seriesTypeIntegrity(r),this.soloSeriesIntegrity(r),this.removeDisabledOptions(r),this.removeLeftoverSymbols(r),null!=(t=r.series)&&t.some(e=>"bullet"===e.type)&&null!=r.sync&&!1!==r.sync.enabled&&(Ae.warnOnce("bullet series cannot be synced, disabling synchronization."),delete r.sync)}swapAxesPosition(r){var t;if(Mp(r)){const[e,i]=null!=(t=r.axes)?t:[];r.axes=[Pe(J({},e),{position:i.position}),Pe(J({},i),{position:e.position})]}}processAxesOptions(r,t){"axes"in r&&(r.axes=r.axes.map(e=>{var i,n,o,a;const s=Gt(null==(i=this.seriesDefaults.axes)?void 0:i.find(({type:p})=>p===e.type),null==(n=t[e.type])?void 0:n[e.position],t[e.type]),{crossLines:l}=s,c=Zn(s,["crossLines"]);e.crossLines&&(e.crossLines=hN(e.crossLines,l));const u=null==(o=c.gridLine)?void 0:o.style;null!=(a=e.gridLine)&&a.style&&u?.length&&(e.gridLine.style=e.gridLine.style.map((p,f)=>null!=p.stroke||null!=p.lineDash?Gt(p,u.at(f%u.length)):p));const d=Gt(e,c);return Zn(d,["top","right","bottom","left"])}))}processSeriesOptions(r){const t=this.getDefaultSeriesType(r),e=this.getTooltipPositionDefaults(r),i={colourIndex:0,userPalette:!(!Jl(r.theme)||!r.theme.palette)},n=r.series.map(o=>{var s;null!=o.type||(o.type=t);const l=null!=(s=this.getSeriesThemeConfig(o.type).series)?s:{},{innerLabels:c}=l,u=Zn(l,["innerLabels"]),d=Gt(this.getSeriesGroupingOptions(o),o,e,u,this.getSeriesPalette(o.type,i));return d.innerLabels&&(d.innerLabels=hN(d.innerLabels,c)),this.activeTheme.templateTheme(d)});r.series=this.setSeriesGroupingOptions(n)}getSeriesPalette(r,t){const e=function x2e(r){return Aq[r]}(r),{colourIndex:i,userPalette:n}=t,{fills:o=[],strokes:a=[]}=this.activeTheme.palette;return e?.({userPalette:n,colorsCount:Math.max(o.length,a.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors:s=>(t.colourIndex+=s,{fills:IN(o,s,i),strokes:IN(a,s,i)})})}getSeriesGroupingOptions(r){const t=function D2e(r){return Rq.has(r)}(r.type),e=function E2e(r){return Mq.has(r)}(r.type),i=function T2e(r){return Pq.has(r)}(r.type);r.grouped&&!t&&Ae.warnOnce(`unsupported grouping of series type "${r.type}".`),(r.stacked||r.stackGroup)&&!e&&Ae.warnOnce(`unsupported stacking of series type "${r.type}".`);let{grouped:n,stacked:o}=r;return o??(o=(i||null!=r.stackGroup)&&!(t&&n)),n??(n=!0),{stacked:e&&o,grouped:t&&n&&!(e&&o)}}setSeriesGroupingOptions(r){const t=this.getSeriesGrouping(r);sn.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);const e={},i=t.reduce((n,o)=>{var a;return"default"===o.groupType||(null!=n[a=o.seriesType]||(n[a]=0),n[o.seriesType]+="stack"===o.groupType?1:o.series.length),n},{});return t.flatMap(n=>{var o;switch(null!=e[o=n.seriesType]||(e[o]=0),n.groupType){case"stack":const s=e[n.seriesType]++;return n.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupIndex:s,groupCount:i[n.seriesType],stackIndex:c,stackCount:n.series.length}}));case"group":return n.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:e[n.seriesType]++,groupCount:i[n.seriesType],stackIndex:0,stackCount:0}}))}return n.series}).map(n=>Zn(n,["stacked","grouped"]))}getSeriesGroupId(r){var t;return r.stacked||r.grouped?[r.type,r.xKey,r.stacked?null!=(t=r.stackGroup)?t:"stacked":"grouped"].filter(Boolean).join("-"):"default-ag-charts-group"}getSeriesGrouping(r){const t=new Map;return r.reduce((e,i)=>{const n=i.type;if(i.stacked||i.grouped){const o=this.getSeriesGroupId(i);if(!t.has(o)){const s={groupType:i.stacked?"stack":"group",seriesType:n,series:[]};t.set(o,s),e.push(s)}t.get(o).series.push(i)}else e.push({groupType:"default",seriesType:n,series:[i]});return e},[])}getDefaultSeriesType(r){if(Mp(r))return"line";if(gN(r))return"treemap";if(BC(r))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(r){var t;const e=null==(t=r.tooltip)?void 0:t.position;if(!Ja(e))return;const{type:i,xOffset:n,yOffset:o}=e,a={};return es(i)&&vq(q9,i)&&(a.type=i),ai(n)&&(a.xOffset=n),ai(o)&&(a.yOffset=o),{tooltip:{position:a}}}deprecationWarnings(r){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,i])=>{var n;null!=(n=r.series)&&n.some(o=>null!=o[e])&&Ae.warnOnce(`Property [series.${e}] is deprecated, please use [series.${i}] and multiple series instead.`)})}axesTypeIntegrity(r){var t;if("axes"in r){const e=null!=(t=r.axes)?t:[];for(const{type:i}of e)v2e(i)||(delete r.axes,Ae.warnOnce(`unknown axis type: ${i}; expected one of: ${uN.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(r){var t;const e=null!=(t=r.series)?t:[];r.series=e.filter(({type:i})=>{if(null==i||function g2e(r){return null!=r&&ts.has(r)}(i)||Sq(i))return!0;Ae.warnOnce(`unknown series type: ${i}; expected one of: ${ts.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(r){const t=r.series;if(t&&t.length>1&&t.some(e=>CN(e.type))){const e=this.optionsType(r);if(CN(e))Ae.warn(`series[0] of type '${e}' is incompatible with other series types. Only processing series[0]`),r.series=t.slice(0,1);else{const{solo:i,nonSolo:n}=PN(t,a=>CN(a.type)?"solo":"nonSolo"),o=RN(i.map(a=>a.type)).join(", ");Ae.warn(`Unable to mix these series types with the lead series type: ${o}`),r.series=n}}}enableConfiguredOptions(r){ec(this.userOptions,(t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&null==t.enabled&&(e.enabled=!0)},{skip:["data","theme"]},r),ec(r,t=>{null!=t._enabledFromTheme&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(r){ec(r,t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach(e=>{"enabled"!==e&&delete t[e]})},{skip:["data","theme"]})}removeLeftoverSymbols(r){ec(r,t=>{if(t&&Jl(t))for(const[e,i]of Object.entries(t))yq(i)&&delete t[e]},{skip:["data"]})}specialOverridesDefaults(r){if(null==r.window)if(typeof window<"u")r.window=window;else{if(!(typeof global<"u"))throw new Error("AG Charts - unable to resolve global window");r.window=global.window}if(null==r.document)if(typeof document<"u")r.document=document;else{if(!(typeof global<"u"))throw new Error("AG Charts - unable to resolve global document");r.document=global.document}return r}};function nT(){return(r,t)=>{const e=[`Property [${r}] is deprecated.`,t].filter(Boolean).join(" ");Ae.warnOnce(e)}}function Hp(r,t){const e=nT(),i=t?.default;return gu((n,o,a)=>(a!==i&&e(o.toString(),r),a))}function hHe(r,t){const e=nT();return gu((i,n,o)=>(o!==i[r]&&(e(n.toString(),`Use [${r}] instead.`),i[r]=t?t(o):o),jD),(i,n)=>(e(n.toString(),`Use [${r}] instead.`),i[r]))}var rX={};function kN(r,t){const e={};if(Array.isArray(t))for(let i=0;i<r.length;i++)e[`${r[i]}`]=t[i];else for(let i=0;i<r.length;i++)e[`${r[i]}`]=t;return e}fu(rX,{NODE_UPDATE_PHASES:()=>yX,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ro,fromToMotion:()=>Hi,staticFromToMotion:()=>oc});var LN=new Map;function oX(){LN.clear()}function nc(r){var t;const e=r.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const n=(null!=(t=LN.get(i))?t:0)+1;return LN.set(i,n),`${i}-${n}`}var Ud=(r=>(r[r.NONE=0]="NONE",r[r.TRIVIAL=1]="TRIVIAL",r[r.MINOR=2]="MINOR",r[r.MAJOR=3]="MAJOR",r))(Ud||{}),fHe=function pHe(){try{return new Function("return true"),!0}catch{return!1}}();function Ne(r){const{changeCb:t,convertor:e}=r??{};return function(i,n){const o=`__${n}`;i[n]||(fHe&&null==t&&null==e?function mHe(r,t,e,i){const{redraw:n=1,type:o="normal",checkDirtyOnAssignment:a=!1}=i??{},s=new Function("value",`\n        const oldValue = this.${e};\n        if (value !== oldValue) {\n            this.${e} = value;\n            ${"normal"===o?`this.markDirty(this, ${n});`:""}\n            ${"transform"===o?`this.markDirtyTransform(${n});`:""}\n            ${"path"===o?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${n}); }`:""}\n            ${"font"===o?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${n}); }`:""}\n        }\n        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}\n`),l=new Function(`return this.${e};`);Object.defineProperty(r,t,{set:s,get:l,enumerable:!0,configurable:!0})}(i,n,o,r):function gHe(r,t,e,i){const{redraw:n=1,type:o="normal",changeCb:a,convertor:s,checkDirtyOnAssignment:l=!1}=i??{};Object.defineProperty(r,t,{set:function(d){const h=this[e];(d=s?s(d):d)!==h&&(this[e]=d,"normal"===o&&this.markDirty(this,n),"transform"===o&&this.markDirtyTransform(n),"path"===o&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,n)),"font"===o&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,n)),a&&a(this)),l&&null!=d&&d._dirty>0&&this.markDirty(d,d._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}(i,n,o,r))}}var vHe=class{constructor(){this._dirty=3}markDirty(r,t=1){this._dirty<t&&(this._dirty=t)}markClean(r){this._dirty=0}isDirty(){return this._dirty>0}};function ti(r,t,e){return Math.min(e,Math.max(r,t))}function rT(r,t){const[e,i]=_u(t);return ti(e,r,i)}function _u(r){return r.length?[Math.min(...r),Math.max(...r)]:[]}function Ig(r){const[t,e]=_u(r);return e-t}function jp(r,t,e=1e-10){return Math.abs(r-t)<e}function XC(r){return-1===Math.sign(r)||Object.is(r,-0)}function NN(r,t=2){const e=Pt(10,t);return Math.round(r*e)/e}function oT(r,t=2){const e=Math.floor(Math.log(Math.abs(r))/Math.LN10);return e>=0||!isFinite(e)?r.toFixed(t):r.toFixed(Math.abs(e)-1+t)}function aT(r,t){return Math.floor(r%t+(r<0?t:0))}function GN(r,t=10){const[,e=""]=(Math.abs(r)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return e.length}function aX(r,t,e=1/0){const i={nearest:void 0,distanceSquared:e};for(const n of t){const o=n.distanceSquared(r);if(0===o)return{nearest:n,distanceSquared:0};o<i.distanceSquared&&(i.nearest=n,i.distanceSquared=o)}return i}function yHe(r,t,e=1/0){const i=t.transformPoint(r.x,r.y),n={nearest:void 0,distanceSquared:e};for(const o of t.children){const{nearest:a,distanceSquared:s}=o.nearestSquared(i,n.distanceSquared);if(0===s)return{nearest:a,distanceSquared:s};s<n.distanceSquared&&(n.nearest=a,n.distanceSquared=s)}return n}var VN=class VV{constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}clone(){const{x:t,y:e,width:i,height:n}=this;return new VV(t,e,i,n)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const e=t.x-ti(this.x,t.x,this.x+this.width),i=t.y-ti(this.y,t.y,this.y+this.height);return e*e+i*i}static nearestBox(t,e){return aX(t,e)}shrink(t,e){const i=(n,o)=>{switch(n){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=2*o;break;case"horizontal":this.x+=o,this.width-=2*o;break;case void 0:this.x+=o,this.width-=2*o,this.y+=o,this.height-=2*o}};return"number"==typeof t?i(e,t):"object"==typeof t&&Object.entries(t).forEach(([n,o])=>i(n,o)),this}grow(t,e){if("number"==typeof t)this.shrink(-t,e);else{const i=J({},t);for(const n in i)i[n]*=-1;this.shrink(i)}return this}static merge(t){let e=1/0,i=1/0,n=-1/0,o=-1/0;return t.forEach(a=>{a.x<e&&(e=a.x),a.y<i&&(i=a.y),a.x+a.width>n&&(n=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new VV(e,i,n-e,o-i)}};VN.zero=new VN(0,0,0,0);var wt=VN,BN=class yw{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}AxB(t,e,i){const o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],c=t[1]*e[4]+t[3]*e[5]+t[5];(i=i??t)[0]=t[0]*e[0]+t[2]*e[1],i[1]=o,i[2]=a,i[3]=s,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new yw(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],i=t[1],n=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-i*n);return e*=l,i*=l,n*=l,o*=l,new yw([o,-i,-n,e,n*s-o*a,i*a-e*s])}inverseTo(t){const e=this.elements;let i=e[0],n=e[1],o=e[2],a=e[3];const s=e[4],l=e[5],c=1/(i*a-n*o);return i*=c,n*=c,o*=c,a*=c,t.setElements([a,-n,-o,i,o*l-a*s,n*s-i*l]),this}invertSelf(){const t=this.elements;let e=t[0],i=t[1],n=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-i*n);return e*=l,i*=l,n*=l,o*=l,t[0]=o,t[1]=-i,t[2]=-n,t[3]=e,t[4]=n*s-o*a,t[5]=i*a-e*s,this}transformPoint(t,e){const i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}}transformBBox(t,e){const i=this.elements,n=i[0],o=i[1],a=i[2],s=i[3],l=.5*t.width,c=.5*t.height,u=t.x+l,d=t.y+c,h=Math.abs(l*n)+Math.abs(c*a),p=Math.abs(l*o)+Math.abs(c*s);return e||(e=new wt(0,0,0,0)),e.x=u*n+d*a+i[4]-h,e.y=u*o+d*s+i[5]-p,e.width=h+h,e.height=p+p,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return yw.instance.setElements(t.elements)}static updateTransformMatrix(t,e,i,n,o,a,s){const[l,c]=[0,0],u=e,d=i;let h,p;1===u&&1===d?(h=0,p=0):(h=null==s?.scalingCenterX?l:s?.scalingCenterX,p=null==s?.scalingCenterY?c:s?.scalingCenterY);const f=n,m=Math.cos(f),g=Math.sin(f);let v,y;0===f?(v=0,y=0):(v=null==s?.rotationCenterX?l:s?.rotationCenterX,y=null==s?.rotationCenterY?c:s?.rotationCenterY);const w=h*(1-u)-v,E=p*(1-d)-y;return t.setElements([m*u,g*u,-g*d,m*d,m*w-g*E+v+o,g*w+m*E+y+a]),t}static fromContext(t){const e=t.getTransform();return new yw([e.a,e.b,e.c,e.d,e.e,e.f])}};BN.instance=new BN;var Ys=BN,sX=(r=>(r[r.All=0]="All",r[r.None=1]="None",r))(sX||{}),lX=r=>{r.parent&&(r.parent.dirtyZIndex=!0),r.zIndexChanged()},Lo=class gie extends vHe{constructor({isVirtual:t,tag:e}={}){super(),this.serialNumber=gie._nextSerialNumber++,this.id=nc(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Ys,this.inverseMatrix=new Ys,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=e??NaN}get datum(){var t,e;return null!=(e=this._datum)?e:null==(t=this._parent)?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(0===this._virtualChildren.length)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const i=e??Object.keys(t);for(const n of i)this[n]=t[n];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const i=this._virtualChildren.indexOf(t);i<0&&e(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(t);i<0&&e(),this._children.splice(i,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=Ys.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,e){return!1}pickNode(t,e){var i;if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,e))return;const n=this.children;if(n.length>1e3)for(let o=n.length-1;o>=0;o--){const a=n[o],l=(null==(i=a.computeTransformedBBox())?void 0:i.containsPoint(t,e))?a.pickNode(t,e):void 0;if(l)return l}else if(n.length)for(let o=n.length-1;o>=0;o--){const a=n[o].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const i of this.children){const n=i.findNodes(t);n&&e.push(...n)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=Ys.flyweight(this.matrix);let i=this.parent;for(;i;)i.computeTransformMatrix(),e.preMultiplySelf(i.matrix),i=i.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:i,rotation:n,translationX:o,translationY:a,scalingCenterX:s,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}=this;Ys.updateTransformMatrix(t,e,i,n,o,a,{scalingCenterX:s,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=0,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(null==e)return;const{x:i,y:n,width:o,height:a}=e,s=this.transformPoint(i,n),l=this.transformPoint(i+o,n+a);t.clearRect(s.x,s.y,l.x-s.x,l.y-s.y)}markDirty(t,e=1,i=e){this._dirty>e||this._dirty===e&&e===i||(this._dirty=e,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:i=!0}=t??{};if(0!==this._dirty||e){if(this._dirty=0,!1!==i)for(const n of this._virtualChildren)n.markClean({force:e});if(!0===i)for(const n of this._children)n.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const n=o=>{const{count:a,visibleCount:s,dirtyCount:l}=o.nodeCount;t+=a,i+=s,e+=l};for(const o of this._children)n(o);for(const o of this._virtualChildren)n(o);return{count:t,visibleCount:i,dirtyCount:e}}zIndexChanged(){}};Lo._nextSerialNumber=0,S([Ne({type:"transform"})],Lo.prototype,"scalingX",2),S([Ne({type:"transform"})],Lo.prototype,"scalingY",2),S([Ne({type:"transform"})],Lo.prototype,"scalingCenterX",2),S([Ne({type:"transform"})],Lo.prototype,"scalingCenterY",2),S([Ne({type:"transform"})],Lo.prototype,"rotationCenterX",2),S([Ne({type:"transform"})],Lo.prototype,"rotationCenterY",2),S([Ne({type:"transform"})],Lo.prototype,"rotation",2),S([Ne({type:"transform"})],Lo.prototype,"translationX",2),S([Ne({type:"transform"})],Lo.prototype,"translationY",2),S([Ne({redraw:3,changeCb:r=>r.visibilityChanged()})],Lo.prototype,"visible",2),S([Ne({redraw:1,changeCb:lX})],Lo.prototype,"zIndex",2),S([Ne({redraw:1,changeCb:lX})],Lo.prototype,"zIndexSubOrder",2);var Fg=Lo,HN=r=>{const t=r<0?-1:1,e=Math.abs(r);return e<=.04045?r/12.92:t*Pt((e+.055)/1.055,2.4)},jN=r=>{const t=r<0?-1:1,e=Math.abs(r);return e>.0031308?t*(1.055*Pt(e,1/2.4)-.055):12.92*r},UN=class Qt{constructor(t,e,i,n=1){this.r=ti(0,t||0,1),this.g=ti(0,e||0,1),this.b=ti(0,i||0,1),this.a=ti(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Qt.parseHex(t):t.indexOf("rgb")>=0?!!Qt.stringToRgba(t):!!Qt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Qt.fromHexString(t);const e=Qt.nameToHex[t.toLowerCase()];if(e)return Qt.fromHexString(e);if(t.indexOf("rgb")>=0)return Qt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return Qt.fromString(t)}catch{return Ae.warnOnce(`invalid color string: '${t}'.`),Qt.fromArray([0,0,0])}}static parseHex(t){let e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(let i=0;i<t.length;i+=2)e.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:e=t.split("").map(i=>parseInt(i,16)).map(i=>i+16*i)}if(e?.length>=3&&e.every(i=>i>=0))return 3===e.length&&e.push(255),e}static fromHexString(t){const e=Qt.parseHex(t);if(e){const[i,n,o,a]=e;return new Qt(i/255,n/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,i]=[NaN,NaN];for(let s=0;s<t.length;s++){const l=t[s];if(e||"("!==l){if(")"===l){i=s;break}}else e=s}const n=e&&i&&t.substring(e+1,i);if(!n)return;const o=n.split(","),a=[];for(let s=0;s<o.length;s++){const l=o[s];let c=parseFloat(l);if(isNaN(c))return;l.indexOf("%")>=0?(c=ti(0,c,100),c/=100):3===s?c=ti(0,c,1):(c=ti(0,c,255),c/=255),a.push(c)}return a}static fromRgbaString(t){const e=Qt.stringToRgba(t);if(e){if(3===e.length)return new Qt(e[0],e[1],e[2]);if(4===e.length)return new Qt(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new Qt(t[0],t[1],t[2],t[3]);if(3===t.length)return new Qt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,i,n=1){const o=Qt.HSBtoRGB(t,e,i);return new Qt(o[0],o[1],o[2],n)}static fromHSL(t,e,i,n=1){const o=Qt.HSLtoRGB(t,e,i);return new Qt(o[0],o[1],o[2],n)}static fromOKLCH(t,e,i,n=1){const o=Qt.OKLCHtoRGB(t,e,i);return new Qt(o[0],o[1],o[2],n)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let t="#"+Qt.padHex(Math.round(255*this.r).toString(16))+Qt.padHex(Math.round(255*this.g).toString(16))+Qt.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=Qt.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(t=3){const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return Qt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,i){const n=HN(t),o=HN(e),a=HN(i),s=Math.cbrt(.4122214708*n+.5363325363*o+.0514459929*a),l=Math.cbrt(.2119034982*n+.6806995451*o+.1073969566*a),c=Math.cbrt(.0883024619*n+.2817188376*o+.6299787005*a),u=.2104542553*s+.793617785*l-.0040720468*c,d=1.9779984951*s-2.428592205*l+.4505937099*c,h=.0259040371*s+.7827717662*l-.808675766*c,p=180*Math.atan2(h,d)/Math.PI;return[u,Math.hypot(d,h),p>=0?p:p+360]}static OKLCHtoRGB(t,e,i){const n=t,o=e*Math.cos(i*Math.PI/180),a=e*Math.sin(i*Math.PI/180),s=Pt(n+.3963377774*o+.2158037573*a,3),l=Pt(n-.1055613458*o-.0638541728*a,3),c=Pt(n-.0894841775*o-1.291485548*a,3),d=-1.2684380046*s+2.6097574011*l-.3413193965*c,h=-.0041960863*s-.7034186147*l+1.707614701*c;return[jN(4.0767416621*s-3.3077115913*l+.2309699292*c),jN(d),jN(h)]}static RGBtoHSL(t,e,i){const n=Math.min(t,e,i),o=Math.max(t,e,i),a=(o+n)/2;let s,l;if(o===n)s=NaN,l=0;else{const c=o-n;l=a>.5?c/(2-o-n):c/(o+n),s=o===t?(e-i)/c+(e<i?6:0):o===e?(i-t)/c+2:(t-e)/c+4,s*=60}return[s,l,a]}static HSLtoRGB(t,e,i){if(0===e)return[i,i,i];const n=i<.5?i*(1+e):i+e-i*e,o=2*i-n;function a(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?o+6*(n-o)*u:u<.5?n:u<2/3?o+(n-o)*(2/3-u)*6:o}return[a(t/360+1/3),a(t/360),a(t/360-1/3)]}static RGBtoHSB(t,e,i){const n=Math.min(t,e,i),o=Math.max(t,e,i);let s=NaN;if(n!==o){const l=o-n,c=(o-t)/l,u=(o-e)/l,d=(o-i)/l;s=t===o?d-u:e===o?2+c-d:4+u-c,s/=6,s<0&&(s+=1)}return[360*s,0!==o?(o-n)/o:0,o]}static HSBtoRGB(t,e,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let n=0,o=0,a=0;if(0===e)n=o=a=i;else{const s=6*(t-Math.floor(t)),l=s-Math.floor(s),c=i*(1-e),u=i*(1-e*l),d=i*(1-e*(1-l));switch(s>>0){case 0:n=i,o=d,a=c;break;case 1:n=u,o=i,a=c;break;case 2:n=c,o=i,a=d;break;case 3:n=c,o=u,a=i;break;case 4:n=d,o=c,a=i;break;case 5:n=i,o=c,a=u}}return[n,o,a]}derive(t,e,i,n){const o=Qt.RGBtoHSB(this.r,this.g,this.b);let a=o[2];0==a&&i>1&&(a=.05);const s=((o[0]+t)%360+360)%360,l=ti(0,o[1]*e,1);a=ti(0,a*i,1);const c=ti(0,this.a*n,1),u=Qt.HSBtoRGB(s,l,a);return u.push(c),Qt.fromArray(u)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const i=Qt.tryParseFromString(t),n=Qt.tryParseFromString(e);return o=>{const a=(l,c)=>l*(1-o)+c*o;return new Qt(a(i.r,n.r),a(i.g,n.g),a(i.b,n.b),a(i.a,n.a)).toString()}}};UN.didDebug=!1,UN.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var rc=UN;function ZC(r,t){return e=>Number(r)*(1-e)+Number(t)*e}var zN={};fu(zN,{easeIn:()=>CHe,easeInOut:()=>bHe,easeInOutQuad:()=>xHe,easeInQuad:()=>wHe,easeOut:()=>QC,easeOutQuad:()=>SHe,inverseEaseOut:()=>uX,linear:()=>cX});var cX=r=>r,CHe=r=>1-Math.cos(r*Math.PI/2),QC=r=>Math.sin(r*Math.PI/2),bHe=r=>-(Math.cos(r*Math.PI)-1)/2,wHe=r=>r*r,SHe=r=>1-Pt(1-r,2),xHe=r=>r<.5?2*r*r:1-Pt(-2*r+2,2)/2,uX=r=>2*Math.asin(r)/Math.PI,dX={animationDuration:1,animationDelay:0},hX={animationDuration:.25,animationDelay:0},pX={animationDuration:.5,animationDelay:.25},WN={animationDuration:.25,animationDelay:.75},fX={animationDuration:.2,animationDelay:1},Up=["initial","remove","update","add","trailing","end"],mX={initial:dX,add:WN,remove:hX,update:pX,trailing:fX,end:{animationDelay:1.2,animationDuration:0}},gX=(r=>(r.Loop="loop",r.Reverse="reverse",r))(gX||{});function lT(r){return function EHe(r){return r.every(t=>t instanceof Fg)}(r)?{nodes:r,selections:[]}:{nodes:[],selections:r}}var vX=class{constructor(r){var t,e,i,n,o,a,s,l;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=r.id,this.groupId=r.groupId,this.autoplay=null==(t=r.autoplay)||t,this.ease=null!=(e=r.ease)?e:cX,this.phase=r.phase;const c=null!=(i=r.duration)?i:mX[this.phase].animationDuration;this.duration=c*r.defaultDuration,this.delay=(null!=(n=r.delay)?n:0)*r.defaultDuration,this.onComplete=r.onComplete,this.onPlay=r.onPlay,this.onStop=r.onStop,this.onUpdate=r.onUpdate,this.interpolate=this.createInterpolator(r.from,r.to),!0===r.skip?(null==(o=this.onUpdate)||o.call(this,r.to,!1,this),null==(a=this.onStop)||a.call(this,this),null==(s=this.onComplete)||s.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),null==(l=this.onUpdate)||l.call(this,r.from,!0,this)),!1!==r.collapsable&&(this.duration=this.checkCollapse(r,this.duration))}checkCollapse(r,t){let e=r.from===r.to;return e||(e="object"==typeof r.from&&null==Ca(r.from,r.to)),e?0:t}play(){var r;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,null==(r=this.onPlay)||r.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var r;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,null==(r=this.onStop)||r.call(this,this))}update(r){var t,e;const i=this.elapsed;if(this.elapsed+=r,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);null==(t=this.onUpdate)||t.call(this,n,!1,this);const o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,null==(e=this.onComplete)||e.call(this,this),r-(o-i)):0}get delta(){return this.ease(ti(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(r,t){if("object"!=typeof t)return this.interpolateValue(r,t);const e=[];for(const i in t){const n=this.interpolateValue(r[i],t[i]);null!=n&&e.push([i,n])}return i=>{const n={};for(const[o,a]of e)n[o]=a(i);return n}}interpolateValue(r,t){if(void 0!==r&&void 0!==t){try{switch(typeof r){case"number":return ZC(r,t);case"string":return function _He(r,t){if("string"==typeof r)try{r=rc.fromString(r)}catch{r=rc.fromArray([0,0,0])}if("string"==typeof t)try{t=rc.fromString(t)}catch{t=rc.fromArray([0,0,0])}const e=ZC(r.r,t.r),i=ZC(r.g,t.g),n=ZC(r.b,t.b),o=ZC(r.a,t.a);return a=>rc.fromArray([e(a),i(a),n(a),o(a)]).toRgbaString()}(r,t)}}catch{}throw new Error(`Unable to interpolate values: ${r}, ${t}`)}}},yX=["removed","updated","added"],ro={added:"add",updated:"update",removed:"remove",unknown:"initial"};function Hi(r,t,e,i,n,o,a){const{fromFn:s,toFn:l,intermediateFn:c}=n,{nodes:u,selections:d}=lT(i),h={added:{},removed:{}};o&&a&&(h.added=kN(a.added,!0),h.removed=kN(a.removed,!0));const p=(m,g)=>{var v;let y,_=0,b=0;for(const w of g){const E=m[_]===w,M={last:b>=g.length-1,lastLive:_>=m.length-1,prev:g[b-1],prevFromProps:y,prevLive:m[_-1],next:g[b+1],nextLive:m[_+(E?1:0)]},P=`${r}_${t}_${w.id}`;e.stopByAnimationId(P);let I="unknown";E?o&&a&&(I=DHe(w,w.datum,o,h)):I="removed";const k=s(w,w.datum,I,M),{phase:N,start:B,finish:Y,delay:ne,duration:me}=k,W=Zn(k,["phase","start","finish","delay","duration"]),$=l(w,w.datum,I,M),{phase:Z,start:ce,finish:De,delay:ke,duration:Oe}=$,nt=Zn($,["phase","start","finish","delay","duration"]);e.animate({id:P,groupId:r,phase:null!=(v=N??Z)?v:"update",duration:me??Oe,delay:ne??ke,from:W,to:nt,ease:QC,collapsable:null==Y&&null==De,onPlay:()=>{w.setProperties(J(J({},B),ce))},onUpdate(nn){w.setProperties(nn),c&&w.setProperties(c(w,w.datum,I,M))},onStop:()=>{w.setProperties(J(J(J({},nt),Y),De))}}),E&&_++,b++,y=W}};let f=0;for(const m of d){const g=m.nodes();p(g.filter(y=>!m.isGarbage(y)),g),e.animate({id:`${r}_${t}_selection_${f}`,groupId:r,phase:"end",from:0,to:1,ease:QC,onStop(){m.cleanup()}}),f++}p(u,u)}function oc(r,t,e,i,n,o,a){const{nodes:s,selections:l}=lT(i),{start:c={},finish:u,phase:d}=a;e.animate({id:`${r}_${t}`,groupId:r,phase:d??"update",from:n,to:o,ease:QC,collapsable:null==u,onPlay:()=>{for(const p of s)p.setProperties(c);for(const p of l)for(const f of p.nodes())f.setProperties(c)},onUpdate(p){for(const f of s)f.setProperties(p);for(const f of l)for(const m of f.nodes())m.setProperties(p)},onStop:()=>{for(const p of s)p.setProperties(J(J({},o),u));for(const p of l)for(const f of p.nodes())f.setProperties(J(J({},o),u))}})}function DHe(r,t,e,i){const n=e(r,t);return i.added[n]?"added":"updated"}var ac=2*Math.PI;function gn(r){return r%=ac,(r+=ac)%ac}function THe(r){return r%=ac,(r+=ac)!==ac&&(r%=ac),r}function JC(r){return(r%=ac)<-Math.PI?r+=ac:r>=Math.PI&&(r-=ac),r}function Br(r){return r/180*Math.PI}function AHe(r){return r/Math.PI*180}function $N(r,t){return r=gn(r),(t=gn(t))-r+(r>t?2*Math.PI:0)}var No=(r,t)=>{const e=Symbol(String(t));r[e]=void 0,Object.defineProperty(r,t,{get(){return this[e]},set(i){this[e]!==i&&(this[e]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},sc=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ae.warnOnce("Expected update to not invalidate scale"))}set domain(r){this.invalid=!0;const t=[];this.index=new Map;const e=this.index;r.forEach(i=>{void 0===e.get(i)&&e.set(i,t.push(i)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:r=1}=this,t=Math.abs(Math.round(r));return this._domain.filter((e,i)=>i%t==0)}convert(r){this.refresh();const t=this.index.get(r);if(void 0===t)return NaN;const e=this.ordinalRange[t];return void 0===e?NaN:e}invert(r){this.refresh();const t=this.ordinalRange.findIndex(e=>e===r);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(r){r=ti(0,r,1),this._paddingInner=r,this._paddingOuter=r}get padding(){return this._paddingInner}set paddingInner(r){this._paddingInner=ti(0,r,1)}get paddingInner(){return this._paddingInner}set paddingOuter(r){this._paddingOuter=ti(0,r,1)}get paddingOuter(){return this._paddingOuter}update(){const r=this._domain.length;if(0===r)return;const t=this.round,e=this._paddingInner,i=this._paddingOuter,[n,o]=this.range,a=o-n,s=a/Math.max(1,r+2*i-e),l=t?Math.floor(s):s,u=n+(a-l*(r-e))/2,d=t?Math.round(u):u,h=l*(1-e),p=t?Math.round(h):h,f=s*(1-e),m=[];for(let g=0;g<r;g++)m.push(d+l*g);this._bandwidth=p,this._rawBandwidth=f,this._step=l,this.ordinalRange=m}};function R(r,t={}){const{optional:e=!1}=t;return gu((i,n,o)=>{var a;const s=Pe(J({},t),{target:i,property:n});if(e&&typeof o>"u"||r(o,s))return _a(i[n])&&!_a(o)?(i[n].set(o),i[n]):o;const l=String(n).replace(/^_*/,""),c=null!=(a=i.constructor.className)?a:i.constructor.name.replace(/Properties$/,"");return Ae.warn(`Property [${l}] of [${c}] cannot be set to [${rb(o)}]${r.message?`; expecting ${nb(r,s)}`:""}, ignoring.`),jD},void 0,{optional:e})}S([No],sc.prototype,"interval",2),S([No],sc.prototype,"range",2),S([No],sc.prototype,"round",2);var lc=(...r)=>{const t=[];return Si((e,i)=>(t.length=0,r.every(n=>{const o=n(e,i);return o||t.push(nb(n,i)),o})),()=>t.filter(Boolean).join(" AND "))},zp=(...r)=>Si((t,e)=>r.some(i=>i(t,e)),t=>r.map(function kHe(r){return t=>nb(t,r)}(t)).filter(Boolean).join(" OR ")),Ye=function GHe(r){return Object.assign(r,{restrict(t){const e=i=>_a(i)&&i instanceof t;return Si((i,n)=>e(i)||Jl(i)&&e(n.target[n.property]),i=>{var n;return null!=(n=nb(r,i))?n:"an object"})}})}(Si((r,t)=>_a(r)||Jl(r)&&_a(t.target[t.property]),"an object")),rt=Si(fq,"a boolean"),is=Si(Tg,"a function"),xe=Si(es,"a string"),Di=function NHe(r){return Object.assign(r,{restrict({min:t,max:e}={}){const i=["a number"],n=js(t),o=js(e);return n&&o?i.push(`between ${t} and ${e} inclusive`):n?i.push(`greater than or equal to ${t}`):o&&i.push(`less than or equal to ${e}`),Si(a=>ai(a)&&(!n||a>=t)&&(!o||a<=e),i.join(" "))}})}(Si(ai,"a number")),cT=Si(r=>js(r)&&isNaN(r),"NaN"),Ce=Di.restrict({min:0}),di=Di.restrict({min:0,max:1}),zd=Di.restrict({min:-360,max:360}),kg=zp(Di,cT),eb=function LHe(r){return Object.assign(r,{restrict:({length:t,minLength:e}={})=>Si(i=>Fn(i)&&(!js(t)||i.length===t)&&(!js(e)||i.length>=e),js(e)&&e>0?"a non-empty array":js(t)?`an array of length ${t}`:"an array")})}(Si(Fn,"an array")),Cu=(r,t)=>Si((e,i)=>Fn(e)&&e.every(n=>r(n,i)),e=>{var i;const n=null!=(i=nb(eb,e))?i:"";return t?`${n} of ${t}`:n}),uT=r=>ai(r)||GC(r),tb=r=>Si((t,e)=>!uT(t)||!uT(e.target[r])||t<e.target[r],`expected to be less than ${r}`),ib=r=>Si((t,e)=>!uT(t)||!uT(e.target[r])||t>e.target[r],`expected to be greater than ${r}`),KN=Si(GC,"Date object"),YN=zp(KN,Ce),_X="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Zt=Si(r=>es(r)&&rc.validColorString(r),`color String. ${_X}`),ns=Si(Cu(Zt),`color strings. ${_X}`),OHe=Cu(rt,"boolean values"),dT=Cu(Di,"numbers"),CX=Cu(xe,"strings"),MHe=Si(Cu(KN),"Date objects"),qN=Si(Cu(Ye),"objects"),bX=vn(["butt","round","square"],"a line cap"),RHe=vn(["round","bevel","miter"],"a line join"),bu=Si(Cu(Ce),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),XN=vn(["top","right","bottom","left"],"a position"),Wd=vn(["normal","italic","oblique"],"a font style"),$d=zp(vn(["normal","bold","bolder","lighter"],"a font weight"),Di.restrict({min:1,max:1e3})),hT=vn(["never","always","hyphenate","on-space"],"a text wrap strategy"),wX=vn(["left","center","right"],"a text align"),PHe=vn(["top","middle","bottom"],"a vertical align"),IHe=vn(["ellipsis","hide"],"an overflow strategy"),SX=vn(["horizontal","vertical"],"a direction"),xX=vn(["inside","outside"],"a placement"),ZN=zp(vn(["exact","nearest"],"interaction range"),Di);function vn(r,t="a"){return Si(e=>r.includes(e),`${t} keyword such as ${function FHe(r){const t=r.map(i=>`'${i}'`);if(1===t.length)return t[0];const e=t.pop();return`${t.join(", ")} or ${e}`}(r)}`)}var EX=zp(lc(Di.restrict({min:1}),tb("maxSpacing")),cT),QN=zp(lc(Di.restrict({min:1}),ib("minSpacing")),cT);function Si(r,t){return r.message=t,r}function nb(r,t){return Tg(r.message)?r.message(t):r.message}function rb(r){if("number"==typeof r){if(isNaN(r))return"NaN";if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity"}return JSON.stringify(r)}var DX=(r=>(r.X="x",r.Y="y",r))(DX||{});function TX(){if(typeof navigator>"u")return!1;const r=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(null==r)return!1;const t=r[1].split("_"),e=Number(t[0]);return!(e>16)&&(16!==e||Number(t[1])<6)}var JN=class BV{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:e,window:i,width:n=600,height:o=300,domLayer:a=!1,zIndex:s=0,name:l,overrideDevicePixelRatio:c}=t;this.document=e,this.window=i,BV.document=e,this.element=e.createElement("canvas"),this.element.width=n,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:u}=this.element;u.userSelect="none",u.display="block",a&&(u.position="absolute",u.zIndex=String(s),u.top="0",u.left="0",u.pointerEvents="none",u.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(c),this.resize(n,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t?.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,e="image/png"){t=(t??"").trim()||"image";const i=this.getDataURL(e),n=this.document,o=n.createElement("a");o.href=i,o.download=t,o.style.display="none",n.body.appendChild(o),o.click(),n.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??this.window.devicePixelRatio;return TX()&&(e=1),this._pixelRatio=e,BV.overrideScale(this.realContext,e)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return"pixelated"===this.element.style.imageRendering}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{element:i,context:n,pixelRatio:o}=this;i.width=Math.round(t*o),i.height=Math.round(e*o),i.style.width=t+"px",i.style.height=e+"px",n.resetTransform(),this._width=t,this._height=e}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";const i=document.createElementNS(t,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),e.appendChild(i),document.body.appendChild(e),this._svgText=i,i}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,e=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,i=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has}static measureText(t,e,i,n){const o=this.textMeasuringContext;return o.font=e,o.textBaseline=i,o.textAlign=n,o.measureText(t)}static getTextSize(t,e){if(this.has.textMetrics){const i=this.textMeasuringContext;i.font=e;const n=i.measureText(t);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}}return this.measureSvgText(t,e)}static measureSvgText(t,e){const i=this.textSizeCache,n=i[e];if(n){const l=n[t];if(l)return l}else i[e]={};const o=this.svgText;o.style.font=e,o.textContent=t;const a=o.getBBox(),s={width:a.width,height:a.height};return i[e][t]=s,s}static overrideScale(t,e){let i=0;const n={save(){this.$save(),i++},restore(){if(!(i>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),i--},setTransform(o,a,s,l,c,u){"object"==typeof o?this.$setTransform(o):this.$setTransform(o*e,a*e,s*e,l*e,c*e,u*e)},resetTransform(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero(){if(0!==i)throw new Error("AG Charts - Save/restore depth is non-zero: "+i)}};for(const o in n)Object.hasOwn(n,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=n[o]);return t}};JN.document=globalThis.document,JN.textSizeCache={};var ln=JN,VHe=class{constructor(){this.stops=[]}},BHe=class extends VHe{constructor(){super(...arguments),this.angle=0}createGradient(r,t){const{stops:i,angle:n}=this,o=gn(Br(n+90)),a=Math.cos(o),s=Math.sin(o),l=t.width,c=t.height,u=t.x+.5*l,d=t.y+.5*c;if(l>0&&c>0){const h=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l);let f;f=o<Math.PI/2?o:o<Math.PI?Math.PI-o:o<3*Math.PI/2?o-Math.PI:2*Math.PI-o;const m=h*Math.abs(Math.cos(f-p)),g=r.createLinearGradient(u+a*m,d+s*m,u-a*m,d-s*m);return i.forEach(v=>{g.addColorStop(v.offset,v.color)}),g}return"black"}},HHe=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,ba=class bc extends Fg{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=bc.defaultStyles.fill,this.stroke=bc.defaultStyles.stroke,this.strokeWidth=bc.defaultStyles.strokeWidth,this.lineDash=bc.defaultStyles.lineDash,this.lineDashOffset=bc.defaultStyles.lineDashOffset,this.lineCap=bc.defaultStyles.lineCap,this.lineJoin=bc.defaultStyles.lineJoin,this.opacity=bc.defaultStyles.opacity,this.fillShadow=bc.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let i=0,n=e.length;i<n;i++){const o=e[i];this[o]=t[o]}}updateGradient(){const{fill:t}=this;let e;if(t?.startsWith("linear-gradient")&&(e=HHe.exec(t))){const i=parseFloat(e[1]),n=[],o=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(o);)n.push(s[0]);this.gradient=new BHe,this.gradient.angle=i,this.gradient.stops=n.map((l,c)=>({offset:c/(n.length-1),color:l}))}else this.gradient=void 0}align(t,e){var i,n,o;const a=null!=(o=null==(n=null==(i=this.layerManager)?void 0:i.canvas)?void 0:n.pixelRatio)?o:1,s=Math.round(t*a)/a;return null==e?s:0===e?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-s}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){t.fillStyle=this.gradient?this.gradient.createGradient(t,this.computeBBox()):this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,i;const n=null!=(i=null==(e=this.layerManager)?void 0:e.canvas.pixelRatio)?i:1,o=this.fillShadow;o?.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*n,t.shadowOffsetY=o.yOffset*n,t.shadowBlur=o.blur*n)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}};ba.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),S([Ne({redraw:2})],ba.prototype,"fillOpacity",2),S([Ne({redraw:2})],ba.prototype,"strokeOpacity",2),S([Ne({redraw:2,changeCb:r=>r.updateGradient()})],ba.prototype,"fill",2),S([Ne({redraw:2})],ba.prototype,"stroke",2),S([Ne({redraw:2})],ba.prototype,"strokeWidth",2),S([Ne({redraw:2})],ba.prototype,"lineDash",2),S([Ne({redraw:2})],ba.prototype,"lineDashOffset",2),S([Ne({redraw:2})],ba.prototype,"lineCap",2),S([Ne({redraw:2})],ba.prototype,"lineJoin",2),S([Ne({redraw:2,convertor:r=>ti(0,r,1)})],ba.prototype,"opacity",2),S([Ne({redraw:2,checkDirtyOnAssignment:!0})],ba.prototype,"fillShadow",2);var rs=ba;function pT(r){const{redraw:t=3,changeCb:e}=r??{};return Ne({redraw:t,type:"font",changeCb:e})}var Hr=class Oa extends rs{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Oa.defaultStyles.textAlign,this.textBaseline=Oa.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=RX(this.text)}get font(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Kd(this)),this._font}computeBBox(){return ln.has.textMetrics?AX(this.lines,this.x,this.y,this):OX(this.lines,this.x,this.y,this)}getLineHeight(t){var e,i;if(this.lineHeight)return this.lineHeight;if(ln.has.textMetrics){const n=ln.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!=(e=n.fontBoundingBoxAscent)?e:n.emHeightAscent)+(null!=(i=n.fontBoundingBoxDescent)?i:n.emHeightDescent)}return ln.getTextSize(t,this.font).height}isPointInPath(t,e){const i=this.transformPoint(t,e),n=this.computeBBox();return!!n&&n.containsPoint(i.x,i.y)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:a,strokeWidth:s}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:c}=e;if(o){e.fillStyle=o,e.globalAlpha=c*this.opacity*this.fillOpacity;const{fillShadow:u}=this;u?.enabled&&(e.shadowColor=u.color,e.shadowOffsetX=u.xOffset*l,e.shadowOffsetY=u.yOffset*l,e.shadowBlur=u.blur*l),this.renderLines((d,h,p)=>e.fillText(d,h,p))}if(a&&s){e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=c*this.opacity*this.strokeOpacity;const{lineDash:u,lineDashOffset:d,lineCap:h,lineJoin:p}=this;u&&e.setLineDash(u),d&&(e.lineDashOffset=d),h&&(e.lineCap=h),p&&(e.lineJoin=p),this.renderLines((f,m,g)=>e.strokeText(f,m,g))}super.render(t)}renderLines(t){const{lines:e,x:i,y:n}=this,o=this.lines.map(l=>this.getLineHeight(l));let s=-(o.reduce((l,c)=>l+c,0)-o[0])*MX(this.textBaseline);for(let l=0;l<e.length;l++)t(e[l],i,n+s),s+=o[l]}static wrapLines(t,e,i,n,o,a){const s="hide"!==a,c=function jHe(r){const t=new Map,e=n=>ln.getTextSize(n,r);return{size:e,width:n=>{if(t.has(n))return t.get(n);const{width:o}=e(n);return t.set(n,o),o}}}(Kd(n)),u=t.split(/\r?\n/g);if(0===u.length)return{lines:void 0,truncated:!1};if("never"===o){const{text:f,truncated:m}=Oa.truncateLine(u[0],e,c,s?"auto":"never");return{lines:null!=f?[f]:void 0,truncated:m}}const d=[];let h=0,p=!1;for(const f of u){const m=Oa.wrapLine(f,e,i,c,n,o,h,s);if(null==m)return{lines:void 0,truncated:!1};if(d.push(...m.result),h=m.cumulativeHeight,m.truncated){p=!0;break}}return{lines:d,truncated:p}}static wrap(t,e,i,n,o,a="ellipsis"){const{lines:s,truncated:l}=Oa.wrapLines(t,e,i,n,o,a);return{text:null!=s?s.join("\n").trim():"",truncated:l}}static wrapLine(t,e,i,n,o,a,s,l){if(!(t=t.trim()))return{result:[],truncated:!1,cumulativeHeight:s};const c=n.size(t);if(c.width<=e)return{result:[t],truncated:!1,cumulativeHeight:s+c.height};if(c.height>i||n.width("W")>e)return l?{result:[],truncated:!0,cumulativeHeight:s}:void 0;const u=t.split(/\s+/g),d=Oa.wrapLineSequentially(u,e,i,n,o,a,s,l);if(null==d)return;s=d.cumulativeHeight;let{lines:h}=d;if(!d.wordsBrokenOrTruncated&&!d.linesTruncated){const m=Oa.wrapLineBalanced(u,e,n,d.lines.length);m.length===h.length&&(h=m)}return{result:h.map(f=>f.join(" ")),truncated:d.linesTruncated,cumulativeHeight:s}}static breakWord(t,e,i,n,o){const a=p=>Oa.punctuationMarks.includes(t[p]),s=n?o.width("-"):0,l=[];let c=0,u=0;for(let p=0;p<t.length;p++){const m=o.width(t[p]);c+m+s>(0===u?e:i)&&(l.push(p),c=0,u++),c+=m}const d=[];let h=0;for(const p of l){let f=t.substring(h,p);n&&f.length>0&&!a(p-1)&&!a(p)&&(f+="-"),d.push(f),h=p}return d.push(t.substring(h)),d}static truncateLine(t,e,i,n){t=t.trimEnd();const o=i.width(t);if(o>e&&"never"===n)return{text:void 0,truncated:!1};if(o<=e&&"force"!==n)return{text:t,truncated:!1};const a=i.width("\u2026");let s=t,l=o;for(;s.length>0&&l+a>e;)s=s.slice(0,-1).trimEnd(),l=i.width(s);return l+a<=e?{text:`${s}\u2026`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,e,i,n,o,a,s,l){const{fontSize:c=0,lineHeight:u=c*Oa.defaultLineHeightRatio}=o,d="always"===a||"hyphenate"===a,h="hyphenate"===a,p=n.width(" ");let f=!1,m=!1;const g=[];let v=[],y=0;const _=()=>({lines:g,linesTruncated:m,wordsBrokenOrTruncated:f,cumulativeHeight:s}),b=()=>{if(!l)return;const E=v.join(" "),{text:M}=Oa.truncateLine(E,e,n,"force");return null!=M?(v.splice(0,v.length,M),m=!0,_()):void 0},w=()=>{const E=s+u;return!(E>=i||(v=[],y=0,s=E,g.push(v),0))};if(!w())return b();for(let E=0;E<t.length;E++){const M=t[E],P=n.width(M),I=0===v.length?0:p,k=y+I+P;if(k<=e)v.push(M),y=k;else if(P<=e){if(!w())return b();v.push(M),y=P}else{if(f=!0,!d){if(l){if(!w())return b();const{text:N}=Oa.truncateLine(M,e,n,"force");if(null==N)return;v.push(N),E<t.length-1&&(m=!0);break}return}{const B=Oa.breakWord(M,e-y-I,e,h,n);for(let Y=0;Y<B.length;Y++){const ne=B[Y];if(ne&&v.push(ne),Y===B.length-1)y=n.width(ne);else if(!w())return b()}}}}return _()}static wrapLineBalanced(t,e,i,n){const o=t.reduce((p,f)=>p+i.width(f),0),a=i.width(" "),l=(o+a*(t.length-n-2))/n,c=[];let u=[],d=i.width(t[0]),h=!0;for(const p of t){const f=i.width(p);if(h){u=[],u.push(p),d=f,h=!1,c.push(u);continue}const m=d+a+f;m<=l?(u.push(p),d=m):m<=e?(u.push(p),h=!0):(u=[p],d=f,c.push(u))}return c}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};Hr.className="Text",Hr.defaultLineHeightRatio=1.15,Hr.defaultStyles=Object.assign({},rs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),Hr.ellipsis="\u2026",Hr.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],S([Ne({redraw:3})],Hr.prototype,"x",2),S([Ne({redraw:3})],Hr.prototype,"y",2),S([Ne({redraw:3,changeCb:r=>r._setLines()})],Hr.prototype,"text",2),S([pT()],Hr.prototype,"fontStyle",2),S([pT()],Hr.prototype,"fontWeight",2),S([pT()],Hr.prototype,"fontSize",2),S([pT()],Hr.prototype,"fontFamily",2),S([Ne({redraw:3})],Hr.prototype,"textAlign",2),S([Ne({redraw:3})],Hr.prototype,"textBaseline",2),S([Ne({redraw:3})],Hr.prototype,"lineHeight",2);var ii=Hr;function Kd(r){const{fontFamily:t,fontSize:e,fontStyle:i,fontWeight:n}=r;return[i??"",n??"",e+"px",t].join(" ").trim()}function UHe(r,t,e,i){return ln.has.textMetrics?AX(r,t,e,i):OX(r,t,e,i)}function AX(r,t,e,i){var n,o;let a=0,s=0,l=0,c=0,u=0;const d=Kd(i),{lineHeight:h,textBaseline:p=ii.defaultStyles.textBaseline,textAlign:f=ii.defaultStyles.textAlign}=i;for(let m=0;m<r.length;m++){const g=ln.measureText(r[m],d,p,f);a=Math.max(a,g.actualBoundingBoxLeft),l=Math.max(l,g.width),0==m?(s+=g.actualBoundingBoxAscent,c+=g.actualBoundingBoxAscent):u+=null!=(n=g.fontBoundingBoxAscent)?n:g.emHeightAscent,m==r.length-1?c+=g.actualBoundingBoxDescent:u+=null!=(o=g.fontBoundingBoxDescent)?o:g.emHeightDescent}return void 0!==h&&(u=(r.length-1)*h),c+=u,s+=u*MX(p),new wt(t-a,e-s,l,c)}function OX(r,t,e,i){let n=0,o=0,a=0;const s=Kd(i),{lineHeight:l,textBaseline:c=ii.defaultStyles.textBaseline,textAlign:u=ii.defaultStyles.textAlign}=i;if(r.length>0){const d=ln.getTextSize(r[0],s);n=d.width,o=d.height}for(let d=1;d<r.length;d++){const h=ln.getTextSize(r[d],s);n=Math.max(n,h.width),a+=l??h.height}switch(u){case"end":case"right":t-=n;break;case"center":t-=n/2}switch(c){case"alphabetic":e-=.7*o+.5*a;break;case"middle":e-=.45*o+.5*a;break;case"ideographic":case"bottom":e-=o+a;break;case"hanging":e-=.2*o+.5*a}return new wt(t,e,n,o+a)}function MX(r){switch(r){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function RX(r){return"string"==typeof r?r.split(/\r?\n/g):[]}function Yd(r){const t=Fn(r)?r:r.split(".");if(1===t.length){const[e]=t;return gu((i,n,o)=>i[e]=o,i=>i[e])}return gu((e,i,n)=>bq(e,t,n),e=>Cq(e,t))}function zHe(r){return gu((t,e,i)=>t[r]=i)}function Ri(r,t){return gu((e,i,n)=>e[r][t??i]=n)}function Jn(r){const{newValue:t,oldValue:e,changeValue:i}=r;return gu((n,o,a,s)=>(a!==s&&(void 0!==s&&e?.call(n,s),void 0!==a&&t?.call(n,a),i?.call(n,a,s)),a))}function Lg(r){return function JBe(r){return(t,e)=>{pq(t,e).observers.push(r)}}(r)}function fT(r,t){const e=r.createElement("style");e.innerHTML=t,r.head.insertBefore(e,r.head.querySelector("style"))}var kn="ag-chart-tooltip",$He=`\n.${kn} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${kn}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${kn}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${kn}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${kn}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${kn}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${kn}-no-animation {\n    transition: none !important;\n}\n\n.${kn}-hidden {\n    visibility: hidden;\n}\n\n.${kn}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${kn}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${kn}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${kn}-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${kn}-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;function ob(r,t){var e,i,n;if("string"==typeof r)return r;const{content:o=(null!=(e=t?.content)?e:""),title:a=t?.title,color:s=(null!=(i=t?.color)?i:"white"),backgroundColor:l=(null!=(n=t?.backgroundColor)?n:"#888")}=r;return`${a?`<div class="${kn}-title"\n        style="color: ${s}; background-color: ${l}">${a}</div>`:""}${o?`<div class="${kn}-content">${o}</div>`:""}`}var ab=class extends wi{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};S([R(vn(["pointer","node"],"a position type"))],ab.prototype,"type",2),S([R(Di)],ab.prototype,"xOffset",2),S([R(Di)],ab.prototype,"yOffset",2);var wu=class HV{constructor(t,e,i,n){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new ab,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=n,this.window=i;const o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(kn),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(s=>{for(const l of s)l.target===this.canvasElement&&0===l.intersectionRatio&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}HV.tooltipDocuments.indexOf(e)<0&&(fT(e,$He),HV.tooltipDocuments.push(e))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(kn+"-hidden")}updateClass(t,e,i=!0){const{element:n,class:o,lastClass:a,enableInteraction:s,lastVisibilityChange:l}=this,c=this.isVisible(),u=!!t;let d=1/0;if(c!==u){const g=Date.now();d=g-l,this.lastVisibilityChange=g}const h=(g,v)=>{const y=`${kn}-${g}`;v?n.classList.add(y):n.classList.remove(y)};d>5&&h("no-animation",!c&&u&&d>100),h("no-interaction",!s),h("hidden",!t),h("arrow",!!e),n.classList.toggle("ag-chart-dark-tooltip",this.darkTheme),this.updateWrapping(),i?(o!==a&&(a&&n.classList.remove(a),o&&n.classList.add(o)),this.lastClass=o):(a&&n.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:e}=this,i={always:!1,hyphenate:!1,"on-space":!1,never:!1};i[e]=!0,Object.entries(i).forEach(([n,o])=>{t.classList.toggle(`${kn}-wrap-${n}`,o)})}show(t,e,i=!1){var n,o,a,s,l,c,u;const{element:d,canvasElement:h}=this;if(void 0!==e)d.innerHTML=e;else if(!d.innerHTML)return void this.toggle(!1);const p=null!=(o=null==(n=t.position)?void 0:n.xOffset)?o:0,f=null!=(s=null==(a=t.position)?void 0:a.yOffset)?s:0,m=h.getBoundingClientRect(),g=m.left+t.offsetX-d.clientWidth/2+p,v=m.top+t.offsetY-d.clientHeight-8+f,y=this.getWindowBoundingBox(),b=y.y+y.height-d.clientHeight,w=ti(y.x,g,y.x+y.width-d.clientWidth-1),E=ti(y.y,v,b),I=null!=(c=null!=(l=t.showArrow)?l:this.showArrow)?c:!(w!==g||E!==v||p||f);if(this.updateShowArrow(I),d.style.transform=`translate(${Math.round(w)}px, ${Math.round(E)}px)`,this.enableInteraction=null!=(u=t.enableInteraction)&&u,this.delay>0&&!i)return this.toggle(!1),void(this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay));this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new wt(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,e){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,e)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const i=null==(e=t.sourceEvent.relatedTarget)?void 0:e.classList,o=!!["","-title","-content"].filter(a=>i?.contains(`${kn}${a}`));return void 0!==i&&o}updateShowArrow(t){this._showArrow=t}};wu.tooltipDocuments=[],S([R(rt)],wu.prototype,"enabled",2),S([R(rt,{optional:!0})],wu.prototype,"showArrow",2),S([R(xe,{optional:!0})],wu.prototype,"class",2),S([R(Ce)],wu.prototype,"delay",2),S([R(ZN)],wu.prototype,"range",2),S([R(hT)],wu.prototype,"wrapping",2),S([R(rt)],wu.prototype,"darkTheme",2);var PX=wu,qi=class extends wi{constructor(){super(...arguments),this.id=nc(this),this.node=(new ii).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(r){return r.interactionManager.addListener("hover",t=>this.handleMouseMove(r,t))}computeTextWrap(r,t){var e,i;const{text:n,wrapping:o}=this,a=Math.min(null!=(e=this.maxWidth)?e:1/0,r),s=null!=(i=this.maxHeight)?i:t;if(!isFinite(a)&&!isFinite(s))return void(this.node.text=n);const{text:l,truncated:c}=ii.wrap(n??"",a,s,this,o);this.node.text=l,this.truncated=c}handleMouseMove(r,t){if(!this.enabled)return;const{offsetX:e,offsetY:i}=t,n=this.node.computeBBox(),o=this.node.visible&&n.containsPoint(e,i);o&&t.consume(),this.truncated&&o?r.tooltipManager.updateTooltip(this.id,{offsetX:e,offsetY:i,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},ob({content:this.text})):r.tooltipManager.removeTooltip(this.id)}};qi.SMALL_PADDING=10,qi.LARGE_PADDING=20,S([R(rt)],qi.prototype,"enabled",2),S([R(xe,{optional:!0}),Ri("node")],qi.prototype,"text",2),S([R(wX,{optional:!0}),Ri("node")],qi.prototype,"textAlign",2),S([R(Wd,{optional:!0}),Ri("node")],qi.prototype,"fontStyle",2),S([R($d,{optional:!0}),Ri("node")],qi.prototype,"fontWeight",2),S([R(Ce),Ri("node")],qi.prototype,"fontSize",2),S([R(xe),Ri("node")],qi.prototype,"fontFamily",2),S([R(Zt,{optional:!0}),Ri("node","fill")],qi.prototype,"color",2),S([R(Ce,{optional:!0})],qi.prototype,"spacing",2),S([R(Ce,{optional:!0})],qi.prototype,"lineHeight",2),S([R(Ce,{optional:!0})],qi.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],qi.prototype,"maxHeight",2),S([R(hT)],qi.prototype,"wrapping",2);var qs=class{constructor(){this.enabled=!1,this.spacing=qi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};S([R(rt)],qs.prototype,"enabled",2),S([R(xe,{optional:!0})],qs.prototype,"text",2),S([R(Ce,{optional:!0})],qs.prototype,"spacing",2),S([R(Wd,{optional:!0})],qs.prototype,"fontStyle",2),S([R($d,{optional:!0})],qs.prototype,"fontWeight",2),S([R(Ce)],qs.prototype,"fontSize",2),S([R(xe)],qs.prototype,"fontFamily",2),S([R(Zt,{optional:!0})],qs.prototype,"color",2),S([R(hT)],qs.prototype,"wrapping",2),S([R(is,{optional:!0})],qs.prototype,"formatter",2);var IX={constructedArrays:new WeakMap};function FX(r,t){var e;null==(e=IX.constructedArrays)||e.set(r,t)}var kX={constructors:{"axes[].title":qs},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},cc=class jV{constructor(t,e){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=jV.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=e}static is(t){return t instanceof jV}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{range:e}=this,i=this.getDomain(),n=Math.abs(e[1]-e[0]),o=Math.abs(i[1]-i[0])/t+1,a=Math.floor(n),s=Math.min(o,a);return n/Math.max(1,s)}fromDomain(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var i;const n=null!=(i=e?.clampMode)?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map(d=>this.transform(d)),[a,s]=o,{range:l}=this,[c,u]=l;if(t=this.transform(t),"clamped"===n){const d=Math.min(this.fromDomain(a),this.fromDomain(s)),h=Math.max(this.fromDomain(a),this.fromDomain(s));if(this.fromDomain(t)<d)return c;if(this.fromDomain(t)>h)return u}return a===s?(c+u)/2:t===a?c:t===s?u:c+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(s)-this.fromDomain(a))*(u-c)}invert(t){this.refresh();const e=this.getDomain().map(h=>this.transform(h)),[i,n]=e,{range:o}=this,[a,s]=o,l=a>s;let d;return t<(l?s:a)?l?n:i:t>(l?a:s)?l?i:n:(d=this.toDomain(a===s?(this.fromDomain(i)+this.fromDomain(n))/2:this.fromDomain(i)+(t-a)/(s-a)*(this.fromDomain(n)-this.fromDomain(i))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ae.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((e,i)=>e-i);return t[1]-t[0]}isDenseInterval({start:t,stop:e,interval:i,count:n}){return n??(n=(e-t)/("number"==typeof i?i:1)),n>=this.getPixelRange()&&(Ae.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}};cc.defaultTickCount=5,cc.defaultMaxTickCount=6,S([No],cc.prototype,"domain",2),S([No],cc.prototype,"range",2),S([No],cc.prototype,"nice",2),S([No],cc.prototype,"interval",2),S([No],cc.prototype,"tickCount",2),S([No],cc.prototype,"minTickCount",2),S([No],cc.prototype,"maxTickCount",2);var xi=cc;function LX(r,t){let e=0;return"number"==typeof r&&"number"==typeof t?e=r-t:"string"==typeof r&&"string"==typeof t?e=r.localeCompare(t):null==r&&null==t||(e=null==r?-1:null==t?1:String(r).localeCompare(String(t))),e}function NX(r,t,e){const i=n=>"function"==typeof n?n():n;for(const n in r){const o=e(i(r[n]),i(t[n]));if(0!==o)return o}return 0}var t1=class UV extends Fg{constructor(t){var e;super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:i,zIndexSubOrder:n}=t??{};this.isContainerNode=!0,void 0!==i&&(this.zIndex=i),void 0!==n&&(this.zIndexSubOrder=n),this.name=null==(e=this.opts)?void 0:e.name}zIndexChanged(){var t;this.layer&&(null==(t=this._layerManager)||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return null!=this.layer}_setLayerManager(t){var e,i;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&null!=(e=this.opts)&&e.layer){const{zIndex:n,zIndexSubOrder:o,name:a}=null!=(i=this.opts)?i:{};this.layer=t.addLayer({zIndex:n,zIndexSubOrder:o,name:a,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})}}getComputedOpacity(){let t=1,e=this;do{e instanceof UV&&(t*=e.opacity)}while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=1){if(this.isVirtual)return void super.markDirty(t,e);let i=e;(e<2||null!=this.layer)&&(i=1),super.markDirty(t,e,i)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),UV.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,i;const{opts:{name:n}={},_debug:o=(()=>{})}=this,{dirty:a,dirtyZIndex:s,layer:l,children:c,clipRect:u,dirtyTransform:d}=this;let{ctx:h,forceRender:p,clipBBox:f}=t;const{resized:m,stats:g}=t,v=h.getTransform(),y=a>=2||s||m;let _=y,b=!1;for(const k of c)if(_||(_=null==k.layerManager&&k.dirty>=1),b||(b=null!=k.layerManager&&k.dirty>=1),_)break;if(n&&o({name:n,group:this,isDirty:y,isChildDirty:_,dirtyTransform:d,renderCtx:t,forceRender:p}),d)p="dirtyTransform";else if(l){const k=this.computeBBox();(void 0===this.lastBBox||!this.lastBBox.equals(k))&&(p="dirtyTransform",this.lastBBox=k)}if(!(y||_||b||p))return n&&g&&o({name:n,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const w=this.visible;if(l){if(h=l.context,h.save(),h.resetTransform(),"dirtyTransform"!==p&&(p=_||s),p&&l.clear(),f){const{width:k,height:N,x:B,y:Y}=f;o(()=>({name:n,clipBBox:f,ctxTransform:h.getTransform(),renderCtx:t,group:this})),this.clipCtx(h,B,Y,k,N)}h.setTransform(v)}else h.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(h),u){const{x:k,y:N,width:B,height:Y}=u;h.save(),o(()=>({name:n,clipRect:u,ctxTransform:h.getTransform(),renderCtx:t,group:this})),this.clipCtx(h,k,N,B,Y),f=this.matrix.transformBBox(u)}const E=this.hasVirtualChildren();s?(this.sortChildren(c),"dirtyTransform"!==p&&(p=!0)):E&&this.sortChildren(c);const P=p!==t.forceRender||f!==t.clipBBox||h!==t.ctx?Pe(J({},t),{ctx:h,forceRender:p,clipBBox:f}):t;let I=0;for(const k of c)k.visible&&w?p||0!==k.dirty?(h.save(),k.render(P),h.restore()):g&&(I+=k.nodeCount.count):(k.markClean(),g&&(I+=k.nodeCount.count));if(g&&(g.nodesSkipped+=I),super.render(t),u&&h.restore(),E)for(const k of this.virtualChildren)k.markClean({recursive:"virtual"});l&&(g&&g.layersRendered++,h.restore(),p&&l.snapshot(),null==(i=(e=l.context).verifyDepthZero)||i.call(e)),n&&g&&o({name:n,result:"rendered",skipped:I,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,i)=>{var n,o;return NX([e.zIndex,...null!=(n=e.zIndexSubOrder)?n:[void 0,void 0],e.serialNumber],[i.zIndex,...null!=(o=i.zIndexSubOrder)?o:[void 0,void 0],i.serialNumber],LX)})}clipCtx(t,e,i,n,o){t.beginPath(),t.moveTo(e,i),t.lineTo(e+n,i),t.lineTo(e+n,i+o),t.lineTo(e,i+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,i=-1/0,n=1/0,o=-1/0;return t.forEach(a=>{if(!a.visible)return;const s=a.computeTransformedBBox();if(!s)return;const l=s.x,c=s.y;l<e&&(e=l),c<n&&(n=c),l+s.width>i&&(i=l+s.width),c+s.height>o&&(o=c+s.height)}),new wt(e,n,i-e,o-n)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};t1.className="Group",S([Ne({redraw:3,convertor:r=>ti(0,r,1)})],t1.prototype,"opacity",2);var $e=t1,uc=class extends rs{constructor(r={}){super(r),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new wt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(r,t){return!1}render(r){var t;const{ctx:e,forceRender:i,stats:n}=r;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:o,y1:a,x2:s,y2:l}=this;o=this.align(o),a=this.align(a),s=this.align(s),l=this.align(l);const{fill:c,opacity:u,isRange:d}=this;if(d&&c){const{fillOpacity:y}=this;e.fillStyle=c,e.globalAlpha=u*y,e.beginPath(),e.moveTo(o,a),e.lineTo(s,a),e.lineTo(s,l),e.lineTo(o,l),e.closePath(),e.fill()}const{stroke:p,strokeWidth:f,startLine:m,endLine:g}=this;if((m||g)&&p&&f){const{strokeOpacity:y,lineDash:_,lineDashOffset:b,lineCap:w,lineJoin:E}=this;e.strokeStyle=p,e.globalAlpha=u*y,e.lineWidth=f,_&&e.setLineDash(_),b&&(e.lineDashOffset=b),w&&(e.lineCap=w),E&&(e.lineJoin=E),e.beginPath(),m&&(e.moveTo(o,a),e.lineTo(s,a)),g&&(e.moveTo(s,l),e.lineTo(o,l)),e.stroke()}null==(t=this.fillShadow)||t.markClean(),super.render(r)}};uc.className="Range",uc.defaultStyles=Pe(J({},rs.defaultStyles),{strokeWidth:1}),S([Ne({redraw:2})],uc.prototype,"x1",2),S([Ne({redraw:2})],uc.prototype,"y1",2),S([Ne({redraw:2})],uc.prototype,"x2",2),S([Ne({redraw:2})],uc.prototype,"y2",2),S([Ne({redraw:2})],uc.prototype,"startLine",2),S([Ne({redraw:2})],uc.prototype,"endLine",2),S([Ne({redraw:2})],uc.prototype,"isRange",2);var Ln=class extends wi{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Kd(this)}};function mT(r){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=r,i=r.rotation?gn(Br(r.rotation)):0,n=!i&&t>=0&&t<=Math.PI?-1:1,o=!i&&e>=0&&e<=Math.PI?-1:1;let a=0;return r.parallel?a=n*Math.PI/2:-1===o&&(a=Math.PI),{configuredRotation:i,defaultRotation:a,parallelFlipFlag:n,regularFlipFlag:o}}function n1(r,t,e,i,n){const o=t>0&&t<=Math.PI,a=e>0&&e<=Math.PI;if(r){if(!t&&!e)return"center";if(i*(o||a?-1:1)==-1)return"end"}else if(i*n==-1)return"end";return"start"}function qHe(r,t,e,i,n){const{width:o,height:a}=t,s=new wt(e,i,0,0);n.transformBBox(s,t);const{x:l=0,y:c=0}=t;return t.width=o,t.height=a,{point:{x:l,y:c,size:0},label:{width:o,height:a,text:r}}}S([R(rt)],Ln.prototype,"enabled",2),S([R(Zt)],Ln.prototype,"color",2),S([R(Wd,{optional:!0})],Ln.prototype,"fontStyle",2),S([R($d,{optional:!0})],Ln.prototype,"fontWeight",2),S([R(Ce)],Ln.prototype,"fontSize",2),S([R(xe)],Ln.prototype,"fontFamily",2),S([R(is,{optional:!0})],Ln.prototype,"formatter",2);var GX=(r=>(r[r.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",r[r.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",r[r.AXIS_ZINDEX=2]="AXIS_ZINDEX",r[r.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",r[r.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",r[r.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",r[r.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",r[r.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",r[r.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",r[r.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",r))(GX||{}),r1=r=>!!r&&Object.hasOwn(r,"toString")&&es(r.toString()),o1=r=>ai(r)||(r=>!!r&&Object.hasOwn(r,"valueOf")&&ai(r.valueOf()))(r)||GC(r);function sb(r,t){return t&&o1(r)?r:t?void 0:es(r)||r1(r)?r:String(r)}function Ng(r){return r1(r)&&Object.hasOwn(r,"id")?r.id:r}var a1=r=>"value"===r?Si((t,e)=>"line"===e.target.type,t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Si((t,e)=>"range"===e.target.type,t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),VX=(r,t,e,i)=>{const n="line"===r&&void 0!==t,o="range"===r&&void 0!==e;if(!n&&!o)return!0;const[a,s]=e??[t,void 0],l=xi.is(i),c=null!=sb(a,l)&&!isNaN(i.convert(a)),u=null!=sb(s,l)&&!isNaN(i.convert(s));if(n&&c||o&&c&&u)return!0;const d=["Expecting crossLine"];return o?(c||d.push(`range start ${rb(a)}`),u||d.push(`${c?"":"and "}range end ${rb(s)}`)):d.push(`value ${rb(a)}`),d.push("to match the axis scale domain."),Ae.warnOnce(d.join(" ")),!1},ZHe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},QHe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function BX({yDirection:r,padding:t=0,position:e="top",bbox:i}){const n=r?ZHe:QHe,{xTranslationDirection:o,yTranslationDirection:a}=n[e];return{xTranslation:o*(t+(r?i.width:i.height)/2),yTranslation:a*(t+(r?i.height:i.width)/2)}}var s1=({yDirection:r,xEnd:t,yStart:e,yEnd:i})=>r?{x:t/2,y:e}:{x:t,y:isNaN(i)?e:(e+i)/2},HX=({yDirection:r,xStart:t,xEnd:e,yStart:i,yEnd:n})=>r?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:i},jX=({yDirection:r,xEnd:t,yStart:e,yEnd:i})=>r?{x:t,y:isNaN(i)?e:(e+i)/2}:{x:t/2,y:isNaN(i)?e:i},UX=({yDirection:r,xStart:t,xEnd:e,yStart:i,yEnd:n})=>r?{x:e/2,y:isNaN(n)?i:n}:{x:t,y:isNaN(n)?i:(i+n)/2},zX=({yDirection:r,xStart:t,xEnd:e,yStart:i})=>r?{x:t/2,y:i}:{x:e,y:i},WX=({yDirection:r,xStart:t,yStart:e,yEnd:i})=>r?{x:t,y:isNaN(i)?e:i}:{x:t,y:e},$X=({yDirection:r,xEnd:t,yStart:e,yEnd:i})=>r?{x:t,y:e}:{x:t,y:isNaN(i)?e:i},KX=({yDirection:r,xStart:t,xEnd:e,yStart:i,yEnd:n})=>r?{x:e,y:isNaN(n)?i:n}:{x:t,y:isNaN(n)?i:n},t3e={top:{c:s1},bottom:{c:UX},left:{c:HX},right:{c:jX},topLeft:{c:zX},topRight:{c:$X},bottomLeft:{c:WX},bottomRight:{c:KX},inside:{c:({xEnd:r,yStart:t,yEnd:e})=>({x:r/2,y:isNaN(e)?t:(t+e)/2})},insideLeft:{c:HX},insideRight:{c:jX},insideTop:{c:s1},insideBottom:{c:UX},insideTopLeft:{c:zX},insideBottomLeft:{c:WX},insideTopRight:{c:$X},insideBottomRight:{c:KX}},i3e=vn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),os=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};S([R(rt,{optional:!0})],os.prototype,"enabled",2),S([R(xe,{optional:!0})],os.prototype,"text",2),S([R(Wd,{optional:!0})],os.prototype,"fontStyle",2),S([R($d,{optional:!0})],os.prototype,"fontWeight",2),S([R(Ce)],os.prototype,"fontSize",2),S([R(xe)],os.prototype,"fontFamily",2),S([R(Di)],os.prototype,"padding",2),S([R(Zt,{optional:!0})],os.prototype,"color",2),S([R(i3e,{optional:!0})],os.prototype,"position",2),S([R(zd,{optional:!0})],os.prototype,"rotation",2),S([R(rt,{optional:!0})],os.prototype,"parallel",2);var oo=class _w{constructor(){this.id=nc(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new os,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new $e({name:`${this.id}`,layer:!0,zIndex:_w.LINE_LAYER_ZINDEX}),this.labelGroup=new $e({name:`${this.id}`,layer:!0,zIndex:_w.LABEL_LAYER_ZINDEX}),this.crossLineRange=new uc,this.crossLineLabel=new ii,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:e,crossLineRange:i,crossLineLabel:n}=this;t.append(i),e.append(n),i.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:o,range:a,scale:s}=this;if(!(n&&s&&e&&t&&VX(n,o,a,s)&&0!==i.length))return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t||!this.createNodeData(e))return;const{sideFlag:n,gridLength:o,data:a}=this,s=[],c=n*o,u=a[0],d=a[1],h=new wt(Math.min(0,c),Math.min(u,d),Math.abs(0-c),Math.abs(u-d));s.push(h);const p=this.computeLabelBBox();return p&&s.push(p),wt.merge(s)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,i,n;const{scale:o,gridLength:a,sideFlag:s,direction:l,label:{position:c="top"},clippedRange:u,strokeWidth:d=0}=this;if(this.data=[],!o)return!1;const h=null!=(e=o.bandwidth)?e:0,p=null!=(i=o.step)?i:0,f=(t?-1:1)*(o instanceof sc?(p-h)/2:0),[m,g]=[0,s*a];let[v,y]=this.getRange(),[_,b]=[Number(o.convert(v,{clampMode:"clamped"}))-f,o.convert(y,{clampMode:"clamped"})+h+f];_=rT(_,u),b=rT(b,u),[v,y]=[Number(o.convert(v)),o.convert(y)+h];const w=(v===_||y===b||_!==b)&&Math.abs(b-_)>0;if(w&&_>b&&([_,b]=[b,_],[v,y]=[y,v]),v-f>=_&&(v-=f),y+f<=b&&(y+=f),this.isRange=w,this.startLine=d>0&&v>=_&&v<=_+f,this.endLine=d>0&&y>=b-h-f&&y<=b,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[_,b],this.label.enabled){const E="y"===l,{c:M=s1}=null!=(n=t3e[c])?n:{},{x:P,y:I}=M({yDirection:E,xStart:m,xEnd:g,yStart:_,yEnd:b});this.labelPoint={x:P,y:I}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:i,gridLength:n,data:o,startLine:a,endLine:s,isRange:l,fill:c,fillOpacity:u,stroke:d,strokeWidth:h,lineDash:p}=this;e.x1=0,e.x2=i*n,e.y1=o[0],e.y2=o[1],e.startLine=a,e.endLine=s,e.isRange=l,e.fill=c,e.fillOpacity=u??1,e.stroke=d,e.strokeWidth=h??1,e.strokeOpacity=null!=(t=this.strokeOpacity)?t:1,e.lineDash=p}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:i}={},label:{parallel:n,rotation:o,position:a="top",padding:s=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(void 0===e||void 0===i)return;const{defaultRotation:d,configuredRotation:h}=mT({rotation:o,parallel:n,regularFlipRotation:u,parallelFlipRotation:c});t.rotation=d+h,t.textBaseline="middle",t.textAlign="center";const p=t.computeTransformedBBox();if(!p)return;const f="y"===l,{xTranslation:m,yTranslation:g}=BX({yDirection:f,padding:s,position:a,bbox:p});t.translationX=e+m,t.translationY=i+g}getZIndex(t=!1){return t?_w.RANGE_LAYER_ZINDEX:_w.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:i,scale:n}=this,o=xi.is(n),a=null!=(t=i?.[0])?t:e;let s=i?.[1];return!o&&void 0===s&&(s=a),o&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new ii;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i,y:n}={},label:{parallel:o,rotation:a,position:s="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:d}=this;if(void 0===i||void 0===n)return;const{configuredRotation:h}=mT({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:u});e.rotation=h,e.textBaseline="middle",e.textAlign="center";const p=e.computeTransformedBBox();if(!p)return;const f="y"===c,{xTranslation:m,yTranslation:g}=BX({yDirection:f,padding:l,position:s,bbox:p});return e.translationX=i+m,e.translationY=n+g,e.computeTransformedBBox()}calculatePadding(t){var e,i,n,o,a,s,l,c;const{isRange:u,startLine:d,endLine:h,direction:p,label:{padding:f=0,position:m="top"}}=this;if(!u&&!d&&!h)return;const g=this.computeLabelBBox();if(null==g?.x||null==g?.y)return;const v=function JHe({yDirection:r,bbox:t,padding:e=0,position:i="top"}){const n={};return i.startsWith("inside")||("top"!==i||r?"bottom"!==i||r?"left"===i&&r?n.left=e+t.width:"right"===i&&r&&(n.right=e+t.width):n.bottom=e+t.height:n.top=e+t.height),n}({yDirection:"y"===p,padding:f,position:m,bbox:g});t.left=Math.max(null!=(e=t.left)?e:0,null!=(i=v.left)?i:0),t.right=Math.max(null!=(n=t.right)?n:0,null!=(o=v.right)?o:0),t.top=Math.max(null!=(a=t.top)?a:0,null!=(s=v.top)?s:0),t.bottom=Math.max(null!=(l=t.bottom)?l:0,null!=(c=v.bottom)?c:0)}};oo.LINE_LAYER_ZINDEX=8,oo.RANGE_LAYER_ZINDEX=3,oo.LABEL_LAYER_ZINDEX=7,oo.className="CrossLine",S([R(rt,{optional:!0})],oo.prototype,"enabled",2),S([R(vn(["range","line"],"a crossLine type"),{optional:!0})],oo.prototype,"type",2),S([R(lc(a1("range"),eb.restrict({length:2})),{optional:!0})],oo.prototype,"range",2),S([R(a1("value"),{optional:!0})],oo.prototype,"value",2),S([R(Zt,{optional:!0})],oo.prototype,"fill",2),S([R(di,{optional:!0})],oo.prototype,"fillOpacity",2),S([R(Zt,{optional:!0})],oo.prototype,"stroke",2),S([R(Di,{optional:!0})],oo.prototype,"strokeWidth",2),S([R(di,{optional:!0})],oo.prototype,"strokeOpacity",2),S([R(bu,{optional:!0})],oo.prototype,"lineDash",2);var l1=oo,YX=class{constructor(){this.moduleMap=new Map}addModule(r,t){if(this.moduleMap.has(r.optionsKey))throw new Error(`AG Charts - module already initialised: ${r.optionsKey}`);this.moduleMap.set(r.optionsKey,t(r))}removeModule(r){var t;const e=es(r)?r:r.optionsKey;null==(t=this.moduleMap.get(e))||t.destroy(),this.moduleMap.delete(e)}isModuleEnabled(r){return this.moduleMap.has(es(r)?r:r.optionsKey)}getModule(r){return this.moduleMap.get(es(r)?r:r.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(r){return Array.from(this.moduleMap.values()).map(r)}destroy(){for(const r of this.moduleMap.keys())this.removeModule({optionsKey:r})}},qX={};function er(r,t){const{nodes:e,selections:i}=lT(r);for(const n of i){for(const o of n.nodes()){const a=t(o,o.datum);o.setProperties(a)}n.cleanup()}for(const n of e){const o=t(n,n.datum);n.setProperties(o)}}fu(qX,{resetMotion:()=>er});var lb=class{constructor(r,t,e){this.states=t,this.preTransitionCb=e,this.debug=sn.create(!0,"animation"),this.state=r,this.debug(`%c${this.constructor.name} | init -> ${r}`,"color: green")}transition(r,t){var e,i;const n=this.states[this.state],o=n?.[r];if(!o)return void this.debug(`%c${this.constructor.name} | ${this.state} -> ${r} -> ${this.state}`,"color: grey");let a=this.state;return"string"==typeof o?a=o:"object"==typeof o&&(a=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${r} -> ${a}`,"color: green"),null==(e=this.preTransitionCb)||e.call(this,this.state,a),this.state=a,"function"==typeof o?o(t):"object"==typeof o&&(null==(i=o.action)||i.call(o,t)),this.state}},Gg=r=>`(${r})`,Su=r=>`${Gg(r)}?`,XX=r=>Su(`?:${r}`),n3e=new RegExp(["^",XX(`${Su(".")}${Gg("[<>=^]")}`),Su("[+\\-( ]"),Su("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),Su("0"),Su("\\d+"),Su(","),XX(`\\.${Gg("\\d+")}`),Su("~"),Su("[%a-z]"),"$"].join(""),"i"),r3e=new RegExp(["^",Gg(".*?"),`#\\{${Gg(".+?")}\\}`,Gg(".*?"),"$"].join(""));function ZX(r){let t,e;const i=r3e.exec(r);i&&([,t,r,e]=i);const n=n3e.exec(r);if(!n)throw new Error(`The number formatter is invalid: ${r}`);const[,o,a,s,l,c,u,d,h,p,f]=n;return{fill:o,align:a,sign:s,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!p,type:f,prefix:t,suffix:e}}function QX(r){const t="string"==typeof r?ZX(r):r,{fill:e,align:i,sign:n="-",symbol:o,zero:a,width:s,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t;let{trim:p}=t;const f=void 0===h||isNaN(h);let m,g;if(c)if(c in wa&&c in Vg)m=f?Vg[c]:wa[c];else if(c in wa)m=wa[c];else{if(!(c in Vg))throw new Error(`The number formatter type is invalid: ${c}`);m=Vg[c]}else m=wa.g,p=!0;return g=null==h||f?c?6:12:h,v=>{let y=m(v,g);return p&&(y=function o3e(r){return r.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}(y)),l&&(y=function a3e(r,t){let e=r.indexOf(".");e<0&&(e=r.length);const i=r.substring(0,e).split(""),n=r.substring(e);for(let o=i.length-3;o>0;o-=3)i.splice(o,0,t);return`${i.join("")}${n}`}(y,l)),y=function u3e(r,t,e=""){if("("===e)return r>=0?t:`(${t})`;return`${r>=0?"+"===e?"+":"":c3e}${t}`}(v,y,n),o&&"#"!==o&&(y=`${o}${y}`),"#"===o&&"x"===c&&(y=`0x${y}`),"s"===c&&(y=`${y}${function s3e(r){return l3e[JX(r)]}(v)}`),("%"===c||"p"===c)&&(y=`${y}%`),null!=s&&!isNaN(s)&&(y=function d3e(r,t,e=" ",i=">"){let n=r;if(">"!==i&&i){if("<"===i)n=n.padEnd(t,e);else if("^"===i){const o=Math.max(0,t-n.length),a=Math.ceil(o/2),s=Math.floor(o/2);n=n.padStart(a+n.length,e),n=n.padEnd(s+n.length,e)}}else n=n.padStart(t,e);return n}(y,s,e??a,i)),y=`${u}${y}${d}`,y}}var gT=r=>Math.floor(Math.abs(r)),Vg={b:r=>gT(r).toString(2),c:r=>String.fromCharCode(r),d:r=>Math.round(Math.abs(r)).toFixed(0),o:r=>gT(r).toString(8),x:r=>gT(r).toString(16),X:r=>Vg.x(r).toUpperCase(),n:r=>Vg.d(r),"%":r=>`${gT(100*r).toFixed(0)}`},wa={e:(r,t)=>Math.abs(r).toExponential(t),E:(r,t)=>wa.e(r,t).toUpperCase(),f:(r,t)=>Math.abs(r).toFixed(t),F:(r,t)=>wa.f(r,t).toUpperCase(),g:(r,t)=>{if(0===r)return"0";const e=Math.abs(r),i=Math.floor(Math.log10(e));return i>=-4&&i<t?e.toFixed(t-1-i):e.toExponential(t-1)},G:(r,t)=>wa.g(r,t).toUpperCase(),n:(r,t)=>wa.g(r,t),p:(r,t)=>wa.r(100*r,t),r:(r,t)=>{if(0===r)return"0";const e=Math.abs(r),n=Math.floor(Math.log10(e))-(t-1);if(n<=0)return e.toFixed(-n);const o=Math.pow(10,n);return(Math.round(e/o)*o).toFixed()},s:(r,t)=>{const e=JX(r);return wa.r(r/Math.pow(10,e),t)},"%":(r,t)=>wa.f(100*r,t)};function JX(r){return ti(eZ,3*Math.floor(Math.log10(Math.abs(r))/3),tZ)}var eZ=-24,tZ=24,l3e={[eZ]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[tZ]:"Y"},c3e="\u2212";function iZ(r,t){const e=ZX(t??",f"),{precision:i}=e;(null==i||isNaN(i))&&("f"===e.type||"%"===e.type?e.precision=Math.max(...r.map(o=>{if("number"!=typeof o||0===o)return 0;const a=Math.floor(Math.log10(Math.abs(o))),l=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e"),c=l.indexOf(".");if(c<0)return a>=0?0:-a;const u=l.indexOf("e")-c;return Math.max(0,u-a-1)})):(!e.type||e.type in wa)&&(e.precision=Math.max(...r.map(o=>{if("number"!=typeof o)return 0;const a=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const n=QX(e);return o=>n(Number(o))}var cb=(r,t=[])=>Object.assign(t,{fractionDigits:r});function vT(r,t,e,i,n){if(e<2)return ub(r,t,t-r);const o=Bg(r,t,e,i,n);return isNaN(o)?cb(0):ub(r=Math.ceil(r/o)*o,t=Math.floor(t/o)*o,o)}var nZ=[1,2,5,10];function Bg(r,t,e,i=0,n=1/0){const o=Math.abs(t-r),s=Math.floor(Math.log10(o/e)),l=Math.pow(10,s),c=nZ.map(u=>{const h=Math.ceil(o/(u*l));return{multiplier:u,isWithinBounds:h>=i&&h<=n,diffCount:Math.abs(h-e)}}).sort((u,d)=>u.isWithinBounds!==d.isWithinBounds?u.isWithinBounds?-1:1:u.diffCount-d.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*l}function ub(r,t,e){const i=Math.min(r,t),n=Math.max(r,t),o=GN(e),a=Math.pow(10,o),s=Math.ceil((n-i)/e),l=cb(o);for(let c=0;c<=s;c++)l.push(Math.round((i+e*c)*a)/a);return l}var rZ=class zV extends xi{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=Z9,this.basePow=Z9,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Ae.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=zV.getBaseLogMethod(this.base),this.basePow=zV.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,i=t>e?Math.ceil:Math.floor,n=t>e?Math.floor:Math.ceil,o=this.pow(i(this.log(t))),a=this.pow(n(this.log(e)));this.niceDomain=[o,a]}ticks(){var t;const e=null!=(t=this.tickCount)?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const i=this.base,[n,o]=this.getDomain(),a=Math.min(n,o),s=Math.max(n,o);let l=this.log(a),c=this.log(s);if(this.interval){const g=Math.abs(this.interval),v=Math.abs(c-l);let y=ub(l,c,Math.min(v,g));if(y=cb(y.fractionDigits,y.map(_=>this.pow(_)).filter(_=>_>=a&&_<=s)),!this.isDenseInterval({start:a,stop:s,interval:g,count:y.length}))return y}if(i%1!=0||c-l>=e){let g=vT(l,c,Math.min(c-l,e));return g=cb(g.fractionDigits,g.map(v=>this.pow(v))),g}const h=[],p=a>0;l=Math.floor(l)-1,c=Math.round(c)+1;const f=Ig(this.range)/e;let m=1/0;for(let g=l;g<=c;g++){const v=this.convert(this.pow(g+1));for(let y=1;y<i;y++){const _=p?y:i-y+1,b=this.pow(g)*_,w=this.convert(b),E=Math.abs(m-w),M=Math.abs(w-v);b>=a&&b<=s&&(1===y||E>=f&&M>=f)&&(h.push(b),m=w)}}return h}tickFormat({count:t,ticks:e,specifier:i}){return t!==1/0&&null==e&&this.ticks(),i??(i=10===this.base?".0e":","),es(i)?QX(i):i}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return i=>Math.log(i)/e}}static getBasePowerMethod(t){switch(t){case 10:return e=>e>=0?Pt(10,e):1/Pt(10,-e);case Math.E:return Math.exp;default:return e=>Pt(t,e)}}};S([No],rZ.prototype,"base",2);var c1=rZ,yT={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function u1(r,t=new Date(r.getFullYear(),0,1)){const e=r.getTimezoneOffset()-t.getTimezoneOffset(),i=r.getTime()-t.getTime()+6e4*e;return Math.floor(i/864e5)}function oZ(r,t){const n=(t-new Date(r.getFullYear(),0,1).getDay()+7)%7,o=new Date(r.getFullYear(),0,n+1);return o<=r?Math.floor(u1(r,o)/7)+1:0}function lZ(r,t=r.getFullYear()){const i=new Date(t,0,1).getDay(),o=new Date(t,0,(4-i+7)%7-3+1);return o<=r?Math.floor(u1(r,o)/7)+1:lZ(r,t-1)}var m3e={a:r=>yT.shortDays[r.getDay()],A:r=>yT.days[r.getDay()],b:r=>yT.shortMonths[r.getMonth()],B:r=>yT.months[r.getMonth()],c:"%x, %X",d:(r,t)=>Tr(r.getDate(),2,t??"0"),e:"%_d",f:(r,t)=>Tr(1e3*r.getMilliseconds(),6,t??"0"),H:(r,t)=>Tr(r.getHours(),2,t??"0"),I:(r,t)=>{const e=r.getHours()%12;return 0===e?"12":Tr(e,2,t??"0")},j:(r,t)=>Tr(u1(r)+1,3,t??"0"),m:(r,t)=>Tr(r.getMonth()+1,2,t??"0"),M:(r,t)=>Tr(r.getMinutes(),2,t??"0"),L:(r,t)=>Tr(r.getMilliseconds(),3,t??"0"),p:r=>r.getHours()<12?"AM":"PM",Q:r=>String(r.getTime()),s:r=>String(Math.floor(r.getTime()/1e3)),S:(r,t)=>Tr(r.getSeconds(),2,t??"0"),u:r=>{let t=r.getDay();return t<1&&(t+=7),String(t%7)},U:(r,t)=>Tr(oZ(r,0),2,t??"0"),V:(r,t)=>Tr(lZ(r),2,t??"0"),w:(r,t)=>Tr(r.getDay(),2,t??"0"),W:(r,t)=>Tr(oZ(r,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(r,t)=>Tr(r.getFullYear()%100,2,t??"0"),Y:(r,t)=>Tr(r.getFullYear(),4,t??"0"),Z:r=>function f3e(r){const t=r.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${Tr(Math.floor(e/60),2,"0")}${Tr(Math.floor(e%60),2,"0")}`}(r),"%":()=>"%"},g3e={_:" ",0:"0","-":""};function Tr(r,t,e){const i=String(Math.floor(r));return i.length>=t?i:`${e.repeat(t-i.length)}${i}`}function d1(r){const t=[];for(;r.length>0;){let e=r.indexOf("%");if(0!==e){const s=e>0?r.substring(0,e):r;t.push(s)}if(e<0)break;const n=g3e[r[e+1]];null!=n&&e++;const o=r[e+1],a=m3e[o];if("function"==typeof a)t.push([a,n]);else if("string"==typeof a){const s=d1(a);t.push([s,n])}else t.push(`${n??""}${o}`);r=r.substring(e+2)}return e=>{const i="number"==typeof e?new Date(e):e;return t.map(n=>"string"==typeof n?n:n[0](i,n[1])).join("")}}var Wp={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function as(r){return r instanceof Date?r.getTime():r}var h1=class extends xi{constructor(){super([],[0,1]),this.type="time",this.year=kBe,this.month=PBe,this.week=OBe,this.day=wBe,this.hour=_Be,this.minute=gBe,this.second=pBe,this.millisecond=uBe,this.tickIntervals=[[this.second,1,1e3],[this.second,5,5e3],[this.second,15,15e3],[this.second,30,3e4],[this.minute,1,no],[this.minute,5,5*no],[this.minute,15,15*no],[this.minute,30,30*no],[this.hour,1,Zl],[this.hour,3,3*Zl],[this.hour,6,6*Zl],[this.hour,12,12*Zl],[this.day,1,Hd],[this.day,2,2*Hd],[this.week,1,LC],[this.week,2,2*LC],[this.week,3,3*LC],[this.month,1,NC],[this.month,2,2*NC],[this.month,3,3*NC],[this.month,4,4*NC],[this.month,6,6*NC],[this.year,1,BD]]}toDomain(r){return new Date(r)}calculateDefaultTickFormat(r=[]){let t=8;const e=l=>{l<t&&(t=l)};for(const l of r)e(this.getLowestGranularityFormat(l));const i=as(r[0]),n=as(r.at(-1)),o=new Date(i).getFullYear(),s=new Date(n).getFullYear()-o>0;return this.buildFormatString(t,s)}buildFormatString(r,t){let e=[Wp[r]],i=0;const o=Ig(this.getDomain().map(as));switch(r){case 1:o/no>1&&e.push(Wp[2]);case 2:o/Zl>1&&e.push(Wp[3]);case 3:i=e.length,o/Hd>1&&e.push(Wp[4]);case 4:if(o/LC>1||t){const a=e.indexOf(Wp[4]);a>-1&&e.splice(a,1,Wp[5])}case 5:case 6:(o/BD>1||t)&&e.push(Wp[8])}return i<e.length&&(e=[...e.slice(0,i),e.slice(i).join(" ")]),i>0&&(e=[...e.slice(0,i).reverse(),...e.slice(i)],i<e.length&&e.splice(i,0," ")),e.join("")}getLowestGranularityFormat(r){return this.second.floor(r)<r?0:this.minute.floor(r)<r?1:this.hour.floor(r)<r?2:this.day.floor(r)<r?3:this.month.floor(r)<r?this.week.floor(r)<r?4:5:this.year.floor(r)<r?6:8}defaultTickFormat(r){const t=this.calculateDefaultTickFormat(r);return e=>d1(t)(e)}getTickInterval({start:r,stop:t,count:e,minCount:i,maxCount:n}){const{tickIntervals:o}=this;let a,s;const l=e??xi.defaultTickCount,c=Math.abs(t-r)/Math.max(l,1);let u=0;for(;u<o.length&&c>o[u][2];)u++;if(0===u)s=Math.max(Bg(r,t,l,i,n),1),a=this.millisecond;else if(u===o.length)s=Bg(r/BD,t/BD,l,i,n),a=this.year;else{const p=c-o[u-1][2]<o[u][2]-c?u-1:u;[a,s]=o[p]}return a.every(s)}invert(r){return new Date(super.invert(r))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[r,t]=this.getDomain().map(as),e=Math.min(r,t),i=Math.max(r,t);if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:i});if(this.nice){const{tickCount:n}=this;if(2===n)return this.niceDomain;if(1===n)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:i})}getDefaultTicks({start:r,stop:t}){const e=this.getTickInterval({start:r,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return e?e.range(new Date(r),new Date(t)):[]}getTicksForInterval({start:r,stop:t}){const{interval:e,tickIntervals:i}=this;if(!e)return[];if(e instanceof kC){const u=e.range(new Date(r),new Date(t));return this.isDenseInterval({start:r,stop:t,interval:e,count:u.length})?this.getDefaultTicks({start:r,stop:t}):u}const n=Math.abs(e);if(this.isDenseInterval({start:r,stop:t,interval:n}))return this.getDefaultTicks({start:r,stop:t});const o=[...i];o.reverse();const a=o.find(u=>n%u[2]==0);if(a)return a[0].every(n/(a[2]/a[1])).range(new Date(r),new Date(t));let s=new Date(r);const l=new Date(t),c=[];for(;s<=l;)c.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+n);return c}tickFormat({ticks:r,specifier:t}){return null==t?this.defaultTickFormat(r):d1(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,e);const[n,o]=this.niceDomain;if(as(t)===as(n)&&as(e)===as(o))break;t=n,e=o}}updateNiceDomainIteration(r,t){const e=Math.min(as(r),as(t)),i=Math.max(as(r),as(t)),n=r>t,{interval:o}=this;let a;if(o instanceof kC)a=o;else{const s="number"==typeof o?(i-e)/Math.max(o,1):this.tickCount;a=this.getTickInterval({start:e,stop:i,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const s=a.range(new Date(e),new Date(i),!0),l=n?[...s].reverse():s,c=l[0],u=l.at(-1);this.niceDomain=[c,u]}}},ji=class _f{constructor(t,e,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=sn.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Fg,e)?()=>new e:e}static select(t,e,i=!0){return new _f(t,e,i)}static selectAll(t,e){const i=[],n=o=>{e(o)&&i.push(o),o.children.forEach(n)};return n(t),i}static selectByClass(t,e){return _f.selectAll(t,i=>i instanceof e)}static selectByTag(t,e){return _f.selectAll(t,i=>i.tag===e)}createNode(t,e,i){const n=this.nodeFactory(t);return n.datum=t,e?.(n),null!=i?this._nodes.splice(i,0,n):this._nodes.push(n),this.parentNode.appendChild(n),n}update(t,e,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),i){const n=new Map(t.map((o,a)=>[i(o),[o,a]]));for(const[o,a]of this._nodesMap.entries())if(n.has(a)){const[s]=n.get(a);o.datum=s,this.garbageBin.delete(o),n.delete(a)}else this.garbageBin.add(o);for(const[o,[a,s]]of n.entries())this._nodesMap.set(this.createNode(a,e,s),o)}else{const n=Math.max(t.length,this.data.length);for(let o=0;o<n;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],e):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter(t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((e,i)=>t(e,e.datum,i)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],i=this._nodes[t].datum;yield{node:e,datum:i,index:t}}}select(t){return _f.selectAll(this.parentNode,t)}selectByClass(t){return _f.selectByClass(this.parentNode,t)}selectByTag(t){return _f.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},tr=class extends rs{constructor(r={}){super(r),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(r){this.x1=r,this.x2=r}set y(r){this.y1=r,this.y2=r}computeBBox(){return new wt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(r,t){if(this.x1===this.x2||this.y1===this.y2){const{x:e,y:i}=this.transformPoint(r,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(e,i)}return!1}render(r){var t;const{ctx:e,forceRender:i,stats:n,devicePixelRatio:o}=r;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:a,y1:s,x2:l,y2:c}=this;if(a===l){const{strokeWidth:u}=this,d=Math.round(a*o)/o+Math.trunc(u*o)%2/(2*o);a=d,l=d}else if(s===c){const{strokeWidth:u}=this,d=Math.round(s*o)/o+Math.trunc(u*o)%2/(2*o);s=d,c=d}e.beginPath(),e.moveTo(a,s),e.lineTo(l,c),this.fillStroke(e),null==(t=this.fillShadow)||t.markClean(),super.render(r)}};function v3e(r,t,e,i,n){let o=r.x;r.x<t?o=t:r.x>t+i&&(o=t+i);let a=r.y;r.y<e?a=e:r.y>e+n&&(a=e+n);const s=r.x-o,l=r.y-a;return Math.sqrt(s*s+l*l)<=.5*r.size}function cZ(r,t,e,i,n){return r.x+r.width>t&&r.x<t+i&&r.y+r.height>e&&r.y<e+n}function y3e(r,t,e,i,n){return t+i<r.x+r.width&&t>r.x&&e>r.y&&e+n<r.y+r.height}function _3e(r){return null!=r&&"object"==typeof r.point&&"object"==typeof r.label}function w3e(r,t){return r.length===t.length&&r.every((e,i)=>Number(e)===Number(t[i]))}tr.className="Line",tr.defaultStyles=Object.assign({},rs.defaultStyles,{fill:void 0,strokeWidth:1}),S([Ne({redraw:3})],tr.prototype,"x1",2),S([Ne({redraw:3})],tr.prototype,"y1",2),S([Ne({redraw:3})],tr.prototype,"x2",2),S([Ne({redraw:3})],tr.prototype,"y2",2);var S3e=["stroke","lineDash"],x3e=Cu(r=>Jl(r)&&Object.keys(r).every(t=>S3e.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),_T=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function xu(r,t=[void 0]){return gu((e,i,n)=>t.includes(n)?Tg(r)?r(n):r:n)}S([R(rt)],_T.prototype,"enabled",2),S([R(Ce)],_T.prototype,"width",2),S([R(x3e)],_T.prototype,"style",2);var Nn=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return Kd(this)}};S([R(rt)],Nn.prototype,"enabled",2),S([R(rt,{optional:!0})],Nn.prototype,"autoWrap",2),S([R(Ce,{optional:!0})],Nn.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],Nn.prototype,"maxHeight",2),S([R(Wd,{optional:!0})],Nn.prototype,"fontStyle",2),S([R($d,{optional:!0})],Nn.prototype,"fontWeight",2),S([R(Di.restrict({min:1}))],Nn.prototype,"fontSize",2),S([R(xe)],Nn.prototype,"fontFamily",2),S([R(Ce)],Nn.prototype,"padding",2),S([R(kg),xu(NaN)],Nn.prototype,"minSpacing",2),S([R(Zt,{optional:!0})],Nn.prototype,"color",2),S([R(zd,{optional:!0})],Nn.prototype,"rotation",2),S([R(rt)],Nn.prototype,"avoidCollisions",2),S([R(rt)],Nn.prototype,"mirrored",2),S([R(rt)],Nn.prototype,"parallel",2),S([R(xe,{optional:!0})],Nn.prototype,"format",2);var db=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};S([R(rt)],db.prototype,"enabled",2),S([R(Ce)],db.prototype,"width",2),S([R(Zt,{optional:!0})],db.prototype,"color",2);var E3e=Si(r=>ai(r)&&r>0||r instanceof kC,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Xs=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};function p1(r){const[t,e]=_u(r.range),i=Math.floor(t),n=Math.ceil(e);return{min:i,max:n,visible:i!==n}}S([R(rt)],Xs.prototype,"enabled",2),S([R(Ce)],Xs.prototype,"width",2),S([R(Ce)],Xs.prototype,"size",2),S([R(Zt,{optional:!0})],Xs.prototype,"color",2),S([R(E3e,{optional:!0})],Xs.prototype,"interval",2),S([R(eb,{optional:!0})],Xs.prototype,"values",2),S([R(EX),xu(NaN)],Xs.prototype,"minSpacing",2);var f1=2*Math.PI,D3e=f1/2;function uZ(r){const t=(a,s)=>{const[l=r.min,c=r.max]=_u(s??[]);return a<l||a>c};return{tick:{fromFn(a,s,l){let c=a.y1+a.translationY,u=a.opacity;return("added"===l||t(a.datum.translationY,a.datum.range))&&(c=s.translationY,u=0),{y:0,translationY:c,opacity:u,phase:ro[l]}},toFn(a,s,l){const c=s.translationY;let u=1;return"removed"===l&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},intermediateFn:(a,s,l)=>({visible:!t(a.y)})},line:{fromFn(a,s){var l;return Pe(J({},null!=(l=a.previousDatum)?l:s),{phase:ro.updated})},toFn:(a,s)=>J({},s)},label:{fromFn(a,s,l){var c;const u=null!=(c=a.previousDatum)?c:s,d=u.x,h=u.y,p=u.rotationCenterX;let f=Math.round(a.translationY),m=u.rotation,g=a.opacity;return"removed"===l||t(u.y,u.range)||("added"===l||t(a.datum.y,a.datum.range))&&(f=Math.round(u.translationY),g=0,m=s.rotation),{x:d,y:h,rotationCenterX:p,translationY:f,rotation:m,opacity:g,phase:ro[l]}},toFn(a,s,l){var c,u;const d=s.x,h=s.y,p=s.rotationCenterX,f=Math.round(s.translationY);let m=0,g=1;return"added"===l?(g=1,m=s.rotation):"removed"===l?(g=0,m=s.rotation):m=function T3e(r,t){return Math.abs(t-r)<D3e?t:r>t?t+f1:t-f1}(null!=(u=null==(c=a.previousDatum)?void 0:c.rotation)?u:s.rotation,s.rotation),{x:d,y:h,rotationCenterX:p,translationY:f,rotation:m,opacity:g,finish:{rotation:s.rotation}}}},group:{fromFn(a,s){const{rotation:l,translationX:c,translationY:u}=a;return{rotation:l,translationX:c,translationY:u,phase:ro.updated}},toFn(a,s){const{rotation:l,translationX:c,translationY:u}=s;return{rotation:l,translationX:c,translationY:u}}}}}function dZ(){return(r,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function hZ(r){const{visible:t,min:e,max:i}=r;return(n,o)=>{const a=o.translationY;return{y:a,translationY:0,opacity:1,visible:t&&a>=e&&a<=i}}}function pZ(){return(r,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function fZ(){return(r,t)=>J({},t)}var mZ=(r=>(r[r.TickLine=0]="TickLine",r[r.TickLabel=1]="TickLabel",r[r.GridLine=2]="GridLine",r[r.GridArc=3]="GridArc",r[r.AxisLine=4]="AxisLine",r))(mZ||{}),$p=class vie{constructor(t,e,i){let n;this.moduleCtx=t,this.scale=e,this.id=nc(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new $e({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new tr),this.tickLineGroup=this.axisGroup.appendChild(new $e({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new $e({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new $e({name:`${this.id}-CrossLines`}),this.gridGroup=new $e({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new $e({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=ji.select(this.tickLineGroup,tr,!1),this.tickLabelGroupSelection=ji.select(this.tickLabelGroup,ii,!1),this.gridLineGroupSelection=ji.select(this.gridLineGroup,tr,!1),this.line=new db,this.tick=this.createTick(),this.gridLine=new _T,this.label=this.createLabel(),this.defaultTickMinSpacing=vie.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new qi,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new YX,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new lb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines),this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{null!=n&&null!=Ca(o.chart,n)&&this.animationState.transition("resize"),n=J({},o.chart)})),!1!==i?.respondsToZoom&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return null!=(t=this.constructor.type)?t:""}set crossLines(t){var e,i;null==(e=this._crossLines)||e.forEach(n=>this.detachCrossLine(n)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null==(i=this._crossLines)||i.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),null==(t=this.crossLines)||t.forEach(this.initCrossLine,this)}updateRange(){var t;const{range:e,visibleRange:i,scale:n}=this,o=(e[1]-e[0])/(i[1]-i[0]),s=e[0]-o*i[0];n.range=[s,s+o],null==(t=this.crossLines)||t.forEach(l=>{l.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,i=0){const[n,o]=_u(this.range);return t+e>=n-i&&t<=o+i}onLabelFormatChange(t,e){const{scale:i,fractionDigits:n}=this,a=!(i instanceof c1)&&n>0?s=>"number"==typeof s?s.toFixed(n):String(s):s=>String(s);if(e&&i&&i.tickFormat)try{this.labelFormatter=i.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=a,Ae.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setTickInterval(t){var e;this.scale.interval=null!=(e=this.tick.interval)?e:t}setTickCount(t,e,i){const{scale:n}=this;if(t&&xi.is(n)){if("number"==typeof t)return n.tickCount=t,n.minTickCount=e??0,void(n.maxTickCount=i??1/0);n instanceof h1&&this.setTickInterval(t)}}onGridLengthChange(t,e){var i;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),null==(i=this.crossLines)||i.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new Xs}createLabel(){return new Nn}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,e=!0){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:n,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:u,textAlign:d,primaryTickCount:h}=this.tickGenerationResult,p=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(s,l.ticks,{combinedRotation:c,textAlign:d,textBaseline:u,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(p,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:n,regularFlipRotation:o}),this.updateLayoutState(),h}getAxisLineCoordinates(){const[t,e]=_u(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const i=this.label.getSideFlag()*this.getTickSize(),n=Math.min(0,i);return{x1:n,x2:n+Math.abs(i),y:t.translationY}}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:o,textAlign:a,range:s}=e,l=t.tickLabel,u=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding);return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:u,text:l,textAlign:a,textBaseline:o,visible:""!==l&&null!=l,x:u,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,e){var i;const{title:n}=this;if(n){if(t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping,n.enabled){const o=t.node,a=(null!=(i=n.spacing)?i:0)+e.spacing,s=this.label.getSideFlag(),l=gn(this.rotation),c=-1===s&&l>Math.PI&&l<2*Math.PI?-1:1,u=c*s*Math.PI/2,d=1===c?"bottom":"top",{range:h}=this,p=Math.floor(c*s*(h[0]+h[1])/2),f=Math.floor(-1===s?c*-a:-a),{callbackCache:m}=this.moduleCtx,{formatter:g=(y=>y.defaultValue)}=n,v=m.call(g,this.getTitleFormatterParams());o.setProperties({rotation:u,text:v,textBaseline:d,visible:!0,x:p,y:f})}}else t.enabled=!1}calculateLayout(t){var e,i;const{rotation:n,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),l=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:s}),this.updateLayoutState();const c=this.tickGenerationResult,{tickData:u,combinedRotation:d,textBaseline:h,textAlign:p}=c,f=Zn(c,["tickData","combinedRotation","textBaseline","textAlign"]),m=[],{x:g,y1:v,y2:y}=this.getAxisLineCoordinates(),_=new wt(g+Math.min(s*this.seriesAreaPadding,0),v,this.seriesAreaPadding,y-v);if(m.push(_),this.tick.enabled&&u.ticks.forEach(P=>{const{x1:I,x2:k,y:N}=this.getTickLineCoordinates(P),B=new wt(I,N,k-I,0);m.push(B)}),this.label.enabled){const P=new ii;u.ticks.forEach(I=>{const k=this.getTickLabelProps(I,{combinedRotation:d,textAlign:p,textBaseline:h,range:this.scale.range});if(!k.visible)return;P.setProperties(Pe(J({},k),{translationY:Math.round(I.translationY)}));const N=P.computeTransformedBBox();N&&m.push(N)})}if(null!=(e=this.title)&&e.enabled){const P=new qi,I=wt.merge(m).width;this.setTitleProps(P,{spacing:I});const N=P.node.computeTransformedBBox();N&&m.push(N)}const E=(P=>{const I=new Ys,{rotation:k,translationX:N,translationY:B,rotationCenterX:Y,rotationCenterY:ne}=this.getAxisTransform();return Ys.updateTransformMatrix(I,1,1,k,N,B,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Y,rotationCenterY:ne}),I.transformBBox(P)})(wt.merge(m)),M=this.isAnySeriesActive();return null==(i=this.crossLines)||i.forEach(P=>{var I;P.sideFlag=-s,P.direction=n===-Math.PI/2?"x":"y",P instanceof l1&&(P.label.parallel=null!=(I=P.label.parallel)?I:this.label.parallel),P.parallelFlipRotation=o,P.regularFlipRotation=a,P.calculateLayout(M,this.reverse)}),{primaryTickCount:t=f.primaryTickCount,bbox:E}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;xi.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=Br(this.rotation);return{rotation:t,parallelFlipRotation:gn(t),regularFlipRotation:gn(t-Math.PI/2)}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:i,labelX:n,sideFlag:o}){var a;const{scale:s,tick:l,label:{parallel:c,rotation:u,fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f}}=this,m=void 0!==t,{defaultRotation:g,configuredRotation:v,parallelFlipFlag:y,regularFlipFlag:_}=mT({rotation:u,parallel:c,regularFlipRotation:i,parallelFlipRotation:e}),b=v+g,w=new Ys,{maxTickCount:E}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:null!=(a=l.maxSpacing)?a:NaN}),P=!xi.is(s)||isNaN(E)?10:E;let I=n1(c,v,0,o,_);const k=function YHe(r,t,e,i){return r&&!t?e*i==-1?"hanging":"bottom":"middle"}(c,v,o,y),N={fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f,textBaseline:k,textAlign:I};let B={rawTicks:[],ticks:[],labelCount:0},Y=0,ne=0,me=!0,W=!1;for(;me&&Y<=P&&!W;){ne=0,I=n1(c,v,0,o,_);const Z=this.getTickStrategies({secondaryAxis:m,index:Y});for(const ce of Z){({tickData:B,index:Y,autoRotation:ne,terminate:W}=ce({index:Y,tickData:B,textProps:N,labelOverlap:me,terminate:W,primaryTickCount:t}));const De=0!==v||0!==ne,ke=b+ne;I=n1(c,v,ne,o,_),me=this.checkLabelOverlap(ke,De,w,B.ticks,n,Pe(J({},N),{textAlign:I}))}}return!m&&B.rawTicks.length>0&&(t=B.rawTicks.length),{tickData:B,primaryTickCount:t,combinedRotation:g+v+ne,textBaseline:k,textAlign:I}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:i,label:n,tick:o}=this,a=xi.is(i),s=n.enabled&&n.avoidCollisions,c=!0===n.autoRotate&&void 0===n.rotation,u=[];let d;return d=this.tick.values?3:e?1:!a&&0!==t&&s?2:0,u.push(({index:p,tickData:f,primaryTickCount:m,terminate:g})=>this.createTickData(d,p,f,g,m)),a||isNaN(o.minSpacing)||u.push(({index:f,tickData:m,primaryTickCount:g,terminate:v})=>this.createTickData(2,f,m,v,g)),s?(n.autoWrap?u.push(({index:f,tickData:m,textProps:g})=>this.wrapLabels(m,f,g)):c&&u.push(({index:f,tickData:m,labelOverlap:g,terminate:v})=>({index:f,tickData:m,autoRotation:this.getAutoRotation(g),terminate:v})),u):u}createTickData(t,e,i,n,o){var a;const{scale:s,tick:l}=this,{maxTickCount:c,minTickCount:u,defaultTickCount:d}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:null!=(a=l.maxSpacing)?a:NaN}),h=xi.is(s),p=!h||isNaN(c)?10:c;let f=h?Math.max(d-e,u):c;const m=void 0===l.interval&&void 0===l.values&&f>u&&(h||2===t);let g=!0;for(;g&&e<=p;){const y=i.rawTicks;f=h?Math.max(d-e,u):c;const{rawTicks:_,ticks:b,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:y,tickCount:f,minTickCount:u,maxTickCount:c,primaryTickCount:o});i.rawTicks=_,i.ticks=b,i.labelCount=w,g=!!m&&w3e(_,y),e++}return n||(n=void 0!==l.interval||void 0!==l.values),{tickData:i,index:e,autoRotation:0,terminate:n}}checkLabelOverlap(t,e,i,n,o,a){Ys.updateTransformMatrix(i,1,1,t,0,0);const s=this.createLabelData(n,o,a,i),l=function KHe(r,t){return isNaN(r)?t?0:10:r}(this.label.minSpacing,e);return function b3e(r,t){const e=[];for(let i=0;i<r.length;i++){const n=r[i],{point:{x:o,y:a},label:{text:s}}=n;let{label:{width:l,height:c}}=n;if(l+=t??0,c+=t??0,e.some(d=>cZ(d,o,a,l,c)))return!0;e.push({index:i,text:s,x:o,y:a,width:l,height:c,datum:n})}return!1}(s,l)}createLabelData(t,e,i,n){const o=[];for(const a of t){const{tickLabel:s,translationY:l}=a;if(""===s||null==s)continue;const c=RX(s),{width:u,height:d}=UHe(c,e,l,i),p=qHe(s,new wt(e,l,u,d),e,l,n);o.push(p)}return o}getAutoRotation(t){var e;return t?gn(Br(null!=(e=this.label.autoRotateAngle)?e:0)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:i,minTickCount:n,maxTickCount:o,primaryTickCount:a}){var s;const{range:l,scale:c,visibleRange:u}=this;let d;switch(t){case 3:if(xi.is(c)){const y=c.getDomain(),_=c.fromDomain(y[0]),b=c.fromDomain(y[1]),w=Math.min(_,b),E=Math.max(_,b);d=this.tick.values.filter(M=>M>=w&&M<=E).sort((M,P)=>M-P)}else d=this.tick.values;break;case 1:d=this.updateSecondaryAxisTicks(a);break;case 2:d=this.filterTicks(e,i);break;default:d=this.createTicks(i,n,o)}this.fractionDigits=d.fractionDigits>=0?d.fractionDigits:0,this.onLabelFormatChange(d,this.label.format);const h=(null!=(s=c.bandwidth)?s:0)/2,p=[];let f=0;const m=new Map,g=Math.max(0,Math.floor(u[0]*d.length)),v=Math.min(d.length,Math.ceil(u[1]*d.length));for(let y=g;y<v;y++){const _=d[y],b=c.convert(_)+h;if(l.length>0&&!this.inRange(b,0,.001))continue;const w=this.formatTick(_,y);let E=w;if(m.has(E)){const M=m.get(E);m.set(E,M+1),E=`${E}_${M}`}else m.set(E,1);p.push({tick:_,tickId:E,tickLabel:w,translationY:b}),""!==w&&null!=w&&f++}return{rawTicks:d,ticks:p,labelCount:f}}filterTicks(t,e){var i;const o=isNaN(this.tick.minSpacing)&&isNaN(null!=(i=this.tick.maxSpacing)?i:NaN)?2:Math.ceil(t.length/e);return t.filter((a,s)=>s%o==0)}createTicks(t,e,i){var n,o,a;return this.setTickCount(t,e,i),null!=(a=null==(o=(n=this.scale).ticks)?void 0:o.call(n))?a:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const{minRect:i}=this,n=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,n/xi.defaultMaxTickCount);let a=!isNaN(e);isNaN(t)&&(t=o),isNaN(e)&&(e=n),t>e&&(t===o?t=e:e=t);const s=i?"x"===this.direction?i.width:i.height:1;a&&(a=s<o);const l=ti(1,Math.floor(n/t),a?Math.floor(n/s):1/0),c=Math.min(l,Math.ceil(n/e));return{minTickCount:c,maxTickCount:l,defaultTickCount:ti(c,xi.defaultTickCount,l)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:i}){var n;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();null==(n=this.crossLines)||n.forEach(s=>{var l;s.sideFlag=-o,s.direction=t===-Math.PI/2?"x":"y",s instanceof l1&&(s.label.parallel=null!=(l=s.label.parallel)?l:this.label.parallel),s.parallelFlipRotation=e,s.regularFlipRotation=i,s.update(a)})}updateTickLines(){const{tick:t,label:e}=this,i=e.getSideFlag();this.tickLineGroupSelection.each(n=>{n.strokeWidth=t.width,n.stroke=t.color,n.x1=i*this.getTickSize(),n.x2=0})}calculateAvailableRange(){return Ig(this.range)}calculateRangeWithBleed(){const t=1/Ig(this.visibleRange);return NN(this.calculateAvailableRange()*t,2)}calculateDomain(){const e=this.boundSeries.filter(i=>this.includeInvisibleDomains||i.isEnabled()).flatMap(i=>i.getDomain(this.direction));this.setDomain(e)}getAxisTransform(){return{rotation:Br(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:i,translation:n,gridLineGroupSelection:o,gridPadding:a,gridLength:s}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),u=Math.floor(n.x),d=Math.floor(n.y);t.setProperties({rotation:l,translationX:u,translationY:d}),i.setProperties({rotation:l,translationX:u,translationY:d}),e.datum=this.getAxisTransform(),o.each(h=>{h.x1=a,h.x2=-c*s+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,i){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],n=>n.append(new tr({tag:2})),n=>n.tickId),this.tickLineGroupSelection.update(e,n=>n.appendChild(new tr({tag:0})),n=>n.tickId),this.tickLabelGroupSelection.update(e.map(n=>this.getTickLabelProps(n,i)),n=>n.appendChild(new ii({tag:1})),n=>n.tickId)}updateAxisLine(){const{line:t}=this;this.lineNode.setProperties({stroke:t.color,strokeWidth:t.enabled?t.width:0})}updateGridLines(t){const{gridLine:{style:e,width:i},gridPadding:n,gridLength:o}=this;0===o||0===e.length||this.gridLineGroupSelection.each((a,s,l)=>{const{stroke:c,lineDash:u}=e[l%e.length];a.setProperties({x1:n,x2:-t*o+n,fill:void 0,stroke:c,strokeWidth:i,lineDash:u})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((e,i)=>{e.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,e,i){const{parallel:n,maxWidth:o,maxHeight:a}=this.label;let s=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return n&&([s,l]=[l,s]),t.ticks.forEach(c=>{const{text:u}=ii.wrap(c.tickLabel,o??s,a??l,i,"hyphenate");c.tickLabel=u}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:i,_titleCaption:n,lineNode:o,tickLineGroup:a,tickLabelGroup:s}=this;if(!i)return void(n.enabled=!1);let l=0;if(i.enabled&&t.anyTickVisible){const c=$e.computeBBox([a,s,o]);l+=(0===e?c.width:c.height)+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n,{spacing:l})}formatTick(t,e){var i,n;const{label:o,labelFormatter:a,fractionDigits:s,moduleCtx:{callbackCache:l}}=this;if(o.formatter){const c=s>0?t:String(t);return null!=(i=l.call(o.formatter,{value:c,index:e,fractionDigits:s,formatter:a}))?i:c}return a&&null!=(n=l.call(a,t))?n:String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,i,n){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new wt(t,e,i,n))}clipGrid(t,e,i,n){this.gridGroup.setClipRectInGroupCoordinateSpace(new wt(t,e,i,n))}calculatePadding(t,e,i){const n=.01*Math.abs(i?e:t);return[n,n]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((i,n)=>{const o=n.getKeys(this.direction),a=n.getNames(this.direction);for(let s=0;s<o.length;s++)i.push({key:o[s],name:a[s]});return i},[]);return{direction:this.direction,boundSeries:e,defaultValue:null==(t=this.title)?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return J({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return null!=this.axisContext||(this.axisContext=this.createAxisContext()),Pe(J({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:xi.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var e,i;return null==(i=(e=this.scale).tickFormat)?void 0:i.call(e,{specifier:t})},scaleBandwidth:()=>{var t;return null!=(t=this.scale.bandwidth)?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var e,i;return null==(i=(e=this.scale).invert)?void 0:i.call(e,t)}}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,n=uZ(p1(this));Hi(this.id,"axis-group",e,[this.axisGroup],n.group),Hi(this.id,"line",e,[this.lineNode],n.line),Hi(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],n.tick,(o,a)=>a.tickId,t),Hi(this.id,"tick-labels",e,[this.tickLabelGroupSelection],n.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:i,lineNode:n}=this,o=p1(this);er([this.axisGroup],(r,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})),er([t,e],hZ(o)),er([i],(r,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})),er([n],fZ())}calculateUpdateDiff(t,e){const i=new Set,n=new Set,o=Math.max(t.length,e.ticks.length);for(let a=0;a<o;a++){const s=e.ticks[a],l=t[a],c=s?.tickId;l!==c&&(n.has(c)?n.delete(c):c&&i.add(c),i.has(l)?i.delete(l):l&&n.add(l))}return{changed:i.size>0||n.size>0,added:Array.from(i.values()),removed:Array.from(n.values())}}isReversed(){return this.reverse}};$p.defaultTickMinSpacing=50,S([R(rt)],$p.prototype,"nice",2),S([R(rt)],$p.prototype,"reverse",2),S([R(CX)],$p.prototype,"keys",2),S([R(Si(r=>"object"==typeof r,"Title object"),{optional:!0})],$p.prototype,"title",2),S([Lg((r,t,e)=>r.onGridLengthChange(t,e))],$p.prototype,"gridLength",2);var m1=$p,g1=class extends Nn{constructor(){super(...arguments),this.autoRotateAngle=335}};S([R(rt,{optional:!0})],g1.prototype,"autoRotate",2),S([R(zd)],g1.prototype,"autoRotateAngle",2);var v1=class yie extends m1{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof yie}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return Pe(J({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){FX(t,l1)}createLabel(){return new g1}};S([R(Ce)],v1.prototype,"thickness",2),S([R(XN)],v1.prototype,"position",2);var hb=v1,Eu=class extends hb{constructor(r){super(r,new sc),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(r){this._paddingOverrideEnabled=!0,this.scale.paddingInner=r}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(r){this.scale.paddingOuter=r}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(r){const t=[],e=new Set;for(const i of r){const n=i instanceof Date?i.getTime():i;e.has(n)||(e.add(n),t.push(i))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const r=this.boundSeries.map(t=>{var e;return null==(e=t.getBandScalePadding)?void 0:e.call(t)}).filter(t=>null!=t);r.length>0&&(this.scale.paddingInner=Math.min(...r.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...r.map(t=>t.outer)))}return super.calculateDomain()}};Eu.className="CategoryAxis",Eu.type="category",S([R(di)],Eu.prototype,"groupPaddingInner",2);var gZ=class{constructor(r="",t,e=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=r,this.parent=t,this.depth=t?t.depth+1:0,this.number=e}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((r,t)=>t!==this.number):[]}};function M3e(r,t,e){const n=e/(t.number-r.number);t.change-=n,t.shift+=e,r.change+=n,t.prelim+=e,t.mod+=e}function R3e(r,t,e){return t.getSiblings().indexOf(r.ancestor)>=0?r.ancestor:e}function vZ(r,t){const e=r.children;if(e.length){let i=e[0];e.forEach(a=>{vZ(a,t),i=function I3e(r,t,e){const i=r.getLeftSibling();if(i){let n=r,o=r,a=i,s=o.getLeftmostSibling(),l=o.mod,c=n.mod,u=a.mod,d=s.mod;for(;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),n=n.nextRight(),n.ancestor=r;const h=a.prelim+u-(o.prelim+l)+e;h>0&&(M3e(R3e(a,r,t),r,h),l+=h,c+=h),u+=a.mod,l+=o.mod,d+=s.mod,c+=n.mod}a.nextRight()&&!n.nextRight()?(n.thread=a.nextRight(),n.mod+=u-c):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=r)}return t}(a,i,t)}),function P3e(r){const t=r.children;if(t){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const o=t[n];o.prelim+=e,o.mod+=e,i+=o.change,e+=o.shift+i}}}(r);const n=(e[0].prelim+e.at(-1).prelim)/2,o=r.getLeftSibling();o?(r.prelim=o.prelim+t,r.mod=r.prelim-n):r.prelim=n}else{const i=r.getLeftSibling();r.prelim=i?i.prelim+t:0}}var yZ=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(r,t){const{x:e,y:i}=t(r);e>this.right&&(this.right=e),e<this.left&&(this.left=e),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}};function _Z(r,t,e){r.x=r.prelim+t,r.y=r.depth,e.update(r),r.children.forEach(i=>_Z(i,t+r.mod,e))}function CZ(r){const t=r.children;let e=0;t.forEach(i=>{CZ(i),i.children.length?e+=i.leafCount:e++}),r.leafCount=e,t.length?(r.subtreeLeft=t[0].subtreeLeft,r.subtreeRight=t[r.children.length-1].subtreeRight,r.x=(r.subtreeLeft+r.subtreeRight)/2):(r.subtreeLeft=r.x,r.subtreeRight=r.x)}function F3e(r){const t=new k3e;return vZ(r,1),_Z(r,-r.prelim,t),CZ(r),t}var k3e=class{constructor(){this.dimensions=new yZ,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(r){this.dimensions.update(r,t=>({x:t.x,y:t.y})),r.children.length?this.nonLeafNodes.push(r):(this.leafCount++,this.leafNodes.push(r)),r.depth>this.depth&&(this.depth=r.depth),this.nodes.push(r)}resize(r,t,e=0,i=0,n=!1){const o=this.leafCount-1,a=this.depth,s=this.dimensions;let l=1,c=1;r>0&&o&&(l=r/o/((s.right-s.left)/o),n&&(l=-l)),t>0&&a&&(c=t/a/((s.bottom-s.top)/a));const u=new yZ;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,u.update(p,f=>({x:f.screenX,y:f.screenY}))});const d=-u.left,h=-u.top;this.nodes.forEach(p=>{p.screenX+=d+e,p.screenY+=h+i})}},bZ=class extends Nn{constructor(){super(...arguments),this.grid=!1}};S([R(rt)],bZ.prototype,"grid",2);var qd=class extends hb{constructor(r){super(r,new sc),this.tickScale=new sc,this.line=new db,this.label=new bZ,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:e,gridLineGroup:i,tickScale:n,scale:o}=this;o.paddingOuter=.1,o.paddingInner=2*o.paddingOuter,this.refreshScale(),n.paddingInner=1,n.paddingOuter=0,this.gridLineSelection=ji.select(i,tr),this.axisLineSelection=ji.select(t,tr),this.separatorSelection=ji.select(t,tr),this.labelSelection=ji.select(e,ii)}updateRange(){const{range:r,visibleRange:t,scale:e}=this,i=(r[1]-r[0])/(t[1]-t[0]),o=r[0]-i*t[0];this.tickScale.range=e.range=[o,o+i],this.resizeTickTree()}resizeTickTree(){var r;const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*n,(Math.min(e[0],e[1])||0)+(null!=(r=t.bandwidth)?r:0)/2,-i.depth*n,e[1]-e[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var r;const{direction:t}=this;let e=null;const i=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if("y"===t||e)return o.getDomain(t);if(null===e){const a=o.getDomain(t);return e=js(a[0]),a}return[]});this.setDomain(null!=(r=ic(i))?r:RN(i));const{domain:n}=this.dataDomain;this.tickTreeLayout=F3e(function A3e(r,t=!0){const e=new gZ;let i=0;return t&&r.forEach(n=>i=Math.max(i,n.labels.length)),r.forEach(n=>{if(t)for(;n.labels.length<i;)n.labels.unshift("");!function O3e(r,t){const e=t.labels.slice().reverse(),i=e.length-1;e.forEach((n,o)=>{const a=r.children,s=a.find(c=>c.label===n),l=o!==i;if(s&&l)r=s;else{const c=new gZ(n,r);c.number=a.length,a.push(c),l&&(r=c)}})}(e,n)}),e}(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:r}=this;r.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:r}=this.computedLayout;this.labelSelection.update(r).each((e,i)=>{e.setProperties(i)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:r}=this.computedLayout,{range:t}=this;this.separatorSelection.update(r).each((n,o)=>{n.x1=o.x1,n.x2=o.x2,n.y1=o.y,n.y2=o.y,n.visible=o.y>=t[0]-1e-7&&o.y<=t[1]+1e-7,n.stroke=this.tick.color,n.fill=void 0,n.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:r}=this.computedLayout;this.axisLineSelection.update(r).each((e,i)=>{e.setProperties(Pe(J({},i),{stroke:this.line.color,strokeWidth:this.line.width})),e.x1=i.x,e.x2=i.x,e.y1=i.y1,e.y2=i.y2,e.strokeWidth=this.line.width,e.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:r,gridLine:t,label:e,range:i,tickScale:n}=this,o=n.ticks(),a=e.getSideFlag(),s=this.gridLineSelection.update(r?o:[]);if(r){const{width:l,style:c}=t,u=c.length;s.each((d,h,p)=>{const f=Math.round(n.convert(h));d.x1=0,d.x2=-a*r,d.y1=f,d.y2=f,d.visible=f>=i[0]&&f<=i[1];const{stroke:m,lineDash:g}=c[p%u];d.stroke=m,d.strokeWidth=l,d.lineDash=g,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:r,label:t,label:{parallel:e},moduleCtx:{callbackCache:i},range:n,title:o,title:{formatter:a=(Ie=>Ie.defaultValue)}={}}=this,s=r.range[0],l=r.range[1],u=Math.abs(l-s)/r.domain.length||0,d=Math.ceil(t.fontSize/u),h=Br(this.rotation),p=Math.abs(Math.cos(h))<1e-8,f=t.getSideFlag(),m=this.lineHeight,g=this.tickTreeLayout,v=r.ticks(),y=g?g.nodes:[],_=!!g&&g.depth>1,{defaultRotation:b,configuredRotation:w,parallelFlipFlag:E}=mT({rotation:t.rotation,parallel:e,regularFlipRotation:gn(h-Math.PI/2),parallelFlipRotation:gn(h)}),M=[],I=new Map;let k=0;const N=new ii,B=(Ie,Je)=>{var Kt;if(N.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===E?"bottom":"hanging",translationX:Ie.screenY-.25*t.fontSize,translationY:Ie.screenX}),0===Je){if(!(o?.enabled&&v.length>0))return!1;const zi=i.call(a,this.getTitleFormatterParams());N.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:zi,textBaseline:"hanging",translationX:Ie.screenY-.25*t.fontSize,translationY:Ie.screenX})}else{if(Je%d!=0)return!1;if(!(Ie.screenX>=n[0]&&Ie.screenX<=n[1]))return!1;N.text=t.formatter&&null!=(Kt=i.call(t.formatter,{value:String(Ie.label),index:Je}))?Kt:String(Ie.label)}return!0};y.forEach((Ie,Je)=>{if(!B(Ie,Je))return;const Ht=N.computeTransformedBBox();Ht&&(I.set(Je,Ht),!Ie.children.length&&Ht.width>k&&(k=Ht.width))});const Y=f*t.padding,ne=this.label.grid,me=[];y.forEach((Ie,Je)=>{let Kt=B(Ie,Je);const Ht=Je;N.x=Y,N.rotationCenterX=Y;const zi=!Ie.children.length;if(zi)N.rotation=w,N.textAlign="end",N.textBaseline="middle";else{N.translationX-=k-m+this.label.padding;const pr=Ie.leafCount*u,Wo=I.get(Ht);Wo&&Wo.width>pr?(Kt=!1,I.delete(Ht)):N.rotation=p?b:-Math.PI/2}if(Ie.parent&&_){const pr=zi?Ie.screenX-u/2:Ie.screenX-Ie.leafCount*u/2;if(zi)(Ie.number!==Ie.children.length-1||ne)&&me.push({y:pr,x1:0,x2:-k-2*this.label.padding});else{const Wo=-k-2*this.label.padding+Ie.screenY;me.push({y:pr,x1:Wo+m,x2:Wo})}}let Wr;if(Kt){const pr=N.computeTransformedBBox();pr&&I.set(Je,pr),Wr=Pe(J({},(Ie=>({fill:Ie.fill,fontFamily:Ie.fontFamily,fontSize:Ie.fontSize,fontStyle:Ie.fontStyle,fontWeight:Ie.fontWeight,rotation:Ie.rotation,rotationCenterX:Ie.rotationCenterX,rotationCenterY:Ie.rotationCenterY,text:Ie.text,textAlign:Ie.textAlign,textBaseline:Ie.textBaseline,translationX:Ie.translationX,translationY:Ie.translationY,visible:Ie.visible,x:Ie.x,y:Ie.y}))(N)),{visible:Kt})}else I.delete(Je),Wr={visible:Kt};M.push(Wr)});let W=0;me.forEach(Ie=>W=Math.min(W,Ie.x2)),me.push({y:Math.max(s,l),x1:0,x2:W});const $=[],Z=[];me.forEach(Ie=>{if(Ie.y>=n[0]-1e-7&&Ie.y<=n[1]+1e-7){const{x1:Je,x2:Kt,y:Ht}=Ie,zi=new wt(Math.min(Je,Kt),Ht,Math.abs(Je-Kt),0);Z.push(zi),$.push({x1:Je,x2:Kt,y:Ht})}});const De=[],ke=[],Oe=g?g.depth+1:1;for(let Ie=0;Ie<Oe;Ie++){const Je=v.length>0&&(0===Ie||ne&&_),Kt=Ie>0?-k-2*this.label.padding-(Ie-1)*m:0,Ht=new wt(Kt,Math.min(...n),0,Math.abs(n[1]-n[0]));ke.push(Ht),De.push({x:Kt,y1:n[0],y2:n[1],visible:Je})}return{bbox:(Ie=>{const Je=new Ys,{rotation:Kt,translationX:Ht,translationY:zi,rotationCenterX:Wr,rotationCenterY:pr}=this.getAxisTransform();return Ys.updateTransformMatrix(Je,1,1,Kt,Ht,zi,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Wr,rotationCenterY:pr}),Je.transformBBox(Ie)})(wt.merge([...I.values(),...Z,...ke])),tickLabelLayout:M,separatorLayout:$,axisLineLayout:De}}calculateLayout(){const{axisLineLayout:r,separatorLayout:t,tickLabelLayout:e,bbox:i}=this.computeLayout();return this.computedLayout={axisLineLayout:r,separatorLayout:t,tickLabelLayout:e},{bbox:i,primaryTickCount:void 0}}};qd.className="GroupedCategoryAxis",qd.type="grouped-category",S([R(Zt,{optional:!0})],qd.prototype,"labelColor",2);var wZ=class{constructor({width:r=600,height:t=300,overrideDevicePixelRatio:e}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(r,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(e),this.resize(r,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&null!=OffscreenCanvas.prototype.transferToImageBitmap}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(r){let t=r??window.devicePixelRatio;return TX()&&(t=1),this._pixelRatio=t,ln.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(r,t){if(!(r>0&&t>0))return;const{canvas:e,context:i,pixelRatio:n}=this;e.width=Math.round(r*n),e.height=Math.round(t*n),i.resetTransform(),this._width=r,this._height=t}},y1="adv-composite",_1="dom-composite",C1=class{constructor(r){var t;this.id=nc(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=sn.create(!0,"scene");const{document:e,window:i,mode:n=(null!=(t=FN("agChartsSceneRenderModel"))?t:y1),width:o,height:a,overrideDevicePixelRatio:s}=r;this.overrideDevicePixelRatio=s,this.opts={document:e,window:i,mode:n},this.canvas=new ln({document:e,window:i,width:o,height:a,overrideDevicePixelRatio:s})}set container(r){this.canvas.container=r}get container(){return this.canvas.container}download(r,t){this.canvas.download(r,t)}getDataURL(r){return this.canvas.getDataURL(r)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(r,t){r=Math.round(r),t=Math.round(t);const e=r<=0||t<=0,i=isNaN(r)||isNaN(t);return!(r===this.width&&t===this.height||i||e||(this.pendingSize=[r,t],this.markDirty(),0))}addLayer(r){var t;const{mode:e}=this.opts;if(!["composite",_1,y1].includes(e))return;const{zIndex:n=this._nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:s,getVisibility:l}=r,{width:c,height:u,overrideDevicePixelRatio:d}=this,h=e===_1,f=e===y1&&wZ.isSupported()?new wZ({width:c,height:u,overrideDevicePixelRatio:d}):new ln({document:this.opts.document,window:this.opts.window,width:c,height:u,domLayer:h,zIndex:n,name:o,overrideDevicePixelRatio:d}),m={id:this._nextLayerId++,name:o,zIndex:n,zIndexSubOrder:a,canvas:f,getComputedOpacity:s,getVisibility:l};if(n>=this._nextZIndex&&(this._nextZIndex=n+1),this.layers.push(m),this.sortLayers(),h){const g=this.layers.map(_=>_.canvas).filter(_=>_ instanceof ln),v=g.findIndex(_=>_===f);(null!=(t=g[v-1])?t:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug("Scene.addLayer() - layers",this.layers),m.canvas}removeLayer(r){const t=this.layers.findIndex(e=>e.canvas===r);t>=0&&(this.layers.splice(t,1),r.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(r,t,e){const i=this.layers.find(n=>n.canvas===r);i&&(i.zIndex=t,i.zIndexSubOrder=e,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((r,t)=>{var e,i;return NX([r.zIndex,...null!=(e=r.zIndexSubOrder)?e:[void 0,void 0],r.id],[t.zIndex,...null!=(i=t.zIndexSubOrder)?i:[void 0,void 0],t.id],LX)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(r){var t;r!==this._root&&(null==(t=this._root)||t._setLayerManager(),this._root=r,r&&r._setLayerManager({addLayer:e=>this.addLayer(e),moveLayer:(...e)=>this.moveLayer(...e),removeLayer:(...e)=>this.removeLayer(...e),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:sn.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:r}=this;for(const t of r)t.canvas.destroy(),delete t.canvas;r.splice(0,r.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(r){return he(this,null,function*(){var t,e;const{debugSplitTimes:i={start:performance.now()},extraDebugStats:n={}}=r??{},{canvas:o,canvas:{context:a},root:s,layers:l,pendingSize:c,opts:{mode:u}}=this;if(c&&(this.canvas.resize(...c),this.layers.forEach(p=>p.canvas.resize(...c)),this.pendingSize=void 0),s&&!s.visible)return void(this._dirty=!1);if(s&&!this.dirty)return this.debug("Scene.render() - no-op",{redrawType:Ud[s.dirty],tree:this.buildTree(s)}),void this.debugStats(i,a,void 0,n);const d={ctx:a,devicePixelRatio:null!=(t=this.canvas.pixelRatio)?t:1,forceRender:!0,resized:!!c,debugNodes:{}};sn.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let h=!1;if((!s||s.dirty>=1)&&(h=!0,o.clear()),s&&sn.check("scene:dirtyTree")){const{dirtyTree:p,paths:f}=this.buildDirtyTree(s);sn.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:p,paths:f})}s&&h&&(this.debug("Scene.render() - before",{redrawType:Ud[s.dirty],canvasCleared:h,tree:this.buildTree(s)}),s.visible&&(a.save(),s.render(d),a.restore())),i["\u270d\ufe0f"]=performance.now(),u!==_1&&l.length>0&&h&&(this.sortLayers(),a.save(),a.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:p,enabled:f},getComputedOpacity:m,getVisibility:g})=>{!f||!g()||(a.globalAlpha=m(),a.drawImage(p,0,0))}),a.restore(),i["\u26d9"]=performance.now()),null==(e=a.verifyDepthZero)||e.call(a),this._dirty=!1,this.debugStats(i,a,d.stats,n),this.debugSceneNodeHighlight(a,d.debugNodes),s&&this.debug("Scene.render() - after",{redrawType:Ud[s.dirty],canvasCleared:h,tree:this.buildTree(s)})})}debugStats(r,t,e,i={}){if(sn.check("scene:stats","scene:stats:verbose")){const n=performance.now(),o=r.start;r.end=performance.now();const a=(w,E)=>{const M=w+E;return`${w} / ${M} (${Math.round(100*w/M)}%)`},s=(w,E,M)=>`${w}: ${Math.round(100*(M-E))/100}ms`,{layersRendered:l=0,layersSkipped:c=0,nodesRendered:u=0,nodesSkipped:d=0}=e??{};let h=0;const p=Object.entries(r).filter(([w])=>"end"!==w).map(([w,E],M)=>{const P=M>0?s(w,h,E):null;return h=E,P}).filter(w=>null!=w).join(" + "),f=Object.entries(i).map(([w,E])=>`${w}: ${E}`).join(" ; "),m=sn.check("scene:stats:verbose"),v=[`${s("\u23f1\ufe0f",o,n)} (${p})`,`${f}`,`Layers: ${m?a(l,c):this.layers.length}`,m?`Nodes: ${a(u,d)}`:null].filter(w=>null!=w).map(w=>[w,ln.getTextSize(w,t.font)]),y=Math.max(...v.map(([,{width:w}])=>w)),_=v.reduce((w,[,{height:E}])=>w+E,0);t.save(),t.fillStyle="white",t.fillRect(0,0,y,_),t.fillStyle="black";let b=0;for(const[w,E]of v)b+=E.height,t.fillText(w,2,b);t.restore()}}debugSceneNodeHighlight(r,t){var e;const i=a=>s=>!!a.test(s.id)||s instanceof $e&&null!=s.name&&a.test(s.name),n=a=>s=>a===s.id||s instanceof $e&&null!=s.name&&a===s.name,o=iT(FN("agChartsSceneDebug")).flatMap(a=>"layout"===a?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of o){if("string"==typeof a&&null!=t[a])continue;const s="string"==typeof a?n(a):i(a),l=null==(e=this.root)?void 0:e.findNodes(s);if(l&&0!==l.length)for(const c of l)c instanceof $e&&c.name?t[c.name]=c:t[c.id]=c;else Ae.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`)}r.save();for(const[a,s]of Object.entries(t)){const l=s.computeTransformedBBox();l?(r.globalAlpha=.8,r.strokeStyle="red",r.lineWidth=1,r.strokeRect(l.x,l.y,l.width,l.height),r.fillStyle="red",r.strokeStyle="white",r.font="16px sans-serif",r.textBaseline="top",r.textAlign="left",r.lineWidth=2,r.strokeText(a,l.x,l.y,l.width),r.fillText(a,l.x,l.y,l.width)):Ae.log(`Scene.render() - no bbox for debugged node [${a}].`)}r.restore()}buildTree(r){var t,e;const i=null!=(t=r instanceof $e?r.name:null)?t:r.id;return this.debug.check()?J(J({name:i,node:r,dirty:Ud[r.dirty]},null!=(e=r.parent)&&e.isVirtual?{virtualParentDirty:Ud[r.parent.dirty],virtualParent:r.parent}:{}),r.children.map(n=>this.buildTree(n)).reduce((n,o)=>{let{name:a}=o;const{node:{visible:s,opacity:l,zIndex:c,zIndexSubOrder:u},node:d,virtualParent:h}=o;(!s||l<=0)&&(a=`(${a})`),d instanceof $e&&d.isLayer()&&(a=`*${a}*`);const p=[`${a??"<unknown>"}`,`z: ${c}`,u&&`zo: ${u.map(g=>"function"==typeof g?`${g()} (fn)`:g).join(" / ")}`,h&&"(virtual parent)"].filter(g=>!!g).join(" ");let f=p,m=1;for(;null!=n[f]&&m<100;)f=`${p} (${m++})`;return n[f]=o,n},{})):{}}buildDirtyTree(r){var t;if(0===r.dirty)return{dirtyTree:{},paths:[]};const e=r.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),i=null!=(t=r instanceof $e?r.name:null)?t:r.id,n=0===e.length?[i]:e.map(o=>o.paths).reduce((o,a)=>o.concat(a),[]).map(o=>`${i}.${o}`);return{dirtyTree:J({name:i,node:r,dirty:Ud[r.dirty]},e.map(o=>o.dirtyTree).filter(o=>void 0!==o.dirty).reduce((o,a)=>{var s;return o[null!=(s=a.name)?s:"<unknown>"]=a,o},{})),paths:n}}};function L3e(r){return new Promise(t=>{setTimeout(()=>t(void 0),r)})}C1.className="Scene";var SZ=class{constructor(){this.eventListeners=new Map}addEventListener(r,t){if("function"!=typeof t)throw new Error("AG Charts - listener must be a Function");const e=this.eventListeners.get(r);e?e.add(t):this.eventListeners.set(r,new Set([t]))}removeEventListener(r,t){var e;null==(e=this.eventListeners.get(r))||e.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(r)}hasEventListener(r){return this.eventListeners.has(r)}clearEventListeners(){this.eventListeners.clear()}fireEvent(r){var t;null==(t=this.eventListeners.get(r.type))||t.forEach(e=>e(r))}},Xd=class extends wi{constructor(r=0,t=r,e=r,i=t){super(),this.top=r,this.right=t,this.bottom=e,this.left=i}clear(){this.top=this.right=this.bottom=this.left=0}};function xZ(r,t){let n,o,e=0,i=!1;const a=()=>i,s=()=>{i=!1,o?.(),o=void 0,n=void 0,e>0&&r(l)},l=()=>{const c=e;e=0,i=!0;const u=t({count:c});u?u.then(s,s):s()};return{schedule(c){0===e&&!a()&&r(l,c),e++},await(){return he(this,null,function*(){if(a())for(null==n&&(n=new Promise(c=>{o=c}));a();)yield n})}}}S([R(Ce)],Xd.prototype,"top",2),S([R(Ce)],Xd.prototype,"right",2),S([R(Ce)],Xd.prototype,"bottom",2),S([R(Ce)],Xd.prototype,"left",2);var ss=class{static init(t){if(typeof ResizeObserver>"u")for(const[e,i]of this.elements)this.checkClientSize(e,i);else this.resizeObserver=new ResizeObserver(e=>{for(const i of e){const{width:n,height:o}=i.contentRect;this.checkSize(this.elements.get(i.target),i.target,n,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady="loading"!==t.readyState,this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,e;null==(t=this.ownerDocument)||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),null==(e=this.resizeObserver)||e.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,e,i,n){var o,a;t&&(i!==(null==(o=t.size)?void 0:o.width)||n!==(null==(a=t.size)?void 0:a.height))&&(t.size={width:i,height:n},t.cb(t.size,e))}static observe(t,e){var i;this.ready||this.init(t.ownerDocument),this.documentReady?(this.elements.has(t)?this.removeFromQueue(t):null==(i=this.resizeObserver)||i.observe(t),this.elements.set(t,{cb:e})):this.queuedObserveRequests.push([t,e])}static unobserve(t){var e;null==(e=this.resizeObserver)||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}static checkClientSize(t,e){var i,n;const o=null!=(i=t.clientWidth)?i:0,a=null!=(n=t.clientHeight)?n:0;this.checkSize(e,t,o,a)}};ss.elements=new Map,ss.ready=!1,ss.documentReady=!1,ss.queuedObserveRequests=[],ss.onContentLoaded=()=>{var r;const t="loading"!==(null==(r=ss.ownerDocument)?void 0:r.readyState),e=ss.documentReady;ss.documentReady=t,t&&t!==e&&(ss.queuedObserveRequests.forEach(([i,n])=>ss.observe(i,n)),ss.queuedObserveRequests=[])};var EZ=ss,DZ=class{constructor(){this.range="tooltip"}};S([R(vn(["tooltip","node"],"a range"))],DZ.prototype,"range",2);var pb=(r=>(r[r.FULL=0]="FULL",r[r.UPDATE_DATA=1]="UPDATE_DATA",r[r.PROCESS_DATA=2]="PROCESS_DATA",r[r.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",r[r.SERIES_UPDATE=4]="SERIES_UPDATE",r[r.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",r[r.SCENE_RENDER=6]="SCENE_RENDER",r[r.NONE=7]="NONE",r))(pb||{}),b1=class{constructor(r){this.type=r,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(r){"discrete"===this.type?this.discreteDomain.add(r):"continuous"===this.type&&(this.continuousDomain[0]>r&&(this.continuousDomain[0]=r),this.continuousDomain[1]<r&&(this.continuousDomain[1]=r))}getDomain(){if("discrete"===this.type)return this.discreteDomain;if("continuous"===this.type)return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function fb(r,t=[1/0,-1/0]){for(const e of r)"number"==typeof e&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function H3e(r){return r.map(t=>Jl(t)?JSON.stringify(t):t).join("-")}function j3e(r){return Number.isInteger(r)?r:Math.abs(r)>1e4?Math.trunc(r):Math.round(1e4*r)/1e4}function ao(r,t){var e;const i=function U3e(r){if(void 0===r)return[];let[t,e]=r;return t=Number(t),e=Number(e),0===t&&0===e?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),ai(t)&&ai(e)?[t,e]:[])}(r);if(0===i.length)return i;let[n,o]=i;if(n===o){const[a,s]=null!=(e=t?.calculatePadding(n,o,t.isReversed()))?e:[1,1];n-=a,o+=s}return[n,o]}function TZ(){return new Map([[void 0,0]])}function w1(r,t){var e;return void 0===t?0:null!=(e=t.get(r.id))?e:0}var Kp=Symbol("invalid"),AZ=class{constructor(r){this.debug=sn.create(!0,"data-model");const{props:t,mode:e="standalone"}=r;this.mode=e;let i=!0;for(const a of t){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}this.opts=J({dataVisible:!0},r),this.keys=t.filter(a=>"key"===a.type).map((a,s)=>Pe(J({},a),{index:s,missing:TZ()})),this.values=t.filter(a=>"value"===a.type).map((a,s)=>Pe(J({},a),{index:s,missing:TZ()})),this.aggregates=t.filter(a=>"aggregate"===a.type).map((a,s)=>Pe(J({},a),{index:s})),this.groupProcessors=t.filter(a=>"group-value-processor"===a.type).map((a,s)=>Pe(J({},a),{index:s})),this.propertyProcessors=t.filter(a=>"property-value-processor"===a.type).map((a,s)=>Pe(J({},a),{index:s})),this.reducers=t.filter(a=>"reducer"===a.type).map((a,s)=>Pe(J({},a),{index:s})),this.processors=t.filter(a=>"processor"===a.type).map((a,s)=>Pe(J({},a),{index:s}));for(const a of this.values)if(null==a.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const n=({matchGroupIds:a})=>{for(const s of a??[])if(!this.values.some(l=>l.groupId===s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)},o=({matchIds:a})=>{for(const s of a??[])if(!this.values.some(l=>{var c;return null==(c=l.ids)?void 0:c.some(([u,d])=>u===s[0]&&d===s[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const a of[...this.groupProcessors,...this.aggregates])o(a),n(a)}resolveProcessedDataIndexById(r,t){var e;const{index:i,def:n}=null!=(e=this.resolveProcessedDataDefById(r,t))?e:{};return{index:i,def:n}}resolveProcessedDataIndicesById(r,t){return this.resolveProcessedDataDefsById(r,t).map(({index:e,def:i})=>({index:e,def:i}))}resolveProcessedDataDefById(r,t){return this.resolveProcessedDataDefsById(r,t)[0]}resolveProcessedDataDefsByIds(r,t){const e=[];for(const i of t)e.push([i,this.resolveProcessedDataDefsById(r,i)]);return e}resolveProcessedDataDefsValues(r,{keys:t,values:e}){const i={};for(const[n,[{index:o,def:a}]]of r)i[n]=("key"===a.type?t:e)[o];return i}resolveProcessedDataDefsById(r,t){const{keys:e,values:i,aggregates:n,groupProcessors:o,reducers:a}=this,s=u=>{const{ids:d,scopes:h}=u;return!(null==d||null!=r&&!h?.some(p=>p===r.id))&&d.some(([p,f])=>p===r.id&&("string"==typeof t?f===t:t.test(f)))},l=[e,i,n,o,a],c=[];for(const u of l)c.push(...u.filter(s).map(d=>({index:d.index,def:d})));if(c.length>0)return c;throw new Error(`AG Charts - didn't find property definition for [${t}, ${r.id}]`)}getDomain(r,t,e="value",i){var n,o,a,s;let l,c;try{l=this.resolveProcessedDataIndicesById(r,t)}catch(h){if("string"!=typeof t&&/didn't find property definition/.test(h.message))return[];throw h}switch(e){case"key":c="keys";break;case"value":c="values";break;case"aggregate":c="aggValues";break;case"group-value-processor":c="groups";break;default:return[]}const u=null!=(o=null==(n=i.domain[c])?void 0:n[l[0].index])?o:[];if(1===l.length)return u;const d=[...u];for(const h of l.slice(1))fb(null!=(s=null==(a=i.domain[c])?void 0:a[h.index])?s:[],d);return d}processData(r,t){const{opts:{groupByKeys:e,groupByFn:i},aggregates:n,groupProcessors:o,reducers:a,processors:s,propertyProcessors:l}=this,c=performance.now();if(e&&0===this.keys.length)return;let u=this.extractData(r,t);e?u=this.groupData(u):i&&(u=this.groupData(u,i(u))),o.length>0&&this.postProcessGroups(u),n.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),a.length>0&&this.reduceData(u),s.length>0&&this.postProcessData(u);for(const h of[...this.keys,...this.values])if(r.length>0)for(const[p,f]of h.missing)f>=r.length&&Ae.warnOnce(`the key '${h.property}' was not found in any data element${void 0===p?"":` for ${p}`}.`);const d=performance.now();return u.time=d-c,this.debug.check()&&function z3e(r){var t,e;const i=(n,o)=>{o.length>0&&(Ae.log(`DataModel.processData() - ${n}`),Ae.table(o))};if(Ae.log("DataModel.processData() - processedData",r),i("Key Domains",r.domain.keys),i("Group Domains",null!=(t=r.domain.groups)?t:[]),i("Value Domains",r.domain.values),i("Aggregate Domains",null!=(e=r.domain.aggValues)?e:[]),"grouped"===r.type){const n=r.data.reduce((o,a)=>{var s,l;const c=null!=(s=a.keys)?s:[],u=null!=(l=a.aggValues)?l:[],d=a.keys.map(()=>{}),h=u?.map(()=>{});return o.push(...a.values.map((p,f)=>[...0===f?c:d,...p??[],...0==f?u:h])),o},[]);i("Values",n)}else{const n=r.data.reduce((o,a)=>{var s;const l=null!=(s=a.aggValues)?s:[];return o.push([...a.keys,...a.values,...l]),o},[]);i("Values",n)}}(u),u}valueGroupIdxLookup({matchGroupIds:r,matchIds:t}){return this.values.map((e,i)=>({def:e,index:i})).filter(({def:e})=>!(r&&(null==e.groupId||!r.includes(e.groupId)))&&(!t||null!=e.ids&&t.some(([i,n])=>{var o;return null==(o=e.ids)?void 0:o.some(([a,s])=>a===i&&s===n)}))).map(({index:e})=>e)}valueIdxLookup(r,t){const e=null==r||0===r.length,i=s=>null==s||(e===(null==s||0===s.length)||s?.some(u=>r.includes(u))),n="string"==typeof t?t:t.id,a=this.values.findIndex(s=>{var l;return i(s.scopes)&&((null==(l=s.ids)?void 0:l.some(c=>(([s,l])=>i([s])&&l===n)(c)))||s.property===n||s.id===n)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(r)}`)}extractData(r,t){var e,i,n,s;const{keys:l,values:c,opts:{dataVisible:u}}=this,{dataDomain:d,processValue:h,scopes:p,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),m=new Array(u?r.length:0);let g=0,v=0;for(const[_,b]of r.entries()){const w={},E=p.size>0?new Set(p):void 0,M=u?new Array(l.length):void 0;let I,P=0;for(const Y of l){if(I=h(Y,b,I),I===Kp)break;M&&(M[P++]=I)}if(I===Kp)continue;const k=u&&c.length>0?new Array(c.length):void 0;let N;const B={};for(const Y of t??[])B[Y.id]=Y;for(const[Y,ne]of c.entries()){for(const me of null!=(e=ne.scopes)?e:p){const W=B[me];N=h(ne,null!=(i=W?.data[_])?i:b,N,me),N!==Kp&&k&&(void 0!==W&&(null!=w[n=W.id]||(w[n]={}),w[W.id][ne.property]=N),ne.useScopedValues?(null!=k[Y]||(k[Y]={}),k[Y][me]=N):k[Y]=N)}if(N===Kp){if(f)break;for(const me of null!=(s=ne.scopes)?s:p)E?.delete(me);if(0===E?.size)break}}if((N!==Kp||!f)&&0!==E?.size&&u){const Y={datum:J(J({},b),w),keys:M,values:k};!f&&E&&E.size<p.size&&(v++,Y.validScopes=[...E]),m[g++]=Y}}m.length=g;const y=_=>{const b=d.get(_).getDomain();return Array.isArray(b)&&b[0]>b[1]?[]:[...b]};return{type:"ungrouped",input:{count:r.length},data:m,domain:{keys:l.map(_=>y(_)),values:c.map(_=>y(_))},defs:{allScopesHaveSameDefs:f,keys:l,values:c},partialValidDataCount:v,time:0}}groupData(r,t){var e,i,n,o;const a=new Map;for(const u of r.data){const{keys:d,values:h,datum:p,validScopes:f}=u,m=t?t(u):d,g=H3e(m);if(a.has(g)){const v=a.get(g);if(v.values.push(h),v.datum.push(p),null!=f)for(let y=0;y<(null!=(i=null==(e=v.validScopes)?void 0:e.length)?i:0);y++){const _=null==(n=v.validScopes)?void 0:n[y];f.some(b=>b===_)||null==(o=v.validScopes)||o.splice(y,1)}}else a.set(g,{keys:m,values:[h],datum:[p],validScopes:f})}const s=new Array(a.size),l=new Array(a.size);let c=0;for(const[,{keys:u,values:d,datum:h,validScopes:p}]of a.entries())0!==p?.length&&(l[c]=u,s[c++]={keys:u,values:d,datum:h,validScopes:p});return Pe(J({},r),{type:"grouped",data:s,domain:Pe(J({},r.domain),{groups:l})})}aggregateData(r){var e,i,n,o,a,s,l;const{aggregates:c}=this;if(!c)return;const u=c.map(()=>[1/0,-1/0]),d=c.map(m=>this.valueGroupIdxLookup(m)),h=c.map(m=>m.aggregateFunction),p=c.map(m=>m.groupAggregateFunction),f=c.map(m=>m.finalFunction);for(const m of r.data){let{values:g}=m;const{validScopes:v}=m;null!=m.aggValues||(m.aggValues=new Array(d.length)),"ungrouped"===r.type&&(g=[g]);let y=0;for(const _ of d){if(null!=(e=v?.some(M=>{var P;return null==(P=c[y].matchScopes)?void 0:P.some(I=>M===I)}))&&!e){y++;continue}let w=null!=(n=null==(i=p[y])?void 0:i.call(p))?n:fb([]);for(const M of g){const P=_.map(k=>M[k]),I=h[y](P,m.keys);I&&(w=null!=(a=null==(o=p[y])?void 0:o.call(p,I,w))?a:fb(I,w))}const E=(null!=(l=null==(s=f[y])?void 0:s.call(f,w))?l:w).map(M=>j3e(M));fb(E,u[y]),m.aggValues[y++]=E}}r.domain.aggValues=u}postProcessGroups(r){var t,e,i,n,o;const{groupProcessors:a}=this;if(!a)return;const s=new Set,l=new Map,c=new Map,u=new Map;for(const h of a){const p=this.valueGroupIdxLookup(h);c.set(h,p),u.set(h,h.adjust());for(const f of p){const m=this.values[f];s.add(f),l.set(f,new b1("category"===m.valueType?"discrete":"continuous"))}}const d=h=>{var p;for(const f of s)null==(p=l.get(f))||p.extend(h[f])};for(const h of r.data){for(const p of a){if(null!=(e=null==(t=h.validScopes)?void 0:t.some(v=>{var y;return null==(y=p.matchScopes)?void 0:y.some(_=>v===_)}))&&!e)continue;const m=null!=(i=c.get(p))?i:[],g=null!=(o=null==(n=u.get(p))?void 0:n())?o:()=>{};if("grouped"!==r.type)h.values&&g(h.values,m);else for(const v of h.values)v&&g(v,m)}if("grouped"===r.type)for(const p of h.values)d(p);else d(h.values)}for(const[h,p]of l)r.domain.values[h]=[...p.getDomain()]}postProcessProperties(r){const{propertyProcessors:t}=this;if(t)for(const{adjust:e,property:i,scopes:n}of t)e()(r,this.valueIdxLookup(n??[],i))}reduceData(r){var t,e;const{reducers:n}=this,o=n.map(l=>l.scopes),a=n.map(l=>l.reducer()),s=n.map(l=>l.initialValue);for(const l of r.data){let c=0;for(const u of a)null==(e=null==(t=l.validScopes)?void 0:t.some(h=>{var p;return null==(p=o[c])?void 0:p.some(f=>h===f)}))||e?(s[c]=u(s[c],l),c++):c++}for(let l=0;l<s.length;l++)null!=r.reduced||(r.reduced={}),r.reduced[n[l].property]=s[l]}postProcessData(r){const{processors:e}=this;for(const i of e)null!=r.reduced||(r.reduced={}),r.reduced[i.property]=i.calculate(r)}initDataDomainProcessor(){var r;const{keys:t,values:e}=this,i=new Set;for(const h of e)for(const p of null!=(r=h.scopes)?r:[])i.add(p);const n=i.size,o=new Map,a=new Map;let s=!0;const l=(h,p,f=o)=>{var m;"category"===p?f.set(h,new b1("discrete")):(f.set(h,new b1("continuous")),s&&(s=(null!=(m=h.scopes)?m:[]).length===n))},c=()=>{t.forEach(h=>l(h,h.valueType)),e.forEach(h=>l(h,h.valueType))};c();const u=this.buildAccessors(...t,...e);return{dataDomain:o,processValue:(h,p,f,m)=>{var g,v,y,_,b;let M,E=!1;if(h.property in u){try{M=u[h.property](p)}catch{}E=void 0!==M}else E=h.property in p,M=E?p[h.property]:h.missingValue;if(null!=h.forceValue&&(M=E&&XC(M)?-1*h.forceValue:h.forceValue,E=!0),!E&&!("missingValue"in h)){const I=null!=(g=h.missing.get(m))?g:0;h.missing.set(m,I+1)}if(o.has(h)||c(),E&&null!=(y=null==(v=h.validation)?void 0:v.call(h,M,p))&&!y){if(!("invalidValue"in h))return"integrated"!==this.mode&&Ae.warnOnce(`invalid value of type [${typeof M}] ignored:`,`[${M}]`),Kp;M=h.invalidValue}return h.processor&&(a.has(h)||a.set(h,h.processor()),M=null==(_=a.get(h))?void 0:_(M,f!==Kp?f:void 0)),null==(b=o.get(h))||b.extend(M),M},initDataDomain:c,scopes:i,allScopesHaveSameDefs:s}}buildAccessors(...r){const t={};if("integrated"===this.mode)return t;for(const e of r){if(!(e.property.indexOf(".")>=0||e.property.indexOf("[")>=0))continue;let n;n=e.property.startsWith("[")?`return datum${e.property};`:`return datum.${e.property};`,t[e.property]=new Function("datum",n)}return t}},OZ=class{constructor(r){this.mode=r,this.debug=sn.create(!0,"data-model"),this.requested=[],this.status="setup"}request(r,t,e){return he(this,null,function*(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise((i,n)=>{this.requested.push({id:r,opts:e,data:t,resultCb:i,reject:n})})})}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:r,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",r);const e=this.mergeRequested(r);this.debug("DataController.execute() - merged",e),this.debug.check()&&(window.processedData=[]);const i=r.some(n=>null!=n.data);for(const{opts:n,data:o,resultCbs:a,rejects:s,ids:l}of e){const c=i||n.props.some(u=>{var d;return("value"===u.type||"key"===u.type)&&null!=(d=u.useScopedValues)&&d});try{const u=new AZ(Pe(J({},n),{mode:this.mode})),d=u.processData(o,r);this.debug.check()&&window.processedData.push(d),d&&0===d.partialValidDataCount?a.forEach((h,p)=>{let m=d;c&&(m=this.extractScopedData(l[p],d)),h({dataModel:u,processedData:m})}):d?this.splitResult(u,d,l,a):s.forEach(h=>h(new Error("AG Charts - no processed data generated")))}catch(u){s.forEach(d=>d(u))}}t.forEach(({error:n,reject:o})=>o(n))}extractScopedData(r,t){const e=n=>Array.isArray(n)?n.map(e):J(J({},n),n[r]),i=n=>{var o;return Array.isArray(n)?n.map(i):null!=(o=n?.[r])?o:n};return Pe(J({},t),{data:t.data.map(n=>Pe(J({},n),{datum:e(n.datum),values:n.values.map(i)}))})}validateRequests(r){const t=[],e=[];for(const[i,n]of r.entries())i>0&&n.data.length!==r[0].data.length&&!1===n.opts.groupByData?e.push(Pe(J({},n),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(n);return{valid:t,invalid:e}}mergeRequested(r){const t=[],e=l=>l.filter(c=>"key"===c.type).map(c=>c.property).join(";"),i=({opts:l,data:c})=>u=>(!1===l.groupByData||u[0].data===c)&&u[0].opts.groupByKeys===l.groupByKeys&&u[0].opts.dataVisible===l.dataVisible&&u[0].opts.groupByFn===l.groupByFn&&e(u[0].opts.props)===e(l.props),n=l=>c=>{var u;if(c.type!==l.type)return!1;const d=null!=(u=Ca(c,l))?u:{};return delete d.scopes,delete d.id,delete d.ids,"useScopedValues"in d&&delete d.useScopedValues,0===Object.keys(d).length},o=l=>{var c;if("key"!==l.type&&"value"!==l.type)return;const u=new Set(null!=(c=l.scopes)?c:[]);l.useScopedValues=u.size>1},a=l=>Pe(J({},l[0]),{props:l.reduce((c,u)=>{var h,f,m,g;for(const v of u.props){if(null!=v.id){null!=v.ids||(v.ids=[]);for(const _ of null!=(h=v.scopes)?h:[])v.ids.push([_,v.id])}const y=c.find(n(v));y?(null!=y.scopes||(y.scopes=[]),y.scopes.push(...null!=(f=v.scopes)?f:[]),o(v),("key"===y.type||"value"===y.type)&&null!=(m=v.ids)&&m.length&&(null==(g=y.ids)||g.push(...v.ids))):(o(v),c.push(v))}return c},[])});for(const l of r){const c=t.find(i(l));c?c.push(l):t.push([l])}return t.map(l=>({ids:l.map(({id:c})=>c),resultCbs:l.map(({resultCb:c})=>c),rejects:l.map(({reject:c})=>c),data:l[0].data,opts:a(l.map(({opts:c})=>c))}))}splitResult(r,t,e,i){for(let n=0;n<e.length;n++){const o=e[n];(0,i[n])({dataModel:r,processedData:Pe(J({},t),{data:t.data.filter(({validScopes:s})=>null==s||s.some(l=>l===o))})})}}},Hg=class{constructor(){this.registeredListeners=new Map}addListener(r,t){const e={symbol:Symbol(r),handler:t};return this.registeredListeners.has(r)?this.registeredListeners.get(r).push(e):this.registeredListeners.set(r,[e]),()=>this.removeListener(e.symbol)}removeListener(r){for(const[t,e]of this.registeredListeners.entries()){const i=e.findIndex(n=>n.symbol===r);if(i>=0){e.splice(i,1),0===e.length&&this.registeredListeners.delete(t);break}}}dispatch(r,...t){for(const e of this.getListenersByType(r))try{e.handler(...t)}catch(i){Ae.errorOnce(i)}}dispatchWrapHandlers(r,t,...e){for(const i of this.getListenersByType(r))try{t(i.handler,...e)}catch(n){Ae.errorOnce(n)}}getListenersByType(r){var t;return null!=(t=this.registeredListeners.get(r))?t:[]}destroy(){this.registeredListeners.clear()}},CT=class extends Hg{constructor(r){super(),this.animationManager=r,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=sn.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(r){"function"==typeof r&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=r,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(r){this.throttledFetch(r)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(r){return Q9(t=>this.fetch(t),r,{leading:!1,trailing:!0})}createThrottledDispatch(r){return Q9((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})},r,{leading:!0,trailing:!0})}fetch(r){return he(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),e=this.requestCounter++;let i;this.debug(`DataService - requesting | ${e}`),this.freshRequests.push(e);try{i=yield this.dataSourceCallback(r),this.debug(`DataService - response | ${performance.now()-t}ms | ${e}`)}catch(o){this.debug(`DataService - request failed | ${e}`),Ae.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const n=this.freshRequests.findIndex(o=>o===e);-1===n||this.dispatchOnlyLatest&&n!==this.freshRequests.length-1?this.debug(`DataService - discarding stale request | ${e}`):(this.freshRequests=this.freshRequests.slice(n+1),Array.isArray(i)?this.throttledDispatch(e,i):this.dispatch("data-error"))})}};S([Jn({newValue(r){this.throttledDispatch=this.createThrottledDispatch(r)}})],CT.prototype,"dispatchThrottle",2),S([Jn({newValue(r){this.throttledFetch=this.createThrottledFetch(r)}})],CT.prototype,"requestThrottle",2);var W3e=[!0,"animation"],MZ=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=sn.create(...W3e),this.currentPhase=0,this.phases=new Map(Up.map(r=>[r,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var r;return null!=(r=this.phases.get(Up[this.currentPhase]))?r:[]}checkOverlappingId(r){null!=r&&this.controllers.has(r)&&(this.controllers.get(r).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${r}`),this.skip())}addAnimation(r){var t;if(!r.isComplete)return Up.indexOf(r.phase)<this.currentPhase?(this.debug("Skipping animation due to being for an earlier phase",r.id),void r.stop()):(this.controllers.set(r.id,r),void(null==(t=this.phases.get(r.phase))||t.push(r)))}removeAnimation(r){this.controllers.delete(r.id);const t=this.phases.get(r.phase),e=t?.indexOf(r);null!=e&&e>=0&&t?.splice(e,1)}progress(r){const t=Up[this.currentPhase];let e=[...this.getActiveControllers()];const i=this.controllers.size;this.debug(`AnimationBatch - progressing by ${r}; current phase ${t} with ${e?.length} active controllers of ${i} total`,this.phases);let n=0===r?.01:r;const o=()=>null==Up[this.currentPhase],a=()=>{for(e=[...this.getActiveControllers()];!o()&&0===e.length;)this.currentPhase++,e=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${Up[this.currentPhase]}`,{unusedTime:n},e)};for(;n>0&&!o();){a();const s=n;let l=0;for(const c of e)n=Math.min(c.update(s),n),c.isComplete&&(l++,this.removeAnimation(c));this.debug(`AnimationBatch - updated ${e.length} controllers; ${l} completed`)}}skip(r=!0){if(!1===this.skipAnimations&&!0===r){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=r}play(){for(const r of this.controllers.values())r.play()}pause(){for(const r of this.controllers.values())r.pause()}stop(){for(const r of this.controllers.values())try{r.stop(),this.removeAnimation(r)}catch(t){Ae.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(r){if(null!=r&&this.controllers.has(r)){const t=this.controllers.get(r);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(r){for(const t of this.controllers.values())t.groupId===r&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(r=>r()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},Yp=class{constructor(){this.listeners=new Hg}addListener(r,t){return this.listeners.addListener(r,t)}removeListener(r){this.listeners.removeListener(r)}destroy(){this.listeners.destroy()}},RZ=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],PZ=["pagehide","mousemove","mouseup"],IZ=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],bT=(r=>(r[r.Default=8]="Default",r[r.ZoomDrag=4]="ZoomDrag",r[r.ContextMenu=2]="ContextMenu",r[r.Animation=1]="Animation",r[r.All=15]="All",r))(bT||{}),K3e=[!0,"interaction"],S1=class Cw extends Yp{constructor(t,e,i){super(),this.debug=sn.create(...K3e),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=e.body,this.element=t,this.window=i;for(const n of IZ)n.startsWith("touch")?t.addEventListener(n,this.eventHandler,{passive:!0}):"wheel"===n?t.addEventListener(n,this.eventHandler,{passive:!1}):t.addEventListener(n,this.eventHandler);for(const n of PZ)this.window.addEventListener(n,this.eventHandler);Cw.interactionDocuments.includes(e)||(fT(e,"\n.ag-chart-wrapper {\n    touch-action: none;\n}\n"),Cw.interactionDocuments.push(e))}destroy(){super.destroy();for(const t of PZ)this.window.removeEventListener(t,this.eventHandler);for(const t of IZ)this.element.removeEventListener(t,this.eventHandler)}addListener(t,e,i=8){return super.addListener(t,n=>{this.getState()&i&&e(n)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e).catch(i=>Ae.errorOnce(i))}dispatchEvent(t,e){return he(this,null,function*(){const i=this.calculateCoordinates(t);if(null!=i)for(const n of e)this.listeners.dispatchWrapHandlers(n,(o,a)=>{a.consumed||o(a)},this.buildEvent(J({type:n,event:t},i)))})}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[e];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[e];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const i=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==i?(this.mouseDown=i,[i?e:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var e;return t.target===this.element||(null==(e=t.target)?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const i=null!=(e=t.touches[0])?e:t.changedTouches[0],{clientX:n,clientY:o,pageX:a,pageY:s}=i;return Pe(J({},Cw.NULL_COORDS),{clientX:n,clientY:o,pageX:a,pageY:s})}return t instanceof PageTransitionEvent?t.persisted?void 0:Cw.NULL_COORDS:void 0}getMouseEventCoords(t){const{clientX:e,clientY:i,pageX:n,pageY:o}=t;let{offsetX:a,offsetY:s}=t;const l=c=>{let u=0,d=0;for(;c;)u+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent;return{x:u,y:d}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const c=l(this.dragStartElement),u=l(t.target);a-=c.x-u.x,s-=c.y-u.y}return{clientX:e,clientY:i,pageX:n,pageY:o,offsetX:a,offsetY:s}}isWheelEvent(t){return"wheel"===t.type}buildEvent(t){const{type:e,event:i,clientX:n,clientY:o}=t;let{offsetX:a,offsetY:s,pageX:l,pageY:c}=t;if(!ai(a)||!ai(s)){const f=this.element.getBoundingClientRect();a=n-f.left,s=o-f.top}if(!ai(l)||!ai(c)){const f=this.rootElement.getBoundingClientRect();l=n-f.left,c=o-f.top}const u=f=>{const y=Math.sign(f);return(3*Math.log10(Math.abs(f)/60+.1)+3)*y};let[d,h]=[NaN,NaN];if(this.isWheelEvent(i)){const f=0===i.deltaMode?u:m=>m;d=f(i.deltaX),h=f(i.deltaY)}const p={type:e,offsetX:a,offsetY:s,pageX:l,pageY:c,deltaX:d,deltaY:h,sourceEvent:i,consumed:!1,consume(){p.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",p),p}};S1.interactionDocuments=[],S1.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var FZ=S1,Y3e=[!0,"animation"],kZ=class extends Yp{constructor(r,t){super(),this.interactionManager=r,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new MZ,this.debug=sn.create(...Y3e),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(r){var i,e=Zn(r,["disableInteractions"]);const n=this.batch;try{n.checkOverlappingId(e.id)}catch(l){return void this.failsafeOnError(l)}const o=null!=(i=e.id)?i:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");const s=new vX(Pe(J({},e),{id:o,skip:a,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(r){this.failsafeOnError(r)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(r){this.failsafeOnError(r)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(r){try{this.batch.stopByAnimationId(r)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(r){try{this.batch.stopByAnimationGroupId(r)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(r=!0){this.skipAnimations=r}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(r){this.requestId=requestAnimationFrame(r)}forceTimeJump(r,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||null!==this.requestId)return;let r;const t=e=>he(this,null,function*(){const i=()=>he(this,null,function*(){const n=e-(r??e);r=e,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(1);try{this.batch.progress(n)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:n})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(i):yield this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(r,t=!0){Ae.error("Error during animation, skipping animations",r),t&&this.cancelAnimation()}startBatch(r){this.debug(`AnimationManager - startBatch() with skipAnimations=${r}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new MZ,!0===r&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(r){this.batch.stoppedCbs.add(r)}},LZ=class extends Yp{legendItemClick(r,t,e,i){this.listeners.dispatch("legend-item-click",{type:"legend-item-click",series:r,itemId:t,enabled:e,legendItemName:i})}legendItemDoubleClick(r,t,e,i,n){this.listeners.dispatch("legend-item-double-click",{type:"legend-item-double-click",series:r,itemId:t,enabled:e,legendItemName:n,numVisibleItems:i})}axisHover(r,t){this.listeners.dispatch("axis-hover",{type:"axis-hover",axisId:r,direction:t})}},NZ=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(r){r.id&&this.defaultActions.find(({id:t})=>t===r.id)||this.defaultActions.push(r)}enableAction(r){this.disabledActions.delete(r)}disableAction(r){this.disabledActions.add(r)}isDisabled(r){return this.disabledActions.has(r)}},GZ=class{constructor(r){this.states={},this.element=r}updateCursor(r,t){delete this.states[r],null!=t&&(this.states[r]={style:t}),this.applyStates()}applyStates(){let r="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:e}])=>r=e),this.element.style.cursor=r}getCursor(){return this.element.style.cursor}};function VZ(r,t){return Math.sqrt(function q3e(r,t){const e=r.screenX-t.screenX,i=r.screenY-t.screenY;return e*e+i*i}(r,t))}var BZ=class extends Yp{constructor(r){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=r,r.addEventListener("touchstart",this.touchstart,{passive:!0}),r.addEventListener("touchmove",this.touchmove,{passive:!0}),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:r}=this;r.removeEventListener("touchstart",this.touchstart),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(r){const{touches:t}=r,{finger1:e,finger2:i}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===e.identifier&&t[1].identifier===i.identifier)return[t[0],t[1]];if(t[0].identifier===i.identifier&&t[1].identifier===e.identifier)return[t[1],t[0]]}}copyTouchData(r){const t=["identifier","screenX","screenY"];pN(t,this.pinch.finger1,r.touches[0]),pN(t,this.pinch.finger2,r.touches[1]),this.pinch.distance=VZ(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(r,t){const{finger1:e,finger2:i,origin:n}=this.pinch;this.listeners.dispatch(r,{type:r,finger1:e,finger2:i,deltaDistance:t,origin:n})}onTouchStart(r){this.stopPinchTracking();const{pinch:t}=this;2===r.touches.length&&(t.status=1,this.copyTouchData(r),t.origin.x=(r.touches[0].clientX+r.touches[1].clientX)/2,t.origin.y=(r.touches[0].clientY+r.touches[1].clientY)/2)}onTouchMove(r){const t=this.findPinchTouches(r);if(void 0!==t){const[e,i]=t,{pinch:n}=this,o=VZ(e,i),a=o-n.distance;1===n.status?Math.abs(a)>1&&(n.status=2,this.copyTouchData(r),this.dispatchPinchEvent("pinch-start",0)):2===n.status?(n.distance=o,this.copyTouchData(r),this.dispatchPinchEvent("pinch-move",a)):Ae.error(`unexpected pinch.status: ${n.status}`)}}onTouchEnd(r){this.stopPinchTracking()}onTouchCancel(r){this.stopPinchTracking()}stopPinchTracking(){const{pinch:r}=this;2===r.status&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},x1=class extends Yp{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(r,t){this.highlightStates.delete(r),null!=t&&this.highlightStates.set(r,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(r,t){this.pickedStates.delete(r),null!=t&&this.pickedStates.set(r,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:r}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,r)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:r})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(r,t){return r===t||r?.series===t?.series&&r?.itemId===t?.itemId&&r?.datum===t?.datum}};function HZ(r){var t;const{width:e=0,height:i=0}=null!=(t=r.bbox.computeBBox())?t:{};return e*i}var Q3e=class{constructor(){this.nodes=[]}add(r,t){this.nodes.push({value:r,bbox:t})}find(r,t){return this.nodes.filter(e=>function Z3e(r,t,e){var i,n;return null!=(n=null==(i=r.bbox.computeBBox())?void 0:i.containsPoint(t,e))&&n}(e,r,t)).sort((e,i)=>HZ(e)-HZ(i)).map(e=>e.value)}*[Symbol.iterator](){for(const{value:r}of Object.values(this.nodes))yield r}clear(){this.nodes.length=0}},J3e=class extends Hg{},E1=class Cf extends Yp{constructor(t){super(),this.chart=t}subscribe(t=Cf.DEFAULT_GROUP){let e=this.get(t);return e||(e=new Set,Cf.chartsGroups.set(t,e)),e.add(this.chart),this}unsubscribe(t=Cf.DEFAULT_GROUP){var e;return null==(e=this.get(t))||e.delete(this.chart),this}getChart(){return this.chart}getGroup(t=Cf.DEFAULT_GROUP){const e=this.get(t);return e?Array.from(e):[]}getGroupSiblings(t=Cf.DEFAULT_GROUP){return this.getGroup(t).filter(e=>e!==this.chart)}get(t){return Cf.chartsGroups.get(t)}};E1.chartsGroups=new Map,E1.DEFAULT_GROUP=Symbol("sync-group-default");var tje=E1,D1=class{constructor(r,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=r,this.destroyFns.push(t.addListener("hover",e=>this.checkExclusiveRects(e)))}getRange(){return this.tooltip.range}updateTooltip(r,t,e){var i;null==e&&(e=null==(i=this.states[r])?void 0:i.content),this.states[r]={content:e,meta:t},this.applyStates()}updateExclusiveRect(r,t){t?this.exclusiveAreas[r]=t:delete this.exclusiveAreas[r]}removeTooltip(r){delete this.states[r],this.applyStates()}getTooltipMeta(r){var t;return null==(t=this.states[r])?void 0:t.meta}destroy(){for(const r of this.destroyFns)r()}checkExclusiveRects(r){let t;for(const[e,i]of Object.entries(this.exclusiveAreas))if(i.containsPoint(r.offsetX,r.offsetY)){t=e;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var r;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let e,i;if(t.reverse(),t.slice(0,1).forEach(n=>{var o;const{content:a,meta:s}=null!=(o=this.states[n])?o:{};e=a,i=s}),void 0===i||void 0===e)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null==(r=this.appliedState)?void 0:r.content)===e){const n=this.tooltip.isVisible();this.tooltip.show(i,void 0,n)}else this.tooltip.show(i,e);this.appliedState={content:e,meta:i}}static makeTooltipMeta(r,t){var e,i,n,o;const{offsetX:a,offsetY:s}=r,{tooltip:l}=t.series.properties,u={offsetX:a,offsetY:s,lastPointerEvent:{offsetX:a,offsetY:s},showArrow:l.showArrow,position:{xOffset:l.position.xOffset,yOffset:l.position.yOffset}},d=null!=(i=null==(e=t.yBar)?void 0:e.upperPoint)?i:t.midPoint;if("node"===l.position.type&&d){const{x:h,y:p}=d,f=t.series.contentGroup.inverseTransformPoint(h,p);return Pe(J({},u),{offsetX:Math.round(f.x),offsetY:Math.round(f.y)})}return u.enableInteraction=null!=(o=null==(n=l.interaction)?void 0:n.enabled)&&o,u}},jZ=class extends Yp{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(r){var t;const e=new Map(r.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of r)this.axisZoomManagers.set(i.id,null!=(t=e.get(i.id))?t:new ije(i));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(r){0!==this.axisZoomManagers.size?(this.axisZoomManagers.forEach(t=>{t.updateZoom(r?.[t.getDirection()])}),this.applyChanges()):this.initialZoom=r}updateAxisZoom(r,t){var e;null==(e=this.axisZoomManagers.get(r))||e.updateZoom(t),this.applyChanges()}getZoom(){let r,t;if(this.axisZoomManagers.forEach(e=>{"x"===e.getDirection()?r??(r=e.getZoom()):"y"===e.getDirection()&&(t??(t=e.getZoom()))}),r||t)return{x:r,y:t}}getAxisZoom(r){var t,e;return null!=(e=null==(t=this.axisZoomManagers.get(r))?void 0:t.getZoom())?e:{min:0,max:1}}getAxisZooms(){const r={};for(const[t,e]of this.axisZoomManagers.entries())r[t]={direction:e.getDirection(),zoom:e.getZoom()};return r}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(e=>e.applyChanges()).some(Boolean))return;const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]=i.getZoom();this.listeners.dispatch("zoom-change",Pe(J({type:"zoom-change"},this.getZoom()),{axes:t}))}},ije=class{constructor(r){this.pendingZoom=null,this.axis=r;const[t=0,e=1]=r.visibleRange;this.initialZoom=this.currentZoom={min:t,max:e}}getDirection(){return this.axis.direction}updateZoom(r){this.pendingZoom=r?J({},r):null}getZoom(){return Vr(this.currentZoom)}applyChanges(){var r;const t=this.currentZoom;return this.currentZoom=null!=(r=this.pendingZoom)?r:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},UZ=class extends Hg{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(r,t){if(this.isLayoutStage(r)||this.isLayoutComplete(r))return super.addListener(r,t);throw new Error(`AG Charts - unsupported listener type: ${r}`)}dispatchPerformLayout(r,t){return this.isLayoutStage(r)?this.getListenersByType(r).reduce((e,i)=>{try{return i.handler(e)}catch(n){return Ae.errorOnce(n),e}},t):t}dispatchLayoutComplete(r){this.dispatch(this.layoutComplete,r)}isLayoutStage(r){return r!==this.layoutComplete}isLayoutComplete(r){return r===this.layoutComplete}};function nje({orientation:r,bboxes:t,maxHeight:e,maxWidth:i,itemPaddingY:n=0,itemPaddingX:o=0,forceResult:a=!1}){const s="horizontal"===r,l={max:s?i:e,fn:s?h=>h.width:h=>h.height,padding:s?o:n},c={max:s?e:i,fn:s?h=>h.height:h=>h.width,padding:s?n:o};let u=0;const d=[];for(;u<t.length;){const p=rje(t.slice(u),u,l,c,a);if(!p)return;u+=p.processedBBoxCount,d.push(p.pageIndices)}return function aje(r,t,e,i,n){let o=0,a=0;return{pages:r.map(l=>{"horizontal"===t&&(l=function sje(r){const t=[];for(const e of r[0])t.push([]);return r.forEach((e,i)=>{e.forEach((n,o)=>{t[o][i]=n})}),t}(l));let c=0;const u=l.map(p=>{const f=p.map(v=>(c=Math.max(v,c),e[v]));let m=0,g=0;return f.forEach(v=>{m+=v.height+i,g=Math.max(g,v.width+n)}),{indices:p,bboxes:f,columnHeight:Math.ceil(m),columnWidth:Math.ceil(g)}});let d=0,h=0;return u.forEach(p=>{d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),o=Math.max(d,o),a=Math.max(h,a),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:o,maxPageHeight:a}}(d,r,t,n,o)}function rje(r,t,e,i,n){let a=function lje(r,t){const e=r.length;let i=0;for(let n=0;n<e;n++)if(i+=t.fn(r[n])+t.padding,i>t.max)return e/n<2?Math.ceil(e/2):n;return e}(r,e);if(a<1){if(!n)return;a=1}for(let s=a;s>=1;s--){const l=oje(r,t,s,e,i,n);if(null==l&&s<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;s=l<s&&l>1?l:s}}}function oje(r,t,e,i,n,o){var a;const s=[];let l=0,c=0,u=[];const d=[];for(let h=0;h<r.length;h++){const p=(h+e)%e;0===p&&(l+=c,c=0,u.length>0&&s.push(u),u=[]);const f=i.fn(r[h])+i.padding;if(d[p]=Math.max(null!=(a=d[p])?a:0,f),c=Math.max(c,n.fn(r[h])+n.padding),l+c>n.max&&(!o||s.length>0)){u=[];break}if(d.reduce((y,_)=>y+_,0)>i.max&&!o)return d.length<e?d.length:void 0;u.push(h+t)}return u.length>0&&s.push(u),s.length>0?s:void 0}function mb(r,t,e,i,n,o,a,s){const l=(e-r)*(s-o)-(i-t)*(a-n);if(0===l)return null;const c=((a-n)*(t-o)-(r-n)*(s-o))/l,u=((e-r)*(t-o)-(i-t)*(r-n))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:r+c*(e-r),y:t+c*(i-t)}:null}function hje(r,t,e,i,n,o,a,s,l,c,u,d){const h=[],p=c-d,f=u-l,m=l*(d-c)-c*(u-l),g=zZ(r,e,n,a),v=zZ(t,i,o,s),E=function dje(r,t,e,i){if(0===r)return function uje(r,t,e){if(0===r)return function cje(r,t){const e=-t/r;return 0!==r&&e>=0&&e<=1?[e]:[]}(t,e);const i=t*t-4*r*e,n=[];if(0===i){const o=-t/(2*r);o>=0&&o<=1&&n.push(o)}else if(i>0){const o=Math.sqrt(i),a=(-t-o)/(2*r),s=(-t+o)/(2*r);a>=0&&a<=1&&n.push(a),s>=0&&s<=1&&n.push(s)}return n}(t,e,i);const n=t/r,o=e/r,s=(3*o-n*n)/9,l=(9*n*o-i/r*27-2*n*n*n)/54,c=s*s*s+l*l,u=1/3,d=[];if(c>=0){const h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),u),f=Math.sign(l-h)*Math.pow(Math.abs(l-h),u),m=Math.abs(Math.sqrt(3)*(p-f)/2),g=-u*n+(p+f);if(g>=0&&g<=1&&d.push(g),0===m){const v=-u*n-(p+f)/2;v>=0&&v<=1&&d.push(v)}}else{const h=Math.acos(l/Math.sqrt(-s*s*s)),p=u*n,f=2*Math.sqrt(-s),m=f*Math.cos(u*h)-p,g=f*Math.cos(u*(h+2*Math.PI))-p,v=f*Math.cos(u*(h+4*Math.PI))-p;m>=0&&m<=1&&d.push(m),g>=0&&g<=1&&d.push(g),v>=0&&v<=1&&d.push(v)}return d}(p*g[0]+f*v[0],p*g[1]+f*v[1],p*g[2]+f*v[2],p*g[3]+f*v[3]+m);for(const M of E){const P=M*M,I=M*P,k=g[0]*I+g[1]*P+g[2]*M+g[3],N=v[0]*I+v[1]*P+v[2]*M+v[3];let B;B=l!==u?(k-l)/(u-l):(N-c)/(d-c),B>=0&&B<=1&&h.push({x:k,y:N})}return h}function zZ(r,t,e,i){return[3*t-r-3*e+i,3*r-6*t+3*e,-3*r+3*t,r]}function WZ(r,t,e,i,n,o,a,s,l,c){const u=(c-s)/(l-a),d=s-u*a,h=Math.pow(u,2)+1,p=2*(u*(d-t)-r),f=Math.pow(r,2)+Math.pow(d-t,2)-Math.pow(e,2),m=Math.pow(p,2)-4*h*f;if(m<0)return[];const g=(-p+Math.sqrt(m))/2/h,v=(-p-Math.sqrt(m))/2/h,y=[];return[g,v].forEach(_=>{if(!(_>=Math.min(a,l)&&_<=Math.max(a,l)))return;const w=u*_+d,E=gn(i);let M=gn(n),P=gn(Math.atan2(w,_));M<=E&&(M+=2*Math.PI),P<E&&(P+=2*Math.PI),o!==(P>=E&&P<=M)&&y.push({x:_,y:w})}),y}var jg=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let r=0;r<this.commands.length;r++)if(this.commands[r]!==this.previousCommands[r])return!0;for(let r=0;r<this.params.length;r++)if(this.params[r]!==this.previousParams[r])return!0;return!1}draw(r){const t=this.commands,e=this.params;let i=0;r.beginPath();for(const n of t)switch(n){case 0:r.moveTo(e[i++],e[i++]);break;case 1:r.lineTo(e[i++],e[i++]);break;case 3:r.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);break;case 2:r.arc(e[i++],e[i++],e[i++],e[i++],e[i++],1===e[i++]);break;case 4:r.closePath()}0===t.length&&r.closePath()}moveTo(r,t){this.xy?(this.xy[0]=r,this.xy[1]=t):this.xy=[r,t],this.commands.push(0),this.params.push(r,t)}lineTo(r,t){this.xy?(this.commands.push(1),this.params.push(r,t),this.xy[0]=r,this.xy[1]=t):this.moveTo(r,t)}rect(r,t,e,i){this.moveTo(r,t),this.lineTo(r+e,t),this.lineTo(r+e,t+i),this.lineTo(r,t+i),this.closePath()}roundRect(r,t,e,i,n){n=Math.min(n,e/2,i/2),this.moveTo(r,t+n),this.arc(r+n,t+n,n,Math.PI,3*Math.PI/2),this.lineTo(r+n,t),this.lineTo(r+e-n,t),this.arc(r+e-n,t+n,n,3*Math.PI/2,2*Math.PI),this.lineTo(r+e,t+n),this.lineTo(r+e,t+i-n),this.arc(r+e-n,t+i-n,n,0,Math.PI/2),this.lineTo(r+e-n,t+i),this.lineTo(r+n,t+i),this.arc(r+ +n,t+i-n,n,Math.PI/2,Math.PI),this.lineTo(r,t+i-n),this.closePath()}arc(r,t,e,i,n,o=!1){const a=r+e*Math.cos(n),s=t+e*Math.sin(n);this.xy?(this.xy[0]=a,this.xy[1]=s):this.xy=[a,s],this.commands.push(2),this.params.push(r,t,e,i,n,o?1:0)}cubicCurveTo(r,t,e,i,n,o){this.xy||this.moveTo(r,t),this.commands.push(3),this.params.push(r,t,e,i,n,o),this.xy&&(this.xy[0]=n,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:r}={trackChanges:!1}){r?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(r,t){const e=this.commands,i=this.params,n=e.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<n;h++)switch(e[h]){case 0:!isNaN(s)&&mb(s,l,c,u,o,a,r,t)&&d++,c=i[p++],s=c,u=i[p++],l=u;break;case 1:mb(c,u,i[p++],i[p++],o,a,r,t)&&d++,c=i[p-2],u=i[p-1];break;case 3:d+=hje(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],o,a,r,t).length,c=i[p-2],u=i[p-1];break;case 2:const f=i[p++],m=i[p++],g=i[p++],v=i[p++],y=i[p++];d+=WZ(f,m,g,v,y,!!i[p++],o,a,r,t).length,c=f+Math.cos(y)*g,u=m+Math.sin(y)*g;break;case 4:!isNaN(s)&&mb(s,l,c,u,o,a,r,t)&&d++}return d%2==1}getPoints(){const{commands:r,params:t}=this,e=[];let i=0;for(let n=0;n<r.length;n++)switch(r[n]){case 0:case 1:e.push({x:t[i++],y:t[i++]});break;case 3:i+=4,e.push({x:t[i++],y:t[i++]});break;case 2:e.push({x:t[i++],y:t[i++]}),i+=4}return e}};function Mt(r){const{redraw:t=3,changeCb:e,convertor:i}=r??{};return Ne({redraw:t,type:"path",convertor:i,changeCb:e})}var Sa=class extends rs{constructor(){super(...arguments),this.path=new jg,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(r){this._clipX=r,this.dirtyPath=!0}set clipY(r){this._clipY=r,this.dirtyPath=!0}set dirtyPath(r){this._dirtyPath!==r&&(this._dirtyPath=r,r&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var r,t,e,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!=(t=null==(r=this.fillShadow)?void 0:r.isDirty())&&t||null!=(i=null==(e=this._clipPath)?void 0:e.isDirty())&&i)}isPointInPath(r,t){const e=this.transformPoint(r,t);return this.path.closedPath&&this.path.isPointInPath(e.x,e.y)}isDirtyPath(){return!1}updatePath(){}render(r){var e,i,n,o;const{ctx:a,forceRender:s,stats:l}=r;if(0!==this.dirty||s){if(this.computeTransformMatrix(),this.matrix.toContext(a),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),isNaN(this._clipX)||isNaN(this._clipY)||null==this.clipMode)this.path.draw(a),this.fillStroke(a);else{a.save();const c=this.strokeWidth/2;if(null!=this._clipPath||(this._clipPath=new jg),this._clipPath.clear(),this._clipPath.rect(-c,-c,this._clipX+c,this._clipY+c+c),"normal"===this.clipMode&&(null==(e=this._clipPath)||e.draw(a),a.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(a),this.fillStroke(a)),"punch-out"===this.clipMode){null==(i=this._clipPath)||i.draw(a),a.clip();const{x:u=-1e4,y:d=-1e4,width:h=2e4,height:p=2e4}=null!=(n=this.computeBBox())?n:{};a.clearRect(u,d,h,p)}a.restore()}null==(o=this.fillShadow)||o.markClean(),super.render(r)}else l&&(l.nodesSkipped+=this.nodeCount.count)}};Sa.className="Path",S([Mt()],Sa.prototype,"clipMode",2),S([Mt()],Sa.prototype,"clipX",1),S([Mt()],Sa.prototype,"clipY",1);var ls=class extends Sa{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:r,y:t,size:e}=this,i=e/2;return new wt(r-i,t-i,e,e)}applyPath(r,t){const{path:e}=this;let{x:i,y:n}=this;e.clear();for(const{x:o,y:a,t:s}of t)i+=o*r,n+=a*r,"move"===s?e.moveTo(i,n):e.lineTo(i,n);e.closePath()}};S([Mt()],ls.prototype,"x",2),S([Mt()],ls.prototype,"y",2),S([Mt({convertor:Math.abs})],ls.prototype,"size",2);var dc=class extends ls{updatePath(){const{x:r,y:t,path:e,size:i}=this,n=i/2;e.clear(),e.arc(r,t,n,0,2*Math.PI),e.closePath()}};dc.className="Circle";var T1=class _ie extends ls{updatePath(){super.applyPath(this.size/4.2,_ie.moves)}};T1.className="Cross",T1.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var pje=T1,A1=class Cie extends ls{updatePath(){super.applyPath(this.size/2,Cie.moves)}};A1.className="Diamond",A1.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var $Z=A1,KZ=class extends ls{rad(r){return r/180*Math.PI}updatePath(){const{x:r,path:t,size:e,rad:i}=this,n=e/4,o=this.y+n/2;t.clear(),t.arc(r-n,o-n,n,i(130),i(330)),t.arc(r+n,o-n,n,i(220),i(50)),t.lineTo(r,o+n),t.closePath()}};KZ.className="Heart";var O1=class bie extends ls{updatePath(){super.applyPath(this.size/3,bie.moves)}};O1.className="Plus",O1.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var fje=O1,Ug=class extends ls{updatePath(){const{path:r,x:t,y:e}=this,i=this.size/2;r.clear(),r.moveTo(this.align(t-i),this.align(e-i)),r.lineTo(this.align(t+i),this.align(e-i)),r.lineTo(this.align(t+i),this.align(e+i)),r.lineTo(this.align(t-i),this.align(e+i)),r.closePath()}};Ug.className="Square";var M1=class wie extends ls{updatePath(){super.applyPath(1.1*this.size,wie.moves)}};M1.className="Triangle",M1.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var zg=M1,YZ={circle:dc,cross:pje,diamond:$Z,heart:KZ,plus:fje,square:Ug,triangle:zg},mje=Object.keys(YZ);function qZ(r){return"string"==typeof r&&mje.includes(r)}function Zd(r=Ug){return qZ(r)?YZ[r]:"function"==typeof r?r:Ug}var Gn=class extends $e{constructor(){super({name:"markerLabelGroup"}),this.label=new ii,this.line=new tr,this._marker=new Ug,this._markerSize=15,this._spacing=8;const{marker:r,label:t,line:e}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=ln.has.textMetrics?1:0,this.append([e,r,t]),this.update()}set marker(r){this._marker!==r&&(this.removeChild(this._marker),this._marker=r,this.appendChild(r),this.update())}get marker(){return this._marker}set markerSize(r){this._markerSize!==r&&(this._markerSize=r,this.update())}get markerSize(){return this._markerSize}set spacing(r){this._spacing!==r&&(this._spacing=r,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(r){const t=this.marker.size/2+r;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize,this.label.x=Math.max(this.line.visible?this.line.x2:-1/0,this.markerSize/2)+this.spacing}render(r){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(r)}};Gn.className="MarkerLabel",S([Ri("label")],Gn.prototype,"text",2),S([Ri("label")],Gn.prototype,"fontStyle",2),S([Ri("label")],Gn.prototype,"fontWeight",2),S([Ri("label")],Gn.prototype,"fontSize",2),S([Ri("label")],Gn.prototype,"fontFamily",2),S([Ri("label","fill")],Gn.prototype,"color",2),S([Ri("marker","fill")],Gn.prototype,"markerFill",2),S([Ri("marker","stroke")],Gn.prototype,"markerStroke",2),S([Ri("marker","strokeWidth")],Gn.prototype,"markerStrokeWidth",2),S([Ri("marker","fillOpacity")],Gn.prototype,"markerFillOpacity",2),S([Ri("marker","strokeOpacity")],Gn.prototype,"markerStrokeOpacity",2),S([Ri("marker","visible")],Gn.prototype,"markerVisible",2),S([Ri("line","stroke")],Gn.prototype,"lineStroke",2),S([Ri("line","strokeWidth")],Gn.prototype,"lineStrokeWidth",2),S([Ri("line","strokeOpacity")],Gn.prototype,"lineStrokeOpacity",2),S([Ri("line","lineDash")],Gn.prototype,"lineLineDash",2),S([Ri("line","visible")],Gn.prototype,"lineVisible",2);var Wg=class extends wi{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};S([R(Zt)],Wg.prototype,"color",2),S([R(Wd,{optional:!0})],Wg.prototype,"fontStyle",2),S([R($d,{optional:!0})],Wg.prototype,"fontWeight",2),S([R(Ce)],Wg.prototype,"fontSize",2),S([R(xe)],Wg.prototype,"fontFamily",2);var Du=class extends wi{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};S([R(Ce)],Du.prototype,"size",2),S([R(Zt,{optional:!0})],Du.prototype,"fill",2),S([R(di,{optional:!0})],Du.prototype,"fillOpacity",2),S([R(Zt,{optional:!0})],Du.prototype,"stroke",2),S([R(Ce)],Du.prototype,"strokeWidth",2),S([R(di)],Du.prototype,"strokeOpacity",2);var wT=class extends wi{constructor(r){super(),this.parent=r,this.shape=zg,this.size=15,this.padding=8}};S([Jn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],wT.prototype,"shape",2),S([R(Ce)],wT.prototype,"size",2),S([R(Ce)],wT.prototype,"padding",2);var qp=class extends wi{constructor(r,t,e,i){super(),this.chartUpdateCallback=r,this.pageUpdateCallback=t,this.regionManager=e,this.cursorManager=i,this.id=nc(this),this.marker=new wT(this),this.activeStyle=new Du,this.inactiveStyle=new Du,this.highlightStyle=new Du,this.label=new Wg,this.group=new $e({name:"pagination"}),this.labelNode=new ii,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new zg,this._previousButton=new zg,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:ln.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const n=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(n.addListener("click",o=>this.onPaginationClick(o)),n.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(r=>r())}set visible(r){this._visible=r,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(r){this._enabled=r,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(r){"horizontal"===(this._orientation=r,r)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)}get orientation(){return this._orientation}set nextButton(r){this._nextButton!==r&&(this.group.removeChild(this._nextButton),this._nextButton=r,this.group.appendChild(r))}get nextButton(){return this._nextButton}set previousButton(r){this._previousButton!==r&&(this.group.removeChild(this._previousButton),this._previousButton=r,this.group.appendChild(r))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:r,padding:t}=this.marker;this.nextButton.size=r,this.previousButton.size=r,this.labelNode.x=r/2+t}updateNextButtonPosition(){const r=this.labelNode.computeBBox();this.nextButton.translationX=r.x+r.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:r,totalPages:t,labelNode:e,label:{color:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:s}}=this;e.text=`${r+1} / ${t}`,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=s}updateMarkers(){const{nextButton:r,previousButton:t,nextButtonDisabled:e,previousButtonDisabled:i,activeStyle:n,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(c,u)=>u?o:c===s?a:n;this.updateMarker(r,l("next",e)),this.updateMarker(t,l("previous",i))}updateMarker(r,t){var e;const{size:i}=this.marker;r.size=i,r.fill=t.fill,r.fillOpacity=null!=(e=t.fillOpacity)?e:1,r.stroke=t.stroke,r.strokeWidth=t.strokeWidth,r.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:r,totalPages:t}=this,e=0===t,n=0===r;this.nextButtonDisabled=r===t-1||e,this.previousButtonDisabled=n||e}nextButtonContainsPoint(r,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(r,t)}previousButtonContainsPoint(r,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(r,t)}onPaginationClick(r){const{offsetX:t,offsetY:e}=r;this.nextButtonContainsPoint(t,e)?(this.incrementPage(),this.onPaginationChanged(),r.consume()):this.previousButtonContainsPoint(t,e)&&(this.decrementPage(),this.onPaginationChanged(),r.consume())}onPaginationMouseMove(r){const{offsetX:t,offsetY:e}=r;this.nextButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const r=Zd(this.marker.shape||zg);this.previousButton=new r,this.nextButton=new r,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(r){r.append(this.group)}computeBBox(){return this.group.computeBBox()}};qp.className="Pagination",S([R(Ye)],qp.prototype,"marker",2),S([R(Ye)],qp.prototype,"activeStyle",2),S([R(Ye)],qp.prototype,"inactiveStyle",2),S([R(Ye)],qp.prototype,"highlightStyle",2),S([R(Ye)],qp.prototype,"label",2);var Qd=class extends wi{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};S([R(Ce,{optional:!0})],Qd.prototype,"maxLength",2),S([R(Zt)],Qd.prototype,"color",2),S([R(Wd,{optional:!0})],Qd.prototype,"fontStyle",2),S([R($d,{optional:!0})],Qd.prototype,"fontWeight",2),S([R(Ce)],Qd.prototype,"fontSize",2),S([R(xe)],Qd.prototype,"fontFamily",2),S([R(is,{optional:!0})],Qd.prototype,"formatter",2);var $g=class extends wi{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};S([Lg(r=>{var t;return null==(t=r.parent)?void 0:t.onMarkerShapeChange()})],$g.prototype,"shape",2),S([R(Ce)],$g.prototype,"size",2),S([R(Ce)],$g.prototype,"padding",2),S([R(Ce,{optional:!0})],$g.prototype,"strokeWidth",2),S([R(rt)],$g.prototype,"enabled",2);var R1=class extends wi{};S([R(Ce,{optional:!0})],R1.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],R1.prototype,"length",2);var Tu=class extends wi{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new $g,this.label=new Qd,this.line=new R1}};S([R(Ce,{optional:!0})],Tu.prototype,"maxWidth",2),S([R(Ce)],Tu.prototype,"paddingX",2),S([R(Ce)],Tu.prototype,"paddingY",2),S([R(rt)],Tu.prototype,"toggleSeriesVisible",2),S([R(rt)],Tu.prototype,"showSeriesStroke",2),S([R(Ye)],Tu.prototype,"marker",2),S([R(Ye)],Tu.prototype,"label",2),S([R(Ye)],Tu.prototype,"line",2);var P1=class extends wi{};S([R(is,{optional:!0})],P1.prototype,"legendItemClick",2),S([R(is,{optional:!0})],P1.prototype,"legendItemDoubleClick",2);var Go=class extends wi{constructor(r){super(),this.ctx=r,this.id=nc(this),this.group=new $e({name:"legend",layer:!0,zIndex:9}),this.itemSelection=ji.select(this.group,Gn),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new Tu,this.listeners=new P1,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new qp(i=>r.updateService.update(i),i=>this.updatePageNumber(i),r.regionManager,r.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const e=r.regionManager.addRegion("legend",this.group);this.destroyFns.push(e.addListener("click",i=>this.checkLegendClick(i),9),e.addListener("dblclick",i=>this.checkLegendDoubleClick(i),9),e.addListener("hover",i=>this.handleLegendMouseMove(i)),e.addListener("leave",i=>this.handleLegendMouseExit(i)),r.layoutService.addListener("start-layout",i=>this.positionLegend(i.shrinkRect)),()=>this.detachLegend())}set data(r){this._data=r,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(r=>r()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(r){const{characterWidths:t}=this;if(t.has(r))return t.get(r);const e={"...":ln.getTextSize("...",r).width};return t.set(r,e),e}set visible(r){this._visible=r,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(r){r.append(this.group)}detachLegend(){var r;null==(r=this.group.parent)||r.removeChild(this.group)}getItemLabel(r){const{ctx:{callbackCache:t}}=this,{formatter:e}=this.item.label;return e?t.call(e,{itemId:r.itemId,value:r.label.text,seriesId:r.seriesId}):r.label.text}performLayout(r,t){const{paddingX:e,paddingY:i,label:n,maxWidth:o,marker:{size:a,padding:s,shape:l},label:{maxLength:c=1/0,fontStyle:u,fontWeight:d,fontSize:h,fontFamily:p},line:f,showSeriesStroke:m}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const v=[],y=Kd(n),b=o??.8*r,w=a+s+e;if(this.itemSelection.each((Y,ne)=>{var me,W,$;const Z=Zd(l??ne.marker.shape),ce=null!=(me=ne.marker.enabled)?me:this.item.marker.enabled;Y.marker&&Y.marker instanceof Z||(Y.marker=new Z),Y.markerSize=a,Y.spacing=s,Y.fontStyle=u,Y.fontWeight=d,Y.fontSize=h,Y.fontFamily=p;const De=null!=(W=ne.itemId)?W:ne.id,Oe=(this.getItemLabel(ne)??"<unknown>").replace(/\r?\n/g," ");Y.text=this.truncate(Oe,c,b,w,y,De),m&&void 0!==ne.line?(Y.lineVisible=!0,Y.markerVisible=ce,Y.setSeriesStrokeOffset(null!=($=f.length)?$:5)):(Y.lineVisible=!1,Y.markerVisible=!0),v.push(Y.computeBBox())}),r=Math.max(1,r),t=Math.max(1,t),!isFinite(r))return!1;const E=this.size,M=this.oldSize;E[0]=r,E[1]=t,(E[0]!==M[0]||E[1]!==M[1])&&(M[0]=E[0],M[1]=E[1]);const{pages:P,maxPageHeight:I,maxPageWidth:k}=this.updatePagination(v,r,t);this.pages=P,this.maxPageSize=[k-e,I-i];const N=this.pagination.currentPage;this.pages.length<1||!this.pages[N]?this.visible=!1:(this.visible=!0,this.updatePositions(N),this.update())}truncate(r,t,e,i,n,o){const s=r.split("");let l=!1;if(r.length>t&&(r=`${r.substring(0,t)}`,l=!0),Math.floor(i+ln.getTextSize(r,n).width)>e){let u="";const d=this.getCharacterWidths(n);let h=i+d["..."];for(const p of s){if(d[p]||(d[p]=ln.getTextSize(p,n).width),h+=d[p],h>e)break;u+=p}r=u,l=!0}return l?(r+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),r}updatePagination(r,t,e){const i=this.getOrientation(),n=Math.min(this.paginationTrackingIndex,r.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(r,t,e),u=o.findIndex(y=>y.endIndex>=n);this.pagination.currentPage=ti(0,u,o.length-1);const{paddingX:d,paddingY:h}=this.item,m=a-h;let g=0,v=-l.y-this.item.marker.size/2;return c?v+=m+8:(g+=s-d-l.x+8,v+=(m-l.height)/2),this.pagination.translationX=g,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(r,t,e){var i,n,o;const{paddingX:a,paddingY:s}=this.item,l=this.getOrientation(),c=["left","right"].includes(this.position);let u=this.pagination.computeBBox(),d=new wt(0,0,0,0),h=[],p=0,f=0,m=0;const g=y=>{const{width:_,height:b}=y;return _===u.width&&b===u.height},v=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(m++>10){Ae.warn("unable to find stable legend layout.");break}u=d;const b=nje({orientation:l,bboxes:r,maxHeight:e-(c?u.height:0),maxWidth:t-(c?0:u.width),itemPaddingY:s,itemPaddingX:a,forceResult:v});h=null!=(i=b?.pages)?i:[],p=null!=(n=b?.maxPageWidth)?n:0,f=null!=(o=b?.maxPageHeight)?o:0;const w=h.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:p,maxPageHeight:f,pages:h,paginationBBox:u,paginationVertical:c}}updatePositions(r=0){const{item:{paddingY:t},itemSelection:e,pages:i}=this;if(i.length<1||!i[r])return;const{columns:n,startIndex:o,endIndex:a}=i[r];let s=0,l=0;const c=n.length,u=n[0].indices.length,d="horizontal"===this.getOrientation(),h=n[0].bboxes[0].height+t,p=[];e.each((f,m,g)=>{var v,y;if(g<o||g>a)return void(f.visible=!1);const _=g-o;let b=0,w=0;d?(b=_%c,w=Math.floor(_/c)):(b=Math.floor(_/u),w=_%u),f.visible=!0;const E=n[b];E&&(l=h*w,s=null!=(v=p[w])?v:0,p[w]=(null!=(y=p[w])?y:0)+E.columnWidth,f.translationX=Math.floor(s),f.translationY=Math.floor(l))})}updatePageNumber(r){const{pages:t}=this,{startIndex:e,endIndex:i}=t[r];this.paginationTrackingIndex=0===e?0:r===t.length-1?i:Math.floor((e+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(r),this.ctx.updateService.update(6)}update(){const{label:{color:r},marker:t,line:e,showSeriesStroke:i}=this.item;this.itemSelection.each((n,o)=>{var a,s;const l=o.marker;n.markerFill=l.fill,n.markerStroke=l.stroke,n.markerStrokeWidth=null!=(a=t.strokeWidth)?a:Math.min(2,l.strokeWidth),n.markerFillOpacity=l.fillOpacity,n.markerStrokeOpacity=l.strokeOpacity,n.opacity=o.enabled?1:.5,n.color=r;const{line:c}=o;i&&void 0!==c&&(n.lineStroke=c.stroke,n.lineStrokeOpacity=c.strokeOpacity,n.lineStrokeWidth=null!=(s=e.strokeWidth)?s:Math.min(2,c.strokeWidth),n.lineLineDash=c.lineDash)})}getDatumForPoint(r,t){const e=[],i={dist:1/0,datum:void 0};for(const o of this.group.children){if(!(o.visible&&o instanceof Gn))continue;const a=o.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(r,t))return o.datum;const s=r-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,c=Pt(s,2)+Pt(l,2);s>=0&&l>=0&&c<i.dist&&(i.dist=c,i.datum=o.datum),e.push(a)}if(wt.merge(e).containsPoint(r,t))return i.datum}computePagedBBox(){const r=this.group.computeBBox();if(this.pages.length<=1)return r;const[t,e]=this.maxPageSize;return r.height=Math.max(e,r.height),r.width=Math.max(t,r.width),r}checkLegendClick(r){const{listeners:{legendItemClick:t},ctx:{chartService:e,highlightManager:i},item:{toggleSeriesVisible:n},preventHidingAll:o}=this,a=this.getDatumForPoint(r.offsetX,r.offsetY);if(!a)return;const{id:s,itemId:l,enabled:c}=a,u=e.series.find(h=>h.id===s);if(!u)return;r.consume();let d=c;n&&(d=!c,o&&!d&&e.series.flatMap(p=>p.getLegendData("category")).filter(p=>p.enabled).length<2&&(d=!0),this.ctx.chartEventManager.legendItemClick(u,l,d,a.legendItemName)),d?i.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:d,itemId:l,seriesId:u.id})}checkLegendDoubleClick(r){var t;const{listeners:{legendItemDoubleClick:e},ctx:{chartService:i},item:{toggleSeriesVisible:n}}=this;if("integrated"===i.mode)return;const o=this.getDatumForPoint(r.offsetX,r.offsetY);if(!o)return;const{id:a,itemId:s,seriesId:l}=o,c=i.series.find(u=>u.id===a);if(c){if(r.consume(),n){const u=i.series.flatMap(p=>p.getLegendData("category")),d=u.filter(p=>p.enabled).length,h=u.find(p=>p.itemId===s&&p.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(c,s,null!=(t=h?.enabled)&&t,d,h?.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e?.({type:"dblclick",enabled:!0,itemId:s,seriesId:c.id})}}handleLegendMouseMove(r){var t;const{enabled:e,item:{toggleSeriesVisible:i},listeners:n}=this;if(!e)return;const{offsetX:o,offsetY:a}=r;r.consume();const s=this.getDatumForPoint(o,a);if(void 0===s)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);const l=s?this.ctx.chartService.series.find(c=>c.id===s?.id):void 0;s&&this.truncatedItems.has(null!=(t=s.itemId)?t:s.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:r,showArrow:!1,addCustomClass:!1},ob({content:this.getItemLabel(s)})):this.ctx.tooltipManager.removeTooltip(this.id),(i||null!=n.legendItemClick||null!=n.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),s?.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:s?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(r){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(r){const t=r.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[e,i]=this.calculateLegendDimensions(r);this.group.translationX=0,this.group.translationY=0,this.performLayout(e,i);const n=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r.height-n.height;default:return r.width-n.width}};if(this.visible){let a,s;switch(this.position){case"top":case"bottom":a=(r.width-n.width)/2,s=o(),t.shrink(n.height,this.position);break;default:a=o(),s=(r.height-n.height)/2,t.shrink(n.width,this.position)}this.group.translationX=Math.floor(-n.x+r.x+a),this.group.translationY=Math.floor(-n.y+r.y+s)}if(this.visible&&this.enabled&&this.data.length){t.shrink(this.spacing,this.position);const s=n.clone();s.x+=this.group.translationX,s.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,s)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(r){const{width:t,height:e}=r,i=t/e;let s,l;switch(this.position){case"top":case"bottom":const c=i<1?Math.min(.5,1/i*.2):.2;s=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,e):Math.round(e*c);break;default:const u=i>1?Math.min(.5,.25*i):.25;s=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),l=this.maxHeight?Math.min(this.maxHeight,e):e}return[s,l]}};Go.className="Legend",S([R(Ye)],Go.prototype,"pagination",2),S([R(Ye)],Go.prototype,"item",2),S([R(Ye)],Go.prototype,"listeners",2),S([Lg(r=>r.updateGroupVisibility()),R(rt)],Go.prototype,"enabled",2),S([R(XN)],Go.prototype,"position",2),S([R(Ce,{optional:!0})],Go.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],Go.prototype,"maxHeight",2),S([R(rt,{optional:!0})],Go.prototype,"reverseOrder",2),S([R(vn(["horizontal","vertical"],"an orientation"),{optional:!0})],Go.prototype,"orientation",2),S([R(rt,{optional:!0})],Go.prototype,"preventHidingAll",2),S([R(Ce)],Go.prototype,"spacing",2);var gje=["top","right","bottom","left"],XZ=["category","grouped-category","number","log","time"],Au="ag-chart-overlay",I1="ag-chart-dark-overlay",Kg=class{constructor(r,t,e){this.className=r,this.parentElement=t,this.animationManager=e,this.darkTheme=!1}show(r){var t,e;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,Au)),this.element.classList.toggle(I1,this.darkTheme);const{element:i}=this;if(i.style.position="absolute",i.style.left=`${r.x}px`,i.style.top=`${r.y}px`,i.style.width=`${r.width}px`,i.style.height=`${r.height}px`,this.renderer)i.innerHTML=this.renderer();else{const n=this.createElement("div");n.style.alignItems="center",n.style.boxSizing="border-box",n.style.display="flex",n.style.justifyContent="center",n.style.margin="8px",n.style.height="100%",n.style.font="12px Verdana, sans-serif",n.innerText=null!=(t=this.text)?t:"No data to display",i.replaceChildren(n),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){i.style.opacity=String(o)},onStop(){i.style.opacity="1"}})}null==(e=this.parentElement)||e.append(i)}hide(){if(!this.element)return;const r=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){r.style.opacity=String(t)},onStop(){r.remove()}}),this.element=void 0}createElement(r,t){return this.parentElement.ownerDocument.createElement(r,t)}};S([R(is,{optional:!0})],Kg.prototype,"renderer",2),S([R(xe,{optional:!0})],Kg.prototype,"text",2),S([R(rt)],Kg.prototype,"darkTheme",2);var wje=`\n.${Au} {\n    color: #181d1f;\n}\n\n.${Au}.${I1} {\n    color: #ffffff;\n}\n\n.${Au}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${Au}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${Au}.${I1} .${Au}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`,ZZ=class WV{constructor(t,e){this.loading=new Kg("ag-chart-loading-overlay",t,e),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,e),this.noData=new Kg("ag-chart-no-data-overlay",t,e),this.noVisibleSeries=new Kg("ag-chart-no-visible-series",t,e),this.noVisibleSeries.text="No visible series",WV.overlayDocuments.indexOf(t.ownerDocument)<0&&(fT(t.ownerDocument,wje),WV.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,e){var i;const n=this.createElement(t,"div");n.className=`${Au}--loading`,n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.flexDirection="column",n.style.height="100%",n.style.boxSizing="border-box",n.style.font="13px Verdana, sans-serif",n.style.userSelect="none",n.style.animation=`ag-charts-loading ${WN.animationDuration*e.defaultDuration}ms linear 50ms both`;const o=this.createElement(n,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";const a=this.createElement(n,"p");a.style.marginTop="1em",a.innerText=null!=(i=this.loading.text)?i:"Loading data...";const s=this.createElement(t,"div");s.className=`${Au}__loading-background`,s.style.position="absolute",s.style.top="0",s.style.right="0",s.style.bottom="0",s.style.left="0",s.style.opacity="0.5",s.style.zIndex="-1";const l=this.createElement(n,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(l,o,a,s),n.outerHTML}createElement(t,e,i){return t.ownerDocument.createElement(e,i)}};ZZ.overlayDocuments=[];var Sje=ZZ;function ST(r,t=[0,0]){for(const e of r)"number"==typeof e&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function xje(r,t,e){return{id:t,scopes:[r.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>ST(n)}}function QZ(r,t,e){return{id:t,scopes:[r.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>ST(i),groupAggregateFunction:(i,n=[0,0])=>{var o,a;return n[0]+=null!=(o=i?.[0])?o:0,n[1]+=null!=(a=i?.[1])?a:0,n}}}function JZ(r,t,e){return{id:t,scopes:[r.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>fb(n)}}function Eje(r,t){return{id:t,scopes:[r.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function F1(r,t){return{id:t,scopes:[r.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>{var n,o;return i[0]+=null!=(n=e?.[0])?n:0,i[1]+=null!=(o=e?.[1])?o:0,i}}}function Dje(r,t,e){return{id:t,scopes:[r.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>ST(n).map(o=>o/n.length)}}function eQ(r,t,e){return{id:t,scopes:[r.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>ST(n),groupAggregateFunction:(n,o=[0,0,-1])=>{var a,s;return o[0]+=null!=(a=n?.[0])?a:0,o[1]+=null!=(s=n?.[1])?s:0,o[2]++,o},finalFunction:(n=[0,0,0])=>{const o=n[0]+n[1];return o>=0?[0,o/n[2]]:[o/n[2],0]}}}function k1(r,t,e,i){const n={id:t,scopes:[r.id],matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(o,a=[])=>{const s=a[1]-a[0];return e.aggregateFunction(o).map(l=>l/s)}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function tQ(r){return()=>{let t=0;return e=>ai(e)?(t+=r?Math.max(0,e):e,t):e}}function iQ(){return()=>{let r=0;return t=>{if(!ai(t))return t;const e=r;return r+=t,e}}}var gb=new Map;function xT(r,t){var e,i,n;const o=JSON.stringify(r,null,0);return gb.has(t)||gb.set(t,new Map),null!=(e=gb.get(t))&&e.has(o)||null==(i=gb.get(t))||i.set(o,t(r)),null==(n=gb.get(t))?void 0:n.get(o)}var L1={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let r=NaN;return(t=1/0,e)=>{const i=e.keys[0],n=Math.abs(i-r);return r=i,!isNaN(n)&&n>0&&n<t?n:t}}},Tje={type:"processor",property:"aggValuesExtent",calculate:r=>{var t,e,i,n;const o=[...null!=(e=null==(t=r.domain.aggValues)?void 0:t[0])?e:[0,0]];for(const[a,s]of null!=(n=null==(i=r.domain.aggValues)?void 0:i.slice(1))?n:[])a<o[0]&&(o[0]=a),s>o[1]&&(o[1]=s);return o}},nQ={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:r}})=>{if(null!=r)return[...r].sort((t,e)=>{for(let i=0;i<t.length;i++){const n=t[i]-e[i];if(0!==n)return n}return 0})}};function Aje({normaliseTo:r,mode:t}){const e=(i,n)=>{const o=i*r/n;return o>=0?Math.min(r,o):Math.max(-r,o)};return()=>()=>(i,n)=>{const o=[0,0];for(const s of n){const l=i[s],c=l<0?0:1;"sum"===t?o[c]+=l:o[c]=0===c?Math.min(o[c],l):Math.max(o[c],l)}const a=Math.max(Math.abs(o[0]),o[1]);for(const s of n)i[s]=e(i[s],a)}}function ET(r,t,e,i="sum"){return{scopes:[r.id],type:"group-value-processor",matchGroupIds:t,adjust:xT({normaliseTo:e,mode:i},Aje)}}function Oje({normaliseTo:r,zeroDomain:t,rangeMin:e,rangeMax:i}){const n=r[1]-r[0],o=(a,s,l)=>{const c=r[0]+(a-s)/l*n;return 0===l?t:c>=r[1]?r[1]:c<r[0]?r[0]:c};return()=>(a,s)=>{let[l,c]=a.domain.values[s];null!=e&&(l=e),null!=i&&(c=i);const u=c-l;a.domain.values[s]=[r[0],r[1]];for(const d of a.data){let h=d.values;"ungrouped"===a.type&&(h=[h]);for(const p of h)p[s]=o(p[s],l,u)}}}function vb(r,t,e,i,n,o){return{scopes:[r.id],type:"property-value-processor",property:t,adjust:xT({normaliseTo:e,rangeMin:n,rangeMax:o,zeroDomain:i},Oje)}}function Yg(r,t=[]){return{type:"processor",scopes:[r.id],property:"animationValidation",calculate(e){var i;const{keys:n,values:o}=e.defs,{input:a,data:s}=e;let l=!0,c=!0;const u=[];for(let h=0;h<o.length;h++)null!=(i=o[h].scopes)&&i.some(p=>p===r.id)&&t.some(p=>o[h].id===p)&&u.push([h,o[h]]);const d=(h,p,f)=>{var m;if("category"===p.valueType)return void(l&&(l=e.domain[f][h].length===a.count));let g=null==(m=s[0])?void 0:m[f][h];for(let v=1;(l||c)&&v<s.length;v++){const y=s[v][f][h];c&&(c=g<=y),l&&(l=g!==y),g=y}};for(let h=0;(l||c)&&h<n.length;h++)d(h,n[h],"keys");for(let h=0;(l||c)&&h<u.length;h++){const[p,f]=u[h];d(p,f,"values")}return{uniqueKeys:l,orderedKeys:c}}}}function Mje({mode:r,separateNegative:t}){return()=>()=>(e,i)=>{const n=[0,0];for(const o of i){const a=e[o],s=XC(a)&&t?0:1;ai(a)&&("normal"===r&&(n[s]+=a),e[o]=n[s],"trailing"===r&&(n[s]+=a))}}}function Rje({mode:r,sum:t}){return()=>{const e=[];let i=!0;return()=>(n,o)=>{let a=0;for(const s of o){const l=n[s],c=i&&"current"===t?0:e[s];e[s]=l;const u="current"===t?l:c;ai(l)&&ai(c)?("normal"===r&&(a+=u),n[s]=a,"trailing"===r&&(a+=u)):n[s]=a}i=!1}}}function rQ(r,t,e,i,n=!1){let o;return o=e.startsWith("window")?xT({mode:e.endsWith("-trailing")?"trailing":"normal",sum:i},Rje):xT({mode:e,separateNegative:n},Mje),{scopes:[r.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function Xp(r,t=!0){return{type:"processor",property:"diff",calculate:e=>{const i={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},n=new Map,o=new Map,a=new Map,s=new Map,l=new Map,c=new Map,u=new Map;for(let d=0;d<Math.max(r.data.length,e.data.length);d++){const h=r.data[d],p=e.data[d],f=h?Jd(h.keys):"",m=p?Jd(p.keys):"";f!==m?(s.has(m)?((t||!qC(s.get(m).values,p.values))&&(a.set(m,p),c.set(m,d),n.set(m,p)),s.delete(m),u.delete(m)):p&&(o.set(m,p),l.set(m,d)),o.has(f)?((t||!qC(o.get(f).values,h.values))&&(a.set(f,h),c.set(f,d),n.set(f,h)),o.delete(f),l.delete(f)):h&&(a.delete(f),c.delete(f),s.set(f,h),u.set(f,d))):qC(h.values,p.values)||(a.set(m,p),c.set(m,d))}return i.added=Array.from(o.keys()),i.updated=Array.from(a.keys()),i.removed=Array.from(s.keys()),i.moved=Array.from(n.keys()),i.addedIndices=Array.from(l.values()),i.updatedIndices=Array.from(c.values()),i.removedIndices=Array.from(u.values()),i.changed=i.added.length>0||i.updated.length>0||i.removed.length>0,i}}}function Jd(r){return Fn(r)?r.map(t=>Ng(t)).join("___"):Ng(r)}var oQ=(r=>(r[r.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",r[r.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",r[r.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",r[r.NEAREST_NODE=3]="NEAREST_NODE",r))(oQ||{});function N1(r){return null!=sb(r,!0)}function aQ(r){return null!=sb(r,!1)}function Ar(r,t,e,i={}){return J({scopes:[r.id],property:t,type:"key",valueType:e?"range":"category",validation:e?N1:aQ},i)}function Ei(r,t,e,i={}){return J({scopes:[r.id],property:t,type:"value",valueType:e?"range":"category",validation:e?N1:aQ},i)}function G1(r,t,e={}){const i=e,{min:n=-1/0,max:o=1/0}=i,a=Zn(i,["min","max"]);return J({scopes:[r.id],type:"value",property:t,valueType:"range",validation:N1,processor:()=>s=>ai(s)?ti(n,s,o):s},a)}function Pje(r,t,e,i={}){return Pe(J({},Ei(r,t,e,i)),{processor:()=>{let r=0;return t=>{const e=r;return r=t,e}}})}function sQ(){return()=>{let r=0;return t=>{const e=r;return r=t,e}}}function V1(r,t,e,i={}){const n=i,{onlyPositive:o}=n,a=Zn(n,["onlyPositive"]);return Pe(J({},Ei(r,t,e,a)),{processor:tQ(o)})}function Ije(r,t,e,i={}){return Pe(J({},Ei(r,t,e,i)),{processor:iQ()})}function eh(r,t,e,i,n="current",o){return[Ei(r,t,e,o),rQ(r,o.groupId,i,n,o.separateNegative),...null!=o.rangeId?[JZ(r,o.rangeId,o.groupId)]:[]]}var yb=class{constructor(r,t,{datum:e},i){this.type=r,this.event=t,this.datum=e,this.seriesId=i.id}},B1=class{constructor(r,t,e){this.series=r,this.seriesGrouping=t,this.oldGrouping=e,this.type="groupingChanged"}},qg=class extends SZ{constructor(r){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=yb,this.internalId=nc(this),this.rootGroup=new $e({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new YX,this._declarationOrder=-1,this.seriesListeners=new Hg;const{moduleCtx:t,useLabelLayer:e=!1,pickModes:i=[1],directionKeys:n={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:s=!1}=r;this.ctx=t,this.directionKeys=n,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new $e({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new $e({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new $e({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new $e({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new $e({name:`${this.internalId}-series-labels`,layer:e,zIndex:7})),this.annotationGroup=new $e({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var r,t;return null!=(t=null==(r=this.properties)?void 0:r.id)?t:this.internalId}get type(){var r;return null!=(r=this.constructor.type)?r:""}set data(r){this._data=r,this.onDataChange()}get data(){var r;return null!=(r=this._data)?r:this._chartData}set visible(r){this.properties.visible=r,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(r){this._chartData=r,this.data===r&&this.onDataChange()}onSeriesGroupingChange(r,t){const{internalId:e,type:i,visible:n}=this;r&&this.ctx.seriesStateManager.deregisterSeries({id:e,type:i}),t&&this.ctx.seriesStateManager.registerSeries({id:e,type:i,visible:n,seriesGrouping:t}),this.fireEvent(new B1(this,t,r))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(r,t=0){let e=0;switch(r){case"data":case"paths":break;case"labels":e+=2e4;break;case"marker":e+=1e4;break;case"highlight":t+=15e3;break;case"annotation":e+=15e3}return[()=>this._declarationOrder+e,t]}addListener(r,t){return this.seriesListeners.addListener(r,t)}dispatch(r,t){this.seriesListeners.dispatch(r,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(r=>r()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(r,t){const e=this.resolveKeyDirection(r),i=t?.[e],n=[];if(!i)return n;const o=(...a)=>{for(const s of a)Array.isArray(s)?o(...s):"object"==typeof s?o(...Object.values(s)):n.push(s)};return o(...i.map(a=>this.properties[a])),n}getKeys(r){return this.getDirectionValues(r,this.directionKeys)}getNames(r){return this.getDirectionValues(r,this.directionNames)}resolveKeyDirection(r){return r}getDomain(r){const t=this.getSeriesDomain(r),e=this.moduleMap.mapValues(i=>i.getDomain(r));return t.concat(e.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(r){const{strokeWidth:t,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||void 0===t)return r;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return r}}isItemIdHighlighted(){var r,t;const{series:e}=null!=(t=null==(r=this.ctx.highlightManager)?void 0:r.getActiveHighlight())?t:{};return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,e)=>J(J({},e),t),{})}pickNode(r,t){const{pickModes:e,visible:i,rootGroup:n}=this;if(i&&n.visible)for(const o of e){if(t&&!t.includes(o))continue;let a;switch(o){case 0:a=this.pickNodeExactShape(r);break;case 1:case 2:a=this.pickNodeMainAxisFirst(r,2===o);break;case 3:a=this.pickNodeClosestDatum(r)}if(a)return{pickMode:o,match:a.datum,distance:a.distance}}}pickNodeExactShape(r){const t=this.contentGroup.pickNode(r.x,r.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(r){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(r,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(r,t){this.fireEvent(new this.NodeClickEvent("nodeClick",r,t,this))}fireNodeDoubleClickEvent(r,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",r,t,this))}toggleSeriesItem(r,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:r,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return Pe(J({},this.ctx),{series:this})}getLabelText(r,t,e=String){var i;return r.formatter&&null!=(i=this.ctx.callbackCache.call(r.formatter,J({seriesId:this.id},t)))?i:e(t.value)}getMarkerStyle(r,t,e=r.getStyle()){var i,n;const a=Gt({size:null!=(n=null==(i=t.datum.point)?void 0:i.size)?n:0},e);return r.formatter?Gt(this.ctx.callbackCache.call(r.formatter,Pe(J(J({seriesId:this.id},a),t),{datum:t.datum.datum})),a):a}updateMarkerStyle(r,t,e,i=t.getStyle(),{applyTranslation:n=!0}={}){const{point:o}=e.datum,a=this.getMarkerStyle(t,e,i),s=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);r.setProperties(n?Pe(J({visible:s},a),{translationX:o?.x,translationY:o?.y}):J({visible:s},a)),"function"==typeof t.shape&&!r.dirtyPath&&(r.path.clear({trackChanges:!0}),r.updatePath(),r.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var r;return null!=(r=this._nodeDataDependencies)?r:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(r){const{width:t,height:e}=r??{width:NaN,height:NaN},i=r?{seriesRectWidth:t,seriesRectHeight:e}:void 0,n=null!=Ca(this.nodeDataDependencies,i);return n&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),n}};qg.highlightedZIndex=1e12,S([Jn({changeValue:function(r,t){this.onSeriesGroupingChange(t,r)}})],qg.prototype,"seriesGrouping",2);var Lje=class{constructor(r,t){this.chartLike=r,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",e=>this.layoutComplete(e)),this.layoutService.addListener("start-layout",e=>this.positionPadding(e.shrinkRect)),this.layoutService.addListener("start-layout",e=>this.positionCaptions(e.shrinkRect)))}destroy(){this.destroyFns.forEach(r=>r())}layoutComplete({clipSeries:r,series:{paddedRect:t}}){const{seriesArea:e,seriesRoot:i}=this.chartLike;e.clip||r?i.setClipRectInGroupCoordinateSpace(t):i.setClipRectInGroupCoordinateSpace()}positionPadding(r){const{padding:t}=this.chartLike;return r.shrink(t.left,"left"),r.shrink(t.top,"top"),r.shrink(t.right,"right"),r.shrink(t.bottom,"bottom"),{shrinkRect:r}}positionCaptions(r){var t,e,i,n;const{title:o,subtitle:a,footnote:s}=this.chartLike,l=r.clone(),c=p=>{var f;const g=null!=(f=p.lineHeight)?f:p.fontSize*ii.defaultLineHeightRatio,v=r.width,y=Math.max(g,r.height/10);p.computeTextWrap(v,y)},u=p=>"left"===p?l.x:"right"===p?l.x+l.width:("center"!==p&&Ae.error(`invalid textAlign value: ${p}`),l.x+l.width/2),d=(p,f)=>{const m=l.y;p.node.x=u(p.textAlign),p.node.y=m,p.node.textBaseline="top",c(p);const g=p.node.computeBBox(),v=Math.ceil(g.y-m+g.height+f);l.shrink(v,"top")};return a&&(a.node.visible=null!=(t=a.enabled)&&t),o&&(o.node.visible=o.enabled,o.node.visible)&&d(o,null!=(e=o.spacing)?e:a?.node.visible?qi.SMALL_PADDING:qi.LARGE_PADDING),a&&a.node.visible&&d(a,null!=(i=a.spacing)?i:0),s&&(s.node.visible=s.enabled,s.node.visible&&((p,f)=>{const m=l.y+l.height;p.node.x=u(p.textAlign),p.node.y=m,p.node.textBaseline="bottom",c(p);const g=p.node.computeBBox(),v=Math.ceil(m-g.y+f);l.shrink(v,"bottom")})(s,null!=(n=s.spacing)?n:0)),{shrinkRect:l}}},Nje=class{constructor(r,t,e,i){this.chart=r,this.dataService=t,this.updateService=e,this.zoomManager=i,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(r=>r())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return he(this,null,function*(){if(!this.dataService.isLazy())return;const r=this.getValidAxis();let t,e=!0;if(r){const i=this.zoomManager.getAxisZoom(r.id);t=this.getAxisWindow(r,i),e=this.shouldRefresh(r,i)}this.dirtyZoom=!1,this.dirtyDataSource=!1,e&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})})}getValidAxis(){return this.chart.axes.find(r=>"time"===r.type)}shouldRefresh(r,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const e=this.lastAxisZooms.get(r.id);return!(e&&t.min===e.min&&t.max===e.max||(this.lastAxisZooms.set(r.id,t),0))}getAxisWindow(r,t){var e,i;const n=null==(i=(e=r.scale).getDomain)?void 0:i.call(e);if(!t||!n||0===n.length||isNaN(Number(n[0])))return;const o=Number(n[1])-Number(n[0]);return{min:new Date(Number(n[0])+o*t.min),max:new Date(Number(n[0])+o*t.max)}}},Gje=class{constructor(r,t,e,i){this.chartLike=r,this.overlays=t,this.dataService=e,this.layoutService=i,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",n=>this.onLayoutComplete(n)))}destroy(){this.destroyFns.forEach(r=>r())}onLayoutComplete({series:{rect:r}}){const t=this.dataService.isLoading(),e=this.chartLike.series.some(n=>{var o;return null==(o=n.data)?void 0:o.length}),i=this.chartLike.series.some(n=>n.visible);this.toggleOverlay(this.overlays.loading,r,t),this.toggleOverlay(this.overlays.noData,r,!t&&!e),this.toggleOverlay(this.overlays.noVisibleSeries,r,e&&!i)}toggleOverlay(r,t,e){e&&t?r.show(t):r.hide()}},cQ=class extends Hg{constructor(r){super(),this.updateCallback=r}update(r=0,t){this.updateCallback(r,t)}dispatchUpdateComplete(r){this.dispatch("update-complete",{type:"update-complete",minRect:r})}},Zs=sn.create(!0,"opts"),H1=class extends wi{constructor(){super(...arguments),this.padding=new Xd(0)}};S([R(rt,{optional:!0})],H1.prototype,"clip",2),S([R(Ye)],H1.prototype,"padding",2);var Vn=class Sie extends SZ{constructor(t,e){var i;super(),this.id=nc(this),this.seriesRoot=new $e({name:`${this.id}-Series-root`}),this.debug=sn.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Xd(20),this.seriesArea=new H1,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new x1,this.syncManager=new tje(this),this.zoomManager=new jZ,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(r){return new Promise(t=>{this.acquireQueue.push([r,t]),this.available&&this.dispatchNext()})}acquireImmediately(r){return he(this,null,function*(){return!!this.available&&(yield this.acquire(r),!0)})}waitForClearAcquireQueue(){return he(this,null,function*(){return this.acquire(()=>he(this,null,function*(){}))})}dispatchNext(){return he(this,null,function*(){var r,t;this.available=!1;let[e,i]=null!=(r=this.acquireQueue.shift())?r:[];for(;e;){try{yield e(),i?.()}catch(n){Ae.error("mutex callback error",n),i?.()}[e,i]=null!=(t=this.acquireQueue.shift())?t:[]}this.available=!0})}},this.updateRequestors={},this.performUpdateTrigger=function B3e(r){return xZ((t,e=0)=>setTimeout(t,e),r)}(d=>he(this,[d],function*({count:h}){this.destroyed||this.updateMutex.acquire(()=>he(this,null,function*(){try{yield this.performUpdate(h)}catch(p){Ae.error("update error",p)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=function V3e(r){return xZ((t,e)=>requestAnimationFrame(t),r)}(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=d=>{const h=Pe(J({},d),{type:"seriesNodeClick"});Object.defineProperty(h,"series",{enumerable:!1,get:()=>d.series}),this.fireEvent(h)},this.onSeriesNodeDoubleClick=d=>{const h=Pe(J({},d),{type:"seriesNodeDoubleClick"});this.fireEvent(h)},this.seriesGroupingChanged=d=>{if(!(d instanceof B1))return;const{series:h,seriesGrouping:p,oldGrouping:f}=d;null!=h.rootGroup.parent&&this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,rootGroup:h.rootGroup,highlightGroup:h.highlightGroup,annotationGroup:h.annotationGroup,getGroupZIndexSubOrder:m=>h.getGroupZIndexSubOrder(m),seriesGrouping:p,oldGrouping:f})},this.chartOptions=t;const{window:n,document:o}=t.specialOverrides,a=e?.scene,s=null!=(i=e?.element)?i:o.createElement("div"),l=e?.container,c=new $e({name:"root"});c.visible=!1,c.append(this.seriesRoot),this.axisGridGroup=new $e({name:"Axes-Grids",layer:!0,zIndex:1}),c.appendChild(this.axisGridGroup),this.axisGroup=new $e({name:"Axes",layer:!0,zIndex:2}),c.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=a??new C1(this.chartOptions.specialOverrides),this.scene.root=c,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new LZ,this.contextMenuRegistry=new NZ,this.cursorManager=new GZ(s),this.highlightManager=new x1,this.interactionManager=new FZ(s,o,n),this.regionManager=new class{constructor(r){this.interactionManager=r,this.eventHandler=t=>this.processEvent(t),this.regions=new Q3e,this.destroyFns=[],RZ.forEach(t=>this.destroyFns.push(r.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(r=>r()),this.currentRegion=void 0;for(const r of this.regions)r.listeners.destroy();this.regions.clear()}pushRegion(r,t){const e={name:r,listeners:new J3e};return this.regions.add(e,t),e}addRegion(r,t){const e=this.pushRegion(r,t),{interactionManager:i}=this;return new class n{addListener(a,s,l=8){return e.listeners.addListener(a,c=>{c.consumed||i.getState()&l&&s(c)})}}}processEvent(r){const{currentRegion:t}=this,e=this.pickRegion(r.offsetX,r.offsetY);void 0!==t&&e?.name!==t.name&&t?.listeners.dispatch("leave",Pe(J({},r),{type:"leave"})),void 0!==e&&(()=>he(this,null,function*(){return e.listeners.dispatch(r.type,r)}))().catch(n=>Ae.errorOnce(n)),this.currentRegion=e}pickRegion(r,t){const e=this.regions.find(r,t);return e.length>0?e[0]:void 0}}(this.interactionManager),this.gestureDetector=new BZ(s),this.layoutService=new UZ,this.updateService=new cQ((d=0,h)=>this.update(d,h)),this.seriesStateManager=new class{constructor(){this.groups={}}registerSeries({id:r,seriesGrouping:t,visible:e,type:i}){var n;t&&(null!=(n=this.groups)[i]||(n[i]={}),this.groups[i][r]={grouping:t,visible:e})}deregisterSeries({id:r,type:t}){this.groups[t]&&delete this.groups[t][r],this.groups[t]&&0===Object.keys(this.groups[t]).length&&delete this.groups[t]}getVisiblePeerGroupIndex({type:r,seriesGrouping:t,visible:e}){var i;if(!t)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};const n=new Set,o=new Set;for(const[s,l]of Object.entries(null!=(i=this.groups[r])?i:{}))l.visible&&(n.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));const a=[...n.values()];return a.sort((s,l)=>s-l),{visibleGroupCount:a.length,visibleSameStackCount:o.size,index:a.indexOf(t.groupIndex)}}},this.seriesLayerManager=new class{constructor(r){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=r}setSeriesCount(r){this.expectedSeriesCount=r}requestGroup(r){var t,i,n;const{internalId:o,type:a,rootGroup:s,highlightGroup:l,annotationGroup:c,seriesGrouping:u}=r,{groupIndex:d=o}=u??{};if(null!=this.series[o])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),null!=(t=this.groups)[a]||(t[a]={});const h=this.lookupIdx(d);let p=this.groups[a][h];return p||(p=null!=(n=(i=this.groups[a])[h])?n:i[h]={seriesIds:[],group:this.rootGroup.appendChild(new $e({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:r.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new $e({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:r.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new $e({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:r.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:p,seriesConfig:r},p.seriesIds.push(o),p.group.appendChild(s),p.highlight.appendChild(l),p.annotation.appendChild(c),p.group}changeGroup(r){var t,e;const{internalId:i,seriesGrouping:n,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l,oldGrouping:c}=r,{groupIndex:u=i}=n??{};null!=(e=null==(t=this.groups[o])?void 0:t[u])&&e.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({internalId:i,seriesGrouping:c,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l}),this.requestGroup(r))}releaseGroup(r){var t,e,i,n,o;const{internalId:a,seriesGrouping:s,rootGroup:l,highlightGroup:c,annotationGroup:u,type:d}=r,{groupIndex:h=a}=s??{};if(null==this.series[a])throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const p=this.lookupIdx(h),f=null!=(i=null==(t=this.groups[d])?void 0:t[p])?i:null==(e=this.series[a])?void 0:e.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(m=>m!==a),f.group.removeChild(l),f.highlight.removeChild(c),f.annotation.removeChild(u)),0===f?.seriesIds.length)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[d][p],delete this.groups[d][a];else if(f?.seriesIds.length>0){const m=null==(o=this.series[null==(n=f?.seriesIds)?void 0:n[0]])?void 0:o.seriesConfig;f.group.zIndexSubOrder=m?.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=m?.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=m?.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(r){return"normal"===this.mode?r:"string"!=typeof r||(r=Number(r.split("-").slice(-1)[0]))?Math.floor(30*Math.max(Math.min(r/this.expectedSeriesCount,1),0)):0}destroy(){for(const r of Object.values(this.groups))for(const t of Object.values(r))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}}(this.seriesRoot),this.callbackCache=new class{constructor(){this.cache=new WeakMap}call(r,...t){let e,i=this.cache.get(r);const n=()=>{try{const o=r(...t);return i&&null!=e&&i.set(e,o),o}catch(o){return void Ae.warnOnce("User callback errored, ignoring",o)}};try{e=JSON.stringify(t)}catch{return n()}return null==i&&(i=new Map,this.cache.set(r,i)),i.has(e)?i.get(e):n()}invalidateCache(){this.cache=new WeakMap}},this.animationManager=new kZ(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new CT(this.animationManager),this.overlays=new Sje(this.element,this.animationManager),this.processors=[new Lje(this,this.layoutService),new Nje(this,this.dataService,this.updateService,this.zoomManager),new Gje(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new PX(this.scene.canvas.element,o,n,o.body),this.tooltipManager=new D1(this.tooltip,this.interactionManager),this.highlight=new DZ,this.container=l,this.attachLegend("category",Go),this.legend=this.legends.get("category");const{All:u}=bT;EZ.observe(this.element,d=>this.rawResize(d)),this._destroyFns.push(this.dataService.addListener("data-load",d=>{this.data=d.data}),this.interactionManager.addListener("click",d=>this.onClick(d)),this.interactionManager.addListener("dblclick",d=>this.onDoubleClick(d)),this.interactionManager.addListener("hover",d=>this.onMouseMove(d)),this.interactionManager.addListener("leave",d=>this.onLeave(d)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",d=>this.onContextMenu(d),u),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",d=>this.changeHighlightDatum(d)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return Sie.chartsInstances.get(t)}onAutoSizeChange(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}getOptions(){var t;return null!=(t=this.queuedUserOptions.at(-1))?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);const e=new t.instanceConstructor(this.getModuleContext());if("legend"===t.type){const i=e;this.legends.set(t.identifier,i),i.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,e)}removeModule(t){var e;"legend"===t.type&&this.legends.delete(t.identifier),null==(e=this.modules.get(t.optionsKey))||e.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,e){const i=new e(this.getModuleContext());this.legends.set(t,i),i.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,null==(t=this.animationManager)||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t?.keepTransferableResources;let i;this.performUpdateType=7,this._destroyFns.forEach(n=>n()),this.processors.forEach(n=>n.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(n=>n.destroy()),this.legends.clear(),this.overlays.destroy(),EZ.unobserve(this.element);for(const n of this.modules.values())n?.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),e?(this.scene.strip(),i={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(n=>n.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>he(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,e){var i,n;const{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:l}=e??{};o&&this.series.forEach(c=>c.markNodeDataDirty());for(const c of s)this.seriesToUpdate.add(c);if(a&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=null!=(i=e?.skipSync)&&i,this.debug.check()){let c=null!=(n=(new Error).stack)?n:"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(e?.backOffMs))}performUpdate(t){return he(this,null,function*(){const{performUpdateType:e,extraDebugStats:i}=this,n=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&e<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",pb[e]);const o={start:performance.now()};switch(e){case 0:case 1:yield this.updateData(),o["\u2b07\ufe0f"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["\u{1f3ed}"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(n))break;yield this.processLayout(),o["\u2316"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:s}=this;yield Promise.all(n.map(c=>c.update({seriesRect:s}))),o["\u{1f914}"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const l=this.tooltipManager.getTooltipMeta(this.id);e<=4&&void 0!==l&&this.handlePointer(l.lastPointerEvent,!0),o["\u2196"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;i.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:i}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(a-o.start))/100,count:t,performUpdateType:pb[e]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Ae.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,i=10*Pt(e,2);if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,e){var i,n;const o=null!=(i=e?.filter(a=>!t.includes(a)))?i:[];this.destroySeries(o),null==(n=this.seriesLayerManager)||n.setSeriesCount(t.length);for(const a of t){if(e?.includes(a))continue;null==a.rootGroup.parent&&this.seriesLayerManager.requestGroup(a);const s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels:()=>s.placeLabels()},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t?.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t=PN(this.axes,e=>e.direction);this.series.forEach(e=>{e.directions.forEach(i=>{const n=t[i];if(!n)return void Ae.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const o=e.getKeys(i),a=this.findMatchingAxis(n,o);a?e.axes[i]=a:Ae.warnOnce(`no matching axis for direction [${i}] and keys [${o}]; check series and axes configuration.`)})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e)for(const n of e)if(i.keys.includes(n))return i}}rawResize(t){var e;let{width:i,height:n}=t;if(i=Math.floor(i),n=Math.floor(n),!this.autoSize||0===i&&0===n)return;const[o=0,a=0]=null!=(e=this._lastAutoSize)?e:[];o===i&&a===n||(this._lastAutoSize=[i,n],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,e,i){var n,o,a,s;if(t??(t=null!=(o=this.width)?o:this.autoSize?null==(n=this._lastAutoSize)?void 0:n[0]:this.scene.canvas.width),e??(e=null!=(s=this.height)?s:this.autoSize?null==(a=this._lastAutoSize)?void 0:a[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${i}`,{width:t,height:e,stack:(new Error).stack}),t&&e&&ai(t)&&ai(e)&&this.scene.resize(t,e)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return he(this,null,function*(){this.series.forEach(e=>e.setChartData(this.data));const t=Array.from(this.modules.values(),e=>{var i;return null==(i=e.updateData)?void 0:i.call(e,{data:this.data})});yield Promise.all(t)})}processData(){return he(this,null,function*(){if(this.series.some(n=>n.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();const n=this.modules.get("sync");n?.enabled&&n.syncAxes(this._skipSync)}const t=new OZ(this.mode),e=this.series.map(n=>n.processData(t)),i=Array.from(this.modules.values(),n=>{var o;return null==(o=n.processData)?void 0:o.call(n,{dataController:t})});t.execute(),yield Promise.all([...e,...i]),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const c of this.series){if(!c.visible)continue;const u=c.getLabelData();_3e(u?.[0])&&(e.push(u),t.push(c))}const{seriesRect:i}=this,{top:n,right:o,bottom:a,left:s}=this.seriesArea.padding,l=i&&e.length>0?function C3e(r,t,e=5){const i=[];r=r.map(n=>n.slice().sort((o,a)=>a.point.size-o.point.size));for(let n=0;n<r.length;n++){const o=i[n]=[],a=r[n];if(a?.length&&a[0].label)for(let s=0,l=a.length;s<l;s++){const c=a[s],u=c.label,h=c.point.x-.5*u.width,p=c.point.y-.5*c.point.size-u.height-e,{width:f,height:m}=u;t&&!y3e(t,h,p,f,m)||r.some(_=>_.some(b=>v3e(b.point,h,p,f,m)))||i.some(_=>_.some(b=>cZ(b,h,p,f,m)))||o.push({index:s,text:u.text,x:h,y:p,width:f,height:m,datum:c})}}return i}(e,{x:-s,y:-n,width:i.width+s+o,height:i.height+n+a}):[];return new Map(l.map((c,u)=>[t[u],c]))}updateLegend(){return he(this,null,function*(){this.legends.forEach((t,e)=>{const n=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(e));n.every(a=>"category"===a.legendType)&&"integrated"!==this.mode&&this.validateCategoryLegendData(n),t.data=n})})}validateCategoryLegendData(t){const e={};t.forEach(i=>{var n,a,s;const c=null==(n=this.series.find(u=>u.id===i.seriesId))?void 0:n.type;c&&(null!=e[c]||(e[c]={}),null!=(a=e[c])[s=i.label.text]||(a[s]=new Set),null!=i.marker.fill&&e[c][i.label.text].add(i.marker.fill))});for(const i of Object.values(e))for(const[n,o]of Object.entries(i))o.size>1&&Ae.warnOnce(`legend item '${n}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return he(this,null,function*(){var t;const e=this.animationRect;yield this.performLayout(),e&&!(null!=(t=this.animationRect)&&t.equals(e))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return he(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:t,height:e}=this.scene;let i={shrinkRect:new wt(0,0,t,e)};i=this.layoutService.dispatchPerformLayout("start-layout",i),i=this.layoutService.dispatchPerformLayout("before-series",i);const n=Array.from(this.modules.values(),o=>he(this,null,function*(){var a;null!=o.performLayout&&(i=yield null==(a=o.performLayout)?void 0:a.call(o,i))}));return yield Promise.all(n),i.shrinkRect})}pickSeriesNode(t,e,i){var n,o;const a=performance.now(),s=e?[0]:void 0,l=[...this.series].reverse();let c;for(const u of l){if(!u.visible||!u.rootGroup.visible)continue;const{match:d,distance:h}=null!=(n=u.pickNode(t,s))?n:{};if(d&&null!=h&&((!c||c.distance>h)&&h<=(i??1/0)&&(c={series:u,distance:h,datum:d}),0===h))break}return this.extraDebugStats.pickSeriesNode=Math.round((null!=(o=this.extraDebugStats.pickSeriesNode)?o:0)+(performance.now()-a)),c}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:i}=bT;this.interactionManager.getState()&(e|i)&&this.checkSeriesNodeRange(t,(n,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,e){if(8!==this.interactionManager.getState())return;const{lastPick:i,hoverRect:n}=this,{offsetX:o,offsetY:a}=t,s=(l=!1)=>{i&&this.resetPointer(l)};e&&this.animationManager.isActive()?s():n?.containsPoint(o,a)?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()}handlePointerTooltip(t,e){const{lastPick:i,tooltip:n}=this,{range:o}=n,{offsetX:a,offsetY:s}=t;let l;ai(o)&&(l=o);const c=this.pickSeriesNode({x:a,y:s},"exact"===o,l);if(!c)return this.tooltipManager.removeTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));const u="node"===this.highlight.range||!i||i!==c.datum;let d;u&&(d=c.series.getTooltipHtml(c.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,c.datum));const g=this.tooltip.enabled&&c.series.properties.tooltip.enabled&&("nearest"===o||null!=l||"exact"===o&&0===c.distance)&&(!u||void 0!==d),v=D1.makeTooltipMeta(t,c.datum);g&&this.tooltipManager.updateTooltip(this.id,v,d)}handlePointerNode(t){this.checkSeriesNodeRange(t,(i,n)=>{(i.hasEventListener("nodeClick")||i.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,n)})||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))}onClick(t){this.checkSeriesNodeClick(t)?this.update(4):this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){this.checkSeriesNodeDoubleClick(t)?this.update(4):this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,i)=>e.fireNodeClickEvent(t.sourceEvent,i))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,i)=>e.fireNodeDoubleClickEvent(t.sourceEvent,i))}checkSeriesNodeRange(t,e){const i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),n=i?.datum,o=n?.series.properties.nodeClickRange;let a;ai(o)&&(a=o);let s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);return s?this.highlightManager.updatePicked(this.id,s.datum):this.highlightManager.updatePicked(this.id),n&&"nearest"===o?(e(n.series,n),!0):("exact"!==o&&(s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,a)),!!s&&!(null==a&&("exact"!==o||0!==s.distance)||(e(s.series,s.datum),0)))}changeHighlightDatum(t){var e,i;const n=new Set,{series:o,datum:a}=null!=(e=t.currentHighlight)?e:{},{series:s,datum:l}=null!=(i=t.previousHighlight)?i:{};s&&n.add(s),o&&n.add(o),s?.properties.cursor&&l&&this.cursorManager.updateCursor(s.id),o?.properties.cursor&&a&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,null==o||null==s?this.update(4):this.update(4,{seriesToUpdate:n})}waitForUpdate(t=5e3){return he(this,null,function*(){const e=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());7!==this.performUpdateType;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield L3e(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){const t=this.series.map(e=>e.getMinRect()).filter(e=>void 0!==e);if(t.length)return new wt(0,0,t.reduce((e,i)=>Math.max(e,i.width),0),t.reduce((e,i)=>Math.max(e,i.height),0))}filterMiniChartSeries(t){return null!=t?t.filter(e=>!1!==e.showInMiniChart):t}applyOptions(t){var e,i,n,o,a,s;const l=this.processedOptions,c=t.diffOptions(l),u=t.userOptions;if(null==c)return;Zs("AgChartV2.updateDelta() - applying delta",c);const d=Gt(c,l),h=this.applyModules(d),p=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(Mp(c)||BC(c))&&p.push("axes"),c.listeners&&this.registerListeners(this,c.listeners),this.applyOptionValues(this,c,{skip:p});let f=!1,m="no-op";c.series&&c.series.length>0&&(m=this.applySeries(this,c.series,l?.series),f=!0),"replaced"===m&&this.resetAnimations(),this.applyAxes(this,d,l,m)&&(f=!0);const g=!!c.data||"data-change"===m||"replaced"===m,v=function k2e(){return Fq}(),y=Object.values(v).some(I=>null!=c[I]);f=f||g||y||null!=c.title&&null!=c.subtitle,c.data&&(this.data=c.data),null!=(e=c.legend)&&e.listeners&&Object.assign(this.legend.listeners,c.legend.listeners),c.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=d,this.userOptions=Gt(u,this.userOptions);const b=this.modules.get("navigator"),w=this.modules.get("zoom");!b?.enabled&&!w?.enabled&&this.zoomManager.updateZoom();const E=b?.miniChart;if(!0===E?.enabled&&null!=c?.series){const I=this.applySeries(E,this.filterMiniChartSeries(c.series),this.filterMiniChartSeries(l?.series));this.applyAxes(E,c,l,I,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const k=E.axes,N=k.find(B=>"x"===B.direction);for(const B of k)B.gridLine.enabled=!1,B.label.enabled=B===N,B.tick.enabled=!1,B.interactionEnabled=!1;if(null!=N){const B=null==(n=null==(i=c.navigator)?void 0:i.miniChart)?void 0:n.label,Y=null==(s=null==(a=null==(o=c.navigator)?void 0:o.miniChart)?void 0:a.label)?void 0:s.interval;jd(N.label,B,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),jd(N.tick,Y,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});const ne=Y?.step;null!=ne&&(N.tick.interval=ne)}}else!1===E?.enabled&&(E.series=[],E.axes=[]);const P=f||h?1:3;Zs("AgChartV2.applyChartOptions() - update type",pb[P]),this.update(P,{forceNodeDataRefresh:f,newAnimationBatch:!0})}applyModules(t){let e=!1;for(const i of Ql){if("root"!==i.type&&"legend"!==i.type)continue;const n=t[i.optionsKey],o=i.chartTypes.includes(this.constructor.type)&&null!=n;o!==this.isModuleEnabled(i)&&(o?(this.addModule(i),this[i.optionsKey]=this.modules.get(i.optionsKey)):(this.removeModule(i),delete this[i.optionsKey]),e=!0)}return e}applySeries(t,e,i){if(!e)return"no-change";const n=function bje(r,t,e){var i,n,o;const a=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],s=(f,m)=>{const g=[f];for(const v of a)v in m&&null!=m[v]&&g.push(`${v}=${m[v]}`);return g.join(";")},l=new Map;let c=0;for(const f of r){const m=s(f.type,f.properties);l.has(m)||l.set(m,[]),null==(i=l.get(m))||i.push([f,c++])}const u=new Map;for(const f of t){const m=s(f.type,f);u.has(m)||u.set(m,[]),null==(n=u.get(m))||n.push(f)}if(![...l.keys()].some(f=>u.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:u.keys()};const h=[];let p=-1;for(const[f,m]of u.entries())for(const g of m){p++;const v=l.get(f);if(null==v||v.length<1){h.push({opts:g,idx:p,status:"add"}),l.delete(f);continue}const[y,_]=v.shift(),w=Ca(null!=(o=e?.[_])?o:{},g??{});h.push(w?{opts:g,series:y,diff:w,idx:_,status:"update"}:{opts:g,series:y,idx:_,status:"no-op"}),0===v.length&&l.delete(f)}for(const f of l.values())for(const[m,g]of f)h.push({series:m,idx:g,status:"remove"});return{status:"overlap",changes:h}}(t.series,e,i);if("no-overlap"===n.status)return Zs(`AgChartV2.applySeries() - creating new series instances, status: ${n.status}`,n),t.series=this.createSeries(e),"replaced";Zs("AgChartV2.applySeries() - matchResult",n);const o=[];for(const l of n.changes){if("add"===l.status){const h=this.createSeries([l.opts])[0];o.push(h),Zs("AgChartV2.applySeries() - created new series",h);continue}if("remove"===l.status){Zs(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}if("no-op"===l.status){o.push(l.series),Zs(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}const{series:c,diff:u,idx:d}=l;Zs(`AgChartV2.applySeries() - applying series diff previous idx ${d}`,u,c),this.applySeriesValues(c,u),c.markNodeDataDirty(),o.push(c)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;Zs("AgChartV2.applySeries() - final series instances",o),t.series=o;const a=n.changes.some(({diff:l})=>l&&(null!=l.seriesGrouping||null!=l.data)),s=n.changes.every(l=>"no-op"===l.status);return a?"data-change":s?"no-op":"updated"}applyAxes(t,e,i,n,o=[]){if(!("axes"in e)||!e.axes)return!1;o=["axes[].type",...o];const{axes:a}=e;return"replaced"!==n&&t.axes.length===a.length&&t.axes.every((c,u)=>c.type===a[u].type)&&Mp(i)?(t.axes.forEach((c,u)=>{var d,h;const f=Ca(null!=(h=null==(d=i.axes)?void 0:d[u])?h:{},a[u]);Zs(`AgChartV2.applyAxes() - applying axis diff idx ${u}`,f),this.applyOptionValues(c,f,{path:`axes[${u}]`,skip:o})}),!0):(Zs(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${n}`),t.axes=this.createAxis(a,o),!0)}createSeries(t){var e;const i=[],n=this.getModuleContext();for(const o of t??[]){const a=null!=(e=o.type)?e:"unknown";if(Sq(a)&&!l2e(a))continue;const s=C2e(a,n);this.applySeriesOptionModules(s,o),this.applySeriesValues(s,o),i.push(s)}return i}applySeriesOptionModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const o of Ql)"series-option"===o.type&&o.optionsKey in e&&o.seriesTypes.includes(t.type)&&n.addModule(o,a=>new a.instanceConstructor(i))}applySeriesValues(t,e){const i=t.getModuleMap(),n=e,{seriesGrouping:c}=n,d=Zn(n,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(d),"data"in e&&(t.data=e.data),"errorBar"in e&&i.isModuleEnabled("errorBar")&&i.getModule("errorBar").properties.set(e.errorBar),e?.listeners&&this.registerListeners(t,e.listeners),c&&(t.seriesGrouping=J(J({},t.seriesGrouping),c))}createAxis(t,e){const i=new class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(r,t){const{result:e,valid:i,invalid:n}=this;(function yje(r){return XZ.includes(r.type)})(t)&&(function _je(r){return"string"==typeof r&&gje.includes(r)}(t.position)?i.push(r):n.push(r)),e.push(r)}guessInvalidPositions(){const r=this.valid.filter(e=>function vje(r){return XZ.includes(r.type)}(e)).map(e=>e.position).filter(e=>void 0!==e),t=["top","right","bottom","left"];for(const e of this.invalid){let i=t.pop();for(;r.includes(i)&&void 0!==i;)i=t.pop();if(void 0===i)break;e.position=i}return this.result}},n=this.getModuleContext();let o=0;for(const a of t??[]){const s=ZBe(a.type,n),l=`axes[${o++}]`;this.applyAxisModules(s,a),this.applyOptionValues(s,a,{path:l,skip:e}),i.push(s,a)}return i.guessInvalidPositions()}applyAxisModules(t,e){let i=!1;const n=Ql.filter(a=>"axis-option"===a.type),o=t.createModuleContext();for(const a of n){const s=null!=e[a.optionsKey],l=t.getModuleMap();s!==l.isModuleEnabled(a)&&(i=!0,s?(l.addModule(a,u=>new u.instanceConstructor(o)),t[a.optionsKey]=l.getModule(a)):(l.removeModule(a),delete t[a.optionsKey]))}return i}applyOptionValues(t,e,{skip:i,path:n}={}){const o=this.getModuleContext();class a extends qi{constructor(){super(),this.registerInteraction(o)}}return jd(t,e,{constructors:Pe(J({},kX.constructors),{title:a,subtitle:a,footnote:a}),constructedArrays:IX.constructedArrays,allowedTypes:J({},kX.allowedTypes),skip:i,path:n})}registerListeners(t,e){t.clearEventListeners();for(const[i,n]of Object.entries(e))Tg(n)&&t.addEventListener(i,n)}};Vn.chartsInstances=new WeakMap,Vn.NodeValueChangeOptions={newValue(r){var t;null==(t=this.scene.root)||t.appendChild(r.node)},oldValue(r){var t;null==(t=this.scene.root)||t.removeChild(r.node)}},S([Jn({newValue(r){this.destroyed||(r.setAttribute("data-ag-charts",""),r.appendChild(this.element),Vn.chartsInstances.set(r,this))},oldValue(r){r.removeAttribute("data-ag-charts"),r.removeChild(this.element),Vn.chartsInstances.delete(r)}})],Vn.prototype,"container",2),S([Jn({newValue(r){this.resize(r,void 0,"width option")}})],Vn.prototype,"width",2),S([Jn({newValue(r){this.resize(void 0,r,"height option")}})],Vn.prototype,"height",2),S([Jn({newValue(r){this.onAutoSizeChange(r)}}),R(rt)],Vn.prototype,"autoSize",2),S([R(Ye)],Vn.prototype,"padding",2),S([R(Ye)],Vn.prototype,"seriesArea",2),S([Jn(Vn.NodeValueChangeOptions)],Vn.prototype,"title",2),S([Jn(Vn.NodeValueChangeOptions)],Vn.prototype,"subtitle",2),S([Jn(Vn.NodeValueChangeOptions)],Vn.prototype,"footnote",2),S([R(vn(["standalone","integrated"],"a chart mode"))],Vn.prototype,"mode",2),S([Jn({changeValue(r,t=[]){for(const e of t)r.includes(e)||(e.detachAxis(this.axisGroup,this.axisGridGroup),e.destroy());for(const e of r)t?.includes(e)||e.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(r)}})],Vn.prototype,"axes",2),S([Jn({changeValue(r,t){this.onSeriesChange(r,t)}})],Vn.prototype,"series",2);var DT=Vn,uQ=class extends qg{isContinuous(){var r,t;return{isContinuousX:xi.is(null==(r=this.axes.x)?void 0:r.scale),isContinuousY:xi.is(null==(t=this.axes.y)?void 0:t.scale)}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(r=>r.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(r,t,e){return he(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:n}=yield r.request(this.id,t??[],e);return this.dataModel=i,this.processedData=n,this.dispatch("data-processed",{dataModel:i,processedData:n}),{dataModel:i,processedData:n}})}isProcessedDataAnimatable(){var r,t;const e=null==(t=null==(r=this.processedData)?void 0:r.reduced)?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:i,uniqueKeys:n}=e;return i&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},Ou=class extends wi{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};S([R(Zt,{optional:!0})],Ou.prototype,"fill",2),S([R(di,{optional:!0})],Ou.prototype,"fillOpacity",2),S([R(Zt,{optional:!0})],Ou.prototype,"stroke",2),S([R(Ce,{optional:!0})],Ou.prototype,"strokeWidth",2),S([R(di,{optional:!0})],Ou.prototype,"strokeOpacity",2),S([R(bu,{optional:!0})],Ou.prototype,"lineDash",2),S([R(Ce,{optional:!0})],Ou.prototype,"lineDashOffset",2);var TT=class extends wi{};S([R(Ce,{optional:!0})],TT.prototype,"strokeWidth",2),S([R(di,{optional:!0})],TT.prototype,"dimOpacity",2),S([R(rt,{optional:!0})],TT.prototype,"enabled",2);var dQ=class extends wi{constructor(){super(...arguments),this.color="black"}};S([R(Zt,{optional:!0})],dQ.prototype,"color",2);var _b=class extends wi{constructor(){super(...arguments),this.item=new Ou,this.series=new TT,this.text=new dQ}};S([R(Ye)],_b.prototype,"item",2),S([R(Ye)],_b.prototype,"series",2),S([R(Ye)],_b.prototype,"text",2);var Qs=class extends wi{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new _b}};S([R(xe,{optional:!0})],Qs.prototype,"id",2),S([R(rt)],Qs.prototype,"visible",2),S([R(rt)],Qs.prototype,"showInLegend",2),S([R(xe)],Qs.prototype,"cursor",2),S([R(ZN)],Qs.prototype,"nodeClickRange",2),S([R(Ye)],Qs.prototype,"highlightStyle",2);var Vje={x:["xKey"],y:["yKey"]},Bje={x:["xName"],y:["yName"]},j1=class extends yb{constructor(r,t,e,i){super(r,t,e,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},th=class extends Qs{};S([R(xe,{optional:!0})],th.prototype,"legendItemName",2);var ih=class extends uQ{constructor(r){var t=r,{pathsPerSeries:e=1,hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:a=Vje,directionNames:s=Bje,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:c=!0,animationAlwaysUpdateSelections:u=!1,animationResetFns:d}=t,h=Zn(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(J({directionKeys:a,directionNames:s,useSeriesGroupLayer:!0,canHaveAxes:!0},h)),this._contextNodeData=[],this.NodeClickEvent=j1,this.highlightSelection=ji.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=ji.select(this.highlightLabel,ii),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=sn.create(),this.opts={pathsPerSeries:e,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:o,directionKeys:a,directionNames:s,animationResetFns:d,animationAlwaysUpdateSelections:u,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:c},this.animationState=new lb("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:p=>this.animateWaitingUpdateReady(p)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(r){"initial"===r?this.animationState.transition("reset"):"ready"===r&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",r=>this.onLegendItemClick(r)),this.ctx.chartEventManager.addListener("legend-item-double-click",r=>this.onLegendItemDoubleClick(r)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(r){return he(this,arguments,function*({seriesRect:t}){var e,i;const{visible:n,_contextNodeData:o}=this,{series:a}=null!=(i=null==(e=this.ctx.highlightManager)?void 0:e.getActiveHighlight())?i:{},s=a?a===this:void 0,l=this.checkResize(t),c=yield this.updateHighlightSelection(s);yield this.updateSelections(n),yield this.updateNodes(c,s,n);const u=this.getAnimationData(t,o);l&&this.animationState.transition("resize",u),this.animationState.transition("update",u)})}updateSelections(r){return he(this,null,function*(){const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((r||!t)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{null!=o.animationValid||(o.animationValid=e)}),yield this.updateSeriesGroups();const{dataModel:i,processedData:n}=this;void 0!==i&&void 0!==n&&this.dispatch("data-update",{dataModel:i,processedData:n})}yield Promise.all(this.subGroups.map((e,i)=>this.updateSeriesGroupSelections(e,i)))}})}updateSeriesGroupSelections(r,t,e){return he(this,null,function*(){const{datumSelection:i,labelSelection:n,markerSelection:o,paths:a}=r,s=this._contextNodeData[t],{nodeData:l,labelData:c,itemId:u}=s;yield this.updatePaths({seriesHighlighted:e,itemId:u,contextData:s,paths:a,seriesIdx:t}),r.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:i,seriesIdx:t}),r.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:n,seriesIdx:t}),o&&(r.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){return new(Zd())}updateSeriesGroups(){return he(this,null,function*(){const{_contextNodeData:r,contentGroup:t,subGroups:e,opts:{pathsPerSeries:i,hasMarkers:n,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a}}=this;if(r.length===e.length)return;r.length<e.length&&e.splice(r.length).forEach(({dataNodeGroup:l,markerGroup:c,labelGroup:u,paths:d})=>{t.removeChild(l),c&&t.removeChild(c),u&&t.removeChild(u);for(const h of d)t.removeChild(h)});const s=r.length;for(;s>e.length;){const c=this.subGroupId++,u=new $e({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),d=n?new $e({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,h=new $e({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});t.appendChild(u),t.appendChild(h),d&&t.appendChild(d);const p=[];for(let f=0;f<i;f++)p[f]=new Sa,p[f].zIndex=4,p[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),t.appendChild(p[f]);e.push({paths:p,dataNodeGroup:u,markerGroup:d,labelGroup:h,labelSelection:ji.select(h,ii),datumSelection:ji.select(u,()=>this.nodeFactory(),o),markerSelection:d?ji.select(d,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(r,t=0){var e;const i=super.getGroupZIndexSubOrder(r,t);if("paths"===r){const n=null!=(e=this.opts.pathsZIndexSubOrderOffset[t])?e:0,o=i[0];i[0]="function"==typeof o?()=>+o()+n:+o+n}return i}updateNodes(r,t,e){return he(this,null,function*(){var i;const{highlightSelection:n,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&(null==(i=this._contextNodeData)?void 0:i.length)>0&&e;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&!!t;const u=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:n,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",n)):(yield this.updateDatumNodes({datumSelection:n,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",n)),s&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((d,h)=>he(this,null,function*(){const{dataNodeGroup:p,markerGroup:f,datumSelection:m,labelSelection:g,markerSelection:v,paths:y,labelGroup:_}=d,{itemId:b}=this.contextNodeData[h],w=c;p.opacity=u,p.visible=l||w,_.visible=w,f&&(f.opacity=u,f.zIndex=p.zIndex>=4?p.zIndex:p.zIndex+1,f.visible=w),_&&(_.opacity=u),yield this.updatePathNodes({seriesHighlighted:t,itemId:b,paths:y,seriesIdx:h,opacity:u,visible:w,animationEnabled:l}),p.visible&&(yield this.updateDatumNodes({datumSelection:m,highlightedItems:r,isHighlight:!1,seriesIdx:h}),yield this.updateLabelNodes({labelSelection:g,seriesIdx:h}),a&&v&&(yield this.updateMarkerNodes({markerSelection:v,isHighlight:!1,seriesIdx:h})))})))})}getHighlightLabelData(r,t){const e=r.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return 0!==e.length?e:void 0}getHighlightData(r,t){return t?[t]:void 0}updateHighlightSelection(r){return he(this,null,function*(){var t;const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this,o=null==(t=this.ctx.highlightManager)?void 0:t.getActiveHighlight(),a=r&&o?.datum?o:void 0;let s,l;if(null!=a){const c=this.isLabelEnabled();for(const{labelData:u,nodeData:d}of n)if(l=this.getHighlightData(d,a),s=c?this.getHighlightLabelData(u,a):void 0,(!c||null!=s)&&null!=l)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:i}),l})}pickNodeExactShape(r){var t;const e=super.pickNodeExactShape(r);if(e)return e;const{x:i,y:n}=r,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:a,markerGroup:s}of this.subGroups){let l=a.pickNode(i,n);if(!l&&o&&(l=s?.pickNode(i,n)),l)break}for(const a of this.moduleMap.modules){const{datum:s}=null!=(t=a.pickNodeExact(r))?t:{};if(void 0!==s)return{datum:s,distance:0}}}pickNodeClosestDatum(r){var t,e;const{x:i,y:n}=r,{axes:o,rootGroup:a,_contextNodeData:s}=this,l=o.x,c=o.y,u=a.transformPoint(i,n);let h,d=1/0;for(const p of s)for(const f of p.nodeData){const{point:{x:m=NaN,y:g=NaN}={}}=f;if(isNaN(m)||isNaN(g)||!l?.inRange(m)||!c?.inRange(g))continue;const y=Math.max(Pt(u.x-m,2)+Pt(u.y-g,2),0);y<d&&(d=y,h=f)}for(const p of this.moduleMap.modules){const f=p.pickNodeNearest(r);if(void 0!==f&&f.distanceSquared<d){d=f.distanceSquared,h=f.datum;break}}if(h)return{datum:h,distance:Math.max(Math.sqrt(d)-(null!=(e=null==(t=h.point)?void 0:t.size)?e:0),0)}}pickNodeMainAxisFirst(r,t){var e,i;const{x:n,y:o}=r,{axes:a,rootGroup:s,_contextNodeData:l}=this,c=a.x,u=a.y,d=[c,u].filter(v=>v instanceof Eu).map(v=>v.direction);if(t&&0===d.length)return;const[h="x"]=d,p=s.transformPoint(n,o),f="x"===h?[p.x,p.y]:[p.y,p.x],m=[1/0,1/0];let g;for(const v of l)for(const y of v.nodeData){const{point:{x:_=NaN,y:b=NaN}={}}=y;if(isNaN(_)||isNaN(b)||!c?.inRange(_)||!u?.inRange(b))continue;const E="x"===h?[_,b]:[b,_];let M=!0;for(let P=0;P<E.length;P++){const I=Math.abs(E[P]-f[P]);if(I>m[P]){M=!1;break}I<m[P]&&(m[P]=I,m.fill(1/0,P+1,m.length))}M&&(g=y)}if(g){let v=Math.max(Pt(m[0],2)+Pt(m[1],2)-(null!=(i=null==(e=g.point)?void 0:e.size)?i:0),0);for(const y of this.moduleMap.modules){const _=y.pickNodeMainAxisFirst(r);if(void 0!==_&&_.distanceSquared<v){g=_.datum,v=_.distanceSquared;break}}return{datum:g,distance:Math.sqrt(v)}}}onLegendItemClick(r){const{legendItemName:t}=this.properties,{enabled:e,itemId:i,series:n}=r;(n.id===this.id||null!=t&&t===r.legendItemName)&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(r){const{enabled:t,itemId:e,series:i,numVisibleItems:n}=r,{legendItemName:o}=this.properties;this.toggleSeriesItem(e,!!(i.id===this.id||null!=o&&o===r.legendItemName||t&&1===n))}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[r]=this._contextNodeData;if(!r?.nodeData.length)return;const t=r.nodeData.map(({midPoint:i})=>{var n;return null!=(n=i?.x)?n:0}).sort((i,n)=>i-n).reduce((i,n,o,a)=>o>0?Math.max(i,n-a[o-1]):i,0),e=r.nodeData.map(({midPoint:i})=>{var n;return null!=(n=i?.y)?n:0}).sort((i,n)=>i-n).reduce((i,n,o,a)=>o>0?Math.max(i,n-a[o-1]):i,0);return new wt(0,0,t,e)}updateHighlightSelectionItem(r){return he(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:e,highlightSelection:i}=r,n=e??[];return t?this.updateMarkerSelection({nodeData:n,markerSelection:i,seriesIdx:-1}):this.updateDatumSelection({nodeData:n,datumSelection:i,seriesIdx:-1})})}updateHighlightSelectionLabel(r){return he(this,null,function*(){var t;return this.updateLabelSelection({labelData:null!=(t=r.items)?t:[],labelSelection:r.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(r){return he(this,null,function*(){return r.datumSelection})}updateDatumNodes(r){return he(this,null,function*(){})}updateMarkerSelection(r){return he(this,null,function*(){return r.markerSelection})}updateMarkerNodes(r){return he(this,null,function*(){})}updatePaths(r){return he(this,null,function*(){r.paths.forEach(t=>t.visible=!1)})}updatePathNodes(r){return he(this,null,function*(){const{paths:t,opacity:e,visible:i}=r;for(const n of t)n.opacity=e,n.visible=i})}resetAllAnimation(r){var t,e;const{path:i,datum:n,label:o,marker:a}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),i&&r.paths.forEach(s=>{er(s,i)}),n&&er(r.datumSelections,n),o&&er(r.labelSelections,o),a&&er(r.markerSelections,a),r.contextData.some(s=>!1===s.animationValid)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animateWaitingUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animateReadyHighlight(r){var t,e;const{datum:i}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};i&&er([r],i)}animateReadyHighlightMarkers(r){var t,e;const{marker:i}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};i&&er([r],i)}animateReadyResize(r){this.resetAllAnimation(r)}animateClearingUpdateEmpty(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(r,t){return{datumSelections:this.subGroups.map(({datumSelection:i})=>i),markerSelections:this.subGroups.filter(({markerSelection:i})=>void 0!==i).map(({markerSelection:i})=>i),labelSelections:this.subGroups.map(({labelSelection:i})=>i),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:i})=>i),seriesRect:r}}calculateScaling(){const r={},t=e=>{const i=this.axes[e];if(i)if(i.scale instanceof c1){const{range:n,domain:o}=i.scale;r[e]={type:"log",convert:a=>i.scale.convert(a),domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale instanceof xi){const{range:n}=i.scale,o=i.scale.getDomain();r[e]={type:"continuous",domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;r[e]={type:"category",domain:n,range:n.map(o=>i.scale.convert(o))}}};return t("x"),t("y"),r}},Hje=["top","right","bottom","left"],U1=class xie extends DT{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return he(this,null,function*(){const t=yield mu(xie.prototype,this,"performLayout").call(this),{firstSeriesTranslation:e,seriesRoot:i}=this,{animationRect:n,seriesRect:o,visibility:a,clipSeries:s}=this.updateAxes(t);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=n;const{x:l,y:c}=o;if(e)i.translationX=Math.floor(l),i.translationY=Math.floor(c),this.firstSeriesTranslation=!1;else{const{translationX:h,translationY:p}=i;oc(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:h,translationY:p},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=o.clone().grow(this.seriesArea.padding);this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:s,series:{rect:o,paddedRect:u,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(h=>J({id:h.id},h.getLayoutState()))});const d=Array.from(this.modules.values(),h=>{var p;return null==(p=h.performCartesianLayout)?void 0:p.call(h,{seriesRect:o})});return yield Promise.all(d),t})}updateAxes(t){var e;const i=this.axes.flatMap(v=>{var y;return null!=(y=v.crossLines)?y:[]}).map(v=>v.id);let o,a;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every((v,y)=>i[y]===v)?(o=J({},this._lastAxisWidths),a=J({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=i);const s=new Set(this.axes.map(v=>v.position));for(const v of Object.keys(o))s.has(v)||delete o[v];const l=(v,y)=>!Object.keys(v).some(_=>null==o[_])&&a.crossLines===y.crossLines&&a.series===y.series&&Object.entries(o).every(([_,b])=>{const w=v[_];return null==b&&null==w||b===w}),c=v=>_q(v,y=>y&&Math.abs(y)===1/0?0:null!=y?Math.ceil(y):y);let u={},d={},h=!1,p=null==(e=this.seriesRect)?void 0:e.clone(),f=0,m={};do{Object.assign(o,u),Object.assign(a,d);const v=this.updateAxesPass(o,t.clone(),p);if(u=c(v.axisWidths),d=v.visibility,h=v.clipSeries,p=v.seriesRect,m=v.primaryTickCounts,f++>10){Ae.warn("unable to find stable axis layout.");break}}while(!l(u,d));return this.axes.forEach(v=>{v.update(m[v.direction])}),this.axes.forEach(v=>{if(v.setCrossLinesVisible(a.crossLines),p)switch(v.clipGrid(p.x,p.y,p.width+5,p.height+5),v.position){case"left":case"right":v.clipTickLines(t.x,p.y,t.width+5,p.height+5);break;case"top":case"bottom":v.clipTickLines(p.x,t.y,p.width+5,t.height+5)}}),this._lastAxisWidths=o,this._lastVisibility=a,{seriesRect:p,animationRect:t,visibility:a,clipSeries:h}}updateAxesPass(t,e,i){const n={},o={},a={series:!0,crossLines:!0};let s=!1;const l={},c=this.applySeriesPadding(e),u=i?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(c,t,u,a),h=this.buildSeriesRect(d,t);return this.axes.forEach(p=>{var f,m;const{position:g="left"}=p,{clipSeries:v,axisThickness:y,axisOffset:_}=this.calculateAxisDimensions({axis:p,seriesRect:h,paddedBounds:c,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:s,addInterAxisPadding:(null!=(f=n[g])?f:0)>0});n[g]=(null!=(m=n[g])?m:0)+1,s=s||v,this.positionAxis({axis:p,axisBound:d,axisOffset:_,axisThickness:y,axisWidths:t,primaryTickCounts:l,seriesRect:h})}),{clipSeries:s,seriesRect:h,axisWidths:o,visibility:a,primaryTickCounts:l}}buildCrossLinePadding(t){var e;const i={};this.axes.forEach(n=>{n.crossLines&&n.crossLines.forEach(o=>{o.calculatePadding(i)})});for(const[n,o=0]of Object.entries(i))i[n]=Math.max(o-(null!=(e=t[n])?e:0),0);return i}applySeriesPadding(t){const e=t.clone(),i=this.axes.slice().reverse();return Hje.forEach(n=>{const o=this.seriesArea.padding[n],a=i.find(s=>s.position===n);a?a.seriesAreaPadding=o:e.shrink(o,n)}),e}buildAxisBound(t,e,i,n){var o,a,s,l;const c=t.clone(),{top:u=0,right:d=0,bottom:h=0,left:p=0}=i,f=p+d,m=u+h,g=(null!=(o=e.left)?o:0)+(null!=(a=e.right)?a:0)+f,v=(null!=(s=e.top)?s:0)+(null!=(l=e.bottom)?l:0)+m;return c.width<=g||c.height<=v?(n.crossLines=!1,n.series=!1,c):(c.x+=p,c.y+=u,c.width-=f,c.height-=m,c)}buildSeriesRect(t,e){const i=t.clone(),{top:n,bottom:o,left:a,right:s}=e;return i.x+=a??0,i.y+=n??0,i.width-=(a??0)+(s??0),i.height-=(n??0)+(o??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(t,e,i,n){const{x:o,y:a,width:s,height:l}=t;return(1===n?Math.min:Math.max)(e,[o,a,o+s,a+l][("x"===i?0:1)+(1===n?0:2)])}calculateAxisDimensions(t){var e,n,o,a;const{axis:s,seriesRect:l,paddedBounds:c,axisWidths:u,newAxisWidths:d,primaryTickCounts:h,addInterAxisPadding:p}=t;let{clipSeries:f}=t;const{position:m="left",direction:g}=s,y=null!=(e=d[m])?e:0;switch(m){case"top":case"bottom":s.range=[0,l.width],s.gridLength=l.height;break;case"right":case"left":s.range=(N=s)instanceof Eu||N instanceof qd?[0,l.height]:[l.height,0],s.gridLength=l.width}var N;const{min:_,max:b}=this.zoomManager.getAxisZoom(s.id);s.visibleRange=[_,b],f||(f=s.dataDomain.clipped||s.visibleRange[0]>0||s.visibleRange[1]<1);let w=s.nice?h[g]:void 0;const E="y"===g;s.maxThickness=s.thickness||.3*(E?c.width:c.height);const P=s.calculateLayout(w);let I;if(w=P.primaryTickCount,null!=h[g]||(h[g]=w),null!=s.thickness&&s.thickness>0)I=s.thickness;else{const{bbox:N}=P;I=E?N.width:N.height}return p&&(I+=15),I=Math.ceil(I),d[m]=(null!=(n=d[m])?n:0)+I,s.gridPadding=(null!=(o=u[m])?o:0)-(null!=(a=d[m])?a:0),{clipSeries:f,axisThickness:I,axisOffset:y,primaryTickCount:w}}positionAxis(t){var e,i,n,o;const{axis:a,axisBound:s,axisWidths:l,seriesRect:c,axisOffset:u,axisThickness:d}=t,{position:h}=a;switch(h){case"top":a.translation.x=s.x+(null!=(e=l.left)?e:0),a.translation.y=this.clampToOutsideSeriesRect(c,s.y+1+u+d,"y",1);break;case"bottom":a.translation.x=s.x+(null!=(i=l.left)?i:0),a.translation.y=this.clampToOutsideSeriesRect(c,s.y+s.height+1-d-u,"y",-1);break;case"left":a.translation.y=s.y+(null!=(n=l.top)?n:0),a.translation.x=this.clampToOutsideSeriesRect(c,s.x+u+d,"x",1);break;case"right":a.translation.y=s.y+(null!=(o=l.top)?o:0),a.translation.x=this.clampToOutsideSeriesRect(c,s.x+s.width-d-u,"x",-1)}a.updatePosition({rotation:Br(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof ih&&t.shouldFlipXY()))}};U1.className="CartesianChart",U1.type="cartesian";var jje=U1,Cb=class Eie{static isInstance(t){var e;return t instanceof Eie||"AgChartInstanceProxy"===(null==(e=t.constructor)?void 0:e.name)&&null!=t.chart||null!=t.chart&&this.validateImplementation(t)}static validateImplementation(t){var e;const n=Object.keys(null!=(e=Object.getPrototypeOf(t))?e:{});return["getOptions","destroy"].every(o=>n.includes(o))}constructor(t){this.chart=t}getOptions(){return Vr(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};Cb.chartInstances=new WeakMap,S([Jn({oldValue(r){Cb.chartInstances.delete(r)},newValue(r){Cb.chartInstances.set(r,this)}})],Cb.prototype,"chart",2);var Xg=Cb,hc=class extends xi{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(r){return r}ticks(){var r;const t=null!=(r=this.tickCount)?r:xi.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[e,i]=this.getDomain(),{interval:n}=this;if(n){const o=Math.abs(n);if(!this.isDenseInterval({start:e,stop:i,interval:o}))return ub(e,i,o)}return vT(e,i,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(r,t){var e,i;const n=null!=(e=this.tickCount)?e:xi.defaultTickCount;return null!=(i=this.interval)?i:Bg(r,t,n,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var r;const t=null!=(r=this.tickCount)?r:xi.defaultTickCount;if(t<1)return void(this.niceDomain=[...this.domain]);let[e,i]=this.domain;if(1===t)[e,i]=function h3e(r,t){const e=Math.abs(t-r),i=Math.floor(Math.log10(e)),n=Math.pow(10,i),o=r>t?Math.ceil:Math.floor,a=t<r?Math.floor:Math.ceil;return nZ.map(s=>{const l=s*n,c=o(r/l)*l,u=a(t/l)*l;return{error:1-e/Math.abs(u-c),domain:[c,u]}}).sort((s,l)=>s.error-l.error)[0].domain}(e,i);else{const n=e>i?Math.ceil:Math.floor,o=i<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const l=e,c=i,u=this.getTickStep(e,i),[d,h]=this.domain;if(u>=1)e=n(d/u)*u,i=o(h/u)*u;else{const p=1/u;e=n(d*p)/p,i=o(h*p)/p}if(e===l&&i===c)break}}this.niceDomain=[e,i]}tickFormat({ticks:r,specifier:t}){return iZ(r??this.ticks(),t)}};var hQ=class extends Xs{constructor(){super(...arguments),this.maxSpacing=NaN}};S([R(QN),xu(NaN)],hQ.prototype,"maxSpacing",2);var Zp=class extends hb{constructor(r,t=new hc){super(r,t),this.min=NaN,this.max=NaN}normaliseDataDomain(r){const{min:t,max:e}=this,{extent:i,clipped:n}=YC(r,t,e);return{domain:i,clipped:n}}formatDatum(r){return"number"==typeof r?r.toFixed(2):(Ae.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(r))}createTick(){return new hQ}updateSecondaryAxisTicks(r){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const[t,e]=function Uje(r,t,e){let[i,n]=_u(r);i=function zje(r,t,e){const i=Math.abs(t-r)/(e-1),n=Math.floor(Math.log10(i)),o=Math.pow(10,n);return Math.floor(r/o)*o}(Math.floor(i),n,t);const o=function $je(r,t,e){return function Kje(r){const t=Math.floor(Math.log10(r)),e=Math.pow(10,t),i=r/e*10;return i>0&&i<=1?e/10:i>1&&i<=2?2*e/10:i>1&&i<=5?5*e/10:i>5&&i<=10?10*e/10:i>10&&i<=20?20*e/10:i>20&&i<=40?40*e/10:i>40&&i<=50?50*e/10:i>50&&i<=100?100*e/10:i}((t-r)/(e-1))}(i,n,t);n=i+(t-1)*o;const s=e?[n,i]:[i,n],l=function Wje(r,t,e){const i=Math.floor(Math.log10(t)),n=t>0&&t<1?Math.abs(i):0,o=Math.pow(10,n),a=cb(n);for(let s=0;s<e;s++)a[s]=Math.round((r+t*s)*o)/o;return a}(i,o,t);return[s,l]}(this.dataDomain.domain,r??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),e}};Zp.className="NumberAxis",Zp.type="number",S([R(lc(kg,tb("max"))),xu(NaN)],Zp.prototype,"min",2),S([R(lc(kg,ib("min"))),xu(NaN)],Zp.prototype,"max",2);var pQ=Si(r=>js(r)&&0!==r,"a non-zero number"),nh=class extends Zp{constructor(r){super(r,new c1),this.min=NaN,this.max=NaN}normaliseDataDomain(r){const{min:t,max:e}=this,{extent:i,clipped:n}=YC(r,t,e),a=i[0]<0&&i[1]>0,s=0===i[0]&&0===i[1];return(i[0]>i[1]||a||s)&&(r=[],a?Ae.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&Ae.warn("the data domain has 0 extent, no data is rendered.")),0===i[0]&&(i[0]=1),0===i[1]&&(i[1]=-1),{domain:i,clipped:n}}set base(r){this.scale.base=r}get base(){return this.scale.base}};nh.className="LogAxis",nh.type="log",S([R(lc(kg,pQ,tb("max"))),xu(NaN)],nh.prototype,"min",2),S([R(lc(kg,pQ,ib("min"))),xu(NaN)],nh.prototype,"max",2);var fQ=class extends Xs{constructor(){super(...arguments),this.maxSpacing=NaN}};S([R(QN),xu(NaN)],fQ.prototype,"maxSpacing",2);var Qp=class extends hb{constructor(r){super(r,new h1),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(r){var t;let{min:e,max:i}=this,n=!1;return"number"==typeof e&&(e=new Date(e)),"number"==typeof i&&(i=new Date(i)),r.length>2&&(r=(null!=(t=ic(r))?t:[0,1e3]).map(o=>new Date(o))),e instanceof Date&&(n||(n=e>r[0]),r=[e,r[1]]),i instanceof Date&&(n||(n=i<r[1]),r=[r[0],i]),r[0]>r[1]&&(r=[]),{domain:r,clipped:n}}createTick(){return new fQ}onLabelFormatChange(r,t){t?super.onLabelFormatChange(r,t):this.labelFormatter=this.scale.tickFormat({ticks:r})}formatDatum(r){var t;return null!=(t=this.moduleCtx.callbackCache.call(this.datumFormatter,r))?t:String(r)}calculatePadding(r,t,e){return e?[1,0]:[0,1]}};Qp.className="TimeAxis",Qp.type="time",S([R(lc(YN,tb("max")),{optional:!0})],Qp.prototype,"min",2),S([R(lc(YN,ib("min")),{optional:!0})],Qp.prototype,"max",2);var AT=(r,t,e,i,n)=>{let o=!1,a=!1,s=i-Math.sqrt(Math.max(Pt(n,2)-Pt(e,2),0)),l=0,c=0,u=e-Math.sqrt(Math.max(Pt(n,2)-Pt(i,2),0));return s>r?(o=!0,s=r,l=e-Math.sqrt(Math.max(Pt(n,2)-Pt(i-r,2)))):s<1e-6&&(s=0),u>t?(a=!0,c=i-Math.sqrt(Math.max(Pt(n,2)-Pt(e-t,2))),u=t):u<1e-6&&(u=0),{leading0:s,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:a}},OT=(r,{x0:t,y0:e,x1:i,y1:n,cx:o,cy:a},s,l)=>{if(l&&r.moveTo(t,e),t!==i||e!==n){const c=Math.atan2(e-a,t-o),u=Math.atan2(n-a,i-o);r.arc(o,a,s,c,u)}else r.lineTo(t,e)},z1=(r,t,e,i,n,o,a)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:u}=o;const d=Math.max(s+u,l+c),h=Math.max(s+l,u+c);if(d<=0&&h<=0)return void r.rect(t,e,i,n);if(null==a&&s===l&&s===c&&s===u)return void r.roundRect(t,e,i,n,s);if(i<0&&(t+=i,i=Math.abs(i)),n<0&&(e+=n,n=Math.abs(n)),null!=a){const M=Math.max(t,a.x),P=Math.min(t+i,a.x+a.width),I=Math.max(e,a.y),k=Math.min(e+n,a.y+a.height);t=M,e=I,i=P-M,n=k-I}if(i<=0||n<=0)return;a??(a=new wt(t,e,i,n));const p=Math.max(d/a.height,h/a.width,1);p>1&&(s/=p,l/=p,c/=p,u/=p);let y,_,b,w,f=!0,m=!0,g=!0,v=!0;if(f){const M=AT(n,i,Math.max(a.x+s-t,0),Math.max(a.y+s-e,0),s);M.leadingClipped&&(v=!1),M.trailingClipped&&(m=!1),y={x0:Math.max(t+M.leading1,t),y0:Math.max(e+M.leading0,e),x1:Math.max(t+M.trailing1,t),y1:Math.max(e+M.trailing0,e),cx:a.x+s,cy:a.y+s}}if(m){const M=AT(i,n,Math.max(a.y+l-e,0),Math.max(t+i-(a.x+a.width-l),0),l);M.leadingClipped&&(f=!1),M.trailingClipped&&(g=!1),_={x0:Math.min(t+i-M.leading0,t+i),y0:Math.max(e+M.leading1,e),x1:Math.min(t+i-M.trailing0,t+i),y1:Math.max(e+M.trailing1,e),cx:a.x+a.width-l,cy:a.y+l}}if(g){const M=AT(n,i,Math.max(t+i-(a.x+a.width-c),0),Math.max(e+n-(a.y+a.height-c),0),c);M.leadingClipped&&(m=!1),M.trailingClipped&&(v=!1),b={x0:Math.min(t+i-M.leading1,t+i),y0:Math.min(e+n-M.leading0,e+n),x1:Math.min(t+i-M.trailing1,t+i),y1:Math.min(e+n-M.trailing0,e+n),cx:a.x+a.width-c,cy:a.y+a.height-c}}if(v){const M=AT(i,n,Math.max(e+n-(a.y+a.height-u),0),Math.max(a.x+u-t,0),u);M.leadingClipped&&(g=!1),M.trailingClipped&&(f=!1),w={x0:Math.max(t+M.leading0,t),y0:Math.min(e+n-M.leading1,e+n),x1:Math.max(t+M.trailing0,t),y1:Math.min(e+n-M.trailing1,e+n),cx:a.x+u,cy:a.y+a.height-u}}let E=!1;f&&null!=y&&(OT(r,y,s,!E),E||(E=!0)),m&&null!=_&&(OT(r,_,l,!E),E||(E=!0)),g&&null!=b&&(OT(r,b,c,!E),E||(E=!0)),v&&null!=w&&(OT(r,w,u,!E),E||(E=!0)),r.closePath()},jr=class extends Sa{constructor(){super(...arguments),this.borderPath=new jg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=rs.defaultStyles.strokeWidth,this.effectiveStrokeWidth=rs.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(r){this.topLeftCornerRadius=r,this.topRightCornerRadius=r,this.bottomRightCornerRadius=r,this.bottomLeftCornerRadius=r}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!(!this.path.isDirty()&&!this.borderPath.isDirty())}updatePath(){var r,t,e;const{path:i,borderPath:n,crisp:o,topLeftCornerRadius:a,topRightCornerRadius:s,bottomRightCornerRadius:l,bottomLeftCornerRadius:c}=this;let{x:u,y:d,width:h,height:p,strokeWidth:f,cornerRadiusBbox:m}=this;const v=1/(null!=(t=null==(r=this.layerManager)?void 0:r.canvas.pixelRatio)?t:1);let y=1;if(i.clear({trackChanges:!0}),n.clear({trackChanges:!0}),o&&(h<=v&&(y*=h/v),p<=v&&(y*=p/v),h=this.align(u,h),p=this.align(d,p),u=this.align(u),d=this.align(d),m=null!=m?new wt(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),f)if(h<v){const _=u+v/2;n.moveTo(_,d),n.lineTo(_,d+p),f=v,this.borderClipPath=void 0}else if(p<v){const _=d+v/2;n.moveTo(u,_),n.lineTo(u+h,_),f=v,this.borderClipPath=void 0}else if(f<h&&f<p){const _=f/2;u+=_,d+=_,h-=f,p-=f;const b=m?.clone().shrink(_),w={topLeft:a>0?a-f:0,topRight:s>0?s-f:0,bottomRight:l>0?l-f:0,bottomLeft:c>0?c-f:0};this.borderClipPath=void 0,z1(i,u,d,h,p,w,b),z1(n,u,d,h,p,w,b)}else this.borderClipPath=null!=(e=this.borderClipPath)?e:new jg,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(u,d,h,p),n.rect(u,d,h,p);else{const _={topLeft:a,topRight:s,bottomRight:l,bottomLeft:c};this.borderClipPath=void 0,z1(i,u,d,h,p,_,m)}this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=y}computeBBox(){const{x:r,y:t,width:e,height:i}=this;return new wt(r,t,e,i)}isPointInPath(r,t){const e=this.transformPoint(r,t);return this.computeBBox().containsPoint(e.x,e.y)}applyFillAlpha(r){const{fillOpacity:t,microPixelEffectOpacity:e,opacity:i}=this,{globalAlpha:n}=r;r.globalAlpha=n*i*t*e}renderStroke(r){const{stroke:t,effectiveStrokeWidth:e,borderPath:i,borderClipPath:n,opacity:o,microPixelEffectOpacity:a}=this;if(t&&e){const{strokeOpacity:l,lineDash:c,lineDashOffset:u,lineCap:d,lineJoin:h}=this;n&&(n.draw(r),r.clip()),i.draw(r);const{globalAlpha:p}=r;r.strokeStyle=t,r.globalAlpha=p*o*l*a,r.lineWidth=e,c&&r.setLineDash(c),u&&(r.lineDashOffset=u),d&&(r.lineCap=d),h&&(r.lineJoin=h),r.stroke(),r.globalAlpha=p}}};jr.className="Rect",S([Mt()],jr.prototype,"x",2),S([Mt()],jr.prototype,"y",2),S([Mt()],jr.prototype,"width",2),S([Mt()],jr.prototype,"height",2),S([Mt()],jr.prototype,"topLeftCornerRadius",2),S([Mt()],jr.prototype,"topRightCornerRadius",2),S([Mt()],jr.prototype,"bottomRightCornerRadius",2),S([Mt()],jr.prototype,"bottomLeftCornerRadius",2),S([Mt()],jr.prototype,"cornerRadiusBbox",2),S([Mt()],jr.prototype,"crisp",2);var bb=class extends lN{constructor(r){var t;super(),this.node=new $e({name:"background",zIndex:0}),this.rectNode=new jr,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),null==(t=r.scene.root)||t.appendChild(this.node),this.destroyFns.push(()=>{var e;return null==(e=r.scene.root)?void 0:e.removeChild(this.node)},r.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(r){const{width:t,height:e}=r.chart;this.rectNode.width=t,this.rectNode.height=e}};S([R(rt),Ri("node","visible")],bb.prototype,"visible",2),S([R(Zt,{optional:!0}),Ri("rectNode","fill")],bb.prototype,"fill",2),S([R(Ye,{optional:!0})],bb.prototype,"image",2);var gQ={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:bb},Js=class extends Sa{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(r){this._centerX!==r&&(this._centerX=r,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(r){this._centerY!==r&&(this._centerY=r,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(r){this._width!==r&&(this._width=r,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(r){this._gripLineGap!==r&&(this._gripLineGap=r,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(r){this._gripLineLength!==r&&(this._gripLineLength=r,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(r){this._height!==r&&(this._height=r,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:r,centerY:t,width:e,height:i}=this;return new wt(r-e/2,t-i/2,e,i)}isPointInPath(r,t){const e=this.transformPoint(r,t);return this.computeBBox().containsPoint(e.x,e.y)}updatePath(){const{path:r,centerX:t,centerY:e,width:i,height:n}=this;r.clear();const o=t-i/2,a=e-n/2,s=this.align(o),l=this.align(a),c=s+this.align(o,i),u=l+this.align(a,n);r.moveTo(s,l),r.lineTo(c,l),r.lineTo(c,u),r.lineTo(s,u),r.closePath();const d=this.gripLineGap/2,h=this.gripLineLength/2;r.moveTo(this.align(t-d),this.align(e-h)),r.lineTo(this.align(t-d),this.align(e+h)),r.moveTo(this.align(t+d),this.align(e-h)),r.lineTo(this.align(t+d),this.align(e+h))}};function MT(r,t){r!==t&&(this.dirtyPath=!0)}Js.className="RangeHandle",S([R(Zt)],Js.prototype,"_fill",2),S([R(Zt)],Js.prototype,"_stroke",2),S([R(Ce)],Js.prototype,"_strokeWidth",2),S([R(bX)],Js.prototype,"_lineCap",2),S([R(Ce)],Js.prototype,"_width",2),S([R(Ce)],Js.prototype,"_gripLineGap",2),S([R(Ce)],Js.prototype,"_gripLineLength",2),S([R(Ce)],Js.prototype,"_height",2);var rh=class extends Sa{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(r){var t;r=ti(0,r,this.max-this.minRange),this._min!==r&&!isNaN(r)&&(this._min=r,this.dirtyPath=!0,null==(t=this.onRangeChange)||t.call(this))}get min(){return this._min}set max(r){var t;r=ti(this.min+this.minRange,r,1),this._max!==r&&!isNaN(r)&&(this._max=r,this.dirtyPath=!0,null==(t=this.onRangeChange)||t.call(this))}get max(){return this._max}computeBBox(){const{x:r,y:t,width:e,height:i}=this;return new wt(r,t,e,i)}computeVisibleRangeBBox(){const{x:r,y:t,width:e,height:i,min:n,max:o}=this,a=r+e*n;return new wt(a,t,r+e*o-a,i)}updatePath(){const{path:r,x:t,y:e,width:i,height:n,min:o,max:a}=this;r.clear();const s=this.align(t),l=this.align(e),c=s+this.align(t,i),u=l+this.align(e,n);r.moveTo(s,l),r.lineTo(c,l),r.lineTo(c,u),r.lineTo(s,u),r.lineTo(s,l);const d=this.align(t+i*o),h=this.align(t+i*a);r.moveTo(d,l),r.lineTo(d,u),r.lineTo(h,u),r.lineTo(h,l),r.lineTo(d,l)}};rh.className="RangeMask",S([Jn({changeValue:MT}),R(Ce)],rh.prototype,"x",2),S([Jn({changeValue:MT}),R(Ce)],rh.prototype,"y",2),S([Jn({changeValue:MT}),R(Ce)],rh.prototype,"width",2),S([Jn({changeValue:MT}),R(Ce)],rh.prototype,"height",2),S([R(Di)],rh.prototype,"_min",2),S([R(Di)],rh.prototype,"_max",2);var wb=class Die extends $e{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Js,this.maxHandle=new Js,this.background=(()=>{const t=new $e({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{const{x:t,y:e,width:i,height:n,min:o,max:a}=Die.defaults,s=new rh;s.x=t,s.y=e,s.width=i,s.height=n,s.min=o,s.max=a,s.zIndex=2;const{minHandle:l,maxHandle:c}=this;return l.centerX=t,c.centerX=t+i,l.centerY=c.centerY=e+n/2,l.zIndex=4,c.zIndex=3,this.append([s,l,c]),s.onRangeChange=()=>{var u;this.updateHandles(),null==(u=this.onRangeChange)||u.call(this)},s})(),this.isContainerNode=!0}layout(t,e,i,n){this.mask.x=t,this.mask.y=e,this.mask.width=i,this.mask.height=n,this.updateHandles(),this.background.translationX=t,this.background.translationY=e}updateHandles(){const{x:t,y:e,width:i,height:n}=this.mask,{minHandle:o,maxHandle:a,min:s,max:l}=this;o.centerX=t+i*s,a.centerX=t+i*l,o.centerY=a.centerY=e+n/2,s+(l-s)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};wb.className="Range",wb.defaults={x:0,y:0,width:200,height:30,min:0,max:1},S([Yd("mask.min")],wb.prototype,"min",2),S([Yd("mask.max")],wb.prototype,"max",2);var Yje=wb,el=class extends lN{constructor(r){var t;super(),this.ctx=r,this.rs=new Yje,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=function sBe(r,t=0,e){const{leading:i=!1,trailing:n=!0,maxWait:o=1/0}=e??{};let a,s;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");return Object.assign(function l(...c){if(i&&!s)return s=Date.now(),a=setTimeout(()=>s=null,t),void r(...c);let u=t;if(o!==1/0&&s){const d=Date.now()-s;t>o-d&&(u=o-d)}clearTimeout(a),s??(s=Date.now()),a=setTimeout(()=>{s=null,n&&r(...c)},u)},{cancel(){clearTimeout(a),s=null}})}(()=>this.onRangeChange()),null==(t=r.scene.root)||t.appendChild(this.rs),this.destroyFns.push(r.interactionManager.addListener("drag-start",i=>this.onDragStart(i),13),r.interactionManager.addListener("drag",i=>this.onDrag(i),13),r.interactionManager.addListener("hover",i=>this.onDrag(i),13),r.interactionManager.addListener("drag-end",()=>this.onDragStop(),13),r.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var i;return null==(i=r.scene.root)?void 0:i.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){const r=!(!this.enabled||!this.visible);r!==this.rs.visible&&(this.rs.visible=r,r&&this.onRangeChange())}performLayout(r){return he(this,arguments,function*({shrinkRect:t}){return this.enabled?(t.shrink(this.height+this.margin,"bottom"),this.y=t.y+t.height+this.margin):this.y=0,{shrinkRect:t}})}performCartesianLayout(r){return he(this,null,function*(){const{x:t,width:e}=r.seriesRect;if(this.enabled){const{y:n,height:o}=this;this.rs.layout(t,n,e,o)}this.visible=!0,this.x=t,this.width=e})}onRangeChange(){var r,t;const{min:e,max:i}=this.rs,n=this.ctx.zoomManager.getZoom();((null==(r=n?.x)?void 0:r.min)!==e||(null==(t=n?.x)?void 0:t.max)!==i)&&this.ctx.zoomManager.updateZoom({x:{min:e,max:i},y:n?.y})}onZoomChange(){const r=this.ctx.zoomManager.getZoom();r&&r.x&&(this.min=r.x.min,this.max=r.x.max)}onDragStart(r){if(!this.enabled)return;const{offsetX:t,offsetY:e}=r,{rs:i}=this,{minHandle:n,maxHandle:o,min:a}=i,{x:s,width:l}=this,c=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(n.zIndex<o.zIndex?o.containsPoint(t,e)?this.maxHandleDragging=!0:n.containsPoint(t,e)&&(this.minHandleDragging=!0):n.containsPoint(t,e)?this.minHandleDragging=!0:o.containsPoint(t,e)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&c.containsPoint(t,e)&&(this.panHandleOffset=(t-s)/l-a))}onDrag(r){if(!this.enabled)return;const{rs:t,panHandleOffset:e}=this,{minHandle:i,maxHandle:n}=t,{x:o,y:a,width:s,height:l}=this,{offsetX:c,offsetY:u}=r,d=o+s*t.min,p=new wt(d,a,o+s*t.max-d,l),f=()=>ti(0,(c-o)/s,1);if(i.containsPoint(c,u)||n.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(e)){const m=t.max-t.min,g=Math.min(f()-e,1-m);g<=t.min?(t.min=g,t.max=t.min+m):(t.max=g+m,t.min=t.max-m)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};S([R(Ye,{optional:!0})],el.prototype,"miniChart",2),S([R(rt),Lg(r=>r.updateGroupVisibility())],el.prototype,"enabled",2),S([Yd("rs.mask")],el.prototype,"mask",2),S([Yd("rs.minHandle")],el.prototype,"minHandle",2),S([Yd("rs.maxHandle")],el.prototype,"maxHandle",2),S([Yd("rs.min")],el.prototype,"min",2),S([Yd("rs.max")],el.prototype,"max",2),S([R(Ce)],el.prototype,"margin",2),S([R(rt),Lg(r=>r.updateGroupVisibility())],el.prototype,"visible",2);var vQ={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:el,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},W1=({takeColors:r})=>{const{fills:[t],strokes:[e]}=r(1);return{fill:t,stroke:e}},Sb=r=>{const{fill:t,stroke:e}=W1(r);return{marker:{fill:t,stroke:e}}};function yQ(r,t,e,i,n){const{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s}=n,l=(c,u,d)=>{e.animate({id:`${r}_${t}_${u.id}_${c}`,groupId:r,from:0,to:1,ease:QC,onUpdate(h,p){p&&"removed"!==c||(u.path.clear({trackChanges:!0}),d(h,u),u.checkPathDirty())},onStop(){"added"===c&&(u.path.clear({trackChanges:!0}),d(1,u),u.checkPathDirty())},phase:ro[c]})};for(const c of i)e.isSkipped()||(l("removed",c,s),l("updated",c,a)),l("added",c,o)}var xb=null;function Ui(r){if(null!=r)return""===r?"":(xb??(xb=document.createElement("div")),xb.textContent=String(r),xb.innerHTML)}function hi({id:r},t,e,i){oc(r,t,e,i,{opacity:0},{opacity:1},{phase:"trailing"})}function Jp({id:r},t,e,i){oc(r,t,e,i,{opacity:1},{opacity:0},{phase:"remove"})}function Mu(r){return{opacity:1}}var _Q=class extends wi{constructor(){super(...arguments),this._dirty=3}markDirty(r,t=1){this._dirty<t&&(this._dirty=t)}markClean(r){this._dirty=0}isDirty(){return this._dirty>0}},tl=class extends _Q{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};S([R(rt),Ne({redraw:3})],tl.prototype,"enabled",2),S([R(Zt),Ne({redraw:3})],tl.prototype,"color",2),S([R(Di),Ne({redraw:3})],tl.prototype,"xOffset",2),S([R(Di),Ne({redraw:3})],tl.prototype,"yOffset",2),S([R(Ce),Ne({redraw:3})],tl.prototype,"blur",2);var qje=Si(r=>qZ(r)||Object.getPrototypeOf(r)===ls,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Vo=class extends _Q{constructor(){super(...arguments),this.enabled=!0,this.shape=dc,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:r,fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:o}=this;return{size:r,fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};S([R(rt),Ne({redraw:3})],Vo.prototype,"enabled",2),S([R(qje),Ne({redraw:3})],Vo.prototype,"shape",2),S([R(Ce),Ne({redraw:3})],Vo.prototype,"size",2),S([R(Zt,{optional:!0}),Ne({redraw:3})],Vo.prototype,"fill",2),S([R(di),Ne({redraw:3})],Vo.prototype,"fillOpacity",2),S([R(Zt,{optional:!0}),Ne({redraw:3})],Vo.prototype,"stroke",2),S([R(Ce),Ne({redraw:3})],Vo.prototype,"strokeWidth",2),S([R(di),Ne({redraw:3})],Vo.prototype,"strokeOpacity",2),S([R(is,{optional:!0}),Ne({redraw:3})],Vo.prototype,"formatter",2);var CQ=class extends wi{constructor(){super(...arguments),this.enabled=!1}};S([R(rt)],CQ.prototype,"enabled",2);var Bo=class extends wi{constructor(){super(...arguments),this.enabled=!0,this.interaction=new CQ,this.position=new ab}toTooltipHtml(r,t){return this.renderer?ob(this.renderer(t),r):ob(r)}};S([R(rt)],Bo.prototype,"enabled",2),S([R(rt,{optional:!0})],Bo.prototype,"showArrow",2),S([R(is,{optional:!0})],Bo.prototype,"renderer",2),S([R(Ye)],Bo.prototype,"interaction",2),S([R(Ye)],Bo.prototype,"position",2);var dr=class extends th{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new tl,this.marker=new Vo,this.label=new Ln,this.tooltip=new Bo,this.connectMissingData=!1}};function Eb({id:r},t,e,i){oc(r,"markers",t,e,{opacity:0},{opacity:1},{phase:i?ro[i]:"trailing"}),e.forEach(o=>o.cleanup())}function $1({id:r},t,e){oc(r,"markers",t,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(i=>i.cleanup())}function K1({id:r,nodeDataDependencies:t},e,i){const n=t.seriesRectWidth;Hi(r,"markers",e,i,{fromFn:(s,l)=>{var c,u;const d=null!=(u=null==(c=l.midPoint)?void 0:c.x)?u:n;return{scalingX:0,scalingY:0,delay:ti(0,uX(d/n),1),duration:.2,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Db(r){return{opacity:1,scalingX:1,scalingY:1}}function Tb(r,t){var e,i,n,o;return{translationX:null!=(i=null==(e=t.point)?void 0:e.x)?i:NaN,translationY:null!=(o=null==(n=t.point)?void 0:n.y)?o:NaN}}function Y1(r,t){const e=(a,s)=>{const l=r[s][a];return Array.isArray(l)?l[0]:l},i=a=>{const{xValue:s}=a;return r.moved[s]?{point:e(s,"moved"),status:"updated"}:r.removed[s]?{point:e(s,"removed"),status:"removed"}:r.added[s]?{point:e(s,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,s)=>{var l,c,u,d,h,p;const{status:f,point:m}=i(s);if("unknown"===f)return{opacity:0};const g={translationX:null!=(c=null==(l=m?.from)?void 0:l.x)?c:a.translationX,translationY:null!=(d=null==(u=m?.from)?void 0:u.y)?d:a.translationY,opacity:a.opacity,phase:ro[f]};return"added"===t?Pe(J({},g),{opacity:0,translationX:null==(h=m?.to)?void 0:h.x,translationY:null==(p=m?.to)?void 0:p.y,phase:ro.added}):("added"===f&&(g.opacity=0),g)},toFn:(a,s)=>{var l,c;const{status:u,point:d}=i(s);if("unknown"===u)return{opacity:0};const h={translationX:s.point.x,translationY:s.point.y,opacity:1,phase:ro[u]};return"removed"===u||"removed"===t?Pe(J({},h),{translationX:null==(l=d?.to)?void 0:l.x,translationY:null==(c=d?.to)?void 0:c.y,opacity:0,phase:ro.removed}):h}}}function q1(r){return r.reduce(({min:t,max:e},i)=>((null==t||t.point.x>i.point.x)&&(t=i),(null==e||e.point.x<i.point.x)&&(e=i),{min:t,max:e}),{})}function bQ(r,t,e){return{x:e,y:(t.y-r.y)/(t.x-r.x)*(e-r.x)+r.y}}function wQ(r,t,e,i){let n=-1,o=0;const a=[];for(;o<r.length;)r[o].change!==t?r[o].change!==e?(a.length>0&&(i(a,n,o),a.length=0),n=o,o++):o++:(a.push(r[o]),o++);a.length>0&&i(a,n,o)}function X1(r,t){wQ(r,"out","in",(e,i,n)=>{var o,a;-1===i&&r[n]?e.forEach(s=>s.to=r[n].from):n===r.length&&r[i]?e.forEach(s=>s.to=r[i].from):"intersect"===t&&null!=(o=r[i])&&o.from&&null!=(a=r[n])&&a.from?e.forEach(s=>s.to=bQ(r[i].from,r[n].from,s.from.x)):e.forEach(s=>s.to=s.from)}),wQ(r,"in","out",(e,i,n)=>{var o,a;-1===i&&r[n]?e.forEach(s=>s.from=r[n].to):n===r.length&&r[i]?e.forEach(s=>s.from=r[i].to):"intersect"===t&&null!=(o=r[i])&&o.to&&null!=(a=r[n])&&a.to?e.forEach(s=>s.from=bQ(r[i].to,r[n].to,s.to.x)):e.forEach(s=>s.from=s.to)})}function SQ(r,t,e){const i=isNaN(r.x)?t.x:r.x,n=isNaN(r.y)?t.y:r.y,o=t.x-r.x,a=t.y-r.y;return{x:i+(isNaN(o)?0:o*e),y:n+(isNaN(a)?0:a*e)}}function Z1(r,t,e){const{path:i}=e;let n;for(const o of r){const{from:a,to:s}=o,l=t[o.change];if(null==l||null==a||null==s)continue;const{x:c,y:u}=SQ(a,s,l);if(!1===o.moveTo)i.lineTo(c,u);else if(!0!==o.moveTo&&n){if(n){const d="in"===o.moveTo?l:1-l,{x:h,y:p}=SQ(n,{x:c,y:u},d);i.lineTo(h,p),i.moveTo(c,u)}}else i.moveTo(c,u);n={x:c,y:u}}}function Q1({id:r,visible:t,nodeDataDependencies:e},i,n){const{seriesRectWidth:o,seriesRectHeight:a}=e;oc(r,"path_properties",i,n,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:a,visible:t},finish:{clipMode:void 0,visible:t}})}function Ab({id:r},t,e,i,n="add"){oc(r,t,e,i,{opacity:0},{opacity:1},{phase:n})}function Xje({id:r},t,e,i){oc(r,t,e,i,{opacity:1},{opacity:0},{phase:"remove"})}function J1(r){return t=>({opacity:r.getOpacity(),clipScalingX:1,clipMode:void 0})}function RT({nodeDataDependencies:r},t){const e=i=>isFinite(i)?i:0;t.clipX=e(r.seriesRectWidth),t.clipY=e(r.seriesRectHeight)}function xQ(r){return"continuous"===r.type||"log"===r.type}function EQ(r){return"category"===r.type}function DQ(r,t){return r.domain.length===t.domain.length&&r.range.length===t.range.length&&r.domain.every((e,i)=>e===t.domain[i])&&r.range.every((e,i)=>e===t.range[i])}function TQ(r,t){return void 0===r||void 0===t?void 0!==r||void 0!==t:xQ(r)&&xQ(t)?r.type===t.type&&DQ(r,t):!(!EQ(r)||!EQ(t))&&DQ(r,t)}function PT(r,t){if(!t)return NaN;if(r instanceof Date&&(r=r.getTime()),"continuous"===t.type&&"number"==typeof r)return(r-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if("log"===t.type&&"number"==typeof r)return t.convert(r);const e=t.domain.findIndex(i=>i===r);return e>=0?t.range[e]:NaN}function Qje(r,t){const e=Number(r),i=Number(t);return isNaN(e)||isNaN(i)?r===t:Math.abs(i-e)<.25}function AQ(r=!1,t=!1){return r===t?!!r:r?"in":"out"}function Ob(r,t,e={}){var i,n,o,a;const{backfillSplitMode:s="intersect"}=e,l=_=>{var b,w;return{x:PT(null!=(b=_.xValue)?b:NaN,r.scales.x),y:PT(null!=(w=_.yValue)?w:NaN,r.scales.y)}},c=_=>{var b,w;return{x:PT(null!=(b=_.xValue)?b:NaN,t.scales.x),y:PT(null!=(w=_.yValue)?w:NaN,t.scales.y)}},u=[],d={added:{},moved:{},removed:{}},h=(_,b,w,E="move")=>{_&&(isNaN(_.point.x)||isNaN(_.point.y))&&(_=b);const M={from:_?.point,to:b?.point,moveTo:AQ(_?.point.moveTo,b?.point.moveTo),change:E};"move"===E?(d.moved[w]=M,v++,y++):"in"===E?(d.added[w]=M,y++):"out"===E&&(d.removed[w]=M,v++),u.push(M)},{min:p,max:f}=q1(t.nodeData),{min:m,max:g}=q1(r.nodeData);let v=0,y=0;for(;v<t.nodeData.length||y<r.nodeData.length;){const _=t.nodeData[v],b=r.nodeData[y],w=_?l(_):void 0,E=b?c(b):void 0,M=void 0;if(w&&Qje(w.x,b?.point.x))h(_,b,b.xValue,"move");else if(w&&w.x<(null!=(i=m?.point.x)?i:-1/0))h(_,M,_.xValue,"out");else if(w&&w.x>(null!=(n=g?.point.x)?n:1/0))h(_,M,_.xValue,"out");else if(E&&E.x<(null!=(o=p?.point.x)?o:-1/0))h(M,b,b.xValue,"in");else if(E&&E.x>(null!=(a=f?.point.x)?a:1/0))h(M,b,b.xValue,"in");else if(w&&w.x<b?.point.x)h(_,M,_.xValue,"out");else if(E&&E.x<_?.point.x)h(M,b,b.xValue,"in");else if(_)h(_,M,_.xValue,"out");else{if(!b)throw new Error("Unable to process points");h(M,b,b.xValue,"in")}}return X1(u,s),{result:u,resultMap:d}}function Mb(r,t,e,i={}){var n,o,a;const{backfillSplitMode:s="intersect",multiDatum:l=!1}=i,c=[],u={added:{},moved:{},removed:{}},d={added:{},moved:{},removed:{}};let h,p;const f=(_,b)=>{var w;const M="move"===b.change?"moved":"in"===b.change?"added":"removed";l?(null!=(w=d[M])[_]||(w[_]=[]),d[M][_].push(b)):u[M][_]=b,h=b,p=Ng(_)};let m=0,g=0,v=!1;for(;m<t.nodeData.length||g<r.nodeData.length;){const _=t.nodeData[m],b=r.nodeData[g],w=Ng(_?.xValue),E=Ng(b?.xValue);let M;if(w===E)M={change:"move",moveTo:AQ(null!=(n=_.point.moveTo)&&n,b.point.moveTo),from:_.point,to:b.point},f(_?.xValue,M),m++,g++;else if(void 0!==e&&e.removed.indexOf(String(w))>=0)M={change:"out",moveTo:null!=(o=_.point.moveTo)&&o,from:_.point},f(_?.xValue,M),m++;else if(void 0!==e&&e.added.indexOf(String(E))>=0)M={change:"in",moveTo:null!=(a=b.point.moveTo)&&a,to:b.point},f(b?.xValue,M),g++;else if(l&&h&&p===w)M=J({},h),f(_?.xValue,M),m++;else{if(!l||!h||p!==E){v=!0;break}M=J({},h),f(b?.xValue,M),g++}c.push(M)}let y=-1/0;return v||(v=c.some(_=>{const{change:b,to:{x:w=-1/0}={}}=_;if("out"===b)return;const E=w<y;return y=w,E})),v?{result:void 0,resultMap:void 0}:(X1(c,s),l?{result:c,resultMap:d}:{result:c,resultMap:u})}function OQ(r,t){let e="updated";const i=n=>n.visible;return!i(t)&&i(r)?e="added":i(t)&&!i(r)&&(e="removed"),e}function eG(r,t,e,i,n){const o=OQ(r,t),c=function Jje(r,t){const e="none"===t?"updated":r,i={fromFn:n=>{let o;return o="removed"===r?{finish:{visible:!1}}:"added"===r?{start:{visible:!0}}:{},J({phase:ro[e]},o)},toFn:n=>({phase:ro[e]})};return"fade"===t?{fromFn:n=>J({opacity:"added"===r?0:n.opacity},i.fromFn(n)),toFn:n=>J({opacity:"removed"===r?0:1},i.toFn(n))}:i}(o,i);return{status:o,path:{addPhaseFn:(u,d)=>{n(e,{move:1,in:u},d)},updatePhaseFn:(u,d)=>{n(e,{move:u},d)},removePhaseFn:(u,d)=>{n(e,{move:0,out:u},d)}},pathProperties:c}}function MQ(r,t,e){var i,n,o;const a="category"===(null==(i=r.scales.x)?void 0:i.type);if(a!==("category"===(null==(n=t.scales.x)?void 0:n.type)))return;const{result:l,resultMap:c}=a?Mb(r,t,e):Ob(r,t);let u="updated";if(t.visible&&!r.visible?u="removed":!t.visible&&r.visible&&(u="added"),void 0===l||void 0===c)return;const d=null==(o=e?.changed)||o||function Zje(r,t){return!TQ(r.scales.x,t.scales.x)||!TQ(r.scales.y,t.scales.y)}(r,t)||"updated"!==u,h=eG(r,t,l,"fade",Z1),p=Y1(c,u);return Pe(J({},h),{marker:p,hasMotion:d})}S([R(xe)],dr.prototype,"xKey",2),S([R(xe,{optional:!0})],dr.prototype,"xName",2),S([R(xe)],dr.prototype,"yKey",2),S([R(xe,{optional:!0})],dr.prototype,"yName",2),S([R(Ce,{optional:!0})],dr.prototype,"normalizedTo",2),S([R(Zt)],dr.prototype,"fill",2),S([R(di)],dr.prototype,"fillOpacity",2),S([R(Zt)],dr.prototype,"stroke",2),S([R(Ce)],dr.prototype,"strokeWidth",2),S([R(di)],dr.prototype,"strokeOpacity",2),S([R(bu)],dr.prototype,"lineDash",2),S([R(Ce)],dr.prototype,"lineDashOffset",2),S([R(Ye)],dr.prototype,"shadow",2),S([R(Ye)],dr.prototype,"marker",2),S([R(Ye)],dr.prototype,"label",2),S([R(Ye)],dr.prototype,"tooltip",2),S([R(rt)],dr.prototype,"connectMissingData",2);var RQ=(r=>(r[r.Fill=0]="Fill",r[r.Stroke=1]="Stroke",r[r.Marker=2]="Marker",r[r.Label=3]="Label",r))(RQ||{});function IT(r){const{points:t}=r.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function oh(r,t,e){return{scales:t.scales,nodeData:e[r],visible:t.visible}}function PQ(r,t,e){var i,n;const o="category"===(null==(i=r.scales.x)?void 0:i.type);if(o!==("category"===(null==(n=t.scales.x)?void 0:n.type)))return;let s="updated";t.visible&&!r.visible?s="removed":!t.visible&&r.visible&&(s="added");const{resultMap:u}=o?Mb(r,t,e,{backfillSplitMode:"static",multiDatum:!0}):Ob(r,t,{backfillSplitMode:"static"}),{top:d,bottom:h}=o?function eUe(r,t,e){const i=IT(t),n=IT(r),o={multiDatum:!0};return{top:Mb(oh("top",r,n),oh("top",t,i),e,o),bottom:Mb(oh("bottom",r,n),oh("bottom",t,i),e,o)}}(r,t,e):function tUe(r,t){const e=IT(t),i=IT(r);return{top:Ob(oh("top",r,i),oh("top",t,e)),bottom:Ob(oh("bottom",r,i),oh("bottom",t,e))}}(r,t);if(void 0===u||void 0===d.result||void 0===h.result)return;return{fill:eG(r,t,[...d.result,...h.result.reverse()],t.stackVisible&&r.stackVisible?"none":"fade",Z1),marker:Y1(u,s)}}var tG=class Tie extends ih{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:J1({getOpacity:()=>this.getOpacity()}),label:Mu,marker:(e,i)=>J(J({},{opacity:1,scalingX:1,scalingY:1}),Tb(0,i))}}),this.properties=new dr}processData(t){return he(this,null,function*(){if(null==this.data||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:s,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:h}=this.isContinuous(),p=[`area-stack-${n}-yValues`,`area-stack-${n}-yValues-trailing`,`area-stack-${n}-yValues-prev`,`area-stack-${n}-yValues-trailing-prev`,`area-stack-${n}-yValues-marker`],f=[];dN(c)&&(f.push(ET(this,[p[0],p[1],p[4]],c,"range")),f.push(ET(this,[p[2],p[3]],c,"range"))),!d&&u&&this.processedData&&f.push(Xp(this.processedData)),u&&f.push(Yg(this));const m={invalidValue:null};l&&o>1&&(m.invalidValue=0),i||(m.forceValue=0),yield this.requestDataModel(t,e,{props:[Ar(this,a,d,{id:"xValue"}),Ei(this,s,h,J({id:"yValueRaw"},m)),...eh(this,s,h,"window","current",Pe(J({id:"yValueEnd"},m),{groupId:p[0]})),...eh(this,s,h,"window-trailing","current",Pe(J({id:"yValueStart"},m),{groupId:p[1]})),...eh(this,s,h,"window","last",Pe(J({id:"yValuePreviousEnd"},m),{groupId:p[2]})),...eh(this,s,h,"window-trailing","last",Pe(J({id:"yValuePreviousStart"},m),{groupId:p[3]})),...eh(this,s,h,"normal","current",Pe(J({id:"yValueCumulative"},m),{groupId:p[4]})),...f],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||0===e.data.length)return[];const o=n.x,a=n.y,s=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",e),c=i.getDomain(this,"yValueEnd","value",e);return"x"===t?"key"===s?.def.type&&"category"===s.def.valueType?l:ao(ic(l),o):ao(a instanceof nh||a instanceof Qp?c:[c[0]>0?0:c[0],c[1]<0?0:c[1]],a)}createNodeData(){return he(this,null,function*(){var t;const{axes:e,data:i,processedData:{data:n}={},dataModel:o}=this,a=e.x,s=e.y;if(!(a&&s&&i&&o&&this.properties.isValid()))return[];const{yKey:l,xKey:c,marker:u,label:d,fill:h,stroke:p,connectMissingData:f}=this.properties,{scale:m}=a,{scale:g}=s,v=xi.is(g),y=(null!=(t=m.bandwidth)?t:0)/2,_=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),b=Z=>{const ce=Z,{point:De}=ce,ke=Zn(ce,["point"]);return Pe(J({},ke),{point:Pe(J({},De),{moveTo:!0})})},w=(Z,ce,De)=>{const ke=m.convert(Z)+y,Oe=g.convert(ce);return[{point:{x:ke,y:g.convert(De)},yValue:De,xValue:Z},{point:{x:ke,y:Oe},yValue:ce,xValue:Z}]},E=(Z,ce,De)=>{let ke;return(dN(this.properties.normalizedTo)?v&&o1(De):!isNaN(De))&&(ke=ce),{x:m.convert(Z)+y,y:g.convert(ke),size:u.size}},M=l,P=[],I=[],{visibleSameStackCount:k}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),N={itemId:M,fillData:{itemId:M,points:[]},strokeData:{itemId:M,points:[]},labelData:P,nodeData:I,scales:mu(Tie.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:k>0},B=N.fillData.points,Y=[],ne=N.strokeData.points;let W,me=-1,$=-1/0;return n?.forEach(Z=>{const{keys:ce,keys:[De],datum:ke,values:Oe}=Z;Oe.forEach((nt,qe)=>{var nn,Ie,Je;me++;const Kt=ke[qe],Ht=o.resolveProcessedDataDefsValues(_,{keys:ce,values:nt}),{yValueRaw:zi,yValueCumulative:Wr}=Ht;let{yValueStart:pr,yValueEnd:Wo,yValuePreviousStart:sl,yValuePreviousEnd:yf}=Ht;const uo=null!=zi,Cc=E(De,+Wr,zi);if(uo&&u&&I.push({index:me,series:this,itemId:M,datum:Kt,midPoint:{x:Cc.x,y:Cc.y},cumulativeValue:Wo,yValue:zi,xValue:De,yKey:l,xKey:c,point:Cc,fill:null!=(nn=u.fill)?nn:h,stroke:null!=(Ie=u.stroke)?Ie:p,strokeWidth:null!=(Je=u.strokeWidth)?Je:this.getStrokeWidth(this.properties.strokeWidth)}),uo&&d){const NA=this.getLabelText(d,{value:zi,datum:Kt,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName},lw=>ai(lw)?lw.toFixed(2):String(lw));P.push({index:me,series:this,itemId:l,datum:Kt,x:Cc.x,y:Cc.y,label:NA?{text:NA,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}const Tv=null!=W&&null!=De,Av=null!=$&&uo;Av||(pr=pr??0,Wo=pr??0,sl=sl??0,yf=sl??0);const[$o,NV]=w(W,sl,yf),[LA,GV]=w(De,pr,Wo);Tv&&(!f||Av)&&(B.push($o),Y.push(NV),B.push(LA),Y.push(GV)),Av&&me>0&&(ne.push(b($o)),ne.push(LA)),W=De,$=zi})}),ne.length>0&&(ne[0]=b(ne[0])),Y.reverse(),B.push(...Y),[N]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Zd(t))}updatePathNodes(t){return he(this,null,function*(){const{opacity:e,visible:i,animationEnabled:n}=t,[o,a]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:i||n,strokeWidth:s}),RT(this,a),RT(this,o)})}updatePaths(t){return he(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:i},n)=>{const[o]=t[n],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of i.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);a.closePath(),o.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:i},n)=>{const[,o]=t[n],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of i.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);o.checkPathDirty()})}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:o,marker:a,fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d,highlightStyle:h}=this.properties,p=Gt(i&&h.item,a.getStyle(),{fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d});e.each((f,m)=>{this.updateMarkerStyle(f,a,{datum:m,highlighted:i,xKey:n,yKey:o},p)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return he(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.tag=3})})}updateLabelNodes(t){return he(this,null,function*(){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:s,color:l}=this.properties.label;e.each((c,u)=>{const{x:d,y:h,label:p}=u;p&&i&&this.visible?(c.fontStyle=n,c.fontWeight=o,c.fontSize=a,c.fontFamily=s,c.textAlign=p.textAlign,c.textBaseline=p.textBaseline,c.text=p.text,c.x=d,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(t){const{id:e,axes:i,dataModel:n}=this,{xKey:o,xName:a,yName:s,tooltip:l,marker:c}=this.properties,{yKey:u,xValue:d,yValue:h,datum:p}=t,f=i.x,m=i.y;if(!this.properties.isValid()||!(f&&m&&ai(h))||!n)return"";const g=f.formatDatum(d),v=m.formatDatum(h),y=Ui(s),_=Ui(g+": "+v),b=Gt({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:u,highlighted:!1},b);return l.toTooltipHtml({title:y,content:_,backgroundColor:w},{datum:p,xKey:o,xName:a,yKey:u,yName:s,color:w,title:y,seriesId:e})}getLegendData(t){var e,i,n,o;if(null==(e=this.data)||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:a,yName:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h,lineDash:p,marker:f,visible:m}=this.properties,g=!f.enabled||void 0===f.fill;return[{legendType:t,id:this.id,itemId:a,seriesId:this.id,enabled:m,label:{text:s??a},marker:{shape:f.shape,fill:g?l:f.fill,fillOpacity:g?u:f.fillOpacity,stroke:null!=(i=f.stroke)?i:c,strokeOpacity:null!=(n=f.strokeOpacity)?n:d,strokeWidth:null!=(o=f.strokeWidth)?o:0,enabled:f.enabled||h<=0},line:{stroke:c,strokeOpacity:d,strokeWidth:h,lineDash:p}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,contextData:n,paths:o}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(o,n),Q1(this,a,o.flat()),er(e,Tb),K1(this,a,e),hi(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,i;const{animationManager:n}=this.ctx,{markerSelections:o,labelSelections:a,contextData:s,paths:l,previousContextData:c}=t,[[u,d]]=l;super.resetAllAnimation(t);const h=()=>{this.updateAreaPaths(l,s),this.updateStrokePath(l,s)};if(0===s.length||0===c?.length)return h(),Eb(this,n,o,"added"),Ab(this,"fill_path_properties",n,[u]),Ab(this,"stroke",n,[d],"trailing"),void hi(this,"labels",n,a);const[f]=s,[m]=c??[],g=PQ(f,m,null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff);if(void 0===g)return n.skipCurrentBatch(),void h();Eb(this,n,o),Hi(this.id,"fill_path_properties",n,[u],g.fill.pathProperties),yQ(this.id,"fill_path_update",n,[u],g.fill.path),this.updateStrokePath(l,s),Ab(this,"stroke",n,[d],"trailing"),hi(this,"labels",n,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};tG.className="AreaSeries",tG.type="area";var nUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:tG,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:vu,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Pg,xOffset:3,yOffset:3,blur:5},marker:{__extends__:Og,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,formatter:void 0}}},paletteFactory:r=>{const{marker:t}=Sb(r);return{fill:t.fill,stroke:t.stroke,marker:t}}},iG=class extends th{constructor(){super(...arguments),this.direction="vertical"}};S([R(SX)],iG.prototype,"direction",2);var IQ=class extends ih{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const r=this.getBarDirection();return this.axes[r]}getCategoryAxis(){const r=this.getCategoryDirection();return this.axes[r]}},FQ=class extends Ln{constructor(){super(...arguments),this.placement="inside"}};S([R(xX)],FQ.prototype,"placement",2);var ir=class extends iG{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new tl,this.label=new FQ,this.tooltip=new Bo}};function kQ({rect:r,config:t}){const{crisp:e=!0,fill:i,stroke:n,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:l,lineDashOffset:c,fillShadow:u,cornerRadius:d=0,topLeftCornerRadius:h,topRightCornerRadius:p,bottomRightCornerRadius:f,bottomLeftCornerRadius:m,cornerRadiusBbox:g,visible:v=!0}=t;r.crisp=e,r.fill=i,r.stroke=n,r.strokeWidth=o,r.fillOpacity=a,r.strokeOpacity=s,r.lineDash=l,r.lineDashOffset=c,r.fillShadow=u,r.topLeftCornerRadius=h?d:0,r.topRightCornerRadius=p?d:0,r.bottomRightCornerRadius=f?d:0,r.bottomLeftCornerRadius=m?d:0,r.cornerRadiusBbox=g,r.visible=v}function LQ(r){var u,d,h,p,f,m,t=r,{datum:e,isHighlighted:i,style:n,highlightStyle:o,formatter:a,seriesId:s,ctx:{callbackCache:l}}=t,c=Zn(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]);const{fill:g,fillOpacity:v,stroke:y,strokeWidth:_}=Gt(i&&o,n),{strokeOpacity:b,fillShadow:w,lineDash:E,lineDashOffset:M,cornerRadius:P=0,topLeftCornerRadius:I=!0,topRightCornerRadius:k=!0,bottomRightCornerRadius:N=!0,bottomLeftCornerRadius:B=!0,cornerRadiusBbox:Y}=n;let ne;return a&&(ne=l.call(a,J({datum:e.datum,xKey:e.xKey,fill:g,stroke:y,strokeWidth:_,cornerRadius:P,highlighted:i,seriesId:s},c))),{fill:null!=(u=ne?.fill)?u:g,stroke:null!=(d=ne?.stroke)?d:y,strokeWidth:null!=(h=ne?.strokeWidth)?h:_,fillOpacity:null!=(p=ne?.fillOpacity)?p:v,strokeOpacity:null!=(f=ne?.strokeOpacity)?f:b,lineDash:E,lineDashOffset:M,fillShadow:w,cornerRadius:null!=(m=ne?.cornerRadius)?m:P,topLeftCornerRadius:I,topRightCornerRadius:k,bottomRightCornerRadius:N,bottomLeftCornerRadius:B,cornerRadiusBbox:Y}}function NQ(r=[]){const[t,e]=r;return!(0!==t||1!==e)}S([R(xe)],ir.prototype,"xKey",2),S([R(xe,{optional:!0})],ir.prototype,"xName",2),S([R(xe)],ir.prototype,"yKey",2),S([R(xe,{optional:!0})],ir.prototype,"yName",2),S([R(xe,{optional:!0})],ir.prototype,"stackGroup",2),S([R(Di,{optional:!0})],ir.prototype,"normalizedTo",2),S([R(Zt)],ir.prototype,"fill",2),S([R(di)],ir.prototype,"fillOpacity",2),S([R(Zt)],ir.prototype,"stroke",2),S([R(Ce)],ir.prototype,"strokeWidth",2),S([R(di)],ir.prototype,"strokeOpacity",2),S([R(bu)],ir.prototype,"lineDash",2),S([R(Ce)],ir.prototype,"lineDashOffset",2),S([R(Ce)],ir.prototype,"cornerRadius",2),S([R(is,{optional:!0})],ir.prototype,"formatter",2),S([R(Ye,{optional:!0})],ir.prototype,"shadow",2),S([R(Ye)],ir.prototype,"label",2),S([R(Ye)],ir.prototype,"tooltip",2);var GQ=r=>{var t;return XC(null!=(t=r.yValue)?t:0)};function Rb(r,t,e){const{startingX:i,startingY:n}=function oUe(r,t){const e=t[r?"y":"x"];let i=1/0,n=0;return e?(r?n=e.scale.convert(xi.is(e.scale)?0:Math.max(...e.range)):i=e.scale.convert(xi.is(e.scale)?0:Math.min(...e.range)),{startingX:i,startingY:n}):{startingX:i,startingY:n}}(r,t);return{isVertical:r,calculate:(a,s)=>{let l=r?a.x:i,c=r?n:a.y,u=r?a.width:0,d=r?0:a.height;const h=a.opacity;return s&&(isNaN(l)||isNaN(c))&&(({x:l,y:c}=s),u=r?s.width:0,d=r?0:s.height,r&&!GQ(s)?c+=s.height:!r&&GQ(s)&&(l+=s.width)),{x:l,y:c,width:u,height:d,opacity:h}},mode:e}}function rUe(r,t){return{isVertical:r,calculate:e=>({x:r?e.x:e.x+e.width/2,y:r?e.y+e.height/2:e.y,width:r?e.width:0,height:r?0:e.height,opacity:e.opacity}),mode:t}}function Pb(r){const t=n=>null==n||isNaN(n.x)||isNaN(n.y);return{toFn:(n,o,a)=>"removed"===a&&null==n.datum&&"fade"===r.mode?Pe(J({},Ib(0,o)),{opacity:0}):"removed"===a||t(o)?r.calculate(o,n.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(n,o,a)=>{"updated"===a&&t(o)?a="removed":"updated"===a&&t(n.previousDatum)&&(a="added");let s={x:n.x,y:n.y,width:n.width,height:n.height,opacity:n.opacity};"added"===a&&null==n.previousDatum&&"fade"===r.mode?s=Pe(J({},Ib(0,o)),{opacity:0}):("unknown"===a||"added"===a)&&(s=r.calculate(o,n.previousDatum));const l=ro[a];return Pe(J({},s),{phase:l})}}}function Ib(r,{x:t,y:e,width:i,height:n,opacity:o}){return{x:t,y:e,width:i,height:n,opacity:o}}function VQ(r,t,e){if(t.enabled&&e){const{x:i,y:n,text:o,textAlign:a,textBaseline:s}=e,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=t;r.setProperties({visible:!0,x:i,y:n,text:o,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:a,textBaseline:s})}else r.visible=!1}function BQ({isPositive:r,isVertical:t,placement:e,padding:i=0,rect:n}){let o=n.x+n.width/2,a=n.y+n.height/2,s="center",l="middle";switch(e){case"start":t?(a=r?n.y+n.height+i:n.y-i,l=r?"top":"bottom"):(o=r?n.x-i:n.x+n.width+i,s=r?"start":"end");break;case"outside":case"end":t?(a=r?n.y-i:n.y+n.height+i,l=r?"bottom":"top"):(o=r?n.x+n.width+i:n.x-i,s=r?"start":"end")}return{x:o,y:a,textAlign:s,textBaseline:l}}var nG=class Aie extends IQ{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Ib,label:Mu}}),this.properties=new ir,this.groupScale=new sc,this.smallestDataInterval=void 0}resolveKeyDirection(t){return"x"===this.getBarDirection()?"x"===t?"y":"x":t}processData(t){return he(this,null,function*(){var e,i,n,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:s=[]}=this,{xKey:l,yKey:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=Math.abs(u??NaN),p=xi.is(null==(e=this.getCategoryAxis())?void 0:e.scale),f=xi.is(null==(i=this.getValueAxis())?void 0:i.scale),m=`bar-stack-${a}-yValues`,g=`${m}-trailing`,v=h&&isFinite(h)?h:void 0,y=[];v&&y.push(ET(this,[m,g],v,"range")),d&&this.processedData&&y.push(Xp(this.processedData)),d&&y.push(Yg(this));const _=this.visible?{}:{forceValue:0},{processedData:b}=yield this.requestDataModel(t,s,{props:[Ar(this,l,p,{id:"xValue"}),Ei(this,c,f,J({id:"yValue-raw",invalidValue:null},_)),...eh(this,c,f,"normal","current",J({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0},_)),...eh(this,c,f,"trailing","current",J({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},_)),...p?[L1]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:null!=(o=null==(n=b.reduced)?void 0:n.smallestKeyInterval)?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:n}=this;if(!i||!n||0===i.data.length)return[];const{reduced:{[L1.property]:o}={}}=i,a=this.getCategoryAxis(),s=this.getValueAxis(),l=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",i),u=n.getDomain(this,"yValue-end","value",i);if(t===this.getCategoryDirection()){if("key"===l?.def.type&&"category"===l?.def.valueType)return c;const d=null!=o&&isFinite(o)?o:0,h=null!=(e=ic(c))?e:[NaN,NaN],p=a?.isReversed();return ao("y"===t?[h[0]+(p?0:-d),h[1]+(p?d:0)]:[h[0]+(p?-d:0),h[1]+(p?0:d)],a)}return this.getValueAxis()instanceof nh?ao(u,s):ao([u[0]>0?0:u[0],u[1]<0?0:u[1]],s)}createNodeData(){return he(this,null,function*(){const{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!(t&&e&&i&&this.properties.isValid()))return[];const n=e.scale,o=i.scale,{groupScale:a,processedData:s,smallestDataInterval:l,ctx:{seriesStateManager:c}}=this,{xKey:u,yKey:d,xName:h,yName:p,fill:f,stroke:m,strokeWidth:g,cornerRadius:v,legendItemName:y,label:_}=this.properties,b=i.isReversed(),w=xi.is(n)?n.calcBandwidth(l?.x):n.bandwidth,E=[],{index:M,visibleGroupCount:P}=c.getVisiblePeerGroupIndex(this);for(let $=0;$<P;$++)E.push(String($));a.domain=E,a.range=[0,w??0],e instanceof Eu?a.paddingInner=e.groupPaddingInner:a.padding=e instanceof qd?.1:0,a.round=0!==a.padding;const I=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,k=t.resolveProcessedDataIndexById(this,"xValue").index,N=t.resolveProcessedDataIndexById(this,"yValue-raw").index,B=t.resolveProcessedDataIndexById(this,"yValue-start").index,Y=t.resolveProcessedDataIndexById(this,"yValue-end").index,ne=t.resolveProcessedDataDefById(this,"yValue-range").index,me=!this.ctx.animationManager.isSkipped(),W=[];return s?.data.forEach(({keys:$,datum:Z,values:ce,aggValues:De})=>{ce.forEach((ke,Oe)=>{var qe;null!=W[Oe]||(W[Oe]={itemId:d,nodeData:[],labelData:[],scales:mu(Aie.prototype,this,"calculateScaling").call(this),visible:this.visible||me});const nn=$[k],Ie=n.convert(nn),Je=+ke[Y],Kt=+ke[B],Ht=ke[N],zi=Ht>=0,Wr=zi!==b,pr=null!=(qe=De?.[ne][zi?1:0])?qe:0,Wo=Ie+a.convert(String(M));if(isNaN(Je))return;const sl=o.convert(Je),yf=o.convert(Kt),uo="x"===this.getBarDirection(),Cc=o.convert(pr),Tv=o.convert(0),Av=new wt(uo?Math.min(Tv,Cc):Wo,uo?Wo:Math.min(Tv,Cc),uo?Math.abs(Tv-Cc):I,uo?I:Math.abs(Tv-Cc)),$o={x:uo?Math.min(sl,yf):Wo,y:uo?Wo:Math.min(sl,yf),width:uo?Math.abs(yf-sl):I,height:uo?I:Math.abs(yf-sl),cornerRadiusBbox:Av},{fontStyle:NV,fontWeight:LA,fontSize:GV,fontFamily:NA,color:lw,placement:aXe}=_,die=this.getLabelText(this.properties.label,{datum:Z[Oe],value:Ht,xKey:u,yKey:d,xName:h,yName:p,legendItemName:y},fie=>ai(fie)?fie.toFixed(2):""),sXe=die?J({text:die,fill:lw,fontStyle:NV,fontWeight:LA,fontSize:GV,fontFamily:NA},BQ({isPositive:zi,isVertical:!uo,placement:aXe,rect:$o})):void 0,hie=this.shouldFlipXY()?$o.height:$o.width,pie={series:this,itemId:d,datum:Z[Oe],cumulativeValue:Je,xValue:nn,yValue:Ht,yKey:d,xKey:u,capDefaults:{lengthRatioMultiplier:hie,lengthMax:hie},x:$o.x,y:$o.y,width:$o.width,height:$o.height,midPoint:{x:$o.x+$o.width/2,y:$o.y+$o.height/2},fill:f,stroke:m,opacity:1,strokeWidth:g,cornerRadius:v,topLeftCornerRadius:uo!==Wr,topRightCornerRadius:Wr,bottomRightCornerRadius:uo===Wr,bottomLeftCornerRadius:!Wr,cornerRadiusBbox:Av,label:sXe};W[Oe].nodeData.push(pie),W[Oe].labelData.push(pie)})}),W})}nodeFactory(){return new jr}updateDatumSelection(t){return he(this,null,function*(){return t.datumSelection.update(t.nodeData,e=>{e.tag=0},e=>Jd(e.xValue))})}updateDatumNodes(t){return he(this,null,function*(){if(!this.properties.isValid())return;const{yKey:e,stackGroup:i,fill:n,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,formatter:d,shadow:h,highlightStyle:{item:p}}=this.properties,f=this.axes.x,m=NQ(f?.visibleRange),g="x"===this.getCategoryDirection();t.datumSelection.each((v,y)=>{const _={fill:n,stroke:a,fillOpacity:o,strokeOpacity:l,lineDash:c,lineDashOffset:u,fillShadow:h,strokeWidth:this.getStrokeWidth(s),cornerRadius:y.cornerRadius,topLeftCornerRadius:y.topLeftCornerRadius,topRightCornerRadius:y.topRightCornerRadius,bottomRightCornerRadius:y.bottomRightCornerRadius,bottomLeftCornerRadius:y.bottomLeftCornerRadius,cornerRadiusBbox:y.cornerRadiusBbox},b=g?y.width>0:y.height>0,w=LQ({datum:y,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:e,style:_,formatter:d,stackGroup:i});w.crisp=m,w.visible=b,kQ({rect:v,config:w})})})}updateLabelSelection(t){return he(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,i=>{i.tag=1,i.pointerEvents=1})})}updateLabelNodes(t){return he(this,null,function*(){t.labelSelection.each((e,i)=>{VQ(e,this.properties.label,i.label)})})}getTooltipHtml(t){var e;const{id:i,processedData:n,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!(n&&this.properties.isValid()&&a&&s))return"";const{xKey:l,yKey:c,xName:u,yName:d,fill:h,stroke:p,strokeWidth:f,tooltip:m,formatter:g,stackGroup:v}=this.properties,{xValue:y,yValue:_,datum:b}=t,w=a.formatDatum(y),E=s.formatDatum(_),M=Ui(d),P=Ui(w+": "+E);let I;g&&(I=o.call(g,{seriesId:i,datum:b,xKey:l,yKey:c,stackGroup:v,fill:h,stroke:p,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const k=null!=(e=I?.fill)?e:h;return m.toTooltipHtml({title:M,content:P,backgroundColor:k},J({seriesId:i,datum:b,xKey:l,yKey:c,xName:u,yName:d,stackGroup:v,title:M,color:k},this.getModuleTooltipParams()))}getLegendData(t){var e,i;const{showInLegend:n}=this.properties;if("category"!==t||null==(e=this.data)||!e.length||!this.properties.isValid()||!n)return[];const{yKey:o,yName:a,fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d,legendItemName:h,visible:p}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:p,label:{text:null!=(i=h??a)?i:o},marker:{fill:s,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:d},legendItemName:h}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,annotationSelections:i}){const n=Pb(Rb(this.isVertical(),this.axes,"normal"));Hi(this.id,"nodes",this.ctx.animationManager,t,n),hi(this,"labels",this.ctx.animationManager,e),hi(this,"annotations",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var e,i,n;const{datumSelections:o,labelSelections:a,annotationSelections:s,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff,u=0===l?.length?"fade":"normal",d=Pb(Rb(this.isVertical(),this.axes,u));Hi(this.id,"nodes",this.ctx.animationManager,o,d,(p,f)=>Jd(f.xValue),c),(null==(n=c?.changed)||n)&&(hi(this,"labels",this.ctx.animationManager,a),hi(this,"annotations",this.ctx.animationManager,s))}isLabelEnabled(){return this.properties.label.enabled}};nG.className="BarSeries",nG.type="bar";var sUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:nG,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:r=>"horizontal"===r?.direction,themeTemplate:{series:{__extends__:vu,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Qn,color:Mg,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:Pg,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:W1},HQ=r=>{const t=rc.fromString(r),[e,i,n]=rc.RGBtoOKLCH(t.r,t.g,t.b);return{l:e,c:i,h:n,a:t.a}},ef=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(HQ)}update(){const{domain:r,range:t}=this;r.length<2&&(Ae.warnOnce("`colorDomain` should have at least 2 values."),0===r.length?r.push(0,1):1===r.length&&r.push(r[0]+1));for(let e=1;e<r.length;e++)if(r[e-1]>=r[e]){Ae.warnOnce("`colorDomain` values should be supplied in ascending order."),r.sort((o,a)=>o-a);break}if(t.length<r.length)for(let e=t.length;e<r.length;e++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(HQ)}convert(r){this.refresh();const{domain:t,range:e,parsedRange:i}=this,n=t[0],o=t.at(-1);if(r<=n)return e[0];if(r>=o)return e[e.length-1];let l,c;if(2===t.length){const h=(r-n)/(o-n),p=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(h*(e.length-1)),e.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(r<t[l+1]);l++);const h=t[l];c=(r-h)/(t[l+1]-h)}return((r,t,e)=>{let i,n;if(e=ti(0,e,1),Number.isNaN(r.h)&&Number.isNaN(t.h))i=0,n=0;else if(Number.isNaN(r.h))i=t.h,n=t.c;else if(Number.isNaN(t.h))i=r.h,n=r.c;else{let l=t.h;const c=t.h-r.h;c>180?l-=360:c<-180&&(l+=360),i=r.h*(1-e)+l*e,n=r.c*(1-e)+t.c*e}return rc.fromOKLCH(r.l*(1-e)+t.l*e,n,i,r.a*(1-e)+t.a*e)})(i[l],i[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ae.warnOnce("Expected update to not invalidate scale"))}};S([No],ef.prototype,"domain",2),S([No],ef.prototype,"range",2);var rG=class extends Vo{constructor(){super(...arguments),this.maxSize=30}};S([R(Ce),Ne({redraw:3})],rG.prototype,"maxSize",2),S([R(dT,{optional:!0}),Ne({redraw:3})],rG.prototype,"domain",2);var Or=class extends th{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new rG,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],Or.prototype,"xKey",2),S([R(xe)],Or.prototype,"yKey",2),S([R(xe)],Or.prototype,"sizeKey",2),S([R(xe,{optional:!0})],Or.prototype,"labelKey",2),S([R(xe,{optional:!0})],Or.prototype,"colorKey",2),S([R(xe,{optional:!0})],Or.prototype,"xName",2),S([R(xe,{optional:!0})],Or.prototype,"yName",2),S([R(xe,{optional:!0})],Or.prototype,"sizeName",2),S([R(xe,{optional:!0})],Or.prototype,"labelName",2),S([R(xe,{optional:!0})],Or.prototype,"colorName",2),S([R(dT,{optional:!0})],Or.prototype,"colorDomain",2),S([R(ns)],Or.prototype,"colorRange",2),S([R(xe,{optional:!0})],Or.prototype,"title",2),S([R(Ye)],Or.prototype,"marker",2),S([R(Ye)],Or.prototype,"label",2),S([R(Ye)],Or.prototype,"tooltip",2);var cUe=class extends j1{constructor(r,t,e,i){super(r,t,e,i),this.sizeKey=i.properties.sizeKey}},oG=class Oie extends ih{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Mu,marker:Db}}),this.NodeClickEvent=cUe,this.properties=new Or,this.sizeScale=new hc,this.colorScale=new ef}processData(t){return he(this,null,function*(){var e,i;if(!this.properties.isValid()||null==this.data)return;const{isContinuousX:n,isContinuousY:o}=this.isContinuous(),{xKey:a,yKey:s,sizeKey:l,labelKey:c,colorDomain:u,colorRange:d,colorKey:h,marker:p}=this.properties,{dataModel:f,processedData:m}=yield this.requestDataModel(t,this.data,{props:[Ar(this,a,n,{id:"xKey-raw"}),Ar(this,s,o,{id:"yKey-raw"}),...c?[Ar(this,c,!1,{id:"labelKey-raw"})]:[],Ei(this,a,n,{id:"xValue"}),Ei(this,s,o,{id:"yValue"}),Ei(this,l,!0,{id:"sizeValue"}),...h?[Ei(this,h,!0,{id:"colorValue"})]:[],...c?[Ei(this,c,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),g=f.resolveProcessedDataIndexById(this,"sizeValue").index,v=null!=(e=m.domain.values[g])?e:[];if(this.sizeScale.domain=p.domain?p.domain:v,h){const y=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=null!=(i=u??m.domain.values[y])?i:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,n),a=e.getDomain(this,n,"value",i);if("value"===o?.def.type&&"category"===o?.def.valueType)return a;const s=this.axes[t];return ao(ic(a),s)}createNodeData(){return he(this,null,function*(){var t,e,i;const{axes:n,dataModel:o,processedData:a,colorScale:s,sizeScale:l}=this,{xKey:c,yKey:u,sizeKey:d,labelKey:h,xName:p,yName:f,sizeName:m,labelName:g,label:v,colorKey:y,marker:_,visible:b}=this.properties,w=n.x,E=n.y;if(!(o&&a&&b&&w&&E))return[];const M=o.resolveProcessedDataIndexById(this,"xValue").index,P=o.resolveProcessedDataIndexById(this,"yValue").index,I=d?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,k=y?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,N=h?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,B=w.scale,Y=E.scale,ne=(null!=(t=B.bandwidth)?t:0)/2,me=(null!=(e=Y.bandwidth)?e:0)/2,W=[];l.range=[_.size,_.maxSize];const $=v.getFont();for(const{values:Z,datum:ce}of null!=(i=a.data)?i:[]){const De=Z[M],ke=Z[P],Oe=B.convert(De)+ne,nt=Y.convert(ke)+me,qe=this.getLabelText(v,{value:h?Z[N]:ke,datum:ce,xKey:c,yKey:u,sizeKey:d,labelKey:h,xName:p,yName:f,sizeName:m,labelName:g}),nn=ln.getTextSize(String(qe),$),Ie=d?l.convert(Z[I]):_.size,Je=y?s.convert(Z[k]):void 0;W.push({series:this,itemId:u,yKey:u,xKey:c,datum:ce,xValue:De,yValue:ke,sizeValue:Z[I],point:{x:Oe,y:nt,size:Ie},midPoint:{x:Oe,y:nt},fill:Je,label:J({text:qe},nn)})}return[{itemId:u,nodeData:W,labelData:W,scales:mu(Oie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return null==(t=this.contextNodeData)?void 0:t.reduce((e,i)=>e.concat(i.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker;return new(Zd(t))}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[],void 0,o=>Jd([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:o,sizeKey:a,labelKey:s,marker:l}=this.properties,c=Gt(i&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],e.each((u,d)=>{this.updateMarkerStyle(u,l,{datum:d,highlighted:i,xKey:n,yKey:o,sizeKey:a,labelKey:s},c)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return he(this,null,function*(){var e,i;const n=this.properties.label.enabled&&null!=(i=null==(e=this.chart)?void 0:e.placeLabels().get(this))?i:[];return t.labelSelection.update(n.map(o=>Pe(J({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return he(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var o,a,s,l;i.text=n.label.text,i.fill=e.color,i.x=null!=(a=null==(o=n.point)?void 0:o.x)?a:0,i.y=null!=(l=null==(s=n.point)?void 0:s.y)?l:0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return"";const{xKey:o,yKey:a,sizeKey:s,labelKey:l,xName:c,yName:u,sizeName:d,labelName:h,marker:p,tooltip:f}=this.properties,m=null!=(e=this.properties.title)?e:u,g=Gt({fill:t.fill,strokeWidth:this.getStrokeWidth(p.strokeWidth)},p.getStyle()),{fill:v="gray"}=this.getMarkerStyle(p,{datum:t,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:l},g),{datum:y,xValue:_,yValue:b,sizeValue:w,label:{text:E}}=t,M=Ui(i.formatDatum(_)),P=Ui(n.formatDatum(b));let I=`<b>${Ui(c??o)}</b>: ${M}<br><b>${Ui(u??a)}</b>: ${P}`;return s&&(I+=`<br><b>${Ui(d??s)}</b>: ${Ui(String(w))}`),l&&(I=`<b>${Ui(h??l)}</b>: ${Ui(E)}<br>`+I),f.toTooltipHtml({title:m,content:I,backgroundColor:v},{datum:y,xKey:o,xName:c,yKey:a,yName:u,sizeKey:s,sizeName:d,labelKey:l,labelName:h,title:m,color:v,seriesId:this.id})}getLegendData(){var t,e;if(null==(t=this.data)||!t.length||!this.properties.isValid())return[];const{yKey:i,yName:n,title:o,marker:a,visible:s}=this.properties,{shape:l,fill:c,stroke:u,fillOpacity:d,strokeOpacity:h,strokeWidth:p}=a;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:s,label:{text:null!=(e=o??n)?e:i},marker:{shape:l,fill:c??"rgba(0, 0, 0, 0)",stroke:u??"rgba(0, 0, 0, 0)",fillOpacity:d??1,strokeOpacity:h??1,strokeWidth:p??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){$1(this,this.ctx.animationManager,t),hi(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};oG.className="BubbleSeries",oG.type="bubble";var dUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:oG,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vu,tooltip:{position:{type:"node"}},marker:{__extends__:Og,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si}}},paletteFactory:Sb},nr=class extends th{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new tl,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],nr.prototype,"xKey",2),S([R(xe,{optional:!0})],nr.prototype,"yKey",2),S([R(xe,{optional:!0})],nr.prototype,"xName",2),S([R(xe,{optional:!0})],nr.prototype,"yName",2),S([R(Zt,{optional:!0})],nr.prototype,"fill",2),S([R(di)],nr.prototype,"fillOpacity",2),S([R(Zt,{optional:!0})],nr.prototype,"stroke",2),S([R(Ce)],nr.prototype,"strokeWidth",2),S([R(di)],nr.prototype,"strokeOpacity",2),S([R(bu)],nr.prototype,"lineDash",2),S([R(Ce)],nr.prototype,"lineDashOffset",2),S([R(rt)],nr.prototype,"areaPlot",2),S([R(eb,{optional:!0})],nr.prototype,"bins",2),S([R(vn(["count","sum","mean"],"a histogram aggregation"))],nr.prototype,"aggregation",2),S([R(Ce,{optional:!0})],nr.prototype,"binCount",2),S([R(Ye)],nr.prototype,"shadow",2),S([R(Ye)],nr.prototype,"label",2),S([R(Ye)],nr.prototype,"tooltip",2);var aG=class Mie extends ih{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Ib,label:Mu}}),this.properties=new nr,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const e=vT(t[0],t[1],10),i=Bg(t[0],t[1],10),[n]=e;return[[n-i,n],...e.map(a=>[a,a+i])]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],o=e||1,{start:a,binSize:s}=this.calculateNiceStart(i,n,o);return this.getBins(a,n,s,o)}getBins(t,e,i,n){const o=[],a=this.calculatePrecision(i);for(let s=0;s<n;s++){const l=Math.round((t+s*i)*a)/a;let c=Math.round((t+(s+1)*i)*a)/a;s===n-1&&(c=Math.max(c,e)),o[s]=[l,c]}return o}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,o=Math.floor(Math.log10(n)),a=Math.pow(10,o);return{start:Math.floor(t/a)*a,binSize:n}}processData(t){return he(this,null,function*(){var e;const{xKey:i,yKey:n,areaPlot:o,aggregation:a}=this.properties,s=[Ar(this,i,!0),nQ];if(n){let c=F1(this,"groupCount");"count"===a||("sum"===a?c=QZ(this,"groupAgg"):"mean"===a&&(c=eQ(this,"groupAgg"))),o&&(c=k1(this,"groupAgg",c)),s.push(Ei(this,n,!0,{invalidValue:void 0}),c)}else{let c=F1(this,"groupAgg");o&&(c=k1(this,"groupAgg",c)),s.push(c)}!this.ctx.animationManager.isSkipped()&&this.processedData&&s.push(Xp(this.processedData,!1)),yield this.requestDataModel(t,null!=(e=this.data)?e:[],{props:s,dataVisible:this.visible,groupByFn:c=>{var u;const d=ao(c.domain.keys[0]);if(0===d.length)return c.domain.groups=[],()=>[];const h=null!=(u=this.properties.bins)?u:this.deriveBins(d),p=h.length;return this.calculatedBins=[...h],f=>{const m=f.keys[0];for(let g=0;g<p;g++){const v=h[g];if(m>=v[0]&&m<v[1]||g===p-1&&m<=v[1])return v}return[]}}}),this.animationState.transition("updateData")})}getSeriesDomain(t){var e,i,n,o;const{processedData:a,dataModel:s}=this;if(!a||!s||!this.calculatedBins.length)return[];const l=s.getDomain(this,"groupAgg","aggregate",a),c=null==(e=this.calculatedBins)?void 0:e[0][0],u=null==(o=this.calculatedBins)?void 0:o[(null!=(n=null==(i=this.calculatedBins)?void 0:i.length)?n:0)-1][1];return ao("x"===t?[c,u]:l)}createNodeData(){return he(this,null,function*(){var t;const{id:e,axes:i,processedData:n,ctx:{callbackCache:o}}=this,a=i.x,s=i.y;if(!(this.visible&&a&&s&&n&&"grouped"===n.type))return[];const{scale:l}=a,{scale:c}=s,{xKey:u,yKey:d,xName:h,yName:p,fill:f,stroke:m,strokeWidth:g}=this.properties,{formatter:v=(P=>String(P.value)),fontStyle:y,fontWeight:_,fontSize:b,fontFamily:w,color:E}=this.properties.label,M=[];return n.data.forEach(P=>{var I;const{aggValues:[[k,N]]=[[0,0]],datum:B,datum:{length:Y},keys:ne,keys:[me,W]}=P,$=l.convert(me),Z=l.convert(W),ce=k+N,De=c.convert(0),ke=c.convert(ce),Oe=Math.abs(Z-$),nt=Math.abs(ke-De),qe=Math.min($,Z),nn=Math.min(De,ke),Ie=0!==ce?{text:null!=(I=o.call(v,{value:ce,datum:B,seriesId:e,xKey:u,yKey:d,xName:h,yName:p}))?I:String(ce),fontStyle:y,fontWeight:_,fontSize:b,fontFamily:w,fill:E,x:qe+Oe/2,y:nn+nt/2}:void 0;M.push({series:this,datum:B,aggregatedValue:ce,frequency:Y,domain:ne,yKey:d,xKey:u,x:qe,y:nn,xValue:$,yValue:ke,width:Oe,height:nt,midPoint:{x:qe+Oe/2,y:nn+nt/2},fill:f,stroke:m,opacity:1,strokeWidth:g,label:Ie})}),[{itemId:null!=(t=this.properties.yKey)?t:this.id,nodeData:M,labelData:M,scales:mu(Mie.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new jr}updateDatumSelection(t){return he(this,null,function*(){const{nodeData:e,datumSelection:i}=t;return i.update(e,n=>{n.tag=0,n.crisp=!0},n=>n.domain.join("_"))})}updateDatumNodes(t){return he(this,null,function*(){const{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:n,lineDash:o,lineDashOffset:a,shadow:s,highlightStyle:{item:{fill:l,fillOpacity:c=i,stroke:u,strokeWidth:d}}}=this.properties;t.datumSelection.each((h,p,f)=>{var m,g;const v=e&&void 0!==d?d:p.strokeWidth,y=e?c:i;h.fill=null!=(m=e?l:void 0)?m:p.fill,h.stroke=null!=(g=e?u:void 0)?g:p.stroke,h.fillOpacity=y,h.strokeOpacity=n,h.strokeWidth=v,h.lineDash=o,h.lineDashOffset=a,h.fillShadow=s,h.zIndex=e?qg.highlightedZIndex:f,h.visible=p.height>0})})}updateLabelSelection(t){return he(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.tag=1,n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})})}updateLabelNodes(t){return he(this,null,function*(){const e=this.isLabelEnabled();t.labelSelection.each((i,n)=>{const o=n.label;o&&e?(i.text=o.text,i.x=o.x,i.y=o.y,i.fontStyle=o.fontStyle,i.fontWeight=o.fontWeight,i.fontSize=o.fontSize,i.fontFamily=o.fontFamily,i.fill=o.fill,i.visible=!0):i.visible=!1})})}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return"";const{xKey:n,yKey:o,xName:a,yName:s,fill:l,aggregation:c,tooltip:u}=this.properties,{aggregatedValue:d,frequency:h,domain:[p,f]}=t,m=`${Ui(a??n)}: ${e.formatDatum(p)} - ${e.formatDatum(f)}`;let g=o?`<b>${Ui(s??o)} (${c})</b>: ${i.formatDatum(d)}<br>`:"";return g+=`<b>Frequency</b>: ${h}`,u.toTooltipHtml({title:m,backgroundColor:l,content:g},{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:n,xName:a,yKey:o,yName:s,color:l,title:m,seriesId:this.id})}getLegendData(t){var e,i;if(null==(e=this.data)||!e.length||"category"!==t)return[];const{xKey:n,yName:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:c,strokeOpacity:u,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:d,label:{text:null!=(i=o??n)?i:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:u,strokeWidth:c}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const i=Pb(Rb(!0,this.axes,"normal"));Hi(this.id,"datums",this.ctx.animationManager,t,i),hi(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e,i;const n=null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff,o=Pb(Rb(!0,this.axes,"normal"));Hi(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(a,s)=>Jd(s.domain),n),hi(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};aG.className="HistogramSeries",aG.type="histogram";var pUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:aG,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vu,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:Mg,formatter:void 0},shadow:{enabled:!1,color:Pg,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:r})=>{const{fills:[t],strokes:[e]}=r(1);return{fill:t,stroke:e}}},so=class extends th{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new Vo,this.label=new Ln,this.tooltip=new Bo,this.connectMissingData=!1}};S([R(xe)],so.prototype,"xKey",2),S([R(xe)],so.prototype,"yKey",2),S([R(xe,{optional:!0})],so.prototype,"xName",2),S([R(xe,{optional:!0})],so.prototype,"yName",2),S([R(xe,{optional:!0})],so.prototype,"title",2),S([R(Zt)],so.prototype,"stroke",2),S([R(Ce)],so.prototype,"strokeWidth",2),S([R(di)],so.prototype,"strokeOpacity",2),S([R(bu)],so.prototype,"lineDash",2),S([R(Ce)],so.prototype,"lineDashOffset",2),S([R(Ye)],so.prototype,"marker",2),S([R(Ye)],so.prototype,"label",2),S([R(Ye)],so.prototype,"tooltip",2),S([R(rt)],so.prototype,"connectMissingData",2);var sG=class Rie extends ih{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:J1({getOpacity:()=>this.getOpacity()}),label:Mu,marker:(e,i)=>J(J({},{opacity:1,scalingX:1,scalingY:1}),Tb(0,i))}}),this.properties=new so}processData(t){return he(this,null,function*(){if(!this.properties.isValid()||null==this.data)return;const{xKey:e,yKey:i}=this.properties,n=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),s=[];o||(s.push(Ar(this,e,o,{id:"xKey"})),n&&this.processedData&&s.push(Xp(this.processedData))),n&&s.push(Yg(this,o?["xValue"]:[])),s.push(Ei(this,e,o,{id:"xValue"}),Ei(this,i,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:s}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:n}=this;if(!n||!i)return[];const o=e.x,a=e.y,s=i.resolveProcessedDataDefById(this,"xValue");if("x"===t){const l=i.getDomain(this,"xValue","value",n);return"value"===s?.def.type&&"category"===s.def.valueType?l:ao(ic(l),o)}return ao(i.getDomain(this,"yValue","value",n),a)}createNodeData(){return he(this,null,function*(){var t,e,i;const{processedData:n,dataModel:o,axes:a}=this,s=a.x,l=a.y;if(!(n&&o&&s&&l))return[];const{xKey:c,yKey:u,xName:d,yName:h,marker:p,label:f,connectMissingData:m}=this.properties,g=s.scale,v=l.scale,y=(null!=(t=g.bandwidth)?t:0)/2,_=(null!=(e=v.bandwidth)?e:0)/2,b=[],w=p.enabled?p.size:0,E=o.resolveProcessedDataIndexById(this,"xValue").index,M=o.resolveProcessedDataIndexById(this,"yValue").index;let I,P=!0;for(let k=0;k<n.data.length;k++){const{datum:N,values:B}=I??n.data[k],Y=B[E],ne=B[M];if(void 0===ne)P=!m;else{const me=g.convert(Y)+y;if(isNaN(me)){P=!m,I=void 0;continue}I=void 0===(null==(i=n.data[k+1])?void 0:i.values[M])?void 0:n.data[k+1];const W=v.convert(ne)+_,$=this.getLabelText(f,{value:ne,datum:N,xKey:c,yKey:u,xName:d,yName:h},Z=>ai(Z)?Z.toFixed(2):String(Z));b.push({series:this,datum:N,yKey:u,xKey:c,point:{x:me,y:W,moveTo:P,size:w},midPoint:{x:me,y:W},yValue:ne,xValue:Y,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:$?{text:$,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),P=!1}}return[{itemId:u,nodeData:b,labelData:b,scales:mu(Rie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Zd(t))}updatePathNodes(t){return he(this,null,function*(){const{paths:[e],opacity:i,visible:n,animationEnabled:o}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(e.visible=n),RT(this,e)})}updateMarkerSelection(t){return he(this,null,function*(){let{nodeData:e}=t;const{markerSelection:i}=t,{shape:n,enabled:o}=this.properties.marker;return e=n&&o?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,a=>Jd(a.xValue))})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:o,stroke:a,strokeWidth:s,strokeOpacity:l,marker:c,highlightStyle:u}=this.properties,d=Gt(i&&u.item,c.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:l}),h=this.ctx.animationManager.isSkipped();e.each((p,f)=>{this.updateMarkerStyle(p,c,{datum:f,highlighted:i,xKey:n,yKey:o},d,{applyTranslation:h})}),i||c.markClean()})}updateLabelSelection(t){return he(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return he(this,null,function*(){const{enabled:e,fontStyle:i,fontWeight:n,fontSize:o,fontFamily:a,color:s}=this.properties.label;t.labelSelection.each((l,c)=>{const{point:u,label:d}=c;c&&d&&e?(l.fontStyle=i,l.fontWeight=n,l.fontSize=o,l.fontFamily=a,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=u.x,l.y=u.y-10,l.fill=s,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return"";const{xKey:o,yKey:a,xName:s,yName:l,strokeWidth:c,marker:u,tooltip:d}=this.properties,{datum:h,xValue:p,yValue:f}=t,m=i.formatDatum(p),g=n.formatDatum(f),v=Ui(null!=(e=this.properties.title)?e:l),y=Ui(m+": "+g),_=Gt({fill:u.stroke},u.getStyle(),{strokeWidth:c}),{fill:b}=this.getMarkerStyle(u,{datum:t,xKey:o,yKey:a,highlighted:!1},_);return d.toTooltipHtml({title:v,content:y,backgroundColor:b},J({datum:h,xKey:o,xName:s,yKey:a,yName:l,title:v,color:b,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,n,o,a,s,l,c,u;if(null==(e=this.data)||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:d,yName:h,stroke:p,strokeOpacity:f,strokeWidth:m,lineDash:g,title:v,marker:y,visible:_}=this.properties,b="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:_,label:{text:null!=(i=v??h)?i:d},marker:{shape:y.shape,fill:null!=(n=y.fill)?n:b,stroke:null!=(a=null!=(o=y.stroke)?o:p)?a:b,fillOpacity:null!=(s=y.fillOpacity)?s:1,strokeOpacity:null!=(c=null!=(l=y.strokeOpacity)?l:f)?c:1,strokeWidth:null!=(u=y.strokeWidth)?u:0,enabled:y.enabled},line:{stroke:p??b,strokeOpacity:f,strokeWidth:m,lineDash:g}}]}updatePaths(t){return he(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,e){e.forEach(({nodeData:i},n)=>{const[o]=t[n],{path:a}=o;a.clear({trackChanges:!0});for(const s of i)s.point.moveTo?a.moveTo(s.point.x,s.point.y):a.lineTo(s.point.x,s.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,annotationSelections:n,contextData:o,paths:a}=t,{animationManager:s}=this.ctx;this.updateLinePaths(a,o),Q1(this,s,a.flat()),er(e,Tb),K1(this,s,e),hi(this,"labels",s,i),hi(this,"annotations",s,n)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,i;const{animationManager:n}=this.ctx,{markerSelections:o,labelSelections:a,annotationSelections:s,contextData:l,paths:c,previousContextData:u}=t,[d]=c;super.resetAllAnimation(t);const h=()=>{this.updateLinePaths(c,l)};if(0===l.length||0===u?.length)return h(),Eb(this,n,o,"added"),Ab(this,"path_properties",n,d??[]),hi(this,"labels",n,a),void hi(this,"annotations",n,s);const[f]=l,[m]=u??[],g=MQ(f,m,null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff);if(void 0===g)return n.skipCurrentBatch(),void h();Eb(this,n,o),Hi(this.id,"path_properties",n,d,g.pathProperties),yQ(this.id,"path_update",n,d,g.path),g.hasMotion&&(hi(this,"labels",n,a),hi(this,"annotations",n,s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new $e}};sG.className="LineSeries",sG.type="line";var mUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:sG,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:vu,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:Og,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:r=>{const{marker:t}=Sb(r);return{stroke:t.fill,marker:t}}},lo=class extends th{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Vo,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],lo.prototype,"xKey",2),S([R(xe)],lo.prototype,"yKey",2),S([R(xe,{optional:!0})],lo.prototype,"labelKey",2),S([R(xe,{optional:!0})],lo.prototype,"colorKey",2),S([R(xe,{optional:!0})],lo.prototype,"xName",2),S([R(xe,{optional:!0})],lo.prototype,"yName",2),S([R(xe,{optional:!0})],lo.prototype,"labelName",2),S([R(xe,{optional:!0})],lo.prototype,"colorName",2),S([R(dT,{optional:!0})],lo.prototype,"colorDomain",2),S([R(ns)],lo.prototype,"colorRange",2),S([R(xe,{optional:!0})],lo.prototype,"title",2),S([R(Ye)],lo.prototype,"marker",2),S([R(Ye)],lo.prototype,"label",2),S([R(Ye)],lo.prototype,"tooltip",2);var lG=class Pie extends ih{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Db,label:Mu}}),this.properties=new lo,this.colorScale=new ef}processData(t){return he(this,null,function*(){var e;if(!this.properties.isValid()||null==this.data)return;const{isContinuousX:i,isContinuousY:n}=this.isContinuous(),{xKey:o,yKey:a,labelKey:s,colorKey:l,colorDomain:c,colorRange:u}=this.properties,{dataModel:d,processedData:h}=yield this.requestDataModel(t,this.data,{props:[Ar(this,o,i,{id:"xKey-raw"}),Ar(this,a,n,{id:"yKey-raw"}),...s?[Ar(this,s,!1,{id:"labelKey-raw"})]:[],Ei(this,o,i,{id:"xValue"}),Ei(this,a,n,{id:"yValue"}),...l?[Ei(this,l,!0,{id:"colorValue"})]:[],...s?[Ei(this,s,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const p=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=null!=(e=c??h.domain.values[p])?e:[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,n),a=e.getDomain(this,n,"value",i);if("value"===o?.def.type&&"category"===o?.def.valueType)return a;const s=this.axes[t];return ao(ic(a),s)}createNodeData(){return he(this,null,function*(){var t,e,i;const{axes:n,dataModel:o,processedData:a,colorScale:s}=this,{xKey:l,yKey:c,labelKey:u,colorKey:d,xName:h,yName:p,labelName:f,marker:m,label:g,visible:v}=this.properties,y=n.x,_=n.y;if(!(o&&a&&v&&y&&_))return[];const b=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,E=d?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,M=u?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,P=y.scale,I=_.scale,k=(null!=(t=P.bandwidth)?t:0)/2,N=(null!=(e=I.bandwidth)?e:0)/2,B=[],Y=g.getFont();for(const{values:ne,datum:me}of null!=(i=a.data)?i:[]){const W=ne[b],$=ne[w],Z=P.convert(W)+k,ce=I.convert($)+N,De=this.getLabelText(g,{value:u?ne[M]:$,datum:me,xKey:l,yKey:c,labelKey:u,xName:h,yName:p,labelName:f}),ke=ln.getTextSize(De,Y),Oe=d?s.convert(ne[E]):void 0;B.push({series:this,itemId:c,yKey:c,xKey:l,datum:me,xValue:W,yValue:$,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:Z,y:ce,size:m.size},midPoint:{x:Z,y:ce},fill:Oe,label:J({text:De},ke)})}return[{itemId:c,nodeData:B,labelData:B,scales:mu(Pie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return null==(t=this.contextNodeData)?void 0:t.reduce((e,i)=>e.concat(i.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker;return new(Zd(t))}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:o,labelKey:a,marker:s,highlightStyle:l}=this.properties,c=Gt(i&&l.item,s.getStyle());e.each((u,d)=>{this.updateMarkerStyle(u,s,{datum:d,highlighted:i,xKey:n,yKey:o,labelKey:a},c)}),i||s.markClean()})}updateLabelSelection(t){return he(this,null,function*(){var e,i;const n=this.isLabelEnabled()&&null!=(i=null==(e=this.chart)?void 0:e.placeLabels().get(this))?i:[];return t.labelSelection.update(n.map(({datum:o,x:a,y:s})=>Pe(J({},o),{point:{x:a,y:s,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return he(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var o,a,s,l;i.text=n.label.text,i.fill=e.color,i.x=null!=(a=null==(o=n.point)?void 0:o.x)?a:0,i.y=null!=(l=null==(s=n.point)?void 0:s.y)?l:0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return"";const{xKey:n,yKey:o,labelKey:a,xName:s,yName:l,labelName:c,title:u=l,marker:d,tooltip:h}=this.properties,{datum:p,xValue:f,yValue:m,label:g}=t,v=Gt({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:y="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:n,yKey:o,labelKey:a},v),_=Ui(e.formatDatum(f)),b=Ui(i.formatDatum(m));let w=`<b>${Ui(s??n)}</b>: ${_}<br><b>${Ui(l??o)}</b>: ${b}`;return a&&(w=`<b>${Ui(c??a)}</b>: ${Ui(g.text)}<br>`+w),h.toTooltipHtml({title:u,content:w,backgroundColor:y},J({datum:p,xKey:n,xName:s,yKey:o,yName:l,labelKey:a,labelName:c,title:u,color:y,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,n,o,a,s;const{yKey:l,yName:c,title:u,marker:d,visible:h}=this.properties,{fill:p,stroke:f,fillOpacity:m,strokeOpacity:g,strokeWidth:v}=d;return null!=(e=this.data)&&e.length&&this.properties.isValid()&&"category"===t?[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:h,label:{text:null!=(i=u??c)?i:l},marker:{shape:d.shape,fill:null!=(o=null!=(n=d.fill)?n:p)?o:"rgba(0, 0, 0, 0)",stroke:null!=(s=null!=(a=d.stroke)?a:f)?s:"rgba(0, 0, 0, 0)",fillOpacity:m??1,strokeOpacity:g??1,strokeWidth:v??0}}]:[]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,annotationSelections:n}=t;$1(this,this.ctx.animationManager,e),hi(this,"labels",this.ctx.animationManager,i),hi(this,"annotations",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};lG.className="ScatterSeries",lG.type="scatter";var vUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:lG,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vu,tooltip:{position:{type:"node"}},marker:{__extends__:Og,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Sb};function cG(r,t,e){const i=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),{innerRadius:n,outerRadius:o}=e;if(e.startAngle===e.endAngle||i<Math.min(n,o)||i>Math.max(n,o))return!1;const a=JC(e.startAngle),s=JC(e.endAngle),l=Math.atan2(t,r);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function UQ(r,t){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:o}=t,a={x:o*Math.cos(e),y:o*Math.sin(e)},s={x:o*Math.cos(i),y:o*Math.sin(i)},l=0===n?{x:0,y:0}:{x:n*Math.cos(e),y:n*Math.sin(e)},c=0===n?{x:0,y:0}:{x:n*Math.cos(i),y:n*Math.sin(i)};return null!=mb(r.start.x,r.start.y,r.end.x,r.end.y,a.x,a.y,l.x,l.y)||null!=mb(r.start.x,r.start.y,r.end.x,r.end.y,s.x,s.y,c.x,c.y)||WZ(0,0,o,e,i,!0,r.start.x,r.start.y,r.end.x,r.end.y).length>0}function zQ(r,t){const n={x:r.x,y:r.y+r.height},o={x:r.x+r.width,y:r.y+r.height};return UQ({start:{x:r.x,y:r.y},end:{x:r.x+r.width,y:r.y}},t)||UQ({start:n,end:o},t)}var cs=class extends Sa{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.angleOffset=0,this.inset=0}computeBBox(){const r=this.outerRadius;return new wt(this.centerX-r,this.centerY-r,2*r,2*r)}updatePath(){const r=this.path,{angleOffset:t,inset:e}=this,i=this.startAngle+t,n=this.endAngle+t,o=i<=n?n-i:2*Math.PI-(i-n),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),s=Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0),l=o>=2*Math.PI,c=this.centerX,u=this.centerY;if(r.clear(),l)r.arc(c,u,s,i,n),a>e&&(r.moveTo(c+a*Math.cos(n),u+a*Math.sin(n)),r.arc(c,u,a,n,i,!0));else{const d=a>0?e/a:0,h=s>0?e/s:0;if(o<2*h)return;const f=a<=e||o<2*d;if(f){const m=o<.5*Math.PI?e*(1+Math.cos(o))/Math.sin(o):NaN;let g;g=m>0&&m<s?Math.max(Math.hypot(e,m),a):a;const v=i+.5*o;r.moveTo(c+g*Math.cos(v),u+g*Math.sin(v))}else r.moveTo(c+a*Math.cos(i+d),u+a*Math.sin(i+d));r.arc(c,u,s,i+h,n-h),f||(a>0?r.arc(c,u,a,n-d,i+d,!0):r.lineTo(c,u))}r.closePath(),this.dirtyPath=!1}isPointInPath(r,t){const{angleOffset:e}=this,i=this.startAngle+e,n=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.transformPoint(r,t);return cG(s.x,s.y,{startAngle:i,endAngle:n,innerRadius:o,outerRadius:a})}};cs.className="Sector",S([Mt()],cs.prototype,"centerX",2),S([Mt()],cs.prototype,"centerY",2),S([Mt()],cs.prototype,"innerRadius",2),S([Mt()],cs.prototype,"outerRadius",2),S([Mt()],cs.prototype,"startAngle",2),S([Mt()],cs.prototype,"endAngle",2),S([Mt()],cs.prototype,"angleOffset",2),S([Mt()],cs.prototype,"inset",2);var WQ=class extends qi{constructor(){super(...arguments),this.showInLegend=!1}};S([R(rt)],WQ.prototype,"showInLegend",2);var uG=class extends Ln{constructor(){super(...arguments),this.margin=2}set(r,t){return super.set(r)}};S([R(xe)],uG.prototype,"text",2),S([R(Di)],uG.prototype,"margin",2);var dG=class extends wi{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};S([R(Zt)],dG.prototype,"fill",2),S([R(di)],dG.prototype,"fillOpacity",2);var Zg=class extends Ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};S([R(Ce)],Zg.prototype,"offset",2),S([R(zd)],Zg.prototype,"minAngle",2),S([R(Ce)],Zg.prototype,"minSpacing",2),S([R(Ce)],Zg.prototype,"maxCollisionOffset",2),S([R(rt)],Zg.prototype,"avoidCollisions",2);var hG=class extends Ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};S([R(Di)],hG.prototype,"positionOffset",2),S([R(di)],hG.prototype,"positionRatio",2);var FT=class extends wi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};S([R(ns,{optional:!0})],FT.prototype,"colors",2),S([R(Ce)],FT.prototype,"length",2),S([R(Ce)],FT.prototype,"strokeWidth",2);var Wt=class extends Qs{constructor(){super(...arguments),this.fills=Object.values(tc),this.strokes=Object.values(Rp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new HC(uG),this.title=new WQ,this.innerCircle=new dG,this.shadow=new tl,this.calloutLabel=new Zg,this.sectorLabel=new hG,this.calloutLine=new FT,this.tooltip=new Bo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const r=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(Ae.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):r}};function Qg(r,t,e,i){const n=[e.convert(0),e.convert(1)],o=[i.convert(0),i.convert(1)],a=Math.PI/-2+Br(t);return{nodes:{toFn:(p,f,m,{prevLive:g})=>{var v,y;let{startAngle:_,endAngle:b,innerRadius:w,outerRadius:E}=f;const{stroke:M,fill:P}=f.sectorFormat;if("removed"===m&&g?(_=null==(v=g.datum)?void 0:v.endAngle,b=null==(y=g.datum)?void 0:y.endAngle):"removed"===m&&!g&&(_=a,b=a),"removed"===m){const I=(({radius:p})=>({innerRadius:n[0],outerRadius:n[0]+(n[1]-n[0])*p}))(f);w=I.innerRadius,E=I.outerRadius}return{startAngle:_,endAngle:b,outerRadius:E,innerRadius:w,stroke:M,fill:P}},fromFn:(p,f,m,{prevFromProps:g})=>{var v,y,_,b,w,E;let{startAngle:M,endAngle:P,innerRadius:I,outerRadius:k}=p,{fill:N,stroke:B}=f.sectorFormat;if("unknown"===m||"added"===m&&!g?(M=a,P=a,I=f.innerRadius,k=f.outerRadius):"added"===m&&g&&(M=null!=(v=g.endAngle)?v:a,P=null!=(y=g.endAngle)?y:a,I=null!=(_=g.innerRadius)?_:f.innerRadius,k=null!=(b=g.outerRadius)?b:f.outerRadius),"added"===m&&!r){const Y=(({radius:p})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*p}))(f);I=Y.innerRadius,k=Y.outerRadius}return"updated"===m&&(N=null!=(w=p.fill)?w:N,B=null!=(E=p.stroke)?E:B),{startAngle:M,endAngle:P,innerRadius:I,outerRadius:k,fill:N,stroke:B,phase:"initial"}}},innerCircle:{fromFn:(p,f)=>{var m,g,v;return{size:null!=(v=null!=(g=null==(m=p.previousDatum)?void 0:m.radius)?g:p.size)?v:0,phase:"initial"}},toFn:(p,f)=>{var m;return{size:null!=(m=f.radius)?m:0}}}}}function $Q(r,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}S([R(xe)],Wt.prototype,"angleKey",2),S([R(xe,{optional:!0})],Wt.prototype,"angleName",2),S([R(xe,{optional:!0})],Wt.prototype,"radiusKey",2),S([R(xe,{optional:!0})],Wt.prototype,"radiusName",2),S([R(Ce,{optional:!0})],Wt.prototype,"radiusMin",2),S([R(Ce,{optional:!0})],Wt.prototype,"radiusMax",2),S([R(xe,{optional:!0})],Wt.prototype,"calloutLabelKey",2),S([R(xe,{optional:!0})],Wt.prototype,"calloutLabelName",2),S([R(xe,{optional:!0})],Wt.prototype,"sectorLabelKey",2),S([R(xe,{optional:!0})],Wt.prototype,"sectorLabelName",2),S([R(xe,{optional:!0})],Wt.prototype,"legendItemKey",2),S([R(ns)],Wt.prototype,"fills",2),S([R(ns)],Wt.prototype,"strokes",2),S([R(di)],Wt.prototype,"fillOpacity",2),S([R(di)],Wt.prototype,"strokeOpacity",2),S([R(bu)],Wt.prototype,"lineDash",2),S([R(Ce)],Wt.prototype,"lineDashOffset",2),S([R(is,{optional:!0})],Wt.prototype,"formatter",2),S([R(zd)],Wt.prototype,"rotation",2),S([R(Di)],Wt.prototype,"outerRadiusOffset",2),S([R(di)],Wt.prototype,"outerRadiusRatio",2),S([R(Di,{optional:!0})],Wt.prototype,"innerRadiusOffset",2),S([R(di,{optional:!0})],Wt.prototype,"innerRadiusRatio",2),S([R(Ce)],Wt.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],Wt.prototype,"sectorSpacing",2),S([R(qN)],Wt.prototype,"innerLabels",2),S([R(Ye)],Wt.prototype,"title",2),S([R(Ye)],Wt.prototype,"innerCircle",2),S([R(Ye)],Wt.prototype,"shadow",2),S([R(Ye)],Wt.prototype,"calloutLabel",2),S([R(Ye)],Wt.prototype,"sectorLabel",2),S([R(Ye)],Wt.prototype,"calloutLine",2),S([R(Ye)],Wt.prototype,"tooltip",2),S([R(xe,{optional:!0})],Wt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var kT=class extends uQ{constructor(r){var t=r,{useLabelLayer:e=!1,pickModes:i=[0],canHaveAxes:n=!1,animationResetFns:o}=t,a=Zn(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(Pe(J({},a),{useLabelLayer:e,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n})),this.itemGroup=this.contentGroup.appendChild(new $e),this.itemSelection=ji.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=ji.select(this.labelGroup,ii,!1),this.highlightSelection=ji.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new lb("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(r){"initial"===r?this.animationState.transition("reset"):"ready"===r&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(r,t){return null}resetAllAnimation(){var r;const{item:t,label:e}=null!=(r=this.animationResetFns)?r:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&er([this.itemSelection,this.highlightSelection],t),e&&er([this.labelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(r){var t;const{item:e}=null!=(t=this.animationResetFns)?t:{};e&&er([this.highlightSelection],e)}animateReadyHighlightMarkers(r){}animateReadyResize(r){this.resetAllAnimation()}animateClearingUpdateEmpty(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(r){return{seriesRect:r}}},yUe=class extends yb{constructor(r,t,e,i){super(r,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},LT=class extends kT{constructor(r){super({moduleCtx:r,useLabelLayer:!0,animationResetFns:{item:$Q,label:Mu}}),this.properties=new Wt,this.previousRadiusScale=new hc,this.radiusScale=new hc,this.backgroundGroup=this.rootGroup.appendChild(new $e({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new dc),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new dc),this.innerCircleGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=yUe,this.angleScale=new hc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(n=>n+Math.PI/2);const t=new $e({name:"pieCalloutLabels"}),e=new $e({name:"pieSectorLabels"}),i=new $e({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(i),this.calloutLabelSelection=ji.select(t,$e),this.sectorLabelSelection=ji.select(e,ii),this.innerLabelsSelection=ji.select(i,ii),this.innerCircleSelection=ji.select(this.innerCircleGroup,dc);for(const n of[this.zerosumInnerRing,this.zerosumOuterRing])n.fillOpacity=0,n.stroke=this.properties.calloutLabel.color,n.strokeWidth=1,n.strokeOpacity=1}addChartEventListeners(){var r;this.destroyFns.push(null==(r=this.ctx.chartEventManager)?void 0:r.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(r=>r):super.visible}processSeriesItemEnabled(){var r;const{data:t,visible:e}=this;this.seriesItemEnabled=null!=(r=t?.map(()=>e))?r:[]}nodeFactory(){return new cs}getSeriesDomain(r){return"x"===r?this.angleScale.domain:this.radiusScale.domain}processData(r){return he(this,null,function*(){var t,e,i,n,o;if(null==this.data||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:c,calloutLabelKey:u,sectorLabelKey:d,legendItemKey:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];h?f.push(Ar(this,h,!1,{id:"legendItemKey"})):u?f.push(Ar(this,u,!1,{id:"calloutLabelKey"})):d&&f.push(Ar(this,d,!1,{id:"sectorLabelKey"})),c&&m.push(G1(this,c,{id:"radiusValue",min:null!=(t=this.properties.radiusMin)?t:0,max:this.properties.radiusMax}),Ei(this,c,!0,{id:"radiusRaw"}),vb(this,{id:"radiusValue"},[0,1],1,null!=(e=this.properties.radiusMin)?e:0,this.properties.radiusMax)),u&&m.push(Ei(this,u,!1,{id:"calloutLabelValue"})),d&&m.push(Ei(this,d,!1,{id:"sectorLabelValue"})),h&&m.push(Ei(this,h,!1,{id:"legendItemValue"})),p&&this.processedData&&f.length>0&&m.push(Xp(this.processedData)),m.push(Yg(this)),a=a.map((g,v)=>s[v]?g:Pe(J({},g),{[l]:0})),yield this.requestDataModel(r,a,{props:[...f,V1(this,l,!0,{id:"angleValue",onlyPositive:!0}),Ei(this,l,!0,{id:"angleRaw"}),vb(this,{id:"angleValue"},[0,1],0,0),...m]});for(const g of null!=(o=null==(n=null==(i=this.processedData)?void 0:i.defs)?void 0:n.values)?o:[]){const{id:v,missing:y,property:_}=g,b=w1(this,y);"angleRaw"!==v&&b>0&&Ae.warnOnce(`no value was found for the key '${String(_)}' on ${b} data element${b>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return he(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:r=[]}={}]=yield this.createNodeData();this.nodeData=r,this.nodeDataRefresh=!1})}getProcessedDataIndexes(r){return{angleIdx:r.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.properties.radiusKey?r.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.properties.calloutLabelKey?r.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.properties.sectorLabelKey?r.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.properties.legendItemKey?r.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}}createNodeData(){return he(this,null,function*(){const{id:r,processedData:t,dataModel:e,angleScale:i}=this,{rotation:n,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:r,nodeData:[],labelData:[]}];if(!t||!e||"ungrouped"!==t.type)return[];const{angleIdx:a,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(e);let d=0,h=0;const p=t.data.map((f,m)=>{var g;const{datum:v,values:y}=f,_=y[a],b=i.convert(d)+Br(n);d=_,h+=_;const w=i.convert(d)+Br(n),E=Math.abs(w-b),M=b+E/2,P=y[a+1],I=s>=0&&null!=(g=y[s])?g:1,k=s>=0?y[s+1]:void 0,N=u>=0?y[u]:void 0,B=this.getLabels(v,M,E,!0,y[l],y[c],N),Y=this.getSectorFormat(v,m,!1);return J({itemId:m,series:this,datum:v,index:m,angleValue:P,midAngle:M,midCos:Math.cos(M),midSin:Math.sin(M),startAngle:b,endAngle:w,sectorFormat:Y,radiusValue:k,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),legendItemValue:N},B)});return this.zerosumOuterRing.visible=0===h,this.zerosumInnerRing.visible=0===h&&null!=o&&1!==o&&o>0,[{itemId:r,nodeData:p,labelData:p}]})}getLabels(r,t,e,i,n,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||s.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:r,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&e>Br(s.minAngle)&&(p.calloutLabel=Pe(J({},this.getTextAlignment(t)),{text:this.getLabelText(s,Pe(J({},h),{value:n})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,Pe(J({},h),{value:o}))}),null!=c&&null!=a&&(p.legendItem={key:c,text:a}),p}getTextAlignment(r){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=JC(r),i=-3*Math.PI/4;return t[aT(Math.floor((e-i)/(Math.PI/2)),t.length)]}getSectorFormat(r,t,e){var i,n,o,a,s;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:d,fills:h,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,v=c.getActiveHighlight(),y=e&&v?.series===this&&t===v.itemId,{fill:_,fillOpacity:b,stroke:w,strokeWidth:E,strokeOpacity:M}=Gt(y&&this.properties.highlightStyle.item,{fill:h.length>0?h[t%h.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:null!=m?p.length>0?p[t%p.length]:void 0:p.length>0?p[t%p.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let P;return f&&(P=l.call(f,{datum:r,angleKey:u,radiusKey:d,fill:_,stroke:w,fills:h,strokes:p,strokeWidth:E,highlighted:y,seriesId:this.id})),{fill:null!=(i=P?.fill)?i:_,fillOpacity:null!=(n=P?.fillOpacity)?n:b,stroke:null!=(o=P?.stroke)?o:w,strokeWidth:null!=(a=P?.strokeWidth)?a:E,strokeOpacity:null!=(s=P?.strokeOpacity)?s:M}}getInnerRadius(){const{radius:r}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,i=r*t+e;return i===r||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:r,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*r+t,0)}updateRadiusScale(r){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,r&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var i=e,{radius:n}=i,o=Zn(i,["radius"]);return Pe(J({},o),{radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)})})}getTitleTranslationY(){var r,t;const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(null!=(t=null==(r=this.properties.title)?void 0:r.spacing)?t:0))-Math.max(0,-e)}update(r){return he(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},n=null!=Ca(this.nodeDataDependencies,i);if(n&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var r,t;const{oldTitle:e}=this,{title:i}=this.properties;e!==i&&(e&&(null==(r=this.labelGroup)||r.removeChild(e.node)),i&&(i.node.textBaseline="bottom",null==(t=this.labelGroup)||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(r=>{const t=r.innerRadius+(r.outerRadius-r.innerRadius)/2;r.midPoint={x:r.midCos*Math.max(0,t),y:r.midSin*Math.max(0,t)}})}updateSelections(){return he(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return he(this,null,function*(){const{itemSelection:r,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:i,innerLabelsSelection:n}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(c=>Pe(J({},c),{sectorFormat:J({},c.sectorFormat)}))),a.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(r,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new tr;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new ii;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),i.update(this.nodeData,a=>{a.pointerEvents=1}),n.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:r}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const n=Math.min(e,this.getOuterRadius());t=Math.ceil(2*n+1)}this.innerCircleSelection.update(r?[{radius:t}]:[])}updateNodes(r){return he(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((n,{radius:o})=>{var a,s;n.setProperties({fill:null==(a=this.properties.innerCircle)?void 0:a.fill,opacity:null==(s=this.properties.innerCircle)?void 0:s.fillOpacity,size:o})});const i=(n,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(n.startAngle=o.startAngle,n.endAngle=o.endAngle,n.innerRadius=o.innerRadius,n.outerRadius=o.outerRadius),(s||c)&&(n.fill=l.fill,n.stroke=l.stroke),n.strokeWidth=l.strokeWidth,n.fillOpacity=l.fillOpacity,n.strokeOpacity=this.properties.strokeOpacity,n.lineDash=this.properties.lineDash,n.lineDashOffset=this.properties.lineDashOffset,n.fillShadow=this.properties.shadow,n.inset=null!=this.properties.sectorSpacing?(this.properties.sectorSpacing+(null!=l.stroke?l.strokeWidth:0))/2:0,n.lineJoin=null!=this.properties.sectorSpacing?"miter":"round"};this.itemSelection.each((n,o,a)=>i(n,o,0,!1)),this.highlightSelection.each((n,o,a)=>{const s=t?.series===this&&n.datum.itemId===t.itemId;i(n,o,0,!0),n.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(r),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var r;const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=null!=(r=t.colors)?r:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&0!==u){a.visible=!0,a.strokeWidth=i,a.stroke=n[s%n.length],a.fill=void 0;const d=l.midCos*u,h=l.midSin*u;let p=l.midCos*(u+e),f=l.midSin*(u+e);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){const g=c.box;let v=p,y=f;p<g.x?v=g.x:p>g.x+g.width&&(v=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const _=v-p,b=y-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(b,2)),E=w-o;E>0&&(p+=_*E/w,f+=b*E/w)}a.x1=d,a.y1=h,a.x2=p,a.y2=f}else a.visible=!1})}getLabelOverflow(r,t,e){const i=e.x-this.centerX,n=e.x+e.width-this.centerX;let l=1;t.x+1<i?l=(t.x+t.width-i)/t.width:t.x+t.width-1>n&&(l=(n-t.x)/t.width);const c=t.y+1<e.y-this.centerY||t.y+t.height-1>e.y+e.height-this.centerY;return{textLength:1===l?r.length:Math.floor(r.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(r,t=0,e=0){const{surroundingRadius:i}=this;if(null==i)return!1;const n=[{x:r.x+t,y:r.y+e},{x:r.x+r.width+t,y:r.y+e},{x:r.x+r.width+t,y:r.y+r.height+e},{x:r.x+t,y:r.y+r.height+e}],o=Pt(i,2);return n.some(a=>Pt(a.x,2)+Pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:r}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:i,minSpacing:n}=t,o=r.convert(0),s=this.nodeData,l=this.nodeData.filter(y=>!(y=>!y.calloutLabel||0===y.outerRadius)(y));if(l.forEach(y=>{const _=y.calloutLabel;null!=_&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(y=>y.midCos<0).sort((y,_)=>y.midSin-_.midSin),u=l.filter(y=>y.midCos>=0).sort((y,_)=>y.midSin-_.midSin),d=l.filter(y=>{var _;return y.midSin<0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),h=l.filter(y=>{var _;return y.midSin>=0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),p=new ii,f=y=>{var _;const b=y.calloutLabel;if(null==b)return new wt(0,0,0,0);const w=y.outerRadius+e.length+i,E=y.midCos*w,M=y.midSin*w+b.collisionOffsetY;return p.text=b.text,p.x=E,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:null!=(_=b.collisionTextAlign)?_:b.textAlign,textBaseline:b.textBaseline}),p.computeBBox()},m=(y,_,b)=>{const w=f(y).grow(n/2),E=f(_).grow(n/2);w.x<E.x+E.width&&w.x+w.width>E.x&&("to-top"===b?w.y<E.y+E.height:w.y+w.height>E.y)&&(_.calloutLabel.collisionOffsetY="to-top"===b?w.y-E.y-E.height:w.y+w.height-E.y)},g=y=>{const _=y.slice().sort((w,E)=>Math.abs(w.midSin)-Math.abs(E.midSin))[0],b=y.indexOf(_);for(let w=b-1;w>=0;w--)m(y[w+1],y[w],"to-top");for(let w=b+1;w<y.length;w++)m(y[w-1],y[w],"to-bottom")},v=y=>{const _=l.some(I=>0!==I.calloutLabel.collisionOffsetY),b=y.map(I=>f(I)),w=b.map(I=>I.clone().grow(n/2));let E=!1;for(let I=0;I<w.length&&!E;I++){const k=w[I];for(let N=I+1;N<y.length;N++)if(k.collidesBBox(w[N])){E=!0;break}}const M=s.map(I=>{const{startAngle:k,endAngle:N,outerRadius:B}=I;return{startAngle:k,endAngle:N,innerRadius:o,outerRadius:B}}),P=b.some(I=>M.some(k=>zQ(I,k)));!E&&!_&&!P||y.filter(I=>"center"===I.calloutLabel.textAlign).forEach(I=>{I.calloutLabel.collisionTextAlign=I.midCos<0?"right":I.midCos>0?"left":"center"})};g(c),g(u),v(d),v(h)}updateCalloutLabelNodes(r){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,n=i.length,{offset:o,color:a}=e,s=new ii;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;const{datum:u}=l,d=u.calloutLabel,h=t.convert(u.radius),p=Math.max(0,h);if(!d?.text||0===p||d.hidden)return void(l.visible=!1);const f=p+n+o,m=u.midCos*f,g=u.midSin*f+d.collisionOffsetY,v={textAlign:null!=(c=d.collisionTextAlign)?c:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=m,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(v);const y=s.computeBBox();let _=d.text,b=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:E}=this.getLabelOverflow(d.text,y,r);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,b=!E}l.text=_,l.x=m,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=a,l.visible=b})}computeLabelsBBox(r,t){return he(this,null,function*(){const{calloutLabel:e,calloutLine:i}=this.properties,n=i.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new ii;let u;const{title:d}=this.properties;if(d?.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{var p;const f=h.calloutLabel;if(!f||0===h.outerRadius)return null;const m=h.outerRadius+n+o,g=h.midCos*m,v=h.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!=(p=f.collisionTextAlign)?p:f.textAlign,textBaseline:f.textBaseline});const y=c.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a)f.hidden=!0;else{if(u){const _=t.y-this.centerY,b=new wt(u.x-s,_,u.width+2*s,u.y+u.height+s-_);if(y.collidesBBox(b))return void(f.hidden=!0)}if(r.hideWhenNecessary){const{textLength:_,hasVerticalOverflow:b,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t);if(b||f.text.length>2&&_<2||w)return void(f.hidden=!0)}f.hidden=!1,l.push(y)}}),0===l.length?null:wt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:r}=this,t=r.convert(0),{fontSize:e,fontStyle:i,fontWeight:n,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((c,u)=>{const{sectorLabel:d,outerRadius:h}=u;let p=!1;if(d&&0!==h){const f=t*(1-s)+h*s+a;c.fill=l,c.fontStyle=i,c.fontWeight=n,c.fontSize=e,c.fontFamily=o,c.text=d.text,c.x=u.midCos*f,c.y=u.midSin*f,c.textAlign="center",c.textBaseline="middle";const m=c.computeBBox(),g=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:v,endAngle:y}=u,_={startAngle:v,endAngle:y,innerRadius:t,outerRadius:h};g.every(([b,w])=>cG(b,w,_))&&(p=!0)}c.visible=p})}updateInnerLabelNodes(){const r=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,color:g}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=d.text,u.x=0,u.y=0,u.fill=g,u.textAlign="center",u.textBaseline="alphabetic",r.push(u.computeBBox()),t.push(d.margin)});const e=u=>0===u?0:t[u],i=u=>u===t.length-1?0:t[u],n=r.reduce((u,d,h)=>u+d.height+e(h)+i(h),0),o=Math.max(...r.map(u=>u.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(n/2,2))<=(a>0?a:this.getOuterRadius()),c=[];for(let u=0,d=-n/2;u<r.length;u++){const p=r[u].height+d+e(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.y=c[h],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(r){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=r;return n&&void 0!==s?s.text:e&&e!==t&&void 0!==a?.text?a.text:i&&i!==t&&void 0!==o?.text?o.text:void 0}getTooltipHtml(r){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:i,sectorFormat:{fill:n}}=r,o=Ui(null==(t=this.properties.title)?void 0:t.text),a=ai(i)?oT(i):String(i),s=this.getDatumLegendName(r);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:n},{datum:e,title:o,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(r){var t,e,i,n,o;const{processedData:a,dataModel:s}=this;if(!s||!a?.data.length||!this.properties.isValid()||"category"!==r)return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=this.properties;if(!(d||c&&c!==l||u&&u!==l))return[];const{calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(s),m=(null==(t=this.properties.title)?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let v=0;v<a.data.length;v++){const{datum:y,values:_}=a.data[v],b=[];m&&b.push(m);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,_[h],_[p],_[f]);if(d&&void 0!==w.legendItem?b.push(w.legendItem.text):c&&c!==l&&void 0!==(null==(e=w.calloutLabel)?void 0:e.text)?b.push(null==(i=w.calloutLabel)?void 0:i.text):u&&u!==l&&void 0!==(null==(n=w.sectorLabel)?void 0:n.text)&&b.push(null==(o=w.sectorLabel)?void 0:o.text),0===b.length)continue;const E=this.getSectorFormat(y,v,!1);g.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:this.seriesItemEnabled[v],label:{text:b.join(" - ")},marker:{fill:E.fill,stroke:E.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:null!=d?y[d]:void 0})}return g}onLegendItemClick(r){const{enabled:t,itemId:e,series:i,legendItemName:n}=r;i.id===this.id?this.toggleSeriesItem(e,t):null!=n&&this.toggleOtherSeriesItems(n,t)}toggleSeriesItem(r,t){this.seriesItemEnabled[r]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(r,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;null==(e=this.processedData)||e.data.forEach(({values:n},o)=>{n[i]===r&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(r){const{animationManager:t}=this.ctx,e=Qg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Hi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),Hi(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),hi(this,"callout",t,[this.calloutLabelSelection]),hi(this,"sector",t,[this.sectorLabelSelection]),hi(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var r,t,e,i,n,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null==(r=l?.reduced)?void 0:r.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!=(t=h?.moved.length)?t:0)&&h?.addedIndices.every(v=>!h.removedIndices.includes(v)),f=(null!=(e=l?.defs.keys.length)?e:0)>0,m=null==(o=null==(n=null==(i=l?.reduced)?void 0:i.animationValidation)?void 0:n.uniqueKeys)||o;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const g=Qg(!1,this.properties.rotation,c,u);Hi(this.id,"nodes",d,[a,s],g.nodes,(v,y)=>this.getDatumId(y),h),Hi(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),hi(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),hi(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),hi(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:r,highlightSelection:t,radiusScale:e,previousRadiusScale:i}=this,{animationManager:n}=this.ctx,o=Qg(!1,this.properties.rotation,e,i);Hi(this.id,"nodes",n,[r,t],o.nodes),Hi(this.id,"innerCircle",n,[this.innerCircleSelection],o.innerCircle),Jp(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Jp(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Jp(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(r){var t,e,i;const{calloutLabelKey:n,sectorLabelKey:o,legendItemKey:a}=this.properties;if(null!=(i=null==(e=null==(t=this.processedData)?void 0:t.reduced)?void 0:e.animationValidation)&&i.uniqueKeys){if(a)return r[a];if(n)return r[n];if(o)return r[o]}}getDatumId(r){var t;const{index:e}=r;return null!=(t=this.getDatumIdFromData(r.datum))?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};LT.className="DonutSeries",LT.type="donut";var KQ={series:{__extends__:vu,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:Qn,color:Rg,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Qn,color:Mg,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:Pg,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:UC}},YQ=({takeColors:r,colorsCount:t,userPalette:e})=>{const{fills:i,strokes:n}=r(t);return{fills:i,strokes:e?n:[],calloutLine:{colors:n}}},_Ue={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:LT,seriesDefaults:{},themeTemplate:KQ,paletteFactory:YQ},qQ=class extends qi{constructor(){super(...arguments),this.showInLegend=!1}};S([R(rt)],qQ.prototype,"showInLegend",2);var pG=class extends Ln{set(r,t){return super.set(r)}};S([Hp("Use a Donut Series instead"),R(xe,{optional:!0})],pG.prototype,"text",2),S([Hp("Use a Donut Series instead"),R(Di,{optional:!0})],pG.prototype,"margin",2);var fG=class extends wi{};S([Hp("Use a Donut Series instead"),R(Zt,{optional:!0})],fG.prototype,"fill",2),S([Hp("Use a Donut Series instead"),R(di,{optional:!0})],fG.prototype,"fillOpacity",2);var Jg=class extends Ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};S([R(Ce)],Jg.prototype,"offset",2),S([R(zd)],Jg.prototype,"minAngle",2),S([R(Ce)],Jg.prototype,"minSpacing",2),S([R(Ce)],Jg.prototype,"maxCollisionOffset",2),S([R(rt)],Jg.prototype,"avoidCollisions",2);var mG=class extends Ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};S([R(Di)],mG.prototype,"positionOffset",2),S([R(di)],mG.prototype,"positionRatio",2);var NT=class extends wi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};S([R(ns,{optional:!0})],NT.prototype,"colors",2),S([R(Ce)],NT.prototype,"length",2),S([R(Ce)],NT.prototype,"strokeWidth",2);var $t=class extends Qs{constructor(){super(...arguments),this.fills=Object.values(tc),this.strokes=Object.values(Rp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new HC(pG),this.title=new qQ,this.innerCircle=new fG,this.shadow=new tl,this.calloutLabel=new Jg,this.sectorLabel=new mG,this.calloutLine=new NT,this.tooltip=new Bo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};S([R(xe)],$t.prototype,"angleKey",2),S([R(xe,{optional:!0})],$t.prototype,"angleName",2),S([R(xe,{optional:!0})],$t.prototype,"radiusKey",2),S([R(xe,{optional:!0})],$t.prototype,"radiusName",2),S([R(Ce,{optional:!0})],$t.prototype,"radiusMin",2),S([R(Ce,{optional:!0})],$t.prototype,"radiusMax",2),S([R(xe,{optional:!0})],$t.prototype,"calloutLabelKey",2),S([R(xe,{optional:!0})],$t.prototype,"calloutLabelName",2),S([R(xe,{optional:!0})],$t.prototype,"sectorLabelKey",2),S([R(xe,{optional:!0})],$t.prototype,"sectorLabelName",2),S([R(xe,{optional:!0})],$t.prototype,"legendItemKey",2),S([R(ns)],$t.prototype,"fills",2),S([R(ns)],$t.prototype,"strokes",2),S([R(di)],$t.prototype,"fillOpacity",2),S([R(di)],$t.prototype,"strokeOpacity",2),S([R(bu)],$t.prototype,"lineDash",2),S([R(Ce)],$t.prototype,"lineDashOffset",2),S([R(is,{optional:!0})],$t.prototype,"formatter",2),S([R(zd)],$t.prototype,"rotation",2),S([R(Di)],$t.prototype,"outerRadiusOffset",2),S([R(di)],$t.prototype,"outerRadiusRatio",2),S([Hp("Use a Donut Series instead"),R(Di,{optional:!0})],$t.prototype,"innerRadiusOffset",2),S([Hp("Use a Donut Series instead"),R(di,{optional:!0})],$t.prototype,"innerRadiusRatio",2),S([R(Ce)],$t.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],$t.prototype,"sectorSpacing",2),S([R(qN)],$t.prototype,"innerLabels",2),S([R(Ye)],$t.prototype,"title",2),S([R(Ye)],$t.prototype,"innerCircle",2),S([R(Ye)],$t.prototype,"shadow",2),S([R(Ye)],$t.prototype,"calloutLabel",2),S([R(Ye)],$t.prototype,"sectorLabel",2),S([R(Ye)],$t.prototype,"calloutLine",2),S([R(Ye)],$t.prototype,"tooltip",2),S([R(xe,{optional:!0})],$t.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var CUe=class extends yb{constructor(r,t,e,i){super(r,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},GT=class extends kT{constructor(r){super({moduleCtx:r,useLabelLayer:!0,animationResetFns:{item:$Q,label:Mu}}),this.properties=new $t,this.previousRadiusScale=new hc,this.radiusScale=new hc,this.backgroundGroup=this.rootGroup.appendChild(new $e({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new dc),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new dc),this.innerCircleGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=CUe,this.angleScale=new hc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(n=>n+Math.PI/2);const t=new $e({name:"pieCalloutLabels"}),e=new $e({name:"pieSectorLabels"}),i=new $e({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(i),this.calloutLabelSelection=ji.select(t,$e),this.sectorLabelSelection=ji.select(e,ii),this.innerLabelsSelection=ji.select(i,ii),this.innerCircleSelection=ji.select(this.innerCircleGroup,dc);for(const n of[this.zerosumInnerRing,this.zerosumOuterRing])n.fillOpacity=0,n.stroke=this.properties.calloutLabel.color,n.strokeWidth=1,n.strokeOpacity=1}addChartEventListeners(){var r;this.destroyFns.push(null==(r=this.ctx.chartEventManager)?void 0:r.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(r=>r):super.visible}processSeriesItemEnabled(){var r;const{data:t,visible:e}=this;this.seriesItemEnabled=null!=(r=t?.map(()=>e))?r:[]}nodeFactory(){return new cs}getSeriesDomain(r){return"x"===r?this.angleScale.domain:this.radiusScale.domain}processData(r){return he(this,null,function*(){var t,e,i,n,o;if(null==this.data||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:c,calloutLabelKey:u,sectorLabelKey:d,legendItemKey:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];h?f.push(Ar(this,h,!1,{id:"legendItemKey"})):u?f.push(Ar(this,u,!1,{id:"calloutLabelKey"})):d&&f.push(Ar(this,d,!1,{id:"sectorLabelKey"})),c&&m.push(G1(this,c,{id:"radiusValue",min:null!=(t=this.properties.radiusMin)?t:0,max:this.properties.radiusMax}),Ei(this,c,!0,{id:"radiusRaw"}),vb(this,{id:"radiusValue"},[0,1],1,null!=(e=this.properties.radiusMin)?e:0,this.properties.radiusMax)),u&&m.push(Ei(this,u,!1,{id:"calloutLabelValue"})),d&&m.push(Ei(this,d,!1,{id:"sectorLabelValue"})),h&&m.push(Ei(this,h,!1,{id:"legendItemValue"})),p&&this.processedData&&f.length>0&&m.push(Xp(this.processedData)),m.push(Yg(this)),a=a.map((g,v)=>s[v]?g:Pe(J({},g),{[l]:0})),yield this.requestDataModel(r,a,{props:[...f,V1(this,l,!0,{id:"angleValue",onlyPositive:!0}),Ei(this,l,!0,{id:"angleRaw"}),vb(this,{id:"angleValue"},[0,1],0,0),...m]});for(const g of null!=(o=null==(n=null==(i=this.processedData)?void 0:i.defs)?void 0:n.values)?o:[]){const{id:v,missing:y,property:_}=g,b=w1(this,y);"angleRaw"!==v&&b>0&&Ae.warnOnce(`no value was found for the key '${String(_)}' on ${b} data element${b>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return he(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:r=[]}={}]=yield this.createNodeData();this.nodeData=r,this.nodeDataRefresh=!1})}getProcessedDataIndexes(r){return{angleIdx:r.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.properties.radiusKey?r.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.properties.calloutLabelKey?r.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.properties.sectorLabelKey?r.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.properties.legendItemKey?r.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}}createNodeData(){return he(this,null,function*(){const{id:r,processedData:t,dataModel:e,angleScale:i}=this,{rotation:n}=this.properties;if(!t||!e||"ungrouped"!==t.type)return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(e);let u=0,d=0;const h=t.data.map((f,m)=>{var g;const{datum:v,values:y}=f,_=y[o],b=i.convert(u)+Br(n);u=_,d+=_;const w=i.convert(u)+Br(n),E=Math.abs(w-b),M=b+E/2,P=y[o+1],I=a>=0&&null!=(g=y[a])?g:1,k=a>=0?y[a+1]:void 0,N=c>=0?y[c]:void 0,B=this.getLabels(v,M,E,!0,y[s],y[l],N),Y=this.getSectorFormat(v,m,!1);return J({itemId:m,series:this,datum:v,index:m,angleValue:P,midAngle:M,midCos:Math.cos(M),midSin:Math.sin(M),startAngle:b,endAngle:w,sectorFormat:Y,radiusValue:k,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),legendItemValue:N},B)});this.zerosumOuterRing.visible=0===d;const{innerRadiusRatio:p=1}=this.properties;return this.zerosumInnerRing.visible=0===d&&1!==p&&p>0,[{itemId:r,nodeData:h,labelData:h}]})}getLabels(r,t,e,i,n,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||s.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:r,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&e>Br(s.minAngle)&&(p.calloutLabel=Pe(J({},this.getTextAlignment(t)),{text:this.getLabelText(s,Pe(J({},h),{value:n})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,Pe(J({},h),{value:o}))}),null!=c&&null!=a&&(p.legendItem={key:c,text:a}),p}getTextAlignment(r){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=JC(r),i=-3*Math.PI/4;return t[aT(Math.floor((e-i)/(Math.PI/2)),t.length)]}getSectorFormat(r,t,e){var i,n,o,a,s;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:d,fills:h,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,v=c.getActiveHighlight(),y=e&&v?.series===this&&t===v.itemId,{fill:_,fillOpacity:b,stroke:w,strokeWidth:E,strokeOpacity:M}=Gt(y&&this.properties.highlightStyle.item,{fill:h.length>0?h[t%h.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:null!=m?p.length>0?p[t%p.length]:void 0:p.length>0?p[t%p.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let P;return f&&(P=l.call(f,{datum:r,angleKey:u,radiusKey:d,fill:_,stroke:w,fills:h,strokes:p,strokeWidth:E,highlighted:y,seriesId:this.id})),{fill:null!=(i=P?.fill)?i:_,fillOpacity:null!=(n=P?.fillOpacity)?n:b,stroke:null!=(o=P?.stroke)?o:w,strokeWidth:null!=(a=P?.strokeWidth)?a:E,strokeOpacity:null!=(s=P?.strokeOpacity)?s:M}}getInnerRadius(){const{radius:r}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,i=r*t+e;return i===r||i<0?0:i}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(r){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,r&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var i=e,{radius:n}=i,o=Zn(i,["radius"]);return Pe(J({},o),{radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)})})}getTitleTranslationY(){var r,t;const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(null!=(t=null==(r=this.properties.title)?void 0:r.spacing)?t:0))-Math.max(0,-e)}update(r){return he(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},n=null!=Ca(this.nodeDataDependencies,i);if(n&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var r,t;const{oldTitle:e}=this,{title:i}=this.properties;e!==i&&(e&&(null==(r=this.labelGroup)||r.removeChild(e.node)),i&&(i.node.textBaseline="bottom",null==(t=this.labelGroup)||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(r=>{const t=r.innerRadius+(r.outerRadius-r.innerRadius)/2;r.midPoint={x:r.midCos*Math.max(0,t),y:r.midSin*Math.max(0,t)}})}updateSelections(){return he(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return he(this,null,function*(){const{itemSelection:r,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:i,innerLabelsSelection:n}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(c=>Pe(J({},c),{sectorFormat:J({},c.sectorFormat)}))),a.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(r,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new tr;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new ii;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),i.update(this.nodeData,a=>{a.pointerEvents=1}),n.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:r}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const n=Math.min(e,this.getOuterRadius());t=Math.ceil(2*n+1)}this.innerCircleSelection.update(r?[{radius:t}]:[])}updateNodes(r){return he(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((n,{radius:o})=>{var a,s;n.setProperties({fill:null==(a=this.properties.innerCircle)?void 0:a.fill,opacity:null==(s=this.properties.innerCircle)?void 0:s.fillOpacity,size:o})});const i=(n,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(n.startAngle=o.startAngle,n.endAngle=o.endAngle,n.innerRadius=o.innerRadius,n.outerRadius=o.outerRadius),(s||c)&&(n.fill=l.fill,n.stroke=l.stroke),n.strokeWidth=l.strokeWidth,n.fillOpacity=l.fillOpacity,n.strokeOpacity=this.properties.strokeOpacity,n.lineDash=this.properties.lineDash,n.lineDashOffset=this.properties.lineDashOffset,n.fillShadow=this.properties.shadow,n.inset=null!=this.properties.sectorSpacing?(this.properties.sectorSpacing+(null!=l.stroke?l.strokeWidth:0))/2:0,n.lineJoin=null!=this.properties.sectorSpacing?"miter":"round"};this.itemSelection.each((n,o,a)=>i(n,o,0,!1)),this.highlightSelection.each((n,o,a)=>{const s=t?.series===this&&n.datum.itemId===t.itemId;i(n,o,0,!0),n.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(r),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var r;const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=null!=(r=t.colors)?r:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&0!==u){a.visible=!0,a.strokeWidth=i,a.stroke=n[s%n.length],a.fill=void 0;const d=l.midCos*u,h=l.midSin*u;let p=l.midCos*(u+e),f=l.midSin*(u+e);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){const g=c.box;let v=p,y=f;p<g.x?v=g.x:p>g.x+g.width&&(v=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const _=v-p,b=y-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(b,2)),E=w-o;E>0&&(p+=_*E/w,f+=b*E/w)}a.x1=d,a.y1=h,a.x2=p,a.y2=f}else a.visible=!1})}getLabelOverflow(r,t,e){const i=e.x-this.centerX,n=e.x+e.width-this.centerX;let l=1;t.x+1<i?l=(t.x+t.width-i)/t.width:t.x+t.width-1>n&&(l=(n-t.x)/t.width);const c=t.y+1<e.y-this.centerY||t.y+t.height-1>e.y+e.height-this.centerY;return{textLength:1===l?r.length:Math.floor(r.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(r,t=0,e=0){const{surroundingRadius:i}=this;if(null==i)return!1;const n=[{x:r.x+t,y:r.y+e},{x:r.x+r.width+t,y:r.y+e},{x:r.x+r.width+t,y:r.y+r.height+e},{x:r.x+t,y:r.y+r.height+e}],o=Pt(i,2);return n.some(a=>Pt(a.x,2)+Pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:r}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:i,minSpacing:n}=t,o=r.convert(0),s=this.nodeData,l=this.nodeData.filter(y=>!(y=>!y.calloutLabel||0===y.outerRadius)(y));if(l.forEach(y=>{const _=y.calloutLabel;null!=_&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(y=>y.midCos<0).sort((y,_)=>y.midSin-_.midSin),u=l.filter(y=>y.midCos>=0).sort((y,_)=>y.midSin-_.midSin),d=l.filter(y=>{var _;return y.midSin<0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),h=l.filter(y=>{var _;return y.midSin>=0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),p=new ii,f=y=>{var _;const b=y.calloutLabel;if(null==b)return new wt(0,0,0,0);const w=y.outerRadius+e.length+i,E=y.midCos*w,M=y.midSin*w+b.collisionOffsetY;return p.text=b.text,p.x=E,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:null!=(_=b.collisionTextAlign)?_:b.textAlign,textBaseline:b.textBaseline}),p.computeBBox()},m=(y,_,b)=>{const w=f(y).grow(n/2),E=f(_).grow(n/2);w.x<E.x+E.width&&w.x+w.width>E.x&&("to-top"===b?w.y<E.y+E.height:w.y+w.height>E.y)&&(_.calloutLabel.collisionOffsetY="to-top"===b?w.y-E.y-E.height:w.y+w.height-E.y)},g=y=>{const _=y.slice().sort((w,E)=>Math.abs(w.midSin)-Math.abs(E.midSin))[0],b=y.indexOf(_);for(let w=b-1;w>=0;w--)m(y[w+1],y[w],"to-top");for(let w=b+1;w<y.length;w++)m(y[w-1],y[w],"to-bottom")},v=y=>{const _=l.some(I=>0!==I.calloutLabel.collisionOffsetY),b=y.map(I=>f(I)),w=b.map(I=>I.clone().grow(n/2));let E=!1;for(let I=0;I<w.length&&!E;I++){const k=w[I];for(let N=I+1;N<y.length;N++)if(k.collidesBBox(w[N])){E=!0;break}}const M=s.map(I=>{const{startAngle:k,endAngle:N,outerRadius:B}=I;return{startAngle:k,endAngle:N,innerRadius:o,outerRadius:B}}),P=b.some(I=>M.some(k=>zQ(I,k)));!E&&!_&&!P||y.filter(I=>"center"===I.calloutLabel.textAlign).forEach(I=>{I.calloutLabel.collisionTextAlign=I.midCos<0?"right":I.midCos>0?"left":"center"})};g(c),g(u),v(d),v(h)}updateCalloutLabelNodes(r){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,n=i.length,{offset:o,color:a}=e,s=new ii;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;const{datum:u}=l,d=u.calloutLabel,h=t.convert(u.radius),p=Math.max(0,h);if(!d?.text||0===p||d.hidden)return void(l.visible=!1);const f=p+n+o,m=u.midCos*f,g=u.midSin*f+d.collisionOffsetY,v={textAlign:null!=(c=d.collisionTextAlign)?c:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=m,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(v);const y=s.computeBBox();let _=d.text,b=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:E}=this.getLabelOverflow(d.text,y,r);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,b=!E}l.text=_,l.x=m,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=a,l.visible=b})}computeLabelsBBox(r,t){return he(this,null,function*(){const{calloutLabel:e,calloutLine:i}=this.properties,n=i.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new ii;let u;const{title:d}=this.properties;if(d?.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{var p;const f=h.calloutLabel;if(!f||0===h.outerRadius)return null;const m=h.outerRadius+n+o,g=h.midCos*m,v=h.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!=(p=f.collisionTextAlign)?p:f.textAlign,textBaseline:f.textBaseline});const y=c.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a)f.hidden=!0;else{if(u){const _=t.y-this.centerY,b=new wt(u.x-s,_,u.width+2*s,u.y+u.height+s-_);if(y.collidesBBox(b))return void(f.hidden=!0)}if(r.hideWhenNecessary){const{textLength:_,hasVerticalOverflow:b,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t);if(b||f.text.length>2&&_<2||w)return void(f.hidden=!0)}f.hidden=!1,l.push(y)}}),0===l.length?null:wt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:r}=this,t=r.convert(0),{fontSize:e,fontStyle:i,fontWeight:n,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel,c=t>0,u=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((d,h)=>{const{sectorLabel:p,outerRadius:f}=h;let m=!1;if(p&&0!==f){const g=t*(1-s)+f*s+a;d.fill=l,d.fontStyle=i,d.fontWeight=n,d.fontSize=e,d.fontFamily=o,d.text=p.text,!c&&u?(d.x=0,d.y=0):(d.x=h.midCos*g,d.y=h.midSin*g),d.textAlign="center",d.textBaseline="middle";const y=d.computeBBox(),_=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]],{startAngle:b,endAngle:w}=h,E={startAngle:b,endAngle:w,innerRadius:t,outerRadius:f};_.every(([M,P])=>cG(M,P,E))&&(m=!0)}d.visible=m})}updateInnerLabelNodes(){const r=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,color:g,margin:v=2}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=d.text,u.x=0,u.y=0,u.fill=g,u.textAlign="center",u.textBaseline="alphabetic",r.push(u.computeBBox()),t.push(v)});const e=u=>0===u?0:t[u],i=u=>u===t.length-1?0:t[u],n=r.reduce((u,d,h)=>u+d.height+e(h)+i(h),0),o=Math.max(...r.map(u=>u.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(n/2,2))<=(a>0?a:this.getOuterRadius()),c=[];for(let u=0,d=-n/2;u<r.length;u++){const p=r[u].height+d+e(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.y=c[h],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(r){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=r;return n&&void 0!==s?s.text:e&&e!==t&&void 0!==a?.text?a.text:i&&i!==t&&void 0!==o?.text?o.text:void 0}getTooltipHtml(r){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:i,sectorFormat:{fill:n}}=r,o=Ui(null==(t=this.properties.title)?void 0:t.text),a=ai(i)?oT(i):String(i),s=this.getDatumLegendName(r);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:n},{datum:e,title:o,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(r){var t,e,i,n,o;const{processedData:a,dataModel:s}=this;if(!s||!a?.data.length||"category"!==r)return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=this.properties;if(!(d||c&&c!==l||u&&u!==l))return[];const{calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(s),m=(null==(t=this.properties.title)?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let v=0;v<a.data.length;v++){const{datum:y,values:_}=a.data[v],b=[];m&&b.push(m);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,_[h],_[p],_[f]);if(d&&void 0!==w.legendItem?b.push(w.legendItem.text):c&&c!==l&&void 0!==(null==(e=w.calloutLabel)?void 0:e.text)?b.push(null==(i=w.calloutLabel)?void 0:i.text):u&&u!==l&&void 0!==(null==(n=w.sectorLabel)?void 0:n.text)&&b.push(null==(o=w.sectorLabel)?void 0:o.text),0===b.length)continue;const E=this.getSectorFormat(y,v,!1);g.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:this.seriesItemEnabled[v],label:{text:b.join(" - ")},marker:{fill:E.fill,stroke:E.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:null!=d?y[d]:void 0})}return g}onLegendItemClick(r){const{enabled:t,itemId:e,series:i,legendItemName:n}=r;i.id===this.id?this.toggleSeriesItem(e,t):null!=n&&this.toggleOtherSeriesItems(n,t)}toggleSeriesItem(r,t){this.seriesItemEnabled[r]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(r,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;null==(e=this.processedData)||e.data.forEach(({values:n},o)=>{n[i]===r&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(r){const{animationManager:t}=this.ctx,e=Qg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Hi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),Hi(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),hi(this,"callout",t,[this.calloutLabelSelection]),hi(this,"sector",t,[this.sectorLabelSelection]),hi(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var r,t,e,i,n,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null==(r=l?.reduced)?void 0:r.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!=(t=h?.moved.length)?t:0)&&h?.addedIndices.every(v=>!h.removedIndices.includes(v)),f=(null!=(e=l?.defs.keys.length)?e:0)>0,m=null==(o=null==(n=null==(i=l?.reduced)?void 0:i.animationValidation)?void 0:n.uniqueKeys)||o;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const g=Qg(!1,this.properties.rotation,c,u);Hi(this.id,"nodes",d,[a,s],g.nodes,(v,y)=>this.getDatumId(y),h),Hi(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),hi(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),hi(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),hi(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:r,highlightSelection:t,radiusScale:e,previousRadiusScale:i}=this,{animationManager:n}=this.ctx,o=Qg(!1,this.properties.rotation,e,i);Hi(this.id,"nodes",n,[r,t],o.nodes),Hi(this.id,"innerCircle",n,[this.innerCircleSelection],o.innerCircle),Jp(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Jp(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Jp(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(r){var t,e,i;const{calloutLabelKey:n,sectorLabelKey:o,legendItemKey:a}=this.properties;if(null!=(i=null==(e=null==(t=this.processedData)?void 0:t.reduced)?void 0:e.animationValidation)&&i.uniqueKeys){if(a)return r[a];if(n)return r[n];if(o)return r[o]}}getDatumId(r){var t;const{index:e}=r;return null!=(t=this.getDatumIdFromData(r.datum))?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};GT.className="PieSeries",GT.type="pie";var bUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:GT,seriesDefaults:{},themeTemplate:KQ,paletteFactory:YQ};var gG=class Iie extends DT{constructor(t,e){super(t,e),this._data={}}performLayout(){return he(this,null,function*(){const t=yield mu(Iie.prototype,this,"performLayout").call(this),{seriesArea:{padding:e},seriesRoot:i}=this,n=t.clone();return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,i.translationX=Math.floor(t.x),i.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>he(this,null,function*(){yield o.update({seriesRect:t})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new wt(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:n,paddedRect:t,visible:!0},axes:[]}),t})}};gG.className="HierarchyChart",gG.type="hierarchy";var xUe=gG,ev=class extends m1{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(r,t){return null}};S([R(vn(["polygon","circle"],"a polar axis shape"))],ev.prototype,"shape",2),S([R(di)],ev.prototype,"innerRadiusRatio",2);var vG=class Fie extends DT{constructor(t,e){super(t,e),this.padding=new Xd(40),this.axisGroup.zIndex=5}performLayout(){return he(this,null,function*(){const t=yield mu(Fie.prototype,this,"performLayout").call(this),e=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(i=>i.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,e,i){var n,o;const a=this.axes.find(d=>"x"===d.direction),s=this.axes.find(d=>"y"===d.direction);if(!(a instanceof ev&&s instanceof ev))return;const l=a.scale,c=null==(n=l.ticks)?void 0:n.call(l).map(d=>l.convert(d)),u=s.innerRadiusRatio;a.innerRadiusRatio=u,null==(o=a.computeRange)||o.call(a),a.gridLength=i,s.gridAngles=c,s.gridRange=a.range,s.range=[i,i*u],[a,s].forEach(d=>{d.translation.x=t,d.translation.y=e,d.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return he(this,null,function*(){const e=this.series.filter(u=>u instanceof kT),i=this.axes.filter(u=>u instanceof ev),n=(u,d,h)=>{this.updateAxes(u,d,h),e.forEach(f=>{f.centerX=u,f.centerY=d,f.radius=h});const p=e.filter(f=>f instanceof GT||f instanceof LT);if(p.length>1){const f=p.map(m=>{const g=m.getInnerRadius();return{series:m,innerRadius:g}}).sort((m,g)=>m.innerRadius-g.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let m=0;m<f.length-1;m++)f[m].series.surroundingRadius=f[m+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;n(o,a,l);const c=(...u)=>he(this,[...u],function*({hideWhenNecessary:d=!1}={}){const h=[];for(const m of[...i,...e]){const g=yield m.computeLabelsBBox({hideWhenNecessary:d},t);g&&h.push(g)}if(0===h.length)return void n(o,a,s);const p=wt.merge(h),f=this.refineCircle(p,l,t);n(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:a}})}refineCircle(t,e,i){const a=-e,s=e,l=e;let c=Math.max(0,-e-t.x),u=Math.max(0,a-t.y),d=Math.max(0,t.x+t.width-s),h=Math.max(0,t.y+t.height-l);c=d=Math.max(c,d),u=h=Math.max(u,h);let m=Math.min(i.width-c-d,i.height-u-h)/2;const y=Math.min(.5*i.width/2,.5*i.height/2);if(m<y){m=y;const w=c+d;if(2*m+(u+h)>i.height){const M=i.height-2*m;2*Math.min(u,h)>M?(u=M/2,h=M/2):u>h?u=M-h:h=M-u}if(2*m+w>i.width){const M=i.width-2*m;2*Math.min(c,d)>M?(c=M/2,d=M/2):c>d?c=M-d:d=M-c}}return{centerX:i.x+(i.width-(c+2*m+d))/2+c+m,centerY:i.y+(i.height-(u+2*m+h))/2+u+m,radius:m}}};vG.className="PolarChart",vG.type="polar";var EUe=vG,VT=sn.create(!0,"opts");function XQ(r){if(Mp(r))return"cartesian";if(BC(r))return"polar";if(gN(r))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${r.type}`)}var BT=class bw{static licenseCheck(t){var e,i,n,o;this.licenseChecked||(this.licenseManager=null==(i=(e=xg).licenseManager)?void 0:i.call(e,t),null==(n=this.licenseManager)||n.setLicenseKey(this.licenseKey,this.gridContext),null==(o=this.licenseManager)||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e,i;return null==(i=(e=xg).licenseManager)?void 0:i.call(e,{}).getLicenseDetails(t)}static getInstance(t){return tv.getInstance(t)}static create(t){var e,i,n,o;this.licenseCheck(t);const a=tv.createOrUpdate(t);return null!=(e=this.licenseManager)&&e.isDisplayWatermark()&&(null==(o=(n=xg).injectWatermark)||o.call(n,null!=(i=t.document)?i:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,e){if(!Xg.isInstance(t))throw new Error(bw.INVALID_CHART_REF_MESSAGE);tv.createOrUpdate(e,t)}static updateDelta(t,e){if(!Xg.isInstance(t))throw new Error(bw.INVALID_CHART_REF_MESSAGE);tv.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof Xg))throw new Error(bw.INVALID_CHART_REF_MESSAGE);tv.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof Xg))throw new Error(bw.INVALID_CHART_REF_MESSAGE);return tv.getImageDataURL(t,e)}};BT.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed",BT.licenseChecked=!1,BT.gridContext=!1;var Ho=BT,ZQ=class wc{static getInstance(t){const e=DT.getInstance(t);return null!=e?Xg.chartInstances.get(e):void 0}static initialiseModules(){wc.initialised||(function wUe(){Hs(gQ),Hs(vQ),Hs(nUe),Hs(sUe),Hs(dUe),Hs(mUe),Hs(vUe),Hs(_Ue),Hs(bUe),Hs(pUe),new Map([[Zp.type,Zp],[Eu.type,Eu],[Qp.type,Qp],[qd.type,qd],[nh.type,nh]]).forEach((t,e)=>{uq(e,t)}),kq("category","legend",0,void 0)}(),function SUe(){for(const r of Ql){if("enterprise"===r.packageType&&!p2e(r)&&Ae.errorOnce("Unexpected enterprise module registered: "+r.identifier),"root"===r.type&&r.themeTemplate)for(const t of r.chartTypes)a2e(t,r.themeTemplate);if("series"===r.type){if(r.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${r.identifier}`);_2e(r)}if("series-option"===r.type&&r.themeTemplate)for(const t of r.seriesTypes)Iq(t,r.themeTemplate);if("axis-option"===r.type&&r.themeTemplate)for(const t of r.axisTypes){const e=r.themeTemplate[t],i=J(J({},r.themeTemplate),e);for(const n of r.axisTypes)delete i[n];hq(t,i)}"axis"===r.type&&(uq(r.identifier,r.instanceConstructor),r.themeTemplate&&hq(r.identifier,r.themeTemplate)),"legend"===r.type&&kq(r.identifier,r.optionsKey,0,r.themeTemplate)}if(cN()){const r=function f2e(){return Ag.filter(({useCount:r})=>null==r||0===r)}();r.length>0&&Ae.errorOnce("Enterprise modules expected but not registered: ",r)}}(),wc.initialised=!0)}static createOrUpdate(t,e){wc.initialiseModules(),VT(">>> AgChartV2.createOrUpdate() user options",t);const n=t,{overrideDevicePixelRatio:o,document:a,window:s}=n,l=Zn(n,["overrideDevicePixelRatio","document","window"]),c=new nX(l,{overrideDevicePixelRatio:o,document:a,window:s});let u=e?.chart;return(null==u||XQ(l)!==XQ(u.processedOptions))&&(u=wc.createChartInstance(c,u)),null==e?e=new Xg(u):e.chart=u,VT.check()&&typeof window<"u"&&(null!=window.agChartInstances||(window.agChartInstances={}),window.agChartInstances[u.id]=u),u.queuedUserOptions.push(l),u.requestFactoryUpdate(d=>{d.applyOptions(c),d.queuedUserOptions.splice(0,d.queuedUserOptions.indexOf(l))}),e}static updateUserDelta(t,e){ec(e=Vr(e,{shallow:["data"]}),a=>{if("object"==typeof a)for(const[s,l]of Object.entries(a))typeof l>"u"&&Object.assign(a,{[s]:Symbol("UNSET")})},{skip:["data"]});const{chart:i}=t,n=i.getOptions(),o=Gt(e,n);VT(">>> AgChartV2.updateUserDelta() user delta",e),VT("AgChartV2.updateUserDelta() - base options",n),wc.createOrUpdate(o,t)}static download(t,e){return he(this,null,function*(){try{const i=yield wc.prepareResizedChart(t,e);i.chart.scene.download(e?.fileName,e?.fileFormat),i.destroy()}catch(i){Ae.errorOnce(i)}})}static getImageDataURL(t,e){return he(this,null,function*(){const i=yield wc.prepareResizedChart(t,e),{canvas:n}=i.chart.scene,o=n.getDataURL(e?.fileFormat);return i.destroy(),o})}static prepareResizedChart(t){return he(this,arguments,function*(e,i={}){const{chart:n}=e,{width:o=n.width,height:a=n.height}=i,s=Gt({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:a},cN()&&{animation:{enabled:!1}},n.userOptions),l=wc.createOrUpdate(s);return l.chart.zoomManager.updateZoom(e.chart.zoomManager.getZoom()),e.chart.series.forEach((c,u)=>{!0!==c.visible&&(l.chart.series[u].visible=c.visible)}),e.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,e){const i=e?.destroy({keepTransferableResources:!0});return new(wc.getChartByOptions(t.processedOptions))(t,i)}static getChartByOptions(t){if(Mp(t))return jje;if(gN(t))return xUe;if(BC(t))return EUe;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};ZQ.initialised=!1;var tv=ZQ,re={};fu(re,{Arc:()=>pc,BBox:()=>wt,BandScale:()=>sc,Caption:()=>qi,Circle:()=>dc,ContinuousScale:()=>xi,Diamond:()=>$Z,DropShadow:()=>tl,Group:()=>$e,HdpiCanvas:()=>ln,Image:()=>iv,Label:()=>Ln,Line:()=>tr,LinearGradientFill:()=>HT,LinearScale:()=>hc,Marker:()=>ls,Node:()=>Fg,Path:()=>Sa,Path2D:()=>jg,PointerEvents:()=>sX,RadialColumnShape:()=>il,Rect:()=>jr,RedrawType:()=>Ud,Scene:()=>C1,SceneChangeDetection:()=>Ne,ScenePathChangeDetection:()=>Mt,Sector:()=>cs,Selection:()=>ji,Shape:()=>rs,Square:()=>Ug,Text:()=>ii,Tooltip:()=>PX,Triangle:()=>zg,easing:()=>zN,getFont:()=>Kd,getMarker:()=>Zd,getRadialColumnWidth:()=>AUe,motion:()=>OUe,nearestSquared:()=>aX,nearestSquaredInContainer:()=>yHe,toRadians:()=>Br,toTooltipHtml:()=>ob});var pc=class extends Sa{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return jp(gn(this.startAngle),gn(this.endAngle))}updatePath(){const r=this.path;r.clear(),r.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?r.closePath():2===this.type&&!this.fullPie&&(r.lineTo(this.centerX,this.centerY),r.closePath())}computeBBox(){return new wt(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(r,t){const e=this.transformPoint(r,t),i=this.computeBBox();return 0!==this.type&&i.containsPoint(e.x,e.y)&&this.path.isPointInPath(e.x,e.y)}};pc.className="Arc",pc.defaultStyles=Object.assign({},rs.defaultStyles,{lineWidth:1,fillStyle:null}),S([Mt()],pc.prototype,"centerX",2),S([Mt()],pc.prototype,"centerY",2),S([Mt()],pc.prototype,"radius",2),S([Mt()],pc.prototype,"startAngle",2),S([Mt()],pc.prototype,"endAngle",2),S([Mt()],pc.prototype,"counterClockwise",2),S([Mt()],pc.prototype,"type",2);var HT=class extends rs{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(r){null!=this._mask&&this.removeChild(this._mask),null!=r&&this.appendChild(r),this._mask=r}isPointInPath(r,t){var e,i;return null!=(i=null==(e=this.mask)?void 0:e.isPointInPath(r,t))&&i}computeBBox(){var r;return null==(r=this.mask)?void 0:r.computeBBox()}render(r){const{mask:t,stops:e}=this,{ctx:i,devicePixelRatio:n}=r,o=1/n,a=t?.computeTransformedBBox();if(null==t||null==e||null==a)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),i.save(),i.beginPath(),t.path.draw(i),i.clip(),i.resetTransform();const s=Math.floor(a.x),l=Math.ceil(a.x+a.width),c=Math.floor(a.y),u=Math.ceil(a.y+a.height),d=new ef,[h,p]="to-right"===this.direction?[s,l]:[c,u];if(d.domain=e.map((f,m)=>h+(p-h)*m/(e.length-1)),d.range=e,d.update(),"to-right"===this.direction){const f=u-c;for(let m=s;m<=l;m+=o)i.fillStyle=d.convert(m),i.fillRect(m,c,o,f)}else{const f=l-s;for(let m=c;m<=u;m+=o)i.fillStyle=d.convert(m),i.fillRect(s,m,f,o)}i.restore()}};function QQ(r,t,e){const i=Math.sqrt(Pt(r,2)+Pt(t,2)),o=Math.atan2(t,r)+e;return{x:Math.cos(o)*i,y:Math.sin(o)*i}}S([Ne({redraw:3})],HT.prototype,"direction",2),S([Ne({redraw:3})],HT.prototype,"stops",2),S([Ne({redraw:3})],HT.prototype,"_mask",2);var il=class extends Sa{constructor(){super(...arguments),this.borderPath=new jg,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:r,endAngle:t}=this;return gn(r+$N(r,t)/2+Math.PI/2)}updatePath(){const{isBeveled:r}=this;r?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:r,innerRadius:t,outerRadius:e,path:i}=this,n=-r/2,o=r/2,a=-e,s=-t,l=this.getRotation(),c=[[n,s],[n,a],[o,a],[o,s],[n,s]].map(([u,d])=>QQ(u,d,l));i.clear({trackChanges:!0}),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.lineTo(c[0].x,c[0].y),i.closePath()}updateBeveledPath(){const{columnWidth:r,path:t,outerRadius:e,innerRadius:i,axisInnerRadius:n,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=jp(i,n),l=Math.asin(r/2/i),c=this.getRotation(),u=(P,I)=>QQ(P,I,c),d=(P,I)=>Math.sqrt(Pt(P,2)+Pt(I,2)),h=(P,I)=>I>P?0:Math.sqrt(Pt(P,2)-Pt(I,2)),p=(P,I,k)=>k?P<I:P>I,f=s&&!isNaN(l)&&l<Math.PI/6;let m=-r/2,g=r/2;const v=-e,y=-i*(f?Math.cos(l):1),_=p(o,d(i,r/2),!a);if(_){const P=h(o,i);m=-P,g=P}t.clear({trackChanges:!0});const b=u(m,y);t.moveTo(b.x,b.y);const w=jp(i,e),E=p(o,d(e,r/2),!a);if(w&&f)t.arc(0,0,i,gn(-l-Math.PI/2)+c,gn(l-Math.PI/2)+c,!1);else if(E){const P=-h(o,r/2),I=h(o,e);if(!_){const k=u(m,P);t.lineTo(k.x,k.y)}if(t.arc(0,0,o,Math.atan2(P,m)+c,Math.atan2(v,-I)+c,!1),!jp(I,0)){const k=u(I,v);t.lineTo(k.x,k.y)}t.arc(0,0,o,Math.atan2(v,I)+c,Math.atan2(P,g)+c,!1)}else{const P=u(m,v),I=u(g,v);t.lineTo(P.x,P.y),t.lineTo(I.x,I.y)}const M=u(g,y);if(t.lineTo(M.x,M.y),f)t.arc(0,0,i,gn(l-Math.PI/2)+c,gn(-l-Math.PI/2)+c,!0);else{const P=u(m,y);t.lineTo(P.x,P.y)}t.closePath()}};function AUe(r,t,e,i,n){const o=$N(r,t),a=o*(1-i)/2;if(r+=a,t-=a,o<.001)return 2*e*n;if(o>=2*Math.PI){const p=r+o/2;r=p-Math.PI,t=p+Math.PI}const s=e*Math.cos(r),l=e*Math.sin(r),c=e*Math.cos(t),u=e*Math.sin(t),d=Math.floor(Math.sqrt(Pt(s-c,2)+Pt(l-u,2)));return Math.max(1,Math.min(2*e*n,d))}il.className="RadialColumnShape",S([Mt()],il.prototype,"isBeveled",2),S([Mt()],il.prototype,"columnWidth",2),S([Mt()],il.prototype,"startAngle",2),S([Mt()],il.prototype,"endAngle",2),S([Mt()],il.prototype,"outerRadius",2),S([Mt()],il.prototype,"innerRadius",2),S([Mt()],il.prototype,"axisInnerRadius",2),S([Mt()],il.prototype,"axisOuterRadius",2),S([Mt()],il.prototype,"isRadiusAxisReversed",2);var iv=class extends Fg{constructor(r){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=r}render(r){const{ctx:t,forceRender:e,stats:i}=r;if(0===this.dirty&&!e)return void(i&&i.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(t);const n=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height),super.render(r)}};S([Ne({redraw:3})],iv.prototype,"x",2),S([Ne({redraw:3})],iv.prototype,"y",2),S([Ne({redraw:3})],iv.prototype,"width",2),S([Ne({redraw:3})],iv.prototype,"height",2),S([Ne({redraw:3})],iv.prototype,"opacity",2);var OUe=J(J({},rX),qX),nl={};fu(nl,{CARTESIAN_AXIS_TYPE:()=>Bq,ChartTheme:()=>yu,DEFAULT_AXIS_GRID_COLOUR:()=>KD,DEFAULT_AXIS_LINE_COLOUR:()=>YD,DEFAULT_BACKGROUND_COLOUR:()=>UC,DEFAULT_CROSS_LINES_COLOUR:()=>jC,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Ks,DEFAULT_FONT_FAMILY:()=>Qn,DEFAULT_HIERARCHY_FILLS:()=>wN,DEFAULT_HIERARCHY_STROKES:()=>SN,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Mg,DEFAULT_INVERTED_LABEL_COLOUR:()=>Jq,DEFAULT_LABEL_COLOUR:()=>si,DEFAULT_MUTED_LABEL_COLOUR:()=>Rg,DEFAULT_POLAR_SERIES_STROKE:()=>bN,DEFAULT_SHADOW_COLOUR:()=>Pg,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>$s,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>zs,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>Us,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>Ws,EXTENDS_AXES_DEFAULTS:()=>Kq,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>Zq,EXTENDS_AXES_LABEL_DEFAULTS:()=>Yq,EXTENDS_AXES_LINE_DEFAULTS:()=>qq,EXTENDS_AXES_TICK_DEFAULTS:()=>Xq,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>Og,EXTENDS_CHART_DEFAULTS:()=>Uq,EXTENDS_LEGEND_DEFAULTS:()=>zq,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>Wq,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>$q,EXTENDS_SERIES_DEFAULTS:()=>vu,FONT_SIZE:()=>Nq,FONT_WEIGHT:()=>Gq,IS_DARK_THEME:()=>Pp,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>Qq,POLAR_AXIS_SHAPE:()=>jq,POLAR_AXIS_TYPE:()=>Hq,POSITION:()=>Vq,getChartTheme:()=>MN,themes:()=>MUe});var MUe=Object.entries(eX).reduce((r,[t,e])=>(r[t]=e(),r),{}),ah={};fu(ah,{BandScale:()=>sc,ColorScale:()=>ef,ContinuousScale:()=>xi,Invalidating:()=>No,LinearScale:()=>hc,TimeScale:()=>h1});var Xi={};fu(Xi,{Color:()=>rc,Logger:()=>Ae,Padding:()=>Xd,angleBetween:()=>$N,checkDatum:()=>sb,clamp:()=>ti,clampArray:()=>rT,countFractionDigits:()=>GN,createId:()=>nc,deepClone:()=>Vr,extent:()=>ic,findMinMax:()=>_u,findRangeExtent:()=>Ig,isContinuous:()=>o1,isDate:()=>GC,isEqual:()=>jp,isNegative:()=>XC,isNumber:()=>ai,isNumberEqual:()=>jp,isString:()=>es,isStringObject:()=>r1,jsonApply:()=>jd,jsonDiff:()=>Ca,jsonWalk:()=>ec,mod:()=>aT,normalisedExtent:()=>tX,normalisedExtentWithMetadata:()=>YC,normalizeAngle180:()=>JC,normalizeAngle360:()=>gn,normalizeAngle360Inclusive:()=>THe,range:()=>ub,resetIds:()=>oX,round:()=>NN,sanitizeHtml:()=>Ui,shallowClone:()=>$D,tickFormat:()=>iZ,tickStep:()=>Bg,ticks:()=>vT,toDegrees:()=>AHe,toFixed:()=>oT,toRadians:()=>Br,transformIntegratedCategoryValue:()=>Ng,zipObject:()=>kN});var yG={};function RUe(...r){for(const t of r)if(t instanceof jr){const{x:e,y:i,width:n,height:o}=t;t.setProperties({x:i,y:e,width:o,height:n})}else if(t instanceof tr){const{x1:e,y1:i,x2:n,y2:o}=t;t.setProperties({x1:i,y1:e,x2:o,y2:n})}}fu(yG,{ADD_PHASE:()=>WN,AGG_VALUES_EXTENT:()=>Tje,AND:()=>lc,ANIMATION_PHASE_ORDER:()=>Up,ANIMATION_PHASE_TIMINGS:()=>mX,ARRAY:()=>eb,ARRAY_OF:()=>Cu,AbstractBarSeries:()=>IQ,AbstractBarSeriesProperties:()=>iG,ActionOnSet:()=>Jn,Animation:()=>vX,AnimationManager:()=>kZ,AreaSeriesTag:()=>RQ,Axis:()=>m1,AxisLabel:()=>Nn,AxisTick:()=>Xs,BOOLEAN:()=>rt,BOOLEAN_ARRAY:()=>OHe,Background:()=>bb,BackgroundModule:()=>gQ,BaseModuleInstance:()=>lN,BaseProperties:()=>wi,COLOR_STRING:()=>Zt,COLOR_STRING_ARRAY:()=>ns,CartesianAxis:()=>hb,CartesianSeries:()=>ih,CartesianSeriesNodeClickEvent:()=>j1,CartesianSeriesProperties:()=>th,CategoryAxis:()=>Eu,ChartAxisDirection:()=>DX,ChartEventManager:()=>LZ,ChartOptions:()=>nX,ChartUpdateType:()=>pb,ContextMenuRegistry:()=>NZ,CursorManager:()=>GZ,DATE:()=>KN,DATE_ARRAY:()=>MHe,DATE_OR_DATETIME_MS:()=>YN,DEGREE:()=>zd,DIRECTION:()=>SX,DataController:()=>OZ,DataModel:()=>AZ,DataService:()=>CT,Default:()=>xu,Deprecated:()=>Hp,DeprecatedAndRenamedTo:()=>hHe,FONT_STYLE:()=>Wd,FONT_WEIGHT:()=>$d,FUNCTION:()=>is,GREATER_THAN:()=>ib,GestureDetector:()=>BZ,GroupedCategoryAxis:()=>qd,HierarchyNode:()=>jT,HierarchySeries:()=>PUe,HierarchySeriesProperties:()=>sh,HighlightManager:()=>x1,HighlightStyle:()=>_b,INITIAL_LOAD:()=>dX,INTERACTION_RANGE:()=>ZN,INTERACTION_TYPES:()=>RZ,InteractionManager:()=>FZ,InteractionState:()=>bT,LABEL_PHASE:()=>fX,LESS_THAN:()=>tb,LINE_CAP:()=>bX,LINE_DASH:()=>bu,LINE_JOIN:()=>RHe,Layers:()=>GX,LayoutService:()=>UZ,MATCHING_CROSSLINE_TYPE:()=>a1,MAX_SPACING:()=>QN,MIN_SPACING:()=>EX,Motion:()=>zN,NAN:()=>cT,NODE_UPDATE_PHASES:()=>yX,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ro,NUMBER:()=>Di,NUMBER_ARRAY:()=>dT,NUMBER_OR_NAN:()=>kg,Navigator:()=>el,NavigatorModule:()=>vQ,OBJECT:()=>Ye,OBJECT_ARRAY:()=>qN,OR:()=>zp,OVERFLOW_STRATEGY:()=>IHe,ObserveChanges:()=>Lg,PLACEMENT:()=>xX,POSITION:()=>XN,POSITIVE_NUMBER:()=>Ce,PolarAxis:()=>ev,PolarSeries:()=>kT,PropertiesArray:()=>HC,ProxyOnWrite:()=>zHe,ProxyProperty:()=>Yd,ProxyPropertyOnWrite:()=>Ri,QUICK_TRANSITION:()=>.2,RATIO:()=>di,REGISTERED_MODULES:()=>Ql,REMOVE_PHASE:()=>hX,RepeatType:()=>gX,SMALLEST_KEY_INTERVAL:()=>L1,SORT_DOMAIN_GROUPS:()=>nQ,STRING:()=>xe,STRING_ARRAY:()=>CX,Series:()=>qg,SeriesGroupingChangedEvent:()=>B1,SeriesItemHighlightStyle:()=>Ou,SeriesMarker:()=>Vo,SeriesNodeClickEvent:()=>yb,SeriesNodePickMode:()=>oQ,SeriesProperties:()=>Qs,SeriesTooltip:()=>Bo,StateMachine:()=>lb,TEXT_ALIGN:()=>wX,TEXT_WRAP:()=>hT,Tags:()=>mZ,TooltipManager:()=>D1,UNION:()=>vn,UPDATE_PHASE:()=>pX,UpdateService:()=>cQ,VERTICAL_ALIGN:()=>PHe,Validate:()=>R,ZoomManager:()=>jZ,__FORCE_MODULE_DETECTION:()=>IUe,accumulateGroup:()=>rQ,accumulatedValue:()=>tQ,accumulativeValueProperty:()=>V1,adjustLabelPlacement:()=>BQ,animationValidation:()=>Yg,area:()=>k1,arraysEqual:()=>qC,assignJsonApplyConstructedArray:()=>FX,average:()=>Dje,backfillPathPointData:()=>X1,buildResetPathFn:()=>J1,checkCrisp:()=>NQ,circularSliceArray:()=>IN,clamp:()=>ti,clampArray:()=>rT,collapsedStartingBarPosition:()=>Rb,count:()=>Eje,countFractionDigits:()=>GN,createDatumId:()=>Jd,createDeprecationWarning:()=>nT,deconstructSelectionsOrNodes:()=>lT,deepClone:()=>Vr,deepMerge:()=>r2e,determinePathStatus:()=>OQ,diff:()=>Xp,enterpriseModule:()=>xg,extent:()=>ic,extractDecoratedProperties:()=>e2e,findMinMax:()=>_u,findRangeExtent:()=>Ig,fixNumericExtent:()=>ao,fromToMotion:()=>Hi,getMissCount:()=>w1,getPath:()=>Cq,getRectConfig:()=>LQ,groupAccumulativeValueProperty:()=>eh,groupAverage:()=>eQ,groupBy:()=>PN,groupCount:()=>F1,groupSum:()=>QZ,hasRegisteredEnterpriseModules:()=>cN,injectStyle:()=>fT,invertShapeDirection:()=>RUe,isArray:()=>Fn,isBoolean:()=>fq,isDate:()=>zD,isDecoratedObject:()=>UD,isDefined:()=>dN,isEnumKey:()=>n2e,isEnumValue:()=>vq,isEqual:()=>jp,isFiniteNumber:()=>ai,isFunction:()=>Tg,isHtmlElement:()=>gq,isNegative:()=>XC,isNumber:()=>js,isObject:()=>Jl,isObjectLike:()=>i2e,isPlainObject:()=>Ja,isProperties:()=>_a,isRegExp:()=>mq,isString:()=>es,isSymbol:()=>yq,isValidDate:()=>GC,jsonApply:()=>jd,jsonDiff:()=>Ca,jsonWalk:()=>ec,keyProperty:()=>Ar,listDecoratedProperties:()=>Dg,mapValues:()=>_q,markerFadeInAnimation:()=>Eb,markerPaletteFactory:()=>Sb,markerScaleInAnimation:()=>$1,markerSwipeScaleInAnimation:()=>K1,mergeArrayDefaults:()=>hN,mergeDefaults:()=>Gt,midpointStartingBarPosition:()=>rUe,minMax:()=>q1,mod:()=>aT,normaliseGroupTo:()=>ET,normalisePropertyTo:()=>vb,normalisedExtent:()=>tX,normalisedExtentWithMetadata:()=>YC,pairCategoryData:()=>Mb,pairContinuousData:()=>Ob,partialAssign:()=>pN,pathFadeInAnimation:()=>Ab,pathFadeOutAnimation:()=>Xje,pathSwipeInAnimation:()=>Q1,predicateWithMessage:()=>Si,prepareAreaPathAnimation:()=>PQ,prepareAxisAnimationContext:()=>p1,prepareAxisAnimationFunctions:()=>uZ,prepareBarAnimationFunctions:()=>Pb,prepareLinePathAnimation:()=>MQ,prepareLinePathAnimationFns:()=>eG,prepareMarkerAnimation:()=>Y1,range:()=>JZ,rangedValueProperty:()=>G1,registerModule:()=>Hs,renderPartialPath:()=>Z1,resetAxisGroupFn:()=>dZ,resetAxisLabelSelectionFn:()=>pZ,resetAxisLineSelectionFn:()=>fZ,resetAxisSelectionFn:()=>hZ,resetBarSelectionsFn:()=>Ib,resetIds:()=>oX,resetLabelFn:()=>Mu,resetMarkerFn:()=>Db,resetMarkerPositionFn:()=>Tb,resetMotion:()=>er,round:()=>NN,seriesLabelFadeInAnimation:()=>hi,seriesLabelFadeOutAnimation:()=>Jp,setPath:()=>bq,shallowClone:()=>$D,singleSeriesPaletteFactory:()=>W1,staticFromToMotion:()=>oc,stringify:()=>rb,sum:()=>xje,toArray:()=>iT,toFixed:()=>oT,trailingAccumulatedValue:()=>iQ,trailingAccumulatedValueProperty:()=>Ije,trailingValue:()=>sQ,trailingValueProperty:()=>Pje,unique:()=>RN,updateClipPath:()=>RT,updateLabelNode:()=>VQ,updateRect:()=>kQ,validateCrossLineValues:()=>VX,valueProperty:()=>Ei});var JQ=class GA{constructor(t,e,i,n,o,a,s,l,c,u,d){this.series=t,this.index=e,this.datum=i,this.size=n,this.colorValue=o,this.fill=a,this.stroke=s,this.sumSize=l,this.depth=c,this.parent=u,this.children=d,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;null!=e&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(t,e=GA.Walk.PreOrder){e===GA.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,e)}),e===GA.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*aBe(t)}};JQ.Walk={PreOrder:0,PostOrder:1};var jT=JQ,PUe=class extends qg{constructor(r){super({moduleCtx:r,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new jT(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new lb("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(r){"initial"===r?this.animationState.transition("reset"):"ready"===r&&this.animationState.transition("skip")}processData(){return he(this,null,function*(){var r,t;const{childrenKey:e,sizeKey:i,colorKey:n,fills:o,strokes:a,colorRange:s}=this.properties;let l=0,u=0,d=1/0,h=-1/0;const p=new Array((null!=(t=null==(r=this.data)?void 0:r.length)?t:0)+1).fill(void 0),f=(_,b)=>{const w=(l+=1,l),E=null!=b.depth?b.depth+1:0,M=null!=e?_[e]:void 0,P=null==M||0===M.length;let I=null!=i?_[i]:void 0;I=Number.isFinite(I)?Math.max(I,0):P?1:0;const k=I;u=Math.max(u,E);const N=null!=n?_[n]:void 0;return"number"==typeof N&&(p[w]=N,d=Math.min(d,N),h=Math.max(h,N)),m(new jT(this,w,_,I,N,void 0,void 0,k,E,b,[]),M)},m=(_,b)=>(b?.forEach(w=>{const E=f(w,_);_.children.push(E),_.sumSize+=E.sumSize}),_),g=m(new jT(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),v=[d,h];let y;null!=s&&Number.isFinite(d)&&Number.isFinite(h)&&(y=new ef,y.domain=v,y.range=s,y.update()),g.children.forEach((_,b)=>{_.walk(w=>{let E;const M=p[w.index];null!=M&&(E=y?.convert(M)),E??(E=o?.[b%o.length]),w.fill=E,w.stroke=null==y?a?.[b%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=u,this.colorDomain=v})}update(r){return he(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)})}resetAllAnimation(r){var t;const e=null==(t=this.animationResetFns)?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=e&&er(r.datumSelections,e)}animateEmptyUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animateWaitingUpdateReady(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animateReadyHighlight(r){var t;const e=null==(t=this.animationResetFns)?void 0:t.datum;null!=e&&er([r],e)}animateReadyResize(r){this.resetAllAnimation(r)}animateClearingUpdateEmpty(r){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(r)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(r){const{colorKey:t,colorName:e,colorRange:i,visible:n}=this.properties;return"gradient"===r&&null!=t&&null!=i?[{legendType:"gradient",enabled:n,seriesId:this.id,colorName:e,colorRange:i,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(r){return`${r.index}`}getDatumId(r){return this.getDatumIdFromData(r)}},sh=class extends Qs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(tc),this.strokes=Object.values(Rp)}};S([R(xe)],sh.prototype,"childrenKey",2),S([R(xe,{optional:!0})],sh.prototype,"sizeKey",2),S([R(xe,{optional:!0})],sh.prototype,"colorKey",2),S([R(xe,{optional:!0})],sh.prototype,"colorName",2),S([R(ns)],sh.prototype,"fills",2),S([R(ns)],sh.prototype,"strokes",2),S([R(ns,{optional:!0})],sh.prototype,"colorRange",2);var IUe=0,FUe=["area","bar","column","histogram","line","pie","donut","scatter","bubble","radial-column","radial-bar","radar-line","radar-area","nightingale","range-bar","range-area","box-plot","treemap","sunburst","heatmap","waterfall"];function eJ(r){switch(r){case"rangeBar":case"rangeArea":case"waterfall":case"boxPlot":case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":case"sunburst":case"treemap":case"heatmap":return!0;default:return!1}}var kUe=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);function Ru(r){return kUe.has(r)}var LUe=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function NUe(r){return LUe.has(r)}function tJ(r){switch(r){case"radialColumn":case"radialBar":case"radarLine":case"radarArea":case"nightingale":return!0;default:return!1}}function lh(r){switch(r){case"treemap":case"sunburst":return!0;default:return!1}}function Fb(r){return"doughnut"===r?"donut":r}function rl(r){switch(r){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"bar";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"bubble":return"bubble";case"scatter":return"scatter";case"histogram":return"histogram";case"radialColumn":return"radial-column";case"radialBar":return"radial-bar";case"radarLine":return"radar-line";case"radarArea":return"radar-area";case"nightingale":return"nightingale";case"rangeBar":return"range-bar";case"rangeArea":return"range-area";case"boxPlot":return"box-plot";case"treemap":return"treemap";case"sunburst":return"sunburst";case"pie":return"pie";case"donut":case"doughnut":return"donut";case"heatmap":return"heatmap";case"waterfall":return"waterfall";default:return"cartesian"}}function _G(r){switch(r){case"pie":case"donut":return!0;default:return!1}}var iJ=["number","category","grouped-category","log","time"];function kb(r,t){return!1!==t.clone&&t.isMergeableObject(r)?ch(function HUe(r){return Array.isArray(r)?[]:{}}(r),r,t):r}function jUe(r,t,e){return r.concat(t).map(function(i){return kb(i,e)})}function nJ(r){return Object.keys(r).concat(function zUe(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(t){return r.propertyIsEnumerable(t)}):[]}(r))}function rJ(r,t){try{return t in r}catch{return!1}}function KUe(r){return function YUe(r){return!!r&&"object"==typeof r}(r)&&!function qUe(r){var t=Object.prototype.toString.call(r);return"[object RegExp]"===t||"[object Date]"===t}(r)}function ch(r,t,e){(e=e||{}).arrayMerge=e.arrayMerge||jUe,e.isMergeableObject=e.isMergeableObject||KUe,e.cloneUnlessOtherwiseSpecified=kb;var i=Array.isArray(t);return i===Array.isArray(r)?i?e.arrayMerge(r,t,e):function $Ue(r,t,e){void 0===r&&(r={}),void 0===t&&(t={});var i={};return e.isMergeableObject(r)&&nJ(r).forEach(function(n){i[n]=kb(r[n],e)}),nJ(t).forEach(function(n){(function WUe(r,t){return rJ(r,t)&&!(Object.hasOwnProperty.call(r,t)&&Object.propertyIsEnumerable.call(r,t))})(r,n)||(i[n]=rJ(r,n)&&e.isMergeableObject(t[n])?function UUe(r,t){if(!t.customMerge)return ch;var e=t.customMerge(r);return"function"==typeof e?e:ch}(n,e)(r[n],t[n],e):kb(t[n],e))}),i}(r,t,e):kb(t,e)}function nv(r,t,e){if(null==r)return e;for(var i=t.split("."),n=r;i.length>1;)if(null==(n=n[i.shift()]))return e;return n[i[0]]??e}var Lb=function(){return Lb=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Lb.apply(this,arguments)};function CG(r){return D.includes(Object.keys(nl.themes),r)}var tze=iJ.reduce(function(r,t){var e;return Lb(Lb({},r),((e={})[t]={title:{_enabledFromTheme:!0}},e))},{});function ize(r,t){var e=r.getExtraPaddingDirections();return{common:{animation:{duration:500},axes:tze,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function oJ(r,t){var e=r.customChartThemes,i=e&&e[t];return i||console.warn("AG Grid: no stock theme exists with the name '".concat(t,"' and no ")+"custom chart theme with that name was supplied to 'customChartThemes'"),i}var bG=function(){return bG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},bG.apply(this,arguments)},Nb=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},rv=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},UT=function(r){return function(t){return null==t||r(t)}},aJ=function(r){return"string"==typeof r},sJ=function(r){return"boolean"==typeof r},oze=function(r){return"object"==typeof r},Pu=function(r,t){return function(e){return"AG Grid - unable to update chart as invalid params supplied:  `".concat(r,": ").concat(e,"`, expected ").concat(t,".")}},aze=function(){function r(){}var t;return r.isValidChartType=function(e){return r.validChartTypes.includes(e)},r.isLegacyChartType=function(e){return r.legacyChartTypes.includes(e)},r.validateChartParams=function(e){switch(e.type){case"rangeChartUpdate":return r.validateUpdateRangeChartParams(e);case"pivotChartUpdate":return r.validateUpdatePivotChartParams(e);case"crossFilterChartUpdate":return r.validateUpdateCrossFilterChartParams(e);default:return console.warn("AG Grid - Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}},r.validateUpdateRangeChartParams=function(e){var i=rv(rv(rv([],Nb(r.commonValidations),!1),Nb(r.cellRangeValidations),!1),[{property:"seriesChartTypes",validationFn:function(n){return void 0===n||Array.isArray(n)&&n.every(oze)},warnMessage:Pu("seriesChartTypes","Array of SeriesChartType")}],!1);return r.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc","seriesChartTypes"],"UpdateRangeChartParams")},r.validateUpdatePivotChartParams=function(e){var i=rv([],Nb(r.commonValidations),!1);return r.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],"UpdatePivotChartParams")},r.validateUpdateCrossFilterChartParams=function(e){var i=rv(rv([],Nb(r.commonValidations),!1),Nb(r.cellRangeValidations),!1);return r.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")},r.validateProperties=function(e,i,n,o){var a,s,l=void 0;try{for(var c=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.warnMessage;if((h=d.property)in e){var m=e[h],g=(0,d.validationFn)(m);if(!0===g)continue;if(!1===g)return console.warn(f(m)),!1;(l=l||bG({},e))[h]=g}}}catch(v){a={error:v}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}for(var h in e)if(!n.includes(h))return console.warn("AG Grid - Unexpected property supplied. ".concat(o," does not contain: `").concat(h,"`.")),!1;return l||!0},t=r,r.validChartTypes=["column","groupedColumn","stackedColumn","normalizedColumn","bar","groupedBar","stackedBar","normalizedBar","line","scatter","bubble","pie","donut","area","stackedArea","normalizedArea","histogram","radialColumn","radialBar","radarLine","radarArea","nightingale","rangeBar","rangeArea","boxPlot","treemap","sunburst","heatmap","waterfall","columnLineCombo","areaColumnCombo","customCombo"],r.legacyChartTypes=["doughnut"],r.validateChartType=UT(function(e){if(t.isValidChartType(e))return!0;if(t.isLegacyChartType(e)){var i=Fb(e);return console.warn("AG Grid - The chart type '".concat(e,"' has been deprecated. Please use '").concat(i,"' instead.")),i}return!1}),r.validateAgChartThemeOverrides=UT(function(e){return"object"==typeof e}),r.validateChartParamsCellRange=UT(function(e){return"object"==typeof e}),r.validateAggFunc=UT(function(e){return"string"==typeof e||"function"==typeof e}),r.commonValidations=[{property:"chartId",validationFn:aJ,warnMessage:Pu("chartId","string")},{property:"chartType",validationFn:r.validateChartType,warnMessage:Pu("chartType",r.validChartTypes.join(", "))},{property:"chartThemeName",validationFn:aJ,warnMessage:Pu("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:r.validateAgChartThemeOverrides,warnMessage:Pu("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:sJ,warnMessage:Pu("unlinkChart","boolean")}],r.cellRangeValidations=[{property:"cellRange",validationFn:r.validateChartParamsCellRange,warnMessage:Pu("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:sJ,warnMessage:Pu("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:r.validateAggFunc,warnMessage:Pu("aggFunc","string or IAggFunc")}],r}(),sze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wG=function(){return wG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},wG.apply(this,arguments)},lJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cJ=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],ol=function(r){function t(e){var i=r.call(this)||this;return i.model=e,i.isEnterprise=function(){return yG.enterpriseModule.isEnterprise},i}return sze(t,r),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(i){i.id&&i.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.update=function(e){if(!this.validUpdateType(e))return!1;var i=aze.validateChartParams(e);return!!i&&(this.applyValidatedChartParams(!0===i?e:i),!0)},t.prototype.applyValidatedChartParams=function(e){var i,n,o,a,s,l,c,m=wG({},{chartId:e.chartId,pivotChart:this.model.pivotChart,chartType:e.chartType??this.model.chartType,chartThemeName:e.chartThemeName??this.model.chartThemeName,unlinkChart:e.unlinkChart??this.model.unlinked,cellRange:this.model.suppliedCellRange,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1});switch(e.type){case"rangeChartUpdate":m.cellRange=null!==(i=this.createCellRange(e))&&void 0!==i?i:this.model.suppliedCellRange,m.aggFunc=null!==(n=e.aggFunc)&&void 0!==n?n:this.model.aggFunc,m.seriesChartTypes=e.seriesChartTypes,m.suppressChartRanges=null!==(o=e.suppressChartRanges)&&void 0!==o?o:this.model.suppressChartRanges;break;case"crossFilterChartUpdate":m.cellRange=null!==(a=this.createCellRange(e))&&void 0!==a?a:this.model.suppliedCellRange,m.aggFunc=null!==(s=e.aggFunc)&&void 0!==s?s:this.model.aggFunc,m.crossFiltering=!0,m.suppressChartRanges=null!==(l=e.suppressChartRanges)&&void 0!==l?l:this.model.suppressChartRanges}this.model.updateModel(m),m.unlinkChart||m.suppressChartRanges?null===(c=this.rangeService)||void 0===c||c.setCellRanges([]):this.setChartRange()},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.model.updateData(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.model.updateData(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(e){var i=this,o=this.getSelectedValueColState().map(function(l){return{colId:l.colId,displayName:l.displayName}}),a=this.getChartData(),s=this.getSelectedDimensions();return{data:a,grouping:this.isGrouping(),categories:s.map(function(l){return{id:l.colId,name:l.displayName,chartDataType:i.model.getChartDataType(l.colId)}}),fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",i=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:i}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){var i,n;if(lh(this.model.chartType)&&!lh(e)){var a=!1;try{for(var s=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.model.dimensionColState),l=s.next();!l.done;l=s.next()){var c=l.value;c.selected&&(a&&(c.selected=!1),a=!0)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e,i){this.model.chartThemeName=e,i||(this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent())},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.isCrossFilterChart=function(){return this.model.crossFiltering},t.prototype.getThemeNames=function(){return this.gridOptionsService.get("chartThemes")||cJ},t.prototype.getThemes=function(){var e=this;return this.getThemeNames().map(function(n){var a=CG(n)?n:e.chartProxy.lookupCustomChartTheme(n);return nl.getChartTheme(a)})},t.prototype.getPalettes=function(){return this.getThemes().map(function(i){return i.palette})},t.prototype.getThemeTemplateParameters=function(){return this.getThemes().map(function(i){return i.getTemplateParameters()})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedDimensions=function(){return this.model.getSelectedDimensions()},t.prototype.displayNameMapper=function(e){var i=this.model.columnNames[e.colId];return e.displayName=i?i.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return D.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){var e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.comboChartModel.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,i,n){var o=this.model.comboChartModel.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a="customCombo"!==this.model.chartType;a&&(this.model.chartType="customCombo");var s=o.chartType;null!=i&&(o.chartType=i),null!=n&&(o.secondaryAxis=n),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),s!==i&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(i){return i.colId});return this.getSeriesChartTypes().filter(function(i){return e.includes(i.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","bar","area"]:[rl(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.createCellRange=function(e){var i;return e.cellRange&&(null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange))},t.prototype.validUpdateType=function(e){var n,i=this;if(!e.type)return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."),!1;var o={"Range Chart":function(){return!i.isPivotChart()&&!i.isCrossFilterChart()},"Pivot Chart":function(){return i.isPivotChart()},"Cross Filter Chart":function(){return i.isCrossFilterChart()}},a=null!==(n=Object.keys(o).find(function(l){return o[l]()}))&&void 0!==n?n:"Range Chart",s=e.type==="".concat(a[0].toLowerCase()).concat(a.slice(1).replace(/ /g,""),"Update");return s||console.warn("AG Grid - Unable to update chart as a '".concat(e.type,"' update type is not permitted on a ").concat(a,".")),s},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),i=e[0],n=i&&i.startRow||null,o=i&&i.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_MODEL_UPDATE})},t.prototype.raiseChartUpdatedEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_UPDATED})},t.prototype.raiseChartApiUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_API_UPDATE})},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),o={type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:x.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_API_UPDATE="chartApiUpdate",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",lJ([C("rangeService")],t.prototype,"rangeService",void 0),lJ([j],t.prototype,"init",null),t}(z),cze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},zT=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},WT=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},dze={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},hze=function(r){function t(e,i){var n=r.call(this,t.TEMPLATE)||this;return n.chartController=e,n.chartOptionsService=i,n.columnComps=new Map,n}return cze(t,r),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ol.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.addManagedListener(this.chartController,ol.EVENT_CHART_API_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),r.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var i,n,e=this,o=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,l=a.valueCols,c=s.map(function(p){return p.colId}).concat(l.map(function(p){return p.colId}));this.chartType=this.chartController.getChartType();var u=this.getGroupExpandedState();if(D.areEqual(D.keys(this.columnComps),c)&&this.chartType===o){if(WT(WT([],zT(s),!1),zT(l),!1).forEach(function(p){e.columnComps.get(p.colId).setValue(p.selected,!0)}),this.chartController.isActiveXYChart()){var d=this.generateGetSeriesLabel();l.forEach(function(p){e.columnComps.get(p.colId).setLabel(d(p))})}D.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var h=null===(i=this.getDataPanelDef().groups)||void 0===i?void 0:i.reduce(function(p,f,m){return"seriesChartType"===f.type?m:p},-1);-1!==h&&this.createSeriesChartTypeGroup(l,h)}else this.clearComponents(),null===(n=this.getDataPanelDef().groups)||void 0===n||n.forEach(function(p){var f=p.type;"categories"===f?e.createCategoriesGroup(s):"series"===f?e.createSeriesGroup(l):"seriesChartType"===f?e.createSeriesChartTypeGroup(l):console.warn("AG Grid: invalid charts data panel group name supplied: '".concat(f,"'"))});this.restoreGroupExpandedState(u)},t.prototype.getGroupExpandedState=function(){var e=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map(function(n){var o,a,s=n.groupType,l=n.comp,c=!(null===(a=null===(o=e.getDataPanelDef().groups)||void 0===o?void 0:o.find(function(u){return u.type===s}))||void 0===a||!a.isOpen);return l?l.isExpanded():c})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(i,n){i&&i.toggleGroupExpand(e[n])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new _E({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},t.prototype.createComponent=function(e,i){var n=document.createElement("div");return n.id=i,n.className="ag-chart-data-section",n.appendChild(e.getGui()),n},t.prototype.addComponent=function(e,i,n){var o=this.createComponent(i,n);e.appendChild(o)},t.prototype.addComponentAtIndex=function(e,i,n,o){var a=this.createComponent(i,n);e.insertBefore(a,e.children[o])},t.prototype.addChangeListener=function(e,i){var n=this;this.addManagedListener(e,x.EVENT_FIELD_VALUE_CHANGED,function(){i.selected=e.getValue(),n.chartController.updateForPanelChange(i)})},t.prototype.createCategoriesGroup=function(e){var i=this;this.categoriesGroupComp=this.createBean(new Vs({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension".concat(this.categoriesGroupComp.getCompId()),a=lh(this.chartController.getChartType());if(e.forEach(function(c){var d,u=i.categoriesGroupComp.createManagedBean(a?((d=new bd).addCssClass("ag-data-select-checkbox"),d):new Ek);u.setLabel(D.escapeString(c.displayName)),u.setValue(c.selected),u.setInputName(n),i.addChangeListener(u,c),i.categoriesGroupComp.addItem(u),i.columnComps.set(c.colId,u),a&&i.addDragHandle(u,c)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup"),a){var s=this.categoriesGroupComp.getGui(),l={getIconName:function(){return Bt.ICON_MOVE},getContainer:function(){return s},onDragging:function(c){return i.onDragging(c)},onDragLeave:function(){return i.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return i.dragAndDropService.removeDropTarget(l)})}},t.prototype.createSeriesGroup=function(e){var i=this;if(this.seriesGroupComp=this.createManagedBean(new Vs({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new iL);n.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(c){i.chartOptionsService.setPairedMode(!!c),i.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();e.forEach(function(c){var u=i.seriesGroupComp.createManagedBean(new bd);u.addCssClass("ag-data-select-checkbox");var d=o(c);u.setLabel(d),u.setValue(c.selected),i.addChangeListener(u,c),i.seriesGroupComp.addItem(u),i.columnComps.set(c.colId,u),i.addDragHandle(u,c)});var a=this.getGui(),s=this.seriesGroupComp.getGui();this.addComponent(a,this.seriesGroupComp,"seriesGroup");var l={getIconName:function(){return Bt.ICON_MOVE},getContainer:function(){return s},onDragging:function(c){return i.onDragging(c)},onDragLeave:function(){return i.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return i.dragAndDropService.removeDropTarget(l)})},t.prototype.createSeriesChartTypeGroup=function(e,i){var n=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new Vs({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(a){if(a.selected){var s=o.filter(function(p){return p.colId===a.colId})[0];if(s){var l=n.seriesChartTypeGroupComp.createManagedBean(new Vs({title:a.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),c=n.seriesChartTypeGroupComp.createManagedBean(new bd).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(p){return n.chartController.updateSeriesChartType(a.colId,void 0,p)});l.addItem(c);var u=function(p,f){return n.chartTranslationService.translate(p,f)},d=[{value:"line",text:u("line","Line")},{value:"area",text:u("area","Area")},{value:"stackedArea",text:u("stackedArea","StackedArea")},{value:"groupedColumn",text:u("groupedColumn","Grouped Column")},{value:"stackedColumn",text:u("stackedColumn","Stacked Column")}],h=l.createManagedBean(new ou);h.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(p){return n.chartController.updateSeriesChartType(a.colId,p)}),l.addItem(h),n.seriesChartTypeGroupComp.addItem(l)}}}),void 0===i?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",i)}},t.prototype.addDragHandle=function(e,i){var n=this,o=D.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:zt.ChartPanel,eElement:o,dragItemName:i.displayName,getDragItem:function(){return{columns:[i.column]}},onDragStopped:function(){return n.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return D.escapeString(a.displayName)};var e="bubble"===this.chartType,i=this.isInPairedMode(),n=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var l,s=D.escapeString(a.displayName);return a.selected?(l=i?o.get(n%(e?3:2)):0===n?"X":e&&n%2==0?"size":"Y",n++,"".concat(s," (").concat(l,")")):s}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.dataPanel)||dze},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){D.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var i=this.checkHoveredItem(e);if(i){this.lastDraggedColumn=e.dragItem.columns[0];var n=i.comp,o=i.position,a=this.lastHoveredItem||{};n===a.comp&&o===a.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:n,position:o},n.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-".concat(o)))}},t.prototype.checkHoveredItem=function(e){var i,n;if(D.missing(e.vDirection))return null;var o=e.event;try{for(var a=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.getGui();if(c.querySelector(".ag-chart-data-column-drag-handle")){var u=c.getBoundingClientRect();if(o.clientY>=u.top&&o.clientY<=u.bottom)return{comp:l,position:o.clientY>u.top+c.clientHeight/2?"bottom":"top"}}}}catch(f){i={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var i=this.chartController.getColStateForMenu(),o=i.valueCols,a=WT(WT([],zT(i.dimensionCols),!1),zT(o),!1).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===zt.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',SG([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),SG([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),SG([j],t.prototype,"init",null),t}(le),pze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uh=function(r){function t(e){var i=r.call(this)||this;return i.activeComps=[],i.params=e,i}return pze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(i){e.params.setEnabled&&e.params.setEnabled(i)})},t.prototype.initFontFamilySelect=function(){var e=this,i=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,o=i[0];if(n){var s=i.map(function(u){return u.toLowerCase()}).indexOf(n.toLowerCase());if(s>=0)o=i[s];else{var l=D.capitalise(n);i.push(l),o=l}}var c=i.sort().map(function(u){return{value:u,text:u}});this.familySelect.addOptions(c).setInputWidth("flex").setValue("".concat(o)).onValueChange(function(u){return e.params.setFont({family:u})})},t.prototype.initFontSizeSelect=function(){var e=this,i=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;D.includes(i,n)||i.push(n);var o=i.sort(function(a,s){return a-s}).map(function(a){return{value:"".concat(a),text:"".concat(a)}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue("".concat(n)).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,i=this.params.initialFont,n=i.weight,o=void 0===n?"normal":n,a=i.style,s=void 0===a?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],c=l.find(function(d){return d.weight===o&&d.style===s});c||l.unshift(c={name:"predefined",weight:o,style:s});var u=l.map(function(d){return{value:d.name,text:e.chartTranslationService.translate(d.name)}});this.weightStyleSelect.addOptions(u).setInputWidth("flex").setValue(c.name).onValueChange(function(d){var h=l.find(function(p){return p.name===d});e.params.setFont({weight:h.weight,style:h.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth("flex").setValue("".concat(this.params.initialFont.color)).onValueChange(function(i){return e.params.setFont({color:i})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActiveComps(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',tf([G("fontGroup")],t.prototype,"fontGroup",void 0),tf([G("familySelect")],t.prototype,"familySelect",void 0),tf([G("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),tf([G("sizeSelect")],t.prototype,"sizeSelect",void 0),tf([G("colorPicker")],t.prototype,"colorPicker",void 0),tf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tf([j],t.prototype,"init",null),t}(le),fze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fc=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},mze=function(r){function t(e){var i=e.chartOptionsService,n=e.isExpandedOnInit,o=void 0!==n&&n,a=r.call(this)||this;return a.activePanels=[],a.chartOptionsService=i,a.isExpandedOnInit=o,a}return fze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(i){e.chartOptionsService.setChartOption("legend.enabled",i),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(["top","right","bottom","left"].map(function(n){return{value:n,text:e.chartTranslationService.translate(n)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(n){return e.chartOptionsService.setChartOption("legend.position",n)})},t.prototype.initLegendPadding=function(){var e=this,i=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Bn(i,200)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(n){return e.chartOptionsService.setChartOption("legend.spacing",n)})},t.prototype.initLegendItems=function(){var e=this,i=function(n,o,a,s){var l,c=null!==(l=e.chartOptionsService.getChartOption("legend.".concat(n)))&&void 0!==l?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Bn(c,s)).setValue("".concat(c)).setTextFieldWidth(45).onValueChange(function(u){e.chartOptionsService.setChartOption("legend.".concat(n),u)})};i("item.marker.size","markerSize",this.markerSizeSlider,40),i("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),i("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),i("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),i("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,i=this.chartOptionsService,n={family:i.getChartOption("legend.item.label.fontFamily"),style:i.getChartOption("legend.item.label.fontStyle"),weight:i.getChartOption("legend.item.label.fontWeight"),size:i.getChartOption("legend.item.label.fontSize"),color:i.getChartOption("legend.item.label.color")},s=this.createBean(new uh({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(l){var c=e.chartOptionsService;l.family&&c.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&c.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&c.setChartOption("legend.item.label.fontStyle",l.style),l.size&&c.setChartOption("legend.item.label.fontSize",l.size),l.color&&c.setChartOption("legend.item.label.color",l.color)}}));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',fc([G("legendGroup")],t.prototype,"legendGroup",void 0),fc([G("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),fc([G("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),fc([G("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),fc([G("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),fc([G("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),fc([G("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),fc([G("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),fc([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fc([j],t.prototype,"init",null),t}(le),gze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ov=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},vze=function(r){function t(e){var i=r.call(this)||this;return i.chartOptionsService=e,i}return gze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).setEnabled(this.chartOptionsService.getAxisProperty("tick.enabled")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(n){return e.chartOptionsService.setAxisProperty("tick.enabled",n)}),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(n){return e.chartOptionsService.setAxisProperty("tick.color",n)});var i=function(n,o,a,s){var l=e.chartOptionsService.getAxisProperty(n);o.setLabel(a).setMaxValue(Bn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(c){return e.chartOptionsService.setAxisProperty(n,c)})};i("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),i("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',ov([G("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),ov([G("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),ov([G("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),ov([G("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),ov([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),ov([j],t.prototype,"init",null),t}(le),yze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uJ=function(r){function t(e){var i=r.call(this,e,t.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return yze(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(i){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(i){return e.calculateAngleDrag(i)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(function(i){(null==i||""===i)&&(i="0"),i=e.eAngleValue.normalizeValue(i);var n=parseFloat(i);n>180&&(n-=360),e.setValue(n)}),this.updateNumberInput(),D.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){var i=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(i.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var i=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,a=i.height/2;n.style.left="".concat(i.width/2+8*Math.cos(e),"px"),n.style.top="".concat(a+8*Math.sin(e),"px")},t.prototype.calculatePolar=function(){var e=this.offsetX,i=this.offsetY,n=Math.atan2(i,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+i*i),this.positionChildCircle(n)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),i=this.getRadius();this.setOffsetX(Math.cos(e)*i).setOffsetY(Math.sin(e)*i)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var i=this.parentCircleRect,u=Math.atan2(e.clientY-i.top-i.height/2,e.clientX-i.left-i.width/2);this.setValue(u,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){e(i.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,i){var n;return n=i?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(n),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setWidth=function(e){return D.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return r.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Gb([G("eLabel")],t.prototype,"eLabel",void 0),Gb([G("eParentCircle")],t.prototype,"eParentCircle",void 0),Gb([G("eChildCircle")],t.prototype,"eChildCircle",void 0),Gb([G("eAngleValue")],t.prototype,"eAngleValue",void 0),Gb([C("dragService")],t.prototype,"dragService",void 0),t}(bk),_ze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Cze=function(r){function t(e){var i=e.chartController,n=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=r.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=i,s.chartOptionsService=n,s.isExpandedOnInit=a,s}return _ze(t,r),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,ol.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})})},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(n){var o=e.chartOptionsService.getAxisProperty("line.width")>0;e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:o},{expression:"line.color",value:n}])});var i=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Bn(i,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(n){return e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:0!==n},{expression:"line.width",value:n}])})},t.prototype.initAxisTicks=function(){if(this.hasConfigurableAxisTicks()){var e=this.createBean(new vze(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)}},t.prototype.hasConfigurableAxisTicks=function(){switch(this.chartController.getChartType()){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}},t.prototype.initAxisLabels=function(){var e=this,i={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color)}},a=this.createBean(new uh(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var i=this.createRotationWidgets(),n=i.xRotationComp,o=i.yRotationComp,a=this.initLabelRotations(n,o);e.addCompToPanel(a),e.addCompToPanel(n),e.addCompToPanel(o)},t.prototype.initLabelRotations=function(e,i){var d,h,n=this,o=function(d){return n.chartOptionsService.getLabelRotation(d)},a=function(d,h){n.chartOptionsService.setLabelRotation(d,h)},c=(d=o("xAxis"),h=o("yAxis"),null==d&&null==h&&n.chartOptionsService.getAxisProperty("label.autoRotate")),u=this.createBean(new bd).setLabel(this.translate("autoRotate")).setValue(c).onValueChange(function(d){n.chartOptionsService.setAxisProperty("label.autoRotate",d),d?(n.prevXRotation=o("xAxis"),n.prevYRotation=o("yAxis"),a("xAxis",void 0),a("yAxis",void 0)):(a("xAxis",n.prevXRotation),a("yAxis",n.prevYRotation)),e.setDisabled(d),i.setDisabled(d)});return e.setDisabled(c),i.setDisabled(c),u},t.prototype.createRotationWidgets=function(){var e=this,i=String.fromCharCode(176),n=function(o,a){var s="".concat(e.chartTranslationService.translate(o)," ").concat(i),l=e.chartOptionsService.getLabelRotation(a),c=(new uJ).setLabel(s).setLabelWidth("flex").setValue(l||0).onValueChange(function(u){return e.chartOptionsService.setLabelRotation(a,u)});return e.axisLabelUpdateFuncs.push(function(){var u=e.chartOptionsService.getLabelRotation(a);c.setValue(u||0)}),e.createBean(c)};return{xRotationComp:n("xRotation","xAxis"),yRotationComp:n("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var i=this,n=this.createBean(new Xa),o=this.chartOptionsService.getAxisProperty("label.padding");n.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Bn(o,30)).setValue("".concat(o)).setTextFieldWidth(45).onValueChange(function(a){return i.chartOptionsService.setAxisProperty("label.padding",a)}),e.addCompToPanel(n)},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Vb([G("axisGroup")],t.prototype,"axisGroup",void 0),Vb([G("axisColorInput")],t.prototype,"axisColorInput",void 0),Vb([G("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Vb([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Vb([j],t.prototype,"init",null),t}(le),bze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},wze=function(r){function t(e){var i=e.chartController,n=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=r.call(this)||this;return s.dynamicComponents=[],s.chartController=i,s.chartOptionsService=n,s.isExpandedOnInit=a,s}return bze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.color",l)});var i=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Bn(i,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.width",l)});var n=this.chartController.getChartType();if(["radarLine","radarArea"].includes(n)){var a=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.initSelect({label:"shape",options:a,currentValue:this.chartOptionsService.getAxisProperty("shape"),onValueChange:function(l){return e.chartOptionsService.setAxisProperty("shape",l)}}))}if(tJ(n)){var s=this.chartOptionsService.getAxisProperty("innerRadiusRatio");this.axisGroup.addItem(this.initSlider({label:"innerRadius",maxValue:1,currentValue:s??0,onValueChange:function(l){return e.chartOptionsService.setAxisProperty("innerRadiusRatio",l)}}))}},t.prototype.initAxisLabels=function(){var e=this,i={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:function(l){l.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",l.family),l.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",l.weight),l.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",l.style),l.size&&e.chartOptionsService.setAxisProperty("label.fontSize",l.size),l.color&&e.chartOptionsService.setAxisProperty("label.color",l.color)}},a=this.createBean(new uh(o)),s=this.createOrientationWidget();a.addItemToPanel(s),this.axisGroup.addItem(a),this.dynamicComponents.push(a)},t.prototype.createOrientationWidget=function(){var e=this,i=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.initSelect({label:"orientation",options:i,currentValue:this.chartOptionsService.getAxisProperty("label.orientation"),onValueChange:function(n){return e.chartOptionsService.setAxisProperty("label.orientation",n)}})},t.prototype.initRadiusAxis=function(){var i,n,e=this;if(function GUe(r){switch(r){case"radialColumn":case"radialBar":return!0;default:return!1}}(this.chartController.getChartType())){var a=this.createBean(new Vs({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding")})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);a.addItem(this.initSlider({label:"groupPadding",maxValue:1,currentValue:null!==(i=this.chartOptionsService.getAxisProperty("paddingInner"))&&void 0!==i?i:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("paddingInner",s)}})),a.addItem(this.initSlider({label:"seriesPadding",maxValue:1,currentValue:null!==(n=this.chartOptionsService.getAxisProperty("groupPaddingInner"))&&void 0!==n?n:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("groupPaddingInner",s)}})),this.axisGroup.addItem(a),this.dynamicComponents.push(a)}},t.prototype.initSlider=function(e){var i=e.label,n=e.maxValue,o=e.minValue,a=void 0===o?0:o,s=e.step,l=void 0===s?.05:s,c=e.currentValue,u=e.onValueChange,d=this.createManagedBean(new Xa);return d.setLabel(this.translate(i)).setLabelWidth("flex").setMinValue(a).setMaxValue(n).setStep(l).setValue("".concat(c)).onValueChange(u),this.dynamicComponents.push(d),d},t.prototype.initSelect=function(e){var i=e.label,n=e.options,o=e.currentValue,a=e.onValueChange,s=this.createManagedBean(new ou);return s.setLabel(this.translate(i)).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(n),void 0!==o&&s.setValue(o),s.onValueChange(a),this.dynamicComponents.push(s),s},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyDynamicComponents=function(){var e=this;this.dynamicComponents.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.dynamicComponents=[]},t.prototype.destroy=function(){this.destroyDynamicComponents(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Bb([G("axisGroup")],t.prototype,"axisGroup",void 0),Bb([G("axisColorInput")],t.prototype,"axisColorInput",void 0),Bb([G("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Bb([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Bb([j],t.prototype,"init",null),t}(le),Sze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$T=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},xze=function(r){function t(e){var i=e.chartOptionsService,n=e.isExpandedOnInit,o=void 0!==n&&n,a=r.call(this)||this;return a.chartOptionsService=i,a.isExpandedOnInit=o,a}return Sze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,i=this.chartTranslationService;this.navigatorGroup.setTitle(i.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var n=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(i.translate("height")).setMinValue(10).setMaxValue(Bn(n,60)).setTextFieldWidth(45).setValue("".concat(n||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',$T([G("navigatorGroup")],t.prototype,"navigatorGroup",void 0),$T([G("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),$T([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$T([j],t.prototype,"init",null),t}(le),Eze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},dJ=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},Tze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.chartController=i,n}return Eze(t,r),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,x.EVENT_CHART_OPTIONS_CHANGED,function(n){e.updateTopPadding(n.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,i=function(n,o){var a=e.chartOptionsService.getChartOption("padding."+n);o.setLabel(e.chartTranslationService.translate(n)).setMaxValue(Bn(a,200)).setValue("".concat(a)).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+n,s)})};i("top",this.paddingTopSlider),i("right",this.paddingRightSlider),i("bottom",this.paddingBottomSlider),i("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var i=dJ(dJ([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.chartController.getChartSeriesTypes()),!1),["common"],!1).map(function(n){var o,a;return null===(a=null===(o=e[n])||void 0===o?void 0:o.padding)||void 0===a?void 0:a.top}).find(function(n){return null!=n});null!=i&&this.paddingTopSlider.setValue(i)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',nf([G("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),nf([G("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),nf([G("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),nf([G("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),nf([G("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),nf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nf([j],t.prototype,"init",null),t}(le),Aze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KT=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Oze=function(r){function t(e){var i=r.call(this)||this;return i.chartOptionsService=e,i}return Aze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setChartOption("background.visible",i)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(i){return e.chartOptionsService.setChartOption("background.fill",i)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',KT([G("chartBackgroundGroup")],t.prototype,"group",void 0),KT([G("colorPicker")],t.prototype,"colorPicker",void 0),KT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),KT([j],t.prototype,"init",null),t}(le),Mze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Rze=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.chartOptionsService=e,i.activePanels=[],i}return Mze(t,r),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,i=this.hasTitle(),n=function(l,c){l.family&&e.setOption("title.fontFamily",l.family,c),l.weight&&e.setOption("title.fontWeight",l.weight,c),l.style&&e.setOption("title.fontStyle",l.style,c),l.size&&e.setOption("title.fontSize",l.size,c),l.color&&e.setOption("title.color",l.color,c)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};i||n(o,!0);var a={name:this.chartTranslationService.translate("title"),enabled:i,suppressEnabledCheckbox:!1,initialFont:o,setFont:n,setEnabled:function(l){if(e.toolbarExists()){var c=e.getOption("padding.top");e.setOption("padding.top",l?c-20:c+20)}e.setOption("title.enabled",l);var u=e.getOption("title.text"),d="Title"===u||0===u?.trim().length;l&&d&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new uh(a));s.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,i=this.createBean(new Xa),n=this.chartOptionsService.getChartOption("title.spacing")||10;return i.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(n,100)).setValue("".concat(n)).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("title.spacing",o)}),i},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var i={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some(function(o){var a;return null===(a=e&&e(i))||void 0===a?void 0:a.includes(o)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,i,n){this.chartOptionsService.setChartOption(e,i,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",hJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),hJ([j],t.prototype,"init",null),t}(le),Pze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Ize=function(r){function t(e){var i=e.chartController,n=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=r.call(this)||this;return s.activePanels=[],s.chartController=i,s.chartOptionsService=n,s.isExpandedOnInit=a,s}return Pze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Rze(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new Tze(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Oze(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',xG([G("chartGroup")],t.prototype,"chartGroup",void 0),xG([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),xG([j],t.prototype,"init",null),t}(le),Fze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},kze=function(r){function t(e,i,n){void 0===n&&(n="shadow");var o=r.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=i,o.propertyKey=n,o}return Fze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this,i=this.propertyKey;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("".concat(i,".enabled"),this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(i,".enabled"),o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getSeriesOption("".concat(i,".color"),this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(i,".color"),o,e.getSelectedSeries())});var n=function(o,a,s,l){var c=e.chartOptionsService.getSeriesOption("".concat(i,".").concat(a),e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMinValue(s).setMaxValue(Bn(c,l)).setValue("".concat(c)).onValueChange(function(u){return e.chartOptionsService.setSeriesOption("".concat(i,".").concat(a),u,e.getSelectedSeries())})};n(this.shadowBlurSlider,"blur",0,20),n(this.shadowXOffsetSlider,"xOffset",-10,10),n(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',rf([G("shadowGroup")],t.prototype,"shadowGroup",void 0),rf([G("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),rf([G("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),rf([G("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),rf([G("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),rf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rf([j],t.prototype,"init",null),t}(le);function EG(r){var t=r.labelName,e=r.chartOptionsService,i=r.getSelectedSeries,n=r.seriesOptionLabelProperty,o=function(d){return"".concat(n,".").concat(d)},a=function(d){var h=o(d);return e.getSeriesOption(h,i())},s=function(d,h){var p=o(d);e.setSeriesOption(p,h,i())},l={family:a("fontFamily"),style:a("fontStyle"),weight:a("fontWeight"),size:a("fontSize"),color:a("color")};return{name:t,enabled:a("enabled")||!1,setEnabled:function(d){return s("enabled",d)},suppressEnabledCheckbox:!1,initialFont:l,setFont:function(d){d.family&&s("fontFamily",d.family),d.weight&&s("fontWeight",d.weight),d.style&&s("fontStyle",d.style),d.size&&s("fontSize",d.size),d.color&&s("color",d.color)}}}var Lze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),af=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Nze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return Lze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var n=this.chartOptionsService.getChartType(),o=D.includes(["scatter","bubble"],n);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,c,u){var d=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(c)).setMaxValue(Bn(d,u)).setValue("".concat(d)).setTextFieldWidth(45).onValueChange(function(h){return e.setSeriesOption(s,h)})};"bubble"===n?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',af([G("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),af([G("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),af([G("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),af([G("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),af([G("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),af([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),af([j],t.prototype,"init",null),t}(le),Gze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Iu=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Bze=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=e.picker,i}return Gze(t,r),t.prototype.postConstruct=function(){var e=this;this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",function(){return e.spectrumColor.focus()}),this.addGuiEventListener("keydown",function(i){i.key===V.ENTER&&!i.defaultPrevented&&e.destroy()}),this.addManagedListener(this.spectrumColor,"keydown",function(i){return e.moveDragger(i)}),this.addManagedListener(this.spectrumAlphaSlider,"keydown",function(i){return e.moveAlphaSlider(i)}),this.addManagedListener(this.spectrumHueSlider,"keydown",function(i){return e.moveHueSlider(i)}),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addGuiEventListener("mousemove",function(i){e.onSpectrumDraggerMove(i),e.onSpectrumHueMove(i),e.onSpectrumAlphaMove(i)}),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this)),this.addManagedListener(this.recentColors,"keydown",function(i){(i.key===V.ENTER||i.key===V.SPACE)&&(i.preventDefault(),e.onRecentColorClick(i))})},t.prototype.initTabIndex=function(){var e=this.tabIndex=this.gridOptionsService.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var i=this.spectrumValRect;if(i){var n,o;if(e instanceof MouseEvent)n=e.clientX-i.left,o=e.clientY-i.top;else{var a=e.key===V.LEFT,l=e.key===V.UP,u=l||e.key===V.DOWN,d=a||e.key===V.RIGHT;if(!u&&!d)return;e.preventDefault();var h=this.getSpectrumValue();n=h.x+(d?a?-5:5:0),o=h.y+(u?l?-5:5:0)}n=Math.max(n,0),n=Math.min(n,i.width),o=Math.max(o,0),o=Math.min(o,i.height),this.setSpectrumValue(n/i.width,1-o/i.height)}},t.prototype.moveHueSlider=function(e){var i=this.spectrumHueRect;if(i){var n=this.moveSlider(this.spectrumHueSlider,e);null!=n&&(this.H=1-n/i.width,this.update())}},t.prototype.moveAlphaSlider=function(e){var i=this.spectrumAlphaRect;if(i){var n=this.moveSlider(this.spectrumAlphaSlider,e);null!=n&&(this.A=n/i.width,this.update())}},t.prototype.moveSlider=function(e,i){var n,s,o=e.getBoundingClientRect(),a=null===(n=e.parentElement)||void 0===n?void 0:n.getBoundingClientRect();if(!e||!a)return null;if(i instanceof MouseEvent)s=i.clientX-a.left;else{var l=i.key===V.LEFT;if(!l&&i.key!==V.RIGHT)return null;i.preventDefault();var u=l?-5:5;s=parseFloat(e.style.left)-o.width/2+u}return s=Math.max(s,0),s=Math.min(s,a.width),e.style.left=s+o.width/2+"px",s},t.prototype.update=function(){var e=Xi.Color.fromHSB(360*this.H,this.S,this.B,this.A),i=Xi.Color.fromHSB(360*this.H,1,1),n=e.toRgbaString(),o=this.picker;Xi.Color.fromString(o.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),o.setValue(n),this.spectrumColor.style.backgroundColor=i.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},t.prototype.setSpectrumValue=function(e,i){var n=this.spectrumValRect||this.refreshSpectrumRect();if(null!=n){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),i=Math.max(0,i),i=Math.min(1,i),this.S=e,this.B=i,o.style.left=e*n.width-a.width/2+"px",o.style.top=(1-i)*n.height-a.height/2+"px",this.update()}},t.prototype.getSpectrumValue=function(){var e=this.spectrumDragger,i=e.getBoundingClientRect();return{x:parseFloat(e.style.left)+i.width/2,y:parseFloat(e.style.top)+i.height/2}},t.prototype.initRecentColors=function(){var e=this,n=t.recentColors.map(function(o,a){return'<div class="ag-recent-color" id='.concat(a,' style="background-color: ').concat(o,'; width: 15px; height: 15px;" recent-color="').concat(o,'" tabIndex="').concat(e.tabIndex,'"></div>')});this.recentColors.innerHTML=n.join("")},t.prototype.setValue=function(e){var i=Xi.Color.fromString(e),n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i.toHSB(),3),o=n[0],a=n[1],s=n[2];this.H=(isNaN(o)?0:o)/360,this.A=i.a;var l=this.spectrumHueRect||this.refreshHueRect(),c=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-l.width,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*c.width,"px"),this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var i=e.target;if(D.exists(i.id)){var n=parseInt(i.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var i=Xi.Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=t.recentColors;!this.colorChanged||n[0]===i||(n=n.filter(function(o){return o!=i}),(n=[i].concat(n)).length>t.maxRecentColors&&(n=n.slice(0,t.maxRecentColors)),t.recentColors=n)},t.prototype.destroy=function(){this.addRecentColor(),r.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel" tabindex="-1">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Iu([G("spectrumColor")],t.prototype,"spectrumColor",void 0),Iu([G("spectrumVal")],t.prototype,"spectrumVal",void 0),Iu([G("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Iu([G("spectrumHue")],t.prototype,"spectrumHue",void 0),Iu([G("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Iu([G("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Iu([G("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Iu([G("recentColors")],t.prototype,"recentColors",void 0),Iu([j],t.prototype,"postConstruct",null),t}(le),Hze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DG=function(){return DG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},DG.apply(this,arguments)},pJ=function(r){function t(e){var i=r.call(this,DG({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"colorPicker"},e))||this;return e&&e.color&&(i.value=e.color),i}return Hze(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.createPickerComponent=function(){var e=this.getGui().getBoundingClientRect();return this.createBean(new ug({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}))},t.prototype.renderAndPositionPicker=function(){var e=this,i=this.pickerComponent,n=this.createBean(new Bze({picker:this}));return i.addCssClass("ag-color-dialog"),n.addDestroyFunc(function(){i.isAlive()&&e.destroyBean(i)}),i.setParentComponent(this),i.setBodyComponent(n),n.setValue(this.getValue()),n.getGui().focus(),i.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.beforeHidePicker(),e.isDestroyingPicker=!0,n.isAlive()&&e.destroyBean(n),e.isAlive()&&e.getFocusableElement().focus())}),function(){var o;return null===(o=e.pickerComponent)||void 0===o?void 0:o.close()}},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,r.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(wk),jze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),av=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Uze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return jze(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var i=function(n,o,a,s){var l=e.chartOptionsService.getSeriesOption(n,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(Bn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(c){return e.chartOptionsService.setSeriesOption(n,c,e.getSelectedSeries())})};i("calloutLine.length",this.calloutLengthSlider,"length",40),i("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),i("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',av([G("calloutGroup")],t.prototype,"calloutGroup",void 0),av([G("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),av([G("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),av([G("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),av([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),av([j],t.prototype,"init",null),t}(le),zze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YT=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Wze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return zze(t,r),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{capsGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,i=this.chartOptionsService.getSeriesOption("cap.lengthRatio",this.getSelectedSeries());this.capLengthRatioSlider.setLabel(this.chartTranslationService.translate("capLengthRatio")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(n){return e.chartOptionsService.setSeriesOption("cap.lengthRatio",n,e.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="capsGroup">\n                <ag-slider ref="capLengthRatioSlider"></ag-slider>\n            </ag-group-component>\n        </div>',YT([G("capsGroup")],t.prototype,"capsGroup",void 0),YT([G("capLengthRatioSlider")],t.prototype,"capLengthRatioSlider",void 0),YT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),YT([j],t.prototype,"init",null),t}(le),$ze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Kze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return $ze(t,r),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{lineGroup:e}),this.initConnectorLineControls()},t.prototype.initConnectorLineControls=function(){this.initColorPicker(this.lineColorPicker,"color","line.stroke"),this.initSlider(this.lineStrokeWidthSlider,"strokeWidth",0,10,45,"line.strokeWidth"),this.initSlider(this.lineDashSlider,"lineDash",0,30,45,"line.lineDash",1,!0),this.initSlider(this.lineOpacitySlider,"strokeOpacity",0,1,45,"line.strokeOpacity",.05,!1)},t.prototype.initColorPicker=function(e,i,n){var o=this,a=this.chartOptionsService.getSeriesOption(n,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(i)).setLabelWidth("flex").setValue(null==a?"transparent":"".concat(a)).onValueChange(function(s){return o.chartOptionsService.setSeriesOption(n,s,o.getSelectedSeries())})},t.prototype.initSlider=function(e,i,n,o,a,s,l,c){var u=this;void 0===l&&(l=1),void 0===c&&(c=!1);var d=this.chartOptionsService.getSeriesOption(s,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(i)).setMinValue(n).setMaxValue(o).setTextFieldWidth(a).setValue("".concat(d)).setStep(l).onValueChange(function(h){u.chartOptionsService.setSeriesOption(s,c?[h]:h,u.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="lineGroup">\n                <ag-color-picker ref="lineColorPicker"></ag-color-picker>\n                <ag-slider ref="lineStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="lineOpacitySlider"></ag-slider>\n                <ag-slider ref="lineDashSlider"></ag-slider>                \n            </ag-group-component>\n        </div>',sv([G("lineColorPicker")],t.prototype,"lineColorPicker",void 0),sv([G("lineStrokeWidthSlider")],t.prototype,"lineStrokeWidthSlider",void 0),sv([G("lineOpacitySlider")],t.prototype,"lineOpacitySlider",void 0),sv([G("lineDashSlider")],t.prototype,"lineDashSlider",void 0),sv([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sv([j],t.prototype,"init",null),t}(le),Yze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dh=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return Yze(t,r),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{whiskersGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,i=this.chartOptionsService.getSeriesOption("whisker.stroke",this.getSelectedSeries());this.whiskerColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setValue(null==i?"transparent":"".concat(i)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.stroke",l,e.getSelectedSeries())});var n=this.chartOptionsService.getSeriesOption("whisker.strokeWidth",this.getSelectedSeries());this.whiskerThicknessSlider.setLabel(this.chartTranslationService.translate("strokeWidth")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeWidth",l,e.getSelectedSeries())});var o=this.chartOptionsService.getSeriesOption("whisker.strokeOpacity",this.getSelectedSeries());this.whiskerOpacitySlider.setLabel(this.chartTranslationService.translate("strokeOpacity")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeOpacity",l,e.getSelectedSeries())});var a=this.chartOptionsService.getSeriesOption("whisker.lineDash",this.getSelectedSeries());this.whiskerLineDashSlider.setLabel(this.chartTranslationService.translate("lineDash")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(a)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDash",[l],e.getSelectedSeries())});var s=this.chartOptionsService.getSeriesOption("whisker.lineDashOffset",this.getSelectedSeries());this.whiskerLineDashOffsetSlider.setLabel(this.chartTranslationService.translate("lineDashOffset")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(s)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDashOffset",l,e.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="whiskersGroup">\n                <ag-color-picker ref="whiskerColorPicker"></ag-color-picker>\n                <ag-slider ref="whiskerThicknessSlider"></ag-slider>\n                <ag-slider ref="whiskerOpacitySlider"></ag-slider>\n                <ag-slider ref="whiskerLineDashSlider"></ag-slider>\n                <ag-slider ref="whiskerLineDashOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',dh([G("whiskersGroup")],t.prototype,"whiskersGroup",void 0),dh([G("whiskerColorPicker")],t.prototype,"whiskerColorPicker",void 0),dh([G("whiskerThicknessSlider")],t.prototype,"whiskerThicknessSlider",void 0),dh([G("whiskerOpacitySlider")],t.prototype,"whiskerOpacitySlider",void 0),dh([G("whiskerLineDashSlider")],t.prototype,"whiskerLineDashSlider",void 0),dh([G("whiskerLineDashOffsetSlider")],t.prototype,"whiskerLineDashOffsetSlider",void 0),dh([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dh([j],t.prototype,"init",null),t}(le),Xze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qT=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Zze=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n.activePanels=[],n}return Xze(t,r),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{seriesItemsGroup:e}),this.initSeriesItems(),this.initSeriesControls()},t.prototype.initSeriesItems=function(){var e=this,i=[{value:"positive",text:this.chartTranslationService.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslationService.translate("seriesItemNegative")}];this.seriesItemSelect.setLabel(this.chartTranslationService.translate("seriesItemType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(i).setValue("positive").onValueChange(function(o){e.destroyActivePanels(),e.initSeriesControls(o)})},t.prototype.initSeriesControls=function(e){void 0===e&&(e="positive"),this.initSlider("strokeWidth",0,10,45,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",0,30,45,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",0,1,45,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",0,1,45,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)},t.prototype.initSlider=function(e,i,n,o,a,s,l){var c=this;void 0===s&&(s=1),void 0===l&&(l=!1);var u=this.seriesItemsGroup.createManagedBean(new Xa),d=this.chartOptionsService.getSeriesOption(a,this.getSelectedSeries());u.setLabel(this.chartTranslationService.translate(e)).setMinValue(i).setMaxValue(n).setTextFieldWidth(o).setValue("".concat(d)).setStep(s).onValueChange(function(p){c.chartOptionsService.setSeriesOption(a,l?[p]:p,c.getSelectedSeries())}),this.seriesItemsGroup.addItem(u),this.activePanels.push(u)},t.prototype.initItemLabels=function(e){var i=this,n=EG({labelName:this.chartTranslationService.translate("seriesItemLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return i.getSelectedSeries()},seriesOptionLabelProperty:"item.".concat(e,".label")}),o=this.createBean(new uh(n));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesItemsGroup">\n                <ag-select ref="seriesItemSelect"></ag-select>\n            </ag-group-component>\n        </div>',qT([G("seriesItemsGroup")],t.prototype,"seriesItemsGroup",void 0),qT([G("seriesItemSelect")],t.prototype,"seriesItemSelect",void 0),qT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),qT([j],t.prototype,"init",null),t}(le),Qze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lv=function(){return lv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},lv.apply(this,arguments)},sf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},eWe=function(r){function t(e,i){var n=r.call(this)||this;return n.chartOptionsService=e,n.getSelectedSeries=i,n}return Qze(t,r),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{groupSpacing:lv(lv({},e),{title:this.chartTranslationService.translate("group")}),tileSpacing:lv(lv({},e),{title:this.chartTranslationService.translate("tile")})}),this.initControls()},t.prototype.initControls=function(){var e,i,n=this,o=[{optionNamespace:"group",components:{paddingSlider:this.groupPaddingSlider,spacingSlider:this.groupSpacingSlider}},{optionNamespace:"tile",components:{paddingSlider:this.tilePaddingSlider,spacingSlider:this.tileSpacingSlider}}],a=function(d){var h=d.optionNamespace,p=d.components,f=p.paddingSlider,m=p.spacingSlider,g=s.chartOptionsService.getSeriesOption("".concat(h,".padding"),s.getSelectedSeries());f.setLabel(s.chartTranslationService.translate("padding")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(g)).onValueChange(function(y){return n.chartOptionsService.setSeriesOption("".concat(h,".padding"),y,n.getSelectedSeries())});var v=s.chartOptionsService.getSeriesOption("".concat(h,".gap"),s.getSelectedSeries());m.setLabel(s.chartTranslationService.translate("spacing")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(v)).onValueChange(function(y){return n.chartOptionsService.setSeriesOption("".concat(h,".gap"),y,n.getSelectedSeries())})},s=this;try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next())a(c.value)}catch(d){e={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}},t.TEMPLATE='<div>\n            <ag-group-component ref="groupSpacing">\n                <ag-slider ref="groupPaddingSlider"></ag-slider>\n                <ag-slider ref="groupSpacingSlider"></ag-slider>\n            </ag-group-component>\n            <ag-group-component ref="tileSpacing">\n                <ag-slider ref="tilePaddingSlider"></ag-slider>\n                <ag-slider ref="tileSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',sf([G("groupSpacing")],t.prototype,"groupSpacing",void 0),sf([G("groupPaddingSlider")],t.prototype,"groupPaddingSlider",void 0),sf([G("groupSpacingSlider")],t.prototype,"groupSpacingSlider",void 0),sf([G("tilePaddingSlider")],t.prototype,"tilePaddingSlider",void 0),sf([G("tileSpacingSlider")],t.prototype,"tileSpacingSlider",void 0),sf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sf([j],t.prototype,"init",null),t}(le),tWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},iWe=function(r){function t(e){var i=e.chartController,n=e.chartOptionsService,o=e.seriesType,a=e.isExpandedOnInit,s=void 0!==a&&a,l=r.call(this)||this;return l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initStrokeWidth("lineWidth")},strokeWidth:function(){return l.initStrokeWidth("strokeWidth")},lineColor:function(){return l.initLineColor()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()},whiskers:function(){return l.initWhiskers()},caps:function(){return l.initCaps()},connectorLine:function(){return l.initConnectorLine()},seriesItems:function(){return l.initSeriesItemsPanel()},tileSpacing:function(){return l.initTileSpacingPanel()}},l.seriesWidgetMappings={column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],donut:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],scatter:["tooltips","markers","labels"],bubble:["tooltips","markers","labels"],area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],"radial-column":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radial-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radar-line":["tooltips","strokeWidth","lineDash","lineOpacity","markers","labels"],"radar-area":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","markers","labels"],nightingale:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"box-plot":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","whiskers","caps"],"range-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"range-area":["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],treemap:["tooltips","tileSpacing"],sunburst:["tooltips"],heatmap:["tooltips","labels","lineColor","lineWidth","lineOpacity"],waterfall:["tooltips","connectorLine","seriesItems"]},l.chartController=i,l.chartOptionsService=n,l.seriesType=o||l.getChartSeriesType(),l.isExpandedOnInit=s,l}return tWe(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ol.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){var n;!e.isAlive()||(e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),(null!==(n=e.seriesWidgetMappings[e.seriesType])&&void 0!==n?n:[]).forEach(function(a){return e.widgetFuncs[a]()}))}).catch(function(n){return console.error("AG Grid - chart rendering failed",n)})},t.prototype.initSeriesSelect=function(){var e=this,i=this.seriesGroup.createManagedBean(new ou);i.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(this.getSeriesSelectOptions()).setValue("".concat(this.seriesType)).onValueChange(function(n){e.seriesType=n,e.refreshWidgets()}),this.seriesGroup.addItem(i),this.activePanels.push(i)},t.prototype.initTooltips=function(){var e=this,i=this.createBean(new iL);i.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(n){return e.setSeriesOption("tooltip.enabled",n)}),this.addWidget(i)},t.prototype.initLineColor=function(){var e=this,i=this.getSeriesOption("stroke"),n=this.createBean(new pJ);n.setLabel(this.translate("strokeColor")).setLabelWidth("flex").onValueChange(function(o){return e.setSeriesOption("stroke",o)}),i&&n.setValue(i),this.addWidget(n)},t.prototype.initStrokeWidth=function(e){var n,i=this,o=null!==(n=this.getSeriesOption("strokeWidth"))&&void 0!==n?n:0,a=this.createBean(new Xa);a.setLabel(this.translate(e)).setMaxValue(Bn(o,10)).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(s){return i.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,i=this.getSeriesOption("lineDash"),n=i?i[0]:0,o=this.createBean(new Xa);o.setLabel(this.translate("lineDash")).setMaxValue(Bn(n,30)).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var i,e=this,n=null!==(i=this.getSeriesOption("strokeOpacity"))&&void 0!==i?i:0,o=this.createBean(new Xa);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Bn(n,1)).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(a){return e.setSeriesOption("strokeOpacity",a)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var i,e=this,n=null!==(i=this.getSeriesOption("fillOpacity"))&&void 0!==i?i:0,o=this.createBean(new Xa);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Bn(n,1)).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(a){return e.setSeriesOption("fillOpacity",a)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,i=_G(this.seriesType),n=i?"calloutLabel":"label",a=EG({labelName:this.chartTranslationService.translate(i?"calloutLabels":"labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:n}),s=this.createBean(new uh(a));if(i){var l=this.createBean(new Uze(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}if(this.addWidget(s),i){var c=EG({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),u=this.createBean(new uh(c)),d=this.getSectorLabelPositionRatio();u.addCompToPanel(d),this.addWidget(u)}if("range-bar"===this.seriesType){var h=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],p=this.chartOptionsService.getSeriesOption("label.placement",this.seriesType),f=s.createManagedBean(new ou);f.setLabel(this.translate("labelPlacement")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(h).setValue(p).onValueChange(function(v){return e.chartOptionsService.setSeriesOption("label.placement",v,e.seriesType)}),s.addCompToPanel(f),this.activePanels.push(f);var m=this.chartOptionsService.getSeriesOption("label.padding",this.seriesType),g=s.createManagedBean(new Xa);g.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Bn(m,200)).setValue("".concat(m)).setTextFieldWidth(45).onValueChange(function(v){return e.chartOptionsService.setSeriesOption("label.padding",v,e.seriesType)}),s.addCompToPanel(g),this.activePanels.push(g)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,i="sectorLabel.positionRatio",n=this.chartOptionsService.getSeriesOption(i,this.seriesType);return this.createBean(new Xa).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(Bn(n,1)).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(a){return e.chartOptionsService.setSeriesOption(i,a,e.seriesType)})},t.prototype.initShadow=function(){var e=this,i=this.createBean(new kze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initMarkers=function(){var e=this,i=this.createBean(new Nze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initBins=function(){var i,e=this,n=(null!==(i=this.getSeriesOption("bins"))&&void 0!==i?i:this.getSeriesOption("calculatedBins",!0)).length,o=this.createBean(new Xa);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(Bn(n,20)).setTextFieldWidth(45).setValue("".concat(n)).onValueChange(function(a){return e.setSeriesOption("binCount",a)}),this.addWidget(o)},t.prototype.initWhiskers=function(){var e=this,i=this.createBean(new qze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initCaps=function(){var e=this,i=this.createBean(new Wze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initConnectorLine=function(){var e=this,i=this.createBean(new Kze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initSeriesItemsPanel=function(){var e=this,i=this.createBean(new Zze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initTileSpacingPanel=function(){var e=this,i=this.createBean(new eWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e,i){return this.chartOptionsService.getSeriesOption(e,this.seriesType,i)},t.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.seriesType)},t.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":rl(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["radial-column",{value:"radial-column",text:this.translate("radialColumn","Radial Column")}],["radial-bar",{value:"radial-bar",text:this.translate("radialBar","Radial Bar")}],["radar-line",{value:"radar-line",text:this.translate("radarLine","Radar Line")}],["radar-area",{value:"radar-area",text:this.translate("radarArea","Radar Area")}],["nightingale",{value:"nightingale",text:this.translate("nightingale","Nightingale")}],["range-bar",{value:"range-bar",text:this.translate("rangeBar","Range Bar")}],["range-area",{value:"range-area",text:this.translate("rangeArea","Range Area")}],["treemap",{value:"treemap",text:this.translate("treemap","Treemap")}],["sunburst",{value:"sunburst",text:this.translate("sunburst","Sunburst")}],["waterfall",{value:"waterfall",text:this.translate("waterfall","Waterfall")}],["box-plot",{value:"box-plot",text:this.translate("boxPlot","Box Plot")}],["pie",{value:"pie",text:this.translate("pie","Pie")}],["donut",{value:"donut",text:this.translate("donut","Donut")}]]));var i=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(n){var o=rl(n.chartType);i.add(e.seriesSelectOptions.get(o))}),Array.from(i)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(n){return rl(n.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',TG([G("seriesGroup")],t.prototype,"seriesGroup",void 0),TG([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),TG([j],t.prototype,"init",null),t}(le),nWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hh=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},rWe=function(r){function t(e){var i=e.chartOptionsService,n=e.isExpandedOnInit,o=void 0!==n&&n,a=r.call(this)||this;return a.activePanels=[],a.chartOptionsService=i,a.isExpandedOnInit=o,a}return nWe(t,r),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendGradient(),this.initLegendSpacing(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("gradientLegend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(i){e.chartOptionsService.setChartOption("gradientLegend.enabled",i),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(["top","right","bottom","left"].map(function(n){return{value:n,text:e.chartTranslationService.translate(n)}})).setValue(this.chartOptionsService.getChartOption("gradientLegend.position")).onValueChange(function(n){return e.chartOptionsService.setChartOption("gradientLegend.position",n)})},t.prototype.initLegendGradient=function(){var e=this;this.gradientReverseCheckbox.setLabel(this.chartTranslationService.translate("reverseDirection")).setLabelWidth("flex").setValue(this.chartOptionsService.getChartOption("gradientLegend.reverseOrder")).onValueChange(function(n){return e.chartOptionsService.setChartOption("gradientLegend.reverseOrder",n)});var i=function(n,o,a,s){var l,c=null!==(l=e.chartOptionsService.getChartOption(n))&&void 0!==l?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Bn(c,s)).setValue("".concat(c)).setTextFieldWidth(45).onValueChange(function(u){e.chartOptionsService.setChartOption(n,u)})};i("gradientLegend.gradient.thickness","thickness",this.gradientThicknessSlider,40),i("gradientLegend.gradient.preferredLength","preferredLength",this.gradientPreferredLengthSlider,300)},t.prototype.initLegendSpacing=function(){var e=this,i=this.chartOptionsService.getChartOption("gradientLegend.spacing");this.legendSpacingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Bn(i,200)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(n){return e.chartOptionsService.setChartOption("gradientLegend.spacing",n)})},t.prototype.initLabelPanel=function(){var e=this,i=this.chartOptionsService,n={family:i.getChartOption("gradientLegend.scale.label.fontFamily"),style:i.getChartOption("gradientLegend.scale.label.fontStyle"),weight:i.getChartOption("gradientLegend.scale.label.fontWeight"),size:i.getChartOption("gradientLegend.scale.label.fontSize"),color:i.getChartOption("gradientLegend.scale.label.color")},s=this.createBean(new uh({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(l){var c=e.chartOptionsService;l.family&&c.setChartOption("gradientLegend.scale.label.fontFamily",l.family),l.weight&&c.setChartOption("gradientLegend.scale.label.fontWeight",l.weight),l.style&&c.setChartOption("gradientLegend.scale.label.fontStyle",l.style),l.size&&c.setChartOption("gradientLegend.scale.label.fontSize",l.size),l.color&&c.setChartOption("gradientLegend.scale.label.color",l.color)}}));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-checkbox ref="gradientReverseCheckbox"></ag-checkbox>\n                <ag-slider ref="gradientThicknessSlider"></ag-slider>\n                <ag-slider ref="gradientPreferredLengthSlider"></ag-slider>\n                <ag-slider ref="legendSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',hh([G("legendGroup")],t.prototype,"legendGroup",void 0),hh([G("gradientReverseCheckbox")],t.prototype,"gradientReverseCheckbox",void 0),hh([G("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),hh([G("gradientThicknessSlider")],t.prototype,"gradientThicknessSlider",void 0),hh([G("gradientPreferredLengthSlider")],t.prototype,"gradientPreferredLengthSlider",void 0),hh([G("legendSpacingSlider")],t.prototype,"legendSpacingSlider",void 0),hh([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),hh([j],t.prototype,"init",null),t}(le),oWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function Bn(r,t){return Math.max(r,t)}var sWe={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},lWe=function(r){function t(e,i){var n=r.call(this,t.TEMPLATE)||this;return n.chartController=e,n.chartOptionsService=i,n.panels=[],n.isGroupPanelShownInSeries=function(o,a){var s,l;return!!["chart","legend","series"].includes(o)||null!==(l=null===(s={bar:["axis","navigator"],column:["axis","navigator"],line:["axis","navigator"],area:["axis","navigator"],scatter:["axis","navigator"],bubble:["axis","navigator"],histogram:["axis","navigator"],cartesian:["axis","navigator"],"radial-column":["axis"],"radial-bar":["axis"],"radar-line":["axis"],"radar-area":["axis"],nightingale:["axis"],"range-bar":["axis","navigator"],"range-area":["axis","navigator"],treemap:[],sunburst:[],heatmap:["axis"],waterfall:["axis","navigator"],"box-plot":["axis","navigator"]}[a])||void 0===s?void 0:s.includes(o))&&void 0!==l&&l},n}return oWe(t,r),t.prototype.init=function(){var e=this;this.createPanels(),this.addManagedListener(this.chartController,ol.EVENT_CHART_UPDATED,function(){return e.createPanels(!0)}),this.addManagedListener(this.chartController,ol.EVENT_CHART_API_UPDATE,function(){return e.createPanels(!1)})},t.prototype.createPanels=function(e){var n,i=this,o=this.chartController.getChartType(),a=this.chartController.isGrouping(),s=rl(o);e&&o===this.chartType&&a===this.isGrouping||(this.destroyPanels(),null===(n=this.getFormatPanelDef().groups)||void 0===n||n.forEach(function(l){var c=l.type;if(i.isGroupPanelShownInSeries(c,s)){var u={chartController:i.chartController,chartOptionsService:i.chartOptionsService,isExpandedOnInit:l.isOpen,seriesType:s};if("chart"===c)i.addComponent(new Ize(u));else if("legend"===c){var d=function VUe(r){switch(r){case"treemap":case"sunburst":case"heatmap":return!0;default:return!1}}(o)?new rWe(u):new mze(u);i.addComponent(d)}else"axis"===c?(d=tJ(o)?new wze(u):new Cze(u),i.addComponent(d)):"series"===c?i.addComponent(new iWe(u)):"navigator"===c?i.addComponent(new xze(u)):console.warn("AG Grid: invalid charts format panel group name supplied: '".concat(l.type,"'"))}}),this.chartType=o,this.isGrouping=a)},t.prototype.getFormatPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.formatPanel)||sWe},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.panels=[]},t.prototype.destroy=function(){this.destroyPanels(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"init",null),t}(le),cWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cv=function(r){function t(e,i){var n=r.call(this)||this;n.size=58,n.padding=5,n.root=new re.Group;var o=new re.Scene({window,document:window.document,width:n.size,height:n.size});return o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.root=n.root,o.container=e,n.scene=o,n.tooltipName=i,n}return cWe(t,r),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render().catch(function(e){console.error("".concat("AG Grid - chart update failed"),e)})},fJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fJ([j],t.prototype,"init",null),t}(le),hWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ur=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.stroke="gray",n.axisOvershoot=3,n}return hWe(t,r),t.prototype.addAxes=function(){var e=this.size,i=this.padding,n=new re.Line;n.x1=i,n.y1=i,n.x2=i,n.y2=e-i+this.axisOvershoot,n.stroke=this.stroke;var o=new re.Line;o.x1=i-this.axisOvershoot+1,o.y1=e-i,o.x2=e-i+1,o.y2=e-i,o.stroke=this.stroke;var a=this.root;a.append(n),a.append(o)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"addAxes",null),t}(cv),AG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},mJ=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))};function Hb(r){var t=r.stacked,e=r.size,i=r.padding,n=r.xScalePadding,o=r.xScaleDomain,a=r.yScaleDomain,s=new re.BandScale;s.domain=o,s.range=[i,e-i],s.paddingInner=n,s.paddingOuter=n;var l=new re.LinearScale;l.domain=a,l.range=[e-i,i];var c=function(u,d,h){return u.map(function(p,f){var m=h.convert(p),g=new re.Rect;return g.x=d.convert(f),g.y=m,g.width=d.bandwidth,g.height=h.convert(0)-m,g.strokeWidth=0,g.crisp=!0,g})};return t?r.data.map(function(u){return c(u,s,l)}):c(r.data,s,l)}function OG(r,t,e,i){var n=new re.LinearScale;n.domain=[0,4],n.range=[i,e-i];var o=new re.LinearScale;o.domain=[0,10],o.range=[e-i,i];var a=t.map(function(l){var c=new re.Path;return c.strokeWidth=3,c.lineCap="round",c.fill=void 0,l.forEach(function(u,d){c.path[d>0?"lineTo":"moveTo"](n.convert(d),o.convert(u))}),c}),s=new re.Group;return s.setClipRectInGroupCoordinateSpace(new re.BBox(i,i,e-2*i,e-2*i)),s.append(a),r.append(s),a}function gJ(r,t,e,i,n,o){void 0===o&&(o=0);var a=new re.LinearScale;a.domain=[0,7],a.range=[-Math.PI,Math.PI].map(function(h){return h+Math.PI/2});var s=new re.LinearScale;s.domain=[0,10],s.range=[i,n];var l=[],c=t.map(function(h){var p=new re.Path;return p.strokeWidth=1,p.strokeOpacity=.5,p.lineCap="round",p.fill=void 0,p.fillOpacity=.8,h.forEach(function(f,m){var g=a.convert(m),v=i+n-s.convert(f),y=v*Math.cos(g),_=v*Math.sin(g);if(p.path[m>0?"lineTo":"moveTo"](y,_),o>0){var b=new re.Circle;b.x=y,b.y=_,b.size=o,l.push(b)}}),p.path.closePath(),p}),u=new re.Group,d=e/2;return u.translationX=d,u.translationY=d,u.append(mJ(mJ([],AG(c),!1),AG(l),!1)),r.append(u),{paths:c,markers:l}}function XT(r){var t=AG([1/0,-1/0],2),e=t[0],i=t[1];return{processedData:r.reduce(function(o,a,s){var l,c=s>0?o[s-1]:void 0;null!==(l=o[s])&&void 0!==l||(o[s]=[]);var u=o[s];return a.forEach(function(d,h){c&&(d+=c[h]),u[h]=d,u[h]<e&&(e=u[h]),u[h]>i&&(i=u[h])}),o},[]),min:e,max:i}}var fWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mWe=function(r){function t(e,i,n){var o=r.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var s=o.root;return o.columns=Hb({stacked:!1,root:s,data:o.columnData,size:o.size,padding:o.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(i,n),o}return fWe(t,r),t.prototype.updateColors=function(e,i){this.columns.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.chartType="groupedColumn",t}(Ur),gWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vJ=function(r){function t(e,i,n,o,a,s,l,c){void 0===s&&(s=t.data),void 0===l&&(l=[0,16]),void 0===c&&(c="stackedColumnTooltip");var u=r.call(this,e,c)||this,h=u.root;return u.stackedColumns=Hb({stacked:!0,root:h,data:s,size:u.size,padding:u.padding,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3}),h.append([].concat.apply([],u.stackedColumns)),u.updateColors(i,n),u}return gWe(t,r),t.prototype.updateColors=function(e,i){this.stackedColumns.forEach(function(n,o){return n.forEach(function(a){a.fill=e[o],a.stroke=i[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ur),vWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yWe=function(r){function t(e,i,n,o,a){return r.call(this,e,i,n,o,a,t.data,[0,10],"normalizedColumnTooltip")||this}return vWe(t,r),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(vJ),_We=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CWe=function(r){function t(e,i,n){var o=r.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,c=new re.BandScale;c.domain=[0,1,2],c.range=[a,s-a],c.paddingInner=.3,c.paddingOuter=.3;var u=new re.LinearScale;u.domain=[0,4],u.range=[s-a,a];var d=u.convert(0),h=c.bandwidth;return o.bars=[2,3,4].map(function(p,f){var m=new re.Rect;return m.x=a,m.y=c.convert(f),m.width=d-u.convert(p),m.height=h,m.strokeWidth=0,m.crisp=!0,m}),o.updateColors(i,n),o.root.append(o.bars),o}return _We(t,r),t.prototype.updateColors=function(e,i){this.bars.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.chartType="groupedBar",t}(Ur),bWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yJ=function(r){function t(e,i,n,o,a,s,l,c){void 0===s&&(s=t.data),void 0===l&&(l=[0,16]),void 0===c&&(c="stackedBarTooltip");var u=r.call(this,e,c)||this,d=u.size,h=u.padding,p=new re.BandScale;p.domain=[0,1,2],p.range=[h,d-h],p.paddingInner=.3,p.paddingOuter=.3;var f=new re.LinearScale;f.domain=l,f.range=[d-h,h];var m=f.convert(0),g=p.bandwidth;return u.bars=s.map(function(v){return v.map(function(y,_){var b=new re.Rect;return b.x=h,b.y=p.convert(_),b.width=m-f.convert(y),b.height=g,b.strokeWidth=0,b.crisp=!0,b})}),u.updateColors(i,n),u.root.append([].concat.apply([],u.bars)),u}return bWe(t,r),t.prototype.updateColors=function(e,i){this.bars.forEach(function(n,o){return n.forEach(function(a){a.fill=e[o],a.stroke=i[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ur),wWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SWe=function(r){function t(e,i,n,o,a){return r.call(this,e,i,n,o,a,t.data,[0,10],"normalizedBarTooltip")||this}return wWe(t,r),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(yJ),xWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),us=re.toRadians,MG=function(r){function t(e,i,n,o,a,s,l){void 0===s&&(s=.6),void 0===l&&(l="donutTooltip");var c=r.call(this,e,l)||this,u=(c.size-2*c.padding)/2,d=u+c.padding,h=[[us(-90),us(30)],[us(30),us(120)],[us(120),us(180)],[us(180),us(210)],[us(210),us(240)],[us(240),us(270)]];return c.sectors=h.map(function(p){var f=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(p,2),m=f[0],g=f[1],v=new re.Sector;return v.centerX=d,v.centerY=d,v.innerRadius=u*s,v.outerRadius=u,v.startAngle=m,v.endAngle=g,v.stroke=void 0,v.strokeWidth=0,v.inset=.75,v}),c.updateColors(i,n),c.root.append(c.sectors),c}return xWe(t,r),t.prototype.updateColors=function(e,i){this.sectors.forEach(function(n,o){n.fill=e[o%e.length],n.stroke=i[o%i.length]})},t.chartType="donut",t}(cv),DWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TWe=function(r){function t(e,i,n,o,a){return r.call(this,e,i,n,o,a,0,"pieTooltip")||this}return DWe(t,r),t.chartType="pie",t}(MG),AWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OWe=function(r){function t(e,i,n){var o=r.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=OG(o.root,o.data,o.size,o.padding),o.updateColors(i,n),o}return AWe(t,r),t.prototype.updateColors=function(e,i){this.lines.forEach(function(n,o){n.stroke=e[o]})},t.chartType="line",t}(Ur),MWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PWe=function(r){function t(e,i,n){var o=r.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,c=new re.LinearScale;c.domain=[-.5,4],c.range=[2*s,a-s];var u=new re.LinearScale;u.domain=[-.5,3.5],u.range=[a-s,s];var d=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(p){p.forEach(function(f){var m=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(f,2),g=m[0],v=m[1],y=new re.Arc;y.strokeWidth=0,y.centerX=c.convert(g),y.centerY=u.convert(v),y.radius=2.5,d.push(y)})}),o.points=d,o.updateColors(i,n);var h=new re.Group;return h.setClipRectInGroupCoordinateSpace(new re.BBox(s,s,a-2*s,a-2*s)),h.append(o.points),o.root.append(h),o}return MWe(t,r),t.prototype.updateColors=function(e,i){this.points.forEach(function(n,o){n.stroke=i[o%i.length],n.fill=e[o%e.length]})},t.chartType="scatter",t}(Ur),IWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kWe=function(r){function t(e,i,n){var o=r.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,c=new re.LinearScale;c.domain=[0,1],c.range=[2*s,a-s];var u=new re.LinearScale;u.domain=[0,1],u.range=[a-s,s];var d=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(p){p.forEach(function(f){var m=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(f,3),g=m[0],v=m[1],y=m[2],_=new re.Arc;_.strokeWidth=0,_.centerX=c.convert(g),_.centerY=u.convert(v),_.radius=y,_.fillOpacity=.7,d.push(_)})}),o.points=d,o.updateColors(i,n);var h=new re.Group;return h.setClipRectInGroupCoordinateSpace(new re.BBox(s,s,a-2*s,a-2*s)),h.append(o.points),o.root.append(h),o}return IWe(t,r),t.prototype.updateColors=function(e,i){this.points.forEach(function(n,o){n.stroke=i[o%i.length],n.fill=e[o%e.length]})},t.chartType="bubble",t}(Ur),LWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NWe=function(r){function t(e,i,n,o,a,s){void 0===s&&(s=t.data);var l=r.call(this,e,"groupedAreaTooltip")||this,c=l.size,u=l.padding,d=new re.BandScale;d.domain=[0,1,2],d.paddingInner=1,d.paddingOuter=0,d.range=[u+.5,c-u-.5];var h=new re.LinearScale;h.domain=[0,6],h.range=[c-u+.5,u];var f=2*s.length-1,m=[],g=h.convert(0);return s.forEach(function(v,y){var _=d.convert(y);v.forEach(function(b,w){var E=h.convert(b),M=m[w]||(m[w]=[]);M[y]={x:_,y:E},M[f-y]={x:_,y:g}})}),l.areas=m.reverse().map(function(v){var y=new re.Path;y.strokeWidth=1,y.strokeOpacity=.75,y.fillOpacity=.7;var _=y.path;return _.clear(),v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),_.closePath(),y}),l.updateColors(i,n),l.root.append(l.areas),l}return LWe(t,r),t.prototype.updateColors=function(e,i){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Ur),GWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RG=function(r){function t(e,i,n,o,a,s,l){void 0===s&&(s=t.data),void 0===l&&(l="stackedAreaTooltip");var c=r.call(this,e,l)||this,u=c.size,d=c.padding,h=new re.BandScale;h.domain=[0,1,2],h.paddingInner=1,h.paddingOuter=0,h.range=[d+.5,u-d-.5];var p=new re.LinearScale;p.domain=[0,16],p.range=[u-d+.5,d+.5];var m=2*s.length-1,g=[];return s.forEach(function(v,y){var _=h.convert(y),b=0;v.forEach(function(w,E){var M=p.convert(b+w),P=g[E]||(g[E]=[]);P[y]={x:_,y:M},P[m-y]={x:_,y:p.convert(b)},b+=w})}),c.areas=g.map(function(v){var y=new re.Path;y.strokeWidth=0;var _=y.path;return _.clear(),v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),_.closePath(),y}),c.updateColors(i,n),c.root.append(c.areas),c}return GWe(t,r),t.prototype.updateColors=function(e,i){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Ur),VWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BWe=function(r){function t(e,i,n,o,a,s){return void 0===s&&(s=t.data),r.call(this,e,i,n,o,a,s,"normalizedAreaTooltip")||this}return VWe(t,r),t.chartType="normalizedArea",t.data=RG.data.map(function(e){var i=e.reduce(function(n,o){return n+o},0);return e.map(function(n){return n/i*16})}),t}(RG),HWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_J=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},jWe=function(r){function t(e,i,n){var o=r.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],c=new re.LinearScale;c.domain=[0,l.length],c.range=[a,s-a];var u=new re.LinearScale;u.domain=[0,l.reduce(function(h,p){return Math.max(h,p)},0)],u.range=[s-a,a];var d=u.convert(0);return o.bars=l.map(function(h,p){var f=u.convert(h),m=c.convert(p),g=c.convert(p+1),v=new re.Rect;return v.x=m,v.y=f,v.width=g-m,v.height=d-f,v.strokeWidth=1,v.strokeOpacity=.75,v.crisp=!0,v}),o.updateColors(i,n),o.root.append(o.bars),o}return HWe(t,r),t.prototype.updateColors=function(e,i){var o=_J(e,1)[0],s=_J(i,1)[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(Ur),UWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uv=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.stroke="gray",n.showRadiusAxisLine=!0,n.showAngleAxisLines=!0,n}return UWe(t,r),t.prototype.addAxes=function(){var e=this,i=this.size,n=this.padding,a=(i-2*n)/2,s=this.showAngleAxisLines?[a,.8*a,.6*a,.4*a]:[],l=new re.Line;l.x1=i/2,l.y1=n,l.x2=i/2,l.y2=i-n-a-s[s.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;var c=n+a;this.gridLines=s.map(function(d,h){var p=new re.Path;return p.path.arc(c,c,d,0,2*Math.PI),p.strokeWidth=1,p.stroke=e.stroke,p.strokeOpacity=0===h?.5:.2,p.fill=void 0,p});var u=this.root;u.append(l),this.gridLines.length>0&&u.append(this.gridLines)},function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"addAxes",null),t}(cv),WWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$We=function(r){function t(e,i,n){var o=r.call(this,e,"radialColumnTooltip")||this;o.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],o.showRadiusAxisLine=!1;var c=o.data,u=(o.size-2*o.padding)/2,h=.4*u,p=new re.BandScale;p.domain=c[0].map(function(b,w){return w}),p.range=[0,2*Math.PI],p.paddingInner=0,p.paddingOuter=0;var f=.7*p.bandwidth,m=XT(c),g=m.processedData,v=m.max,y=new re.LinearScale;y.domain=[0,v],y.range=[h,u];var _=o.size/2;return o.series=g.map(function(b,w){var M=0===w?void 0:g[w-1],P=new re.Group({zIndex:1e6}),I=b.map(function(k,N){var B=M?.[N],Y=y.convert(k),ne=y.convert(B??0),me=p.convert(N),W=me+f,$=re.getRadialColumnWidth(me,W,u,.5,.5),Z=new re.RadialColumnShape;return Z.scalingCenterX=_,Z.scalingCenterY=_,Z.columnWidth=$,Z.innerRadius=ne,Z.outerRadius=Y,Z.startAngle=me,Z.endAngle=W,Z.isBeveled=!0,Z.axisInnerRadius=h,Z.axisOuterRadius=u,Z.stroke=void 0,Z.strokeWidth=0,Z});return P.append(I),P.translationX=_,P.translationY=_,P}),o.root.append(o.series),o.updateColors(i,n),o}return WWe(t,r),t.prototype.updateColors=function(e,i){this.series.forEach(function(n,o){var a;null===(a=n.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="radialColumn",t}(uv),KWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YWe=function(r){function t(e,i,n){var o=r.call(this,e,"radialBarTooltip")||this;o.data=[[6,8,10],[4,4,3],[5,4,2]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding)/2,l=.4*a,c=a+l,u=new re.BandScale;u.domain=o.data[0].map(function(_,b){return b}),u.range=[a,l],u.paddingInner=.5,u.paddingOuter=0;var d=u.bandwidth,h=XT(o.data),p=h.processedData,f=h.max,m=new re.LinearScale;m.domain=[0,Math.ceil(1.5*f)];var g=1.5*Math.PI,v=g+2*Math.PI;m.range=[g,v];var y=o.size/2;return o.series=p.map(function(_,b){var w=b<0?void 0:p[b-1],E=new re.Group({zIndex:1e6}),M=_.map(function(P,I){var k,N=null!==(k=w?.[I])&&void 0!==k?k:0,B=c-u.convert(I),Y=B+d,ne=m.convert(N),me=m.convert(P),W=new re.Sector;return W.centerX=y,W.centerY=y,W.innerRadius=B,W.outerRadius=Y,W.startAngle=ne,W.endAngle=me,W.stroke=void 0,W.strokeWidth=0,W});return E.append(M),E}),o.root.append(o.series),o.updateColors(i,n),o}return KWe(t,r),t.prototype.updateColors=function(e,i){this.series.forEach(function(n,o){var a;null===(a=n.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="radialBar",t}(uv),qWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XWe=function(r){function t(e,i,n){var o=r.call(this,e,"radarLineTooltip")||this;o.markerSize=4,o.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],o.showRadiusAxisLine=!1;var l=gJ(o.root,o.data,o.size,(o.size-2*o.padding)/2,0,o.markerSize),u=l.markers;return o.lines=l.paths,o.markers=u,o.updateColors(i,n),o}return qWe(t,r),t.prototype.updateColors=function(e,i){var n=this;this.lines.forEach(function(o,a){var s=n.data[a].length;o.stroke=e[a];var l=a*s;n.markers.slice(l,l+s).forEach(function(d){d.stroke=i[a],d.fill=e[a]})})},t.chartType="radarLine",t}(uv),ZWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QWe=function(r){function t(e,i,n){var o=r.call(this,e,"radarAreaTooltip")||this;o.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]],o.showRadiusAxisLine=!1;var a=(o.size-2*o.padding)/2;return o.areas=gJ(o.root,o.data,o.size,a,a-.3*o.size).paths,o.updateColors(i,n),o}return ZWe(t,r),t.prototype.updateColors=function(e,i){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.chartType="radarArea",t}(uv),JWe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),e4e=function(r){function t(e,i,n){var o=r.call(this,e,"nightingaleTooltip")||this;o.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],o.showRadiusAxisLine=!1;var a=(o.size-2*o.padding)/2,s=new re.BandScale;s.domain=o.data[0].map(function(f,m){return m}),s.range=[-Math.PI,Math.PI],s.paddingInner=0,s.paddingOuter=0;var l=.7*s.bandwidth,c=XT(o.data),u=c.processedData,d=c.max,h=new re.LinearScale;h.domain=[0,d],h.range=[0,a];var p=o.size/2;return o.series=u.map(function(f,m){var g=m<0?void 0:u[m-1],v=new re.Group({zIndex:1e6}),y=f.map(function(_,b){var w=g?.[b],E=h.convert(_),M=h.convert(w??0),P=s.convert(b),I=P+l,k=new re.Sector;return k.centerX=p,k.centerY=p,k.innerRadius=M,k.outerRadius=E,k.startAngle=P,k.endAngle=I,k.stroke=void 0,k.strokeWidth=0,k});return v.append(y),v}),o.root.append(o.series),o.updateColors(i,n),o}return JWe(t,r),t.prototype.updateColors=function(e,i){this.series.forEach(function(n,o){var a;null===(a=n.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="nightingale",t}(uv),t4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),n4e=function(r){function t(e,i,n){var o=r.call(this,e,"rangeBarTooltip")||this;return o.bars=o.createRangeBar(o.root,[3,3.5,3],o.size,o.padding,"vertical"),o.updateColors(i,n),o}return t4e(t,r),t.prototype.updateColors=function(e,i){this.bars.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]})},t.prototype.createRangeBar=function(e,i,n,o,a){var s="horizontal"===a,l=2*o,c=new re.BandScale;c.domain=i.map(function(m,g){return g}),c.range=[o,n-o],c.paddingInner=.3,c.paddingOuter=.3;var h=new re.LinearScale;h.domain=[.7*i.reduce(function(m,g){return Math.min(m,g)},1/0),1.3*i.reduce(function(m,g){return Math.max(m,g)},0)],h.range=[l,n-l];var p=c.bandwidth,f=i.map(function(m,g){var v=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([.7*m,1.3*m],2),y=v[0],_=v[1],b=c.convert(g),w=h.convert(y),E=h.convert(_)-w,M=new re.Rect;return M.x=s?w:b,M.y=s?b:w,M.width=s?E:p,M.height=s?p:E,M.strokeWidth=0,M.crisp=!0,M});return e.append(f),f},t.chartType="rangeBar",t}(Ur),r4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jb=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},CJ=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},o4e=function(r){function t(e,i,n){var o=r.call(this,e,"rangeAreaTooltip")||this,c=[PG({offset:1.5,length:4,pattern:{low:3,high:5,period:4}}),PG({offset:1.5,length:4,pattern:{low:2.25,high:4.25,period:4}}),PG({offset:3,length:4,pattern:{low:2.5,high:4.5,period:4}})].map(function(p){return p.map(function(f){var m=jb(f,2),v=m[1];return{x:m[0],low:v-.875,high:v+.875}})}),u=o.createRangeArea(o.root,c,o.size,o.padding),h=u.areas;return o.lines=u.lines,o.areas=h,o.updateColors(i,n),o}return r4e(t,r),t.prototype.updateColors=function(e,i){e=wJ(e,1,2),i=wJ(i,1,2),this.lines.forEach(function(n,o){var a=jb(n,2),s=a[0],l=a[1];s.fill=void 0,s.stroke=i[o],l.fill=void 0,l.stroke=i[o]}),this.areas.forEach(function(n,o){n.fill=e[o]})},t.prototype.createRangeArea=function(e,i,n,o){var a=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.min(y,_.x)},g)},1/0),s=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.max(y,_.x)},g)},-1/0),l=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.min(y,_.low)},g)},1/0),c=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.max(y,_.high)},g)},-1/0),u=new re.LinearScale;u.domain=[a,s],u.range=[o,n-o];var d=2*o,h=new re.LinearScale;h.domain=[l,c],h.range=[n-d,d];var p=[],f=[];return i.map(function(g){var v=new re.Path,y=new re.Path,_=new re.Path;return p.push([v,y]),f.push(_),v.strokeWidth=0,y.strokeWidth=0,_.strokeWidth=0,_.fillOpacity=.8,v.path.clear(),y.path.clear(),_.path.clear(),g.map(function(b,w){var M=b.low,P=b.high,I=u.convert(b.x),k=h.convert(M),N=h.convert(P),B=w>0?"lineTo":"moveTo";return v.path[B](I,N),y.path[B](I,k),_.path[B](I,N),[I,k]})}).forEach(function(g,v){for(var _=f[v],b=g.length-1;b>=0;b--){var w=jb(g[b],2);_.path.lineTo(w[0],w[1])}}),e.append(f.concat.apply(f,CJ([],jb(p),!1))),{lines:p,areas:f}},t.chartType="rangeArea",t}(Ur);function PG(r){var t=r.offset,e=r.length,i=r.pattern,n=function s(u,d,h){var p=h.period,f=u/p,g=[0,.5].map(function(y){return y-f}).map(bJ).sort(function(y,_){return y-_});return Array.from({length:Math.floor(g.length*(p/d))},function(y,_){return g[_%g.length]+Math.floor(_/g.length)}).map(function(y){return y*p}).map(function(y){return l(y,u,h)})}(t,e,i),a=e;return(0===n.length||0!==n[0][0])&&n.unshift(l(0,t,i)),n[n.length-1][0]!==a&&n.push(l(a,t,i)),n;function l(u,d,h){return[u,c(d+u,h)]}function c(u,d){var h=d.low,p=d.high,m=bJ(u/d.period);return h+(p-h)*(m>.5?1-2*(m-.5):2*m)}}function bJ(r){var t=r%1;return t<0?t+1:t}function wJ(r,t,e){var i=CJ([],jb(r),!1),n=i[t];return i[t]=i[e],i[e]=n,i}var a4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),l4e=function(r){function t(e,i,n,o,a){var s=r.call(this,e,"boxPlotTooltip")||this,l=s.padding,c=s.size,u=[11,11.5,10.5],m=new re.LinearScale;m.domain=[.8*u.reduce(function(_,b){return Math.min(_,b)},1/0),1.2*u.reduce(function(_,b){return Math.max(_,b)},0)],m.range=[c-1.5*l,l];var g=new re.BandScale;g.domain=u.map(function(_,b){return b}),g.range=[l,c-l],g.paddingInner=.4,g.paddingOuter=.2;var v=Math.round(g.bandwidth),y=Math.round(g.bandwidth/2);return s.boxPlotGroups=u.map(function(_,b){var w=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([.8*_,.9*_,1.1*_,1.2*_],4),E=w[0],M=w[1],I=w[3],k=Math.round(m.convert(w[2])),N=Math.round(g.convert(b)),B=Math.round(N+v),Y=Math.round(m.convert(M)),ne=Math.round(m.convert(E)),me=Math.round(m.convert(_)),W=Math.round(m.convert(I)),$=N+y,Z=new re.Group,ce=new re.Rect,De=new re.Line,ke=new re.Line,Oe=new re.Line,nt=new re.Line,qe=new re.Line;return ce.x=N,ce.y=k,ce.width=v,ce.height=Y-k,ce.strokeWidth=1,ce.strokeOpacity=.75,ce.crisp=!0,s.setLineProperties(De,N,B,me,me),s.setLineProperties(ke,$,$,W,k),s.setLineProperties(Oe,$,$,ne,Y),s.setLineProperties(nt,N,B,W,W),s.setLineProperties(qe,N,B,ne,ne),Z.append([ce,De,ke,Oe,nt,qe]),Z}),s.updateColors(i,n,o,a),s.root.append(s.boxPlotGroups),s}return a4e(t,r),t.prototype.updateColors=function(e,i,n,o){var a,s=n?.properties.get(nl.DEFAULT_BACKGROUND_COLOUR),l=null!==(a=Array.isArray(s)?s[0]:s)&&void 0!==a?a:"white";this.boxPlotGroups.forEach(function(c,u){var d;null===(d=c.children)||void 0===d||d.forEach(function(h){var p=e[u%e.length];h.fill=o?p:Xi.Color.interpolate(p,l)(.7),h.stroke=i[u%i.length]})})},t.prototype.setLineProperties=function(e,i,n,o,a){e.x1=i,e.x2=n,e.y1=o,e.y2=a,e.strokeOpacity=.75},t.chartType="boxPlot",t}(Ur),c4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h4e=function(r){function t(e,i,n,o,a){var s=r.call(this,e,"treemapTooltip")||this,c=s.size,u=s.padding,d=[[1,1],[3,2,1]],p=d.length%2==0?.3:.2,f=[u,c-u],m=d.length,g=m*(m+1)/2,v=p/(m-1),y=f[1]-f[0],_=y-p,b=f[0];s.rects=d.reduce(function(E,M,P){E??(E=[]);var k=_*((m-P)/g),N=M.length,B=M.reduce(function($,Z){return $+Z},0),Y=p/(N-1||1),ne=N>1?y-p:y,me=f[0],W=M.map(function($){var Z=new re.Rect,ce=ne*$/B;return Z.x=b,Z.y=me,Z.width=k,Z.height=ce,Z.strokeWidth=.75,Z.crisp=!0,me+=ce+Y,Z});return b+=k+v,E.push.apply(E,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(W),!1)),E},[]),s.updateColors(i,n,o,a);var w=new re.Group;return w.setClipRectInGroupCoordinateSpace(new re.BBox(u,u,c-u,c-u)),w.append(s.rects),s.root.append(w),s}return c4e(t,r),t.prototype.updateColors=function(e,i,n,o){var a,s=(n??{}).properties,l=s?.get(nl.DEFAULT_BACKGROUND_COLOUR),c=null!==(a=Array.isArray(l)?l[0]:l)&&void 0!==a?a:"white";this.rects.forEach(function(u,d){u.fill=e[d%i.length],u.stroke=o?i[d%i.length]:c})},t.chartType="treemap",t}(cv),p4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),f4e=function(r){function t(e,i,n){var o=r.call(this,e,"sunburstTooltip")||this;o.data=[[[],[]],[[],[]],[[],[]]],o.angleOffset=-Math.PI/2,o.innerRadiusRatio=0,o.showRadiusAxisLine=!1,o.showAngleAxisLines=!1;var s=o.data,u=o.angleOffset,d=o.innerRadiusRatio,h=(o.size-2*o.padding)/2,p=[u+0,u+2*Math.PI],f=Math.abs(p[1]-p[0]),m=[h*d,h],g=Math.abs(m[1]-m[0]),v=0,y=function(M,P){M.forEach(function(I){var k=P+1;v=Math.max(v,k),y(I,k)})};y(s,0);var _=g/v,b=o.size/2,w=p[0];o.series=[];var E=function(M,P,I,k,N){if(Array.isArray(M)){var Y=P+1,ne=I;M.forEach(function(me,W,$){var Z=N;Z||(Z=new re.Group,o.series.push(Z));var ce=m[0]+P*_,De=m[0]+Y*_,Oe=ne,nt=Oe+k*(1/$.length),qe=new re.Sector;qe.centerX=b,qe.centerY=b,qe.innerRadius=ce,qe.outerRadius=De,qe.startAngle=Oe,qe.endAngle=nt,qe.stroke=void 0,qe.strokeWidth=0,qe.inset=.75,ne=nt,Z.append(qe),E(me,Y,Oe,Math.abs(nt-Oe),Z)})}};return E(s,0,w,f),o.root.append(o.series),o.updateColors(i,n),o}return p4e(t,r),t.prototype.updateColors=function(e,i){this.series.forEach(function(n,o){var a;null===(a=n.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="sunburst",t}(uv),m4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),y4e=function(r){function t(e,i,n,o,a){var l,c,s=this,d=(s=r.call(this,e,"heatmapTooltip")||this).size,h=s.padding,f=Array.from({length:3},function(w,E){return Array.from({length:3},function(M,P){return P})}),m=f.map(function(w,E){return E}),g=new re.BandScale;g.domain=m,g.range=[h,d-h],g.paddingInner=.01,g.paddingOuter=.1;var v=new re.BandScale;v.domain=m,v.range=[h,d-h],v.paddingInner=.01,v.paddingOuter=.1;var y=null!==(l=g.bandwidth)&&void 0!==l?l:0,_=null!==(c=v.bandwidth)&&void 0!==c?c:0;s.rects=f.reduce(function(w,E,M){w??(w=[]);var P=E.map(function(I,k){var N=new re.Rect;return N.x=g.convert(M),N.y=v.convert(k),N.width=y,N.height=_,N.strokeWidth=0,N.crisp=!0,N});return w.push.apply(w,function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(P),!1)),w},[]),s.updateColors(i,n,o,a);var b=new re.Group;return b.setClipRectInGroupCoordinateSpace(new re.BBox(h,h,d-h,d-h)),b.append(s.rects),s.root.append(b),s}return m4e(t,r),t.prototype.updateColors=function(e,i,n,o){var a,s=(n??{}).properties,l=s?.get(nl.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),c=s?.get(nl.DEFAULT_BACKGROUND_COLOUR),u=null!==(a=Array.isArray(c)?c[0]:c)&&void 0!==a?a:"white",d=o?[e[0],e[1]]:l,h=o?i[0]:u;this.rects.forEach(function(p,f){p.fill=Xi.Color.interpolate(d[0],d[1])(.2*f),p.stroke=h})},t.chartType="heatmap",t}(cv),_4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w4e=function(r){function t(e,i,n,o,a){var s=r.call(this,e,"waterfallTooltip")||this;return s.data=[4,3,-3,6,-3],s.bars=s.createWaterfall(s.root,s.data,s.size,s.padding,"vertical").bars,s.updateColors(i,n,o,a),s}return _4e(t,r),t.prototype.updateColors=function(e,i,n,o){var a,s,l=this.data,c=(n??{}).properties,u={fill:e[0],stroke:i[0]},d={fill:e[1],stroke:i[1]},h=o?u:null!==(a=c?.get(nl.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS))&&void 0!==a?a:u,p=o?d:null!==(s=c?.get(nl.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS))&&void 0!==s?s:d;this.bars.forEach(function(f,m){var g=l[m]>=0;f.fill=g?h.fill:p.fill,f.stroke=g?h.stroke:p.stroke})},t.prototype.createWaterfall=function(e,i,n,o,a){var s=2*o,l=XT(i.map(function(w){return[w]})),u=l.min,d=l.max,h=l.processedData.reduce(function(w,E){return w.concat(E)},[]),p=new re.LinearScale;p.domain=[Math.min(u,0),d],p.range=[n-s,s];var f=new re.BandScale;f.domain=i.map(function(w,E){return E}),f.range=[o,n-o],f.paddingInner=.2,f.paddingOuter=.3;var m=f.bandwidth,g=new re.Path;g.stroke="#575757",g.strokeWidth=0;var v=Math.floor(g.strokeWidth)%2/2,y=g.path;y.clear();var _="horizontal"===a,b=h.map(function(w,E){var M=E>0?h[E-1]:0,I=i[E]>0,k=Math.round(p.convert(w)),N=Math.round(p.convert(M)),B=(I?k:N)-v,ne=Math.abs((I?N:k)+v-B),me=f.convert(E),W=new re.Rect;W.x=_?B:me,W.y=_?me:B,W.width=_?ne:m,W.height=_?m:ne,W.strokeWidth=0,W.crisp=!0;var $=k+v,Z=N+v;return E>0&&y.lineTo(_?Z:W.x,_?W.y:Z),y.moveTo(_?$:W.x,_?W.y:$),W});return e.append(function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([g],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(b),!1)),{bars:b}},t.chartType="waterfall",t}(Ur),S4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),x4e=function(r){function t(e,i,n){var o=r.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var s=o.root,c=o.lineData,u=o.size,d=o.padding;return o.columns=Hb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=OG(s,c,u,d),o.updateColors(i,n),o}return S4e(t,r),t.prototype.updateColors=function(e,i){this.columns.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]}),this.lines.forEach(function(n,o){n.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(Ur),E4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),D4e=function(r){function t(e,i,n){var o=r.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var s=o.root,c=o.areaData,u=o.size,d=o.padding;o.columns=Hb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var h=new re.BandScale;h.range=[d,u-d],h.domain=[0,1,2,3,4],h.paddingInner=1,h.paddingOuter=0;var p=new re.LinearScale;p.range=[u-d,d],p.domain=[0,6];var f=[],m=p.convert(0),g=h.convert(0);return c.forEach(function(v,y){var _=f[y]||(f[y]=[]);v.forEach(function(w,E){var M=w,I=h.convert(E),k=p.convert(M);_[E]={x:I,y:k}});var b=h.convert(v.length-1);f[y].push({x:b,y:m},{x:g,y:m})}),o.areas=f.map(function(v){var y=new re.Path;y.strokeWidth=0,y.fillOpacity=.8;var _=y.path;return v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),y}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(i,n),o}return E4e(t,r),t.prototype.updateColors=function(e,i){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]}),this.columns.forEach(function(n,o){n.fill=e[o+1],n.stroke=i[o+1]})},t.chartType="areaColumnCombo",t}(Ur),T4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),A4e=function(r){function t(e,i,n){var o=r.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var s=o.root,c=o.lineData,u=o.size,d=o.padding;o.columns=Hb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=OG(s,c,u,d);var h="grey",f=new re.Line;f.x1=d,f.y1=d,f.x2=d,f.y2=u-d+3,f.stroke=h;var m=new re.Line;m.x1=d-3+1,m.y1=u-d,m.x2=u-d+1,m.y2=u-d,m.stroke=h;var g=new re.Path;return o.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,s.append([m,f,g]),o.updateColors(i,n),o}return T4e(t,r),t.prototype.updateColors=function(e,i){this.columns.forEach(function(n,o){n.fill=e[o],n.stroke=i[o]}),this.lines.forEach(function(n,o){n.stroke=e[o+2]})},t.prototype.buildPenIconPath=function(e){var i=e.path;i.moveTo(25.76,43.46),i.lineTo(31.27,48.53),i.moveTo(49.86,22),i.lineTo(49.86,22),i.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),i.lineTo(46.86,21.41),i.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),i.lineTo(25.51,43.8),i.lineTo(25.43,43.89),i.lineTo(23.01,51.89),i.lineTo(22.83,52.46),i.lineTo(31.02,48.86),i.lineTo(49.02,28.52),i.lineTo(49.02,28.52),i.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),i.lineTo(50.75,24.93),i.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),i.closePath(),i.moveTo(41.76,25.5),i.lineTo(47.34,30.5),i.moveTo(40.74,26.65),i.lineTo(46.25,31.71)},t.chartType="customCombo",t}(cv),O4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IG=function(){return IG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},IG.apply(this,arguments)},SJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},xJ=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EJ={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:mWe},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:vJ},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:yWe}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:CWe},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:yJ},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:SWe}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:TWe},donut:{range:!0,pivot:!0,enterprise:!1,icon:MG},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:MG}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:OWe}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:PWe},bubble:{range:!0,pivot:!0,enterprise:!1,icon:kWe}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:NWe},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:RG},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:BWe}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:XWe},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:QWe},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:e4e},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:$We},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:YWe}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:l4e},histogram:{range:!0,pivot:!1,enterprise:!1,icon:jWe},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:n4e},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:o4e}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:h4e},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:f4e}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:y4e},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:w4e}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:x4e},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:D4e},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:A4e}}},M4e=function(r){function t(e,i,n,o,a,s){void 0===s&&(s=Gke);var l=r.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartController=e,l.fills=i,l.strokes=n,l.themeTemplateParameters=o,l.isCustomTheme=a,l.chartGroups=IG({},s),l}return O4e(t,r),t.prototype.init=function(){var e,i,n,o,a=this,s=this.getGui(),l=this.chartController.isEnterprise(),c=this.chartController.isPivotChart(),u=!c,d=Object.keys(this.chartGroups).map(function(M){var P,I=M in EJ?EJ[M]:void 0;if(!I)return D.warnOnce("invalid chartGroupsDef config '".concat(M,"'")),null;var N=(null!==(P=a.chartGroups[M])&&void 0!==P?P:[]).map(function(B){var Y=B in I?I[B]:void 0;return Y?!l&&Y.enterprise?null:u&&Y.range||c&&Y.pivot?Y:null:(D.warnOnce("invalid chartGroupsDef config '".concat(M,".").concat(B,"'")),null)}).filter(function(B){return null!=B});return 0===N.length?null:{label:a.chartTranslationService.translate(M),items:N}}).filter(function(M){return null!=M});try{for(var h=xJ(d),p=h.next();!p.done;p=h.next()){var f=p.value,g=f.items,v=this.createBean(new Vs({title:f.label,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"})),y=function(M){var P=M.icon,I=document.createElement("div");I.classList.add("ag-chart-mini-thumbnail");var k=P.chartType;_.addManagedListener(I,"click",function(){a.chartController.setChartType(k),a.updateSelectedMiniChart()}),_.wrappers[k]=I,_.createBean(new P(I,_.fills,_.strokes,_.themeTemplateParameters,_.isCustomTheme)),v.addItem(I)},_=this;try{for(var b=(n=void 0,xJ(g)),w=b.next();!w.done;w=b.next())y(w.value)}catch(M){n={error:M}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}s.appendChild(v.getGui())}}catch(M){e={error:M}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(M){return"customCombo"!==M})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var i in this.wrappers)this.wrappers[i].classList.toggle("ag-selected",i===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',SJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),SJ([j],t.prototype,"init",null),t}(le),R4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},P4e=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.miniChartsContainers=[],i.cardItems=[],i.activePaletteIndex=0,i.palettes=[],i.themes=[],i.chartController=e,i}return R4e(t,r),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,ol.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.addManagedListener(this.chartController,ol.EVENT_CHART_API_UPDATE,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var o=e.miniChartsContainers.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");if(o){var a=o.offsetParent;a&&e.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var n,o,i=this,a=this.chartController.getPalettes(),s=this.chartController.getThemeTemplateParameters(),l=null===(o=null===(n=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;if(!(D.shallowCompare(a,this.palettes)&&!e||this.isAnimating)){this.palettes=a,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(function(u){return u===i.chartController.getChartThemeName()}),this.cardItems=[],D.clearElement(this.eCardSelector),this.destroyMiniCharts();var c=this.themes;this.palettes.forEach(function(u,d){var h=i.activePaletteIndex===d,p=u.fills,f=u.strokes,g=!CG(c[d]),v=i.createBean(new M4e(i.chartController,p,f,s[d],g,l));i.miniChartsContainers.push(v),i.eMiniChartsContainer.appendChild(v.getGui()),i.addCardLink(d),h?v.updateSelectedMiniChart():v.setDisplayed(!1)}),D.setDisplayed(this.eNavBar,this.palettes.length>1),D.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var i=this,n=document.createElement("div");n.classList.add("ag-chart-settings-card-item"),this.addManagedListener(n,"click",function(){i.setActivePalette(e,e<i.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(n),this.cardItems.push(n)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,i){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==e){D.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),s=this.miniChartsContainers[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var c="left"===i?-1:1,u=l.style.left="".concat(D.getAbsoluteWidth(this.getGui())*c,"px");this.activePaletteIndex=e,this.isAnimating=!0;var d="ag-animating";s.setDisplayed(!0),o.addCssClass(d),s.addCssClass(d),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left="".concat(-parseFloat(u),"px"),l.style.left="0px"},0),window.setTimeout(function(){n.isAnimating=!1,o.removeCssClass(d),s.removeCssClass(d),o.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){D.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',lf([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lf([G("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),lf([G("eNavBar")],t.prototype,"eNavBar",void 0),lf([G("eCardSelector")],t.prototype,"eCardSelector",void 0),lf([G("ePrevBtn")],t.prototype,"ePrevBtn",void 0),lf([G("eNextBtn")],t.prototype,"eNextBtn",void 0),lf([j],t.prototype,"postConstruct",null),t}(le),I4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},F4e=function(r){function t(e){var i=r.call(this)||this;i.tabs=[];var o=e.panels,a=e.chartOptionsService;return i.chartController=e.controller,i.chartOptionsService=a,i.panels=o,i}return I4e(t,r),t.prototype.init=function(){var e=this;this.panels.forEach(function(i){var n=i.replace("chart","").toLowerCase(),o=e.createTab(i,n,e.getPanelClass(n)),a=o.comp;e.tabs.push(o.tab),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new $Y({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,i,n){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-".concat(i));var a=new n(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(i);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:vt.resolve(o),getScrollableContainer:function(){return o.querySelector(".ag-scrollable-container")||o},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),r.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return hze;case t.TAB_FORMAT:return lWe;default:return P4e}},t.TAB_DATA="data",t.TAB_FORMAT="format",DJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),DJ([j],t.prototype,"init",null),t}(le),k4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ub=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},TJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},AJ=function(r){function t(e,i,n,o){var a=r.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=i,a.chartController=n,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu(a.defaultPanel)}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.panels=[],a.buttonListenersDestroyFuncs=[],a.menuVisible=!1,a}return k4e(t,r),t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,x.EVENT_CHART_CREATED,function(i){var n;i.chartId===e.chartController.getChartId()&&null!==(n=e.gridOptionsService.get("chartToolPanelsDef"))&&void 0!==n&&n.defaultToolPanel&&e.showMenu(e.defaultPanel,!1)}),this.refreshMenuClasses(),!this.gridOptionsService.get("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this))),this.addManagedListener(this.chartController,ol.EVENT_CHART_API_UPDATE,this.createButtons.bind(this))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,o=[];return["chartLink","chartUnlink","chartDownload"].some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push("top"),["chartSettings","chartData","chartFormat"].some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push(this.gridOptionsService.get("enableRtl")?"left":"right"),o},t.prototype.getToolbarOptions=function(){var i,n,o,e=this;if(this.gridOptionsService.get("chartToolPanelsDef")){var s=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],c={defaultItems:s},u=(l=this.gridOptionsService.getCallback("getChartToolbarItems"))?l(c).filter(function(g){if(!R7.includes(g)){var v=wL.includes(g)?"AG Grid: '".concat(g,"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead"):"AG Grid: '".concat(g,"' is not a valid Chart Toolbar Option");return console.warn(v),!1}return!0}):s,d=null===(n=null===(i=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===i?void 0:i.panels)||void 0===n?void 0:n.map(function(g){var v=QE[g];return v||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '".concat(g,"'")),v}).filter(function(g){return!!g});this.panels=d||Object.values(QE),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(g){return"chartData"!==g}));var h=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.defaultToolPanel;return this.defaultPanel=h&&QE[h]||this.panels[0],this.panels.length>0?function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([this.panels[0]],TJ(u),!1):u}var l,p=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(l=this.gridOptionsService.getCallback("getChartToolbarItems")){var f=this.gridOptionsService.get("suppressChartToolPanelsButton");p=l(c={defaultItems:f?p:R7}).filter(function(y){if(!e.buttons[y])return console.warn("AG Grid: '".concat(y,"' is not a valid Chart Toolbar Option")),!1;if(!f&&wL.includes(y)){var _="AG Grid: '".concat(y,"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead");return console.warn(_),!1}return!0}),f||(p=p.concat(wL))}this.chartController.isPivotChart()&&(p=p.filter(function(v){return"chartData"!==v}));var m=["chartUnlink","chartLink","chartDownload"];return this.panels=p.filter(function(v){return-1===m.indexOf(v)}),this.defaultPanel=this.panels[0],p.filter(function(v){return-1!==m.indexOf(v)||e.panels.length&&v===e.panels[0]})},t.prototype.toggleDetached=function(e){var i=e.target,n=i.classList.contains("ag-icon-linked");i.classList.toggle("ag-icon-linked",!n),i.classList.toggle("ag-icon-unlinked",n);var a=this.chartTranslationService.translate(n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");a&&(i.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.buttonListenersDestroyFuncs.forEach(function(n){return n()}),this.buttonListenersDestroyFuncs=[],this.chartToolbarOptions=this.getToolbarOptions();var i=this.eMenu;D.clearElement(i),this.chartToolbarOptions.forEach(function(n){var a=TJ(e.buttons[n],2),l=a[1],c=D.createIconNoSpan(a[0],e.gridOptionsService,void 0,!0);c.classList.add("ag-chart-menu-icon");var u=e.chartTranslationService.translate(n+"ToolbarTooltip");u&&c instanceof HTMLElement&&(c.title=u),e.buttonListenersDestroyFuncs.push(e.addManagedListener(c,"click",l)),i.appendChild(c)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var i=this,n=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new t7({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new F4e({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,le.EVENT_DESTROYED,function(){return i.destroyBean(i.tabbedMenu)}),new vt(function(a){window.setTimeout(function(){o.setBodyComponent(i.tabbedMenu),i.tabbedMenu.showTab(e),a(o),i.addManagedListener(i.eChartContainer,"click",function(s){i.getGui().contains(s.target)||i.menuVisible&&i.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,i){var n=this;if(void 0===i&&(i=!0),i||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var a=this.panels.indexOf(e||this.defaultPanel);a<0&&(console.warn("AG Grid: '".concat(e,"' is not a valid Chart Tool Panel name")),a=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(a),this.showContainer()):this.createMenuPanel(a).then(this.showContainer.bind(this))}i||setTimeout(function(){n.isAlive()&&n.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.get("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth="".concat(e,"px")},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-button ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',Ub([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ub([G("eMenu")],t.prototype,"eMenu",void 0),Ub([G("eHideButton")],t.prototype,"eHideButton",void 0),Ub([G("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),Ub([j],t.prototype,"postConstruct",null),t}(le),N4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ZT=function(){return ZT=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},ZT.apply(this,arguments)},OJ=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},V4e=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.chartMenu=e,i.destroyableChartListeners=[],i.editing=!1,i}return N4e(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keydown",function(i){e.editing&&"Enter"===i.key&&!i.shiftKey&&(e.handleEndEditing(),i.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,i){var n,o,a=this;this.chartController=e,this.chartOptionsService=i;try{for(var s=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.destroyableChartListeners),l=s.next();!l.done;l=s.next())(0,l.value)()}catch(g){n={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}this.destroyableChartListeners=[];var d=this.chartController.getChartProxy().getChart(),h=d.scene.canvas.element,p=this.addManagedListener(h,"dblclick",function(g){var v=d.title;if(v&&v.node.containsPoint(g.offsetX,g.offsetY)){var y=v.node.computeBBox(),_=v.node.inverseTransformPoint(y.x,y.y);a.startEditing(ZT(ZT({},y),_),h.width)}}),f=!1,m=this.addManagedListener(h,"mousemove",function(g){var v=d.title,y=!!(v&&v.enabled&&v.node.containsPoint(g.offsetX,g.offsetY));f!==y&&(h.style.cursor=y?"pointer":""),f=y});this.destroyableChartListeners=[p,m]},t.prototype.startEditing=function(e,i){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var o=Math.max(Math.min(e.width+20,i),300),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),c=l===this.chartTranslationService.translate("titlePlaceholder");a.value=c?"":l;var u=l.split(/\r?\n/g).length;s.left=Math.round(e.x+e.width/2-o/2-1)+"px",s.top=Math.round(e.y+e.height/2-u*this.getLineHeight()/2-2)+"px",s.width=Math.round(o)+"px",s.lineHeight=this.getLineHeight()+"px",this.updateHeight(),a.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),i=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,n=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(i,n)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},t.prototype.handleEndEditing=function(){var e=this,i=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",i)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var i=this.getGui().value;i&&""!==i.trim()?(this.chartOptionsService.setChartOption("title.text",i),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',OJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),OJ([j],t.prototype,"init",null),t}(le),B4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},H4e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return B4e(t,r),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&e.pivoting&&this.updatePivotKeysForSSRM();var n=this.extractRowsFromGridRowModel(e);return n.chartData=this.aggregateRowsByDimension(e,n.chartData),n},t.prototype.extractRowsFromGridRowModel=function(e){var u,i=this,n=[],o={},a={},s={},l={},c=[];if(e.crossFiltering)l=this.getFilteredRowNodes(),u=(c=this.getAllRowNodes()).length;else{var d=this.gridRowModel.getRowCount()-1;u=(e.endRow>=0?Math.min(e.endRow,d):d)-e.startRow+1}for(var p=function(y){var _={},b=e.crossFiltering?c[y]:f.gridRowModel.getRow(y+e.startRow);e.dimensionCols.forEach(function(w){var E=w.colId,M=i.columnModel.getGridColumn(E);if(M){var P=i.valueService.getValue(M,b);if(e.grouping){var I=P&&P.toString?String(P.toString()):"",k=t.getGroupLabels(b,I);_[E]={labels:k,toString:function(){return this.labels.filter(function(B){return!!B}).reverse().join(" - ")}},b.group&&(a[k.toString()]=y);var N=k.slice(1,k.length).toString();N&&(s[N]=a[N])}else _[E]=P}else _[zb.DEFAULT_CATEGORY]=y+1}),e.valueCols.forEach(function(w){var E=[],M=w.getColDef().pivotKeys;M&&(E=M.slice());var P=w.getColDef().headerName;P&&E.push(P),E.length>0&&(o[w.getId()]=E);var I=w.getColId();if(e.crossFiltering){var k=I+"-filtered-out",B=null!=(N=i.valueService.getValue(w,b))&&"function"==typeof N.toNumber?N.toNumber():N;l[b.id]?(_[I]=B,_[k]=e.aggFunc||e.isScatter?void 0:0):(_[I]=e.aggFunc||e.isScatter?void 0:0,_[k]=B)}else{var N;(N=i.valueService.getValue(w,b))&&N.hasOwnProperty("toString")&&(N=parseFloat(N.toString())),_[I]=null!=N&&"function"==typeof N.toNumber?N.toNumber():N}}),b.footer&&(_.footer=!0),n.push(_)},f=this,m=0;m<u;m++)p(m);if(e.grouping){var g=D.values(s);n=n.filter(function(y,_){return!y.footer&&!D.includes(g,_)})}return{chartData:n,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,i){var n=this,o=e.dimensionCols;if(!e.aggFunc||0===o.length)return i;var a=D.last(o),s=a&&a.colId,l={},c=[];return i.forEach(function(u){var d=l;o.forEach(function(h){var p=h.colId,f=u[p];if(p===s){var m=d[f];m||(m={__children:[]},o.forEach(function(g){var v=g.colId;m[v]=u[v]}),d[f]=m,c.push(m)),m.__children.push(u)}else d[f]||(d[f]={}),d=d[f]})}),Ze.__assertRegistered(ie.RowGroupingModule,"Charting Aggregation",this.context.getGridId())&&c.forEach(function(u){return e.valueCols.forEach(function(d){if(e.crossFiltering)e.valueCols.forEach(function(f){var m=f.getColId(),g=u.__children.filter(function(w){return typeof w[m]<"u"}).map(function(w){return w[m]}),v=n.aggregationStage.aggregateValues(g,e.aggFunc);u[f.getId()]=v&&typeof v.value<"u"?v.value:v;var y="".concat(m,"-filtered-out"),_=u.__children.filter(function(w){return typeof w[y]<"u"}).map(function(w){return w[y]}),b=n.aggregationStage.aggregateValues(_,e.aggFunc);u[y]=b&&typeof b.value<"u"?b.value:b});else{var h=u.__children.map(function(f){return f[d.getId()]}),p=0;Ze.__assertRegistered(ie.RowGroupingModule,"Charting Aggregation",n.context.getGridId())&&(p=n.aggregationStage.aggregateValues(h,e.aggFunc)),u[d.getId()]=p&&typeof p.value<"u"?p.value:p}})}),c},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var i=this.extractPivotKeySeparator(e);e.forEach(function(n){if(""===i)n.getColDef().pivotKeys=[];else{var o=n.getColId().split(i);n.getColDef().pivotKeys=o.slice(0,o.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var i=function(o,a){var s=o.getGroupId();return o.getParent()?i(o.getParent(),s):a.split(s)[1][0]},n=e[0];return null==n.getParent()?"":i(n.getParent(),n.getColId())},t.getGroupLabels=function(e,i){for(var n=[i];e&&0!==e.level;)(e=e.parent)&&n.push(e.key);return n},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(i){e[i.id]=i}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(i){e.push(i)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var i=this.sortController.getSortOptions();return i&&0!=i.length?this.rowNodeSorter.doFullSort(e,i):e},dv([C("rowModel")],t.prototype,"gridRowModel",void 0),dv([C("valueService")],t.prototype,"valueService",void 0),dv([C("columnModel")],t.prototype,"columnModel",void 0),dv([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),dv([C("sortController")],t.prototype,"sortController",void 0),dv([gt("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(z),j4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QT=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},U4e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return j4e(t,r),t.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.getGroupDisplayColumns=function(){return this.columnModel.getGroupDisplayColumns()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.getChartColumns=function(){var e=this,i=this.columnModel.getAllDisplayedColumns(),n=new Set,o=new Set;return i.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":return void n.add(a);case"series":return void o.add(a);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '".concat(l,"' supplied, instead use 'category', 'series' or 'excluded'"))}"ag-Grid-AutoColumn"!==s.colId?a.isPrimary()?(e.isNumberCol(a)?o:n).add(a):o.add(a):n.add(a)}),{dimensionCols:n,valueCols:o}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var i=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!i)return!1;var n=this.valueService.getValue(e,i);return null==n&&(n=this.extractLeafData(i,e)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},t.prototype.extractLeafData=function(e,i){if(!e.allLeafChildren)return null;for(var n=0;n<e.allLeafChildren.length;n++){var a=this.valueService.getValue(i,e.allLeafChildren[n]);if(null!=a)return a}return null},QT([C("columnModel")],t.prototype,"columnModel",void 0),QT([C("valueService")],t.prototype,"valueService",void 0),QT([C("rowRenderer")],t.prototype,"rowRenderer",void 0),QT([oe("chartColumnService")],t)}(z),z4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$4e=function(r){function t(e){var n,i=this;return(i=r.call(this)||this).suppressComboChartWarnings=!1,i.chartDataModel=e,i.seriesChartTypes=null!==(n=e.params.seriesChartTypes)&&void 0!==n?n:[],i}return z4e(t,r),t.prototype.init=function(){this.initComboCharts()},t.prototype.update=function(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()},t.prototype.initComboCharts=function(){("customCombo"===this.chartDataModel.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.updateSeriesChartTypes=function(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var i=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!i&&e.secondaryAxis,e}),"customCombo"===this.chartDataModel.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '".concat(a.chartType,"' supplied in 'seriesChartTypes', converting to 'line' instead.")),a.chartType="line"),a});var o=this.chartDataModel.valueColState.map(function(a){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId})||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '".concat(a.colId,"', defaulting to 'line'.")),{colId:a.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartDataModel,i=e.chartType,o="columnLineCombo"===i?"groupedColumn":"stackedArea",a="columnLineCombo"===i?"line":"groupedColumn",s=e.valueColState.filter(function(c){return c.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(c,u){return{colId:c.colId,chartType:u>=l?a:o,secondaryAxis:!1}})},t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([j],t.prototype,"init",null),t}(z),K4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hv=function(){return hv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},hv.apply(this,arguments)},FG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},ph=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},fh=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},zb=function(r){function t(e){var i=r.call(this)||this;return i.unlinked=!1,i.chartData=[],i.valueColState=[],i.dimensionColState=[],i.columnNames={},i.crossFiltering=!1,i.grouping=!1,i.params=e,i.chartId=e.chartId,i.chartType=e.chartType,i.pivotChart=e.pivotChart,i.chartThemeName=e.chartThemeName,i.aggFunc=e.aggFunc,i.referenceCellRange=e.cellRange,i.suppliedCellRange=e.cellRange,i.suppressChartRanges=e.suppressChartRanges,i.unlinked=!!e.unlinkChart,i.crossFiltering=!!e.crossFiltering,i}return K4e(t,r),t.prototype.init=function(){this.datasource=this.createManagedBean(new H4e),this.chartColumnService=this.createManagedBean(new U4e),this.comboChartModel=this.createManagedBean(new $4e(this)),this.updateCellRanges(),this.updateData()},t.prototype.updateModel=function(e){var i=e.cellRange,n=e.chartType,o=e.pivotChart,a=e.chartThemeName,s=e.aggFunc,l=e.suppressChartRanges,c=e.unlinkChart,u=e.crossFiltering,d=e.seriesChartTypes;i!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.chartType=n,this.pivotChart=o,this.chartThemeName=a,this.aggFunc=s,this.referenceCellRange=i,this.suppliedCellRange=i,this.suppressChartRanges=l,this.unlinked=!!c,this.crossFiltering=!!u,this.updateSelectedDimensions(i?.columns),this.updateCellRanges(),(this.isComboChart()||d)&&this.comboChartModel.update(d),this.unlinked||this.updateData()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var i=this.chartColumnService.getChartColumns(),n=i.dimensionCols,o=i.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(n,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()},t.prototype.updateData=function(){var e=this.getRowIndexes(),i=e.startRow,n=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:i,endRow:n,isScatter:D.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),l=a.columnNames;this.chartData=a.chartData,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsService.get("treeData"),i=e?null:this.chartColumnService.getRowGroupColumns(),n=e||i&&i.length>0,o=this.getSelectedDimensions().map(function(l){return l.colId}),s=this.chartColumnService.getGroupDisplayColumns().map(function(l){return l.getColId()}).some(function(l){return o.includes(l)});return!!n&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimensions=function(){return this.dimensionColState.filter(function(e){return e.selected})},t.prototype.getColDisplayName=function(e){return this.chartColumnService.getColDisplayName(e)},t.prototype.isPivotMode=function(){return this.chartColumnService.isPivotMode()},t.prototype.getChartDataType=function(e){var i=this.chartColumnService.getColumn(e);return i?i.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.chartColumnService.isPivotActive()},t.prototype.createCellRange=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:i,startColumn:e===cr.DIMENSION?i[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return D.convertToSet(this.chartColumnService.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,fh([],ph(this.dimensionCellRange.columns),!1)),this.valueCellRange&&e.push.apply(e,fh([],ph(this.valueCellRange.columns),!1)),D.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,i=0,n=this,o=n.rangeService,l=n.valueCellRange||n.dimensionCellRange;if(o&&l){e=o.getRangeStartRow(l).rowIndex;var c=o.getRangeEndRow(l);i="bottom"===c.rowPinned?-1:c.rowIndex}return{startRow:e,endRow:i}},t.prototype.resetColumnState=function(){var e=this,i=this.chartColumnService.getChartColumns(),n=i.dimensionCols,o=i.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=lh(this.chartType),c=!1,u=1,d=this.suppliedCellRange.columns[0];n.forEach(function(f){var m="ag-Grid-AutoColumn"===f.getColId(),g=!1;e.crossFiltering&&e.aggFunc?d.getColId()===f.getColId()&&(g=!0):g=!!m||(!c||l)&&a.has(f),e.dimensionColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:g,order:u++}),g&&(c=!0)});var h={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!c,order:0};this.dimensionColState.unshift(h);var p=this.referenceCellRange.columns.filter(function(f){return o.has(f)});o.forEach(function(f){s&&D.includes(e.referenceCellRange.columns,f)&&(f=p.shift()),e.valueColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:a.has(f),order:u++})})},t.prototype.updateColumnState=function(e){var i=function(p){return p.colId===e.colId},o=this.dimensionColState,a=this.valueColState,s=o.find(i),l=a.find(i);if(s)if(lh(this.chartType))s.selected=e.selected;else{var u=e.selected?s:o.filter(function(p){return p!==s}).find(function(p){return p.selected});o.forEach(function(p){return p.selected=p===u})}else l&&(l.selected=e.selected);var d=fh(fh([],ph(o),!1),ph(a),!1),h=[];d.forEach(function(p,f){f===e.order&&h.push(e.colId),p.colId!==e.colId&&h.push(p.colId)}),d.forEach(function(p){var f=h.indexOf(p.colId);p.order=f>=0?h.indexOf(p.colId):d.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(i,n){return i.order-n.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,i,n){if(this.dimensionCellRange=void 0,!n&&!this.dimensionColState.length){var o=lh(this.chartType),a=new Array;return e.forEach(function(d){a.length>0&&!o||!i.has(d)||a.push(d)}),void(a.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,fh([cr.DIMENSION],ph(a),!1))))}var s=n?[n]:[];if(this.crossFiltering&&this.aggFunc){var l=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter(function(d){return d.colId===l.getColId()})}else(0===s.length||s.some(function(d){var h=d.column;return!h||!e.has(h)}))&&(s=this.dimensionColState.filter(function(d){return d.selected}));var c=1===s.length&&s[0].colId===t.DEFAULT_CATEGORY,u=s.map(function(d){return d.column}).filter(function(d){return null!=d});u.length>0&&!c&&(this.dimensionCellRange=this.createCellRange.apply(this,fh([cr.DIMENSION],ph(u),!1)))},t.prototype.setValueCellRange=function(e,i,n){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){n&&n.colId===s.getColId()?n.selected&&o.push(n.column):i.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):i.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,fh([cr.VALUE],ph(o),!1))}},t.prototype.updateSelectedDimensions=function(e){var i=new Set(e.map(function(c){return c.getColId()}));if(lh(this.chartType)){var s=this.dimensionColState.filter(function(c){return i.has(c.colId)}),l=new Set(s.map(function(c){return c.colId}));this.dimensionColState=this.dimensionColState.map(function(c){return hv(hv({},c),{selected:l.has(c.colId)})})}else{var a=(this.dimensionColState.find(function(c){return i.has(c.colId)})||this.dimensionColState[0]).colId;this.dimensionColState=this.dimensionColState.map(function(c){return hv(hv({},c),{selected:c.colId===a})})}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimensions();if(0!==e.length){var i=e.map(function(n){return n.column}).filter(function(n){return null!=n});i.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,fh([cr.DIMENSION],ph(i),!1)))}},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",FG([C("rangeService")],t.prototype,"rangeService",void 0),FG([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),FG([j],t.prototype,"init",null),t}(z);function MJ(r){return null!=r.chart?r.chart:r}var Wb=function(){return Wb=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Wb.apply(this,arguments)},$b=function(){function r(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=rl(this.chartType),null==this.chart?this.chart=Ho.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return r.prototype.getChart=function(){return MJ(this.chart)},r.prototype.getChartRef=function(){return this.chart},r.prototype.downloadChart=function(t,e,i){var n=this.chart,o=MJ(n),s=t||{};Ho.download(n,{width:s.width,height:s.height,fileName:e||(o.title?o.title.text:"chart"),fileFormat:i})},r.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},r.prototype.getChartOptions=function(){return this.chart.getOptions()},r.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},r.prototype.getChartPalette=function(){return nl.getChartTheme(this.getChartOptions().theme).palette},r.prototype.setPaired=function(t){var e,i=rl(this.chartProxyParams.chartType);Ho.updateDelta(this.chart,{theme:{overrides:(e={},e[i]={paired:t},e)}})},r.prototype.isPaired=function(){var t=rl(this.chartProxyParams.chartType);return nv(this.getChartThemeOverrides(),"".concat(t,".paired"),!0)},r.prototype.lookupCustomChartTheme=function(t){return oJ(this.chartProxyParams,t)},r.prototype.transformData=function(t,e,i){return i?t.map(function(n,o){var a=n[e],s=a&&a.toString?a.toString():"",l=Wb({},n);return l[e]={id:o,value:a,toString:function(){return s}},l}):t},r.prototype.getCommonChartOptions=function(t){var e,i,n=this.clearThemeOverrides?{}:null!==(i=null===(e=this.chart)||void 0===e?void 0:e.getOptions())&&void 0!==i?i:{},o=null!=this.chart?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;var l=function QUe(r,t){return t.reduce(function(e,i){return i?{baseTheme:e,overrides:i}:e},r)}(function ZUe(r,t){var e,_,i=r.chartOptionsToRestore,n=r.chartPaletteToRestore,o=r.chartThemeToRestore,a=function nze(r){var t=r.getChartThemeName(),e=r.getChartThemes();return D.includes(e,t)||(t=e[0]),t}(r),s=CG(a),l=s?{baseTheme:a}:null!==(e=oJ(r,a))&&void 0!==e?e:{},c=r.getGridOptionsChartThemeOverrides(),u=r.apiChartThemeOverrides,d=rl(r.chartType),h=_G(d)?d:"cartesian",p=r.crossFiltering?function eze(r,t,e){var i,n={listeners:{legendItemClick:function(a){r.getChart().series.forEach(function(l){l.toggleSeriesItem(a.itemId,a.enabled),l.toggleSeriesItem("".concat(a.itemId,"-filtered-out"),a.enabled)})}}};return(i={})[e]={tooltip:{delay:500},legend:n,listeners:{click:function(a){return t.crossFilterCallback(a,!0)}},series:{}},i}(t,r,h):void 0,f=Lb({},i??{}),v=[s?ize(r,(_=function(b){return!!b&&Object.keys(b).some(function(w){return nv(b[w],"title.enabled",!1)})},_(c)||_(u))):void 0,p,c,u,f].filter(function(_){return!!_}).reduce(function(_,b){return{baseTheme:_,overrides:b}},l);return n&&a===o&&(function JUe(r,t){var e=function(i,n){return i.length===n.length&&i.every(function(o,a){return o===n[a]})};return e(r.fills,t.fills)&&e(r.strokes,t.strokes)}(n,nl.getChartTheme(l).palette)||(v.palette=n)),v}(this.chartProxyParams,this),[this.getChartThemeDefaults(),t??o]);return Wb(Wb({},n),{theme:l,container:this.chartProxyParams.parentElement,mode:"integrated"})},r.prototype.getChartThemeDefaults=function(){},r.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var i=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=i?.overrides)&&void 0!==e?e:{}},r.prototype.destroy=function(t){var i=(void 0===t?{}:t).keepChartInstance;if(void 0!==i&&i)return this.chart.resetAnimations(),this.chart;this.destroyChart()},r.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},r}(),Y4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JT=function(){return JT=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},JT.apply(this,arguments)},eA=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},mh=function(r){function t(e){var i=r.call(this,e)||this;return i.crossFilteringAllPoints=new Set,i.crossFilteringSelectedPoints=[],i}return Y4e(t,r),t.prototype.update=function(e){var i=this.getAxes(e),n=JT(JT({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,i),axes:i,series:this.getSeries(e)});Ho.update(this.getChartRef(),n)},t.prototype.getData=function(e,i){var n=["area","line"].includes(this.standaloneChartType),o=i.some(function(a){return"category"===a?.type});return this.crossFiltering&&n?this.getCrossFilterData(e):this.getDataTransformedData(e,o)},t.prototype.getDataTransformedData=function(e,i){var n=eA(e.categories,1);return this.transformData(e.data,n[0].id,i)},t.prototype.getXAxisType=function(e){return e.grouping?"grouped-category":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){var n=eA(e.categories,1)[0];if(n&&n.chartDataType)return"time"===n.chartDataType;var o=e.data[0];return(o&&o[n.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,i){var n=this,a=eA(i.categories,1)[0];return e.map(function(l){return l.yKey=function(l){return"area"===n.standaloneChartType?i.getCrossFilteringContext().lastSelectedChartId===i.chartId?l+"-total":l:l+"-total"}(l.yKey),l.listeners={nodeClick:function(c){n.crossFilteringAddSelectedPoint(c.event.metaKey||c.event.ctrlKey,c.datum[l.xKey]),n.crossFilterCallback(c)}},l.marker={formatter:function(c){return{fill:c.highlighted?"yellow":c.fill,size:c.highlighted?14:n.crossFilteringPointSelected(c.datum[a.id])?8:0}}},"area"===n.standaloneChartType&&(l.fillOpacity=n.crossFilteringDeselectedPoints()?.3:1),"line"===n.standaloneChartType&&(l.strokeOpacity=n.crossFilteringDeselectedPoints()?.3:1),l})},t.prototype.getCrossFilterData=function(e){var i=this;this.crossFilteringAllPoints.clear();var o=eA(e.categories,1)[0],a=e.fields[0].colId,s="".concat(a,"-filtered-out"),l=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(c){var u=c[o.id];i.crossFilteringAllPoints.add(u);var d=i.crossFilteringPointSelected(u);return"area"===i.standaloneChartType&&l===e.chartId&&(c["".concat(a,"-total")]=d?c[a]:c[a]+c[s]),"line"===i.standaloneChartType&&(c["".concat(a,"-total")]=d?c[a]:c[a]+c[s]),c})},t.prototype.crossFilteringAddSelectedPoint=function(e,i){e?this.crossFilteringSelectedPoints.push(i):this.crossFilteringSelectedPoints=[i]},t}($b);function RJ(r,t){var e=parseInt(r.slice(1,3),16),i=parseInt(r.slice(3,5),16),n=parseInt(r.slice(5,7),16);return t?"rgba(".concat(e,", ").concat(i,", ").concat(n,", ").concat(t,")"):"rgba(".concat(e,", ").concat(i,", ").concat(n,")")}function PJ(r,t){return r.map(function(e){var i=Xi.Color.fromString(e);return new Xi.Color(i.r,i.g,i.b,t).toHexString()})}var q4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gh=function(){return gh=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},gh.apply(this,arguments)},Z4e=function(r){function t(e){return r.call(this,e)||this}return q4e(t,r),t.prototype.getAxes=function(e){var i=[{type:this.getXAxisType(e),position:Ru(this.chartType)?"left":"bottom"},{type:"number",position:Ru(this.chartType)?"bottom":"left"}];if(this.isNormalised()){var n=i[1];n.label=gh(gh({},n.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return i},t.prototype.getSeries=function(e){var i=this,n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=n[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,direction:Ru(i.chartType)?"horizontal":"vertical",stacked:i.crossFiltering||NUe(i.chartType),normalizedTo:i.isNormalised()?100:void 0,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(a):a},t.prototype.extractCrossFilterSeries=function(e){for(var n=this.getChartPalette(),a=function(u){var d=u.yKey+"-filtered-out";return gh(gh({},ch({},u)),{yKey:d,fill:RJ(u.fill,"0.3"),stroke:RJ(u.stroke,"0.3"),showInLegend:!1})},s=[],l=0;l<e.length;l++){var c=(d=l,gh(gh({},e[l]),{highlightStyle:{item:{fill:void 0}},fill:n?.fills[d],stroke:n?.strokes[d],listeners:{nodeClick:this.crossFilterCallback}}));s.push(c),s.push(a(c))}var d;return s},t.prototype.isNormalised=function(){return!this.crossFiltering&&D.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(mh),Q4e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tA=function(){return tA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},tA.apply(this,arguments)},e5e=function(r){function t(e){return r.call(this,e)||this}return Q4e(t,r),t.prototype.getAxes=function(e){var i=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var n=i[1];n.label=tA(tA({},n.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return i},t.prototype.getSeries=function(e){var i=this,n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=n[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName,normalizedTo:"normalizedArea"===i.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(i.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},t}(mh),t5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),n5e=function(r){function t(e){return r.call(this,e)||this}return t5e(t,r),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var i=this,n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=n[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t}(mh),r5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iA=function(){return iA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},iA.apply(this,arguments)},IJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},o5e=function(r){function t(e){return r.call(this,e)||this}return r5e(t,r),t.prototype.getAxes=function(e){var i="radial-bar"===this.standaloneChartType;return[{type:i?"angle-number":"angle-category"},{type:i?"radius-category":"radius-number"}]},t.prototype.getSeries=function(e){var i=this,n=e.fields,a=IJ(e.categories,1)[0],s="radial-bar"===this.standaloneChartType;return n.map(function(l){var c,u;return{type:i.standaloneChartType,angleKey:s?l.colId:a.id,angleName:s?null!==(c=l.displayName)&&void 0!==c?c:void 0:a.name,radiusKey:s?a.id:l.colId,radiusName:s?a.name:null!==(u=l.displayName)&&void 0!==u?u:void 0}})},t.prototype.update=function(e){var i=this.getAxes(e),n=iA(iA({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,i),axes:i,series:this.getSeries(e)});Ho.update(this.getChartRef(),n)},t.prototype.getData=function(e,i){var n=i.some(function(o){return"angle-category"===o.type||"radius-category"===o.type});return this.getDataTransformedData(e,n)},t.prototype.getDataTransformedData=function(e,i){var n=IJ(e.categories,1);return this.transformData(e.data,n[0].id,i)},t.prototype.crossFilteringReset=function(){},t}($b),a5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ds=function(){return ds=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},ds.apply(this,arguments)},FJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},s5e=function(r){function t(e){return r.call(this,e)||this}return a5e(t,r),t.prototype.update=function(e){var i=e.data,o=FJ(e.categories,1)[0],a=ds(ds({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(i,o.id),series:this.getSeries(e)});Ho.update(this.getChartRef(),a)},t.prototype.getSeries=function(e){var i=this,o=FJ(e.categories,1)[0],a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},l=this.getFields(e).map(function(c){var u,d={type:i.standaloneChartType,angleKey:c.colId,angleName:c.displayName,sectorLabelKey:c.colId,calloutLabelName:o.name,calloutLabelKey:o.id};if("donut"===i.chartType||"doughnut"===i.chartType){var h=t.calculateOffsets(s),p=h.outerRadiusOffset,f=h.innerRadiusOffset,m=c.displayName?{title:{text:c.displayName,showInLegend:a>1}}:void 0;return ds(ds(ds(ds({},d),{type:"donut",outerRadiusOffset:p,innerRadiusOffset:f}),m),{calloutLine:{colors:null===(u=i.getChartPalette())||void 0===u?void 0:u.strokes}})}return d});return this.crossFiltering?this.extractCrossFilterSeries(l):l},t.prototype.getCrossFilterData=function(e){var i=e.fields[0].colId,n="".concat(i,"-filtered-out");return e.data.map(function(o){var a=o[i]+o[n];return o["".concat(i,"-total")]=a,o[n]=1,o[i]=o[i]/a,o})},t.prototype.extractCrossFilterSeries=function(e){var u,n=this.getChartPalette(),s=e[0],l=s.angleKey,c=ds(ds({},u=s),{legendItemKey:u.calloutLabelKey,calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:u.angleKey,angleKey:u.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback}});return[function(u,d){var h,p;return ds(ds({},ch({},c)),{radiusKey:d+"-filtered-out",fills:PJ(null!==(h=u.fills)&&void 0!==h?h:n.fills,.3),strokes:PJ(null!==(p=u.strokes)&&void 0!==p?p:n.strokes,.3),showInLegend:!1})}(s,l),c]},t.calculateOffsets=function(e){var i=e.currentOffset;e.currentOffset-=e.offsetAmount;var n=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:i,innerRadiusOffset:n}},t.prototype.getFields=function(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}($b),l5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rr=function(){return rr=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},rr.apply(this,arguments)},kG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},kJ=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},u5e=function(r){function t(e){return r.call(this,e)||this}return l5e(t,r),t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var n=kG(e.categories,1)[0],o=this.isPaired(),a=this.getSeriesDefinitions(e.fields,o),s=n.id===zb.DEFAULT_CATEGORY?void 0:n,l=a.map(function(c){var u,d,h,p,f;return c?.sizeField?{type:"bubble",xKey:c.xField.colId,xName:null!==(u=c.xField.displayName)&&void 0!==u?u:void 0,yKey:c.yField.colId,yName:null!==(d=c.yField.displayName)&&void 0!==d?d:void 0,title:"".concat(c.yField.displayName," vs ").concat(c.xField.displayName),sizeKey:c.sizeField.colId,sizeName:null!==(h=c.sizeField.displayName)&&void 0!==h?h:"",labelKey:s?s.id:c.yField.colId,labelName:s?s.name:void 0}:{type:"scatter",xKey:c.xField.colId,xName:null!==(p=c.xField.displayName)&&void 0!==p?p:void 0,yKey:c.yField.colId,yName:null!==(f=c.yField.displayName)&&void 0!==f?f:void 0,title:"".concat(c.yField.displayName," vs ").concat(c.xField.displayName),labelKey:s?s.id:c.yField.colId,labelName:s?s.name:void 0}});return this.crossFiltering?this.extractCrossFilterSeries(l,e):l},t.prototype.extractCrossFilterSeries=function(e,i){var n=this,o=i.data,a=this.getChartPalette(),s=function(h){return"".concat(h,"-filtered-out")},d=e.map(function(h,p){var f=a?.fills[p],m=a?.strokes[p],g=void 0;"bubble"===h.type&&(g=function(h,p){var f,m,g,v=[1/0,-1/0];if(null!=p)try{for(var y=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(h),_=y.next();!_.done;_=y.next()){var b=_.value,w=null!==(g=b[p])&&void 0!==g?g:b[s(p)];w<v[0]&&(v[0]=w),w>v[1]&&(v[1]=w)}}catch(E){f={error:E}}finally{try{_&&!_.done&&(m=y.return)&&m.call(y)}finally{if(f)throw f.error}}if(v[0]<=v[1])return v}(o,h.sizeKey));var y=rr(rr({},h.marker),{fill:f,stroke:m,domain:g});return rr(rr({},h),{marker:y,highlightStyle:{item:{fill:"yellow"}},listeners:rr(rr({},h.listeners),{nodeClick:n.crossFilterCallback})})});return kJ(kJ([],kG(d),!1),kG(d.map(function(h){var p=h.yKey,f=h.xKey,m={};return"bubble"===h.type&&(m={sizeKey:s(h.sizeKey)}),rr(rr(rr({},h),m),{yKey:s(p),xKey:s(f),marker:rr(rr({},h.marker),{fillOpacity:.3,strokeOpacity:.3}),showInLegend:!1,listeners:rr(rr({},h.listeners),{nodeClick:function(g){var v,y=g.datum[s(f)],_=rr(rr({},g),{xKey:f,datum:rr(rr({},g.datum),(v={},v[f]=y,v))});n.crossFilterCallback(_)}})})})),!1)},t.prototype.getSeriesDefinitions=function(e,i){if(e.length<2)return[];var n="bubble"===this.chartType;if(i)return n?e.map(function(a,s){return s%3==0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2==0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return n?e.map(function(a,s){return s%2==1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t}(mh),d5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},LJ=function(r){function t(e){return r.call(this,e)||this}return d5e(t,r),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Ru(this.chartType)?"left":"bottom"},{type:"number",position:Ru(this.chartType)?"bottom":"left"}]},t.prototype.computeSeriesStatistics=function(e,i){var n=e.data,o=e.fields,s=LG(e.categories,1)[0],c=this.groupDataByCategory(s.id||zb.DEFAULT_CATEGORY,n);return Array.from(c).map(function(u){var d,h=LG(u,2),f=h[1],m=((d={})[s.id]=h[0],d);return o.forEach(function(g,v){var y=f.map(function(_){return _[g.colId]}).filter(function(_){return"number"==typeof _&&!isNaN(_)});Object.entries(i(y)).forEach(function(_){var b=LG(_,2),E=b[1],M="".concat(b[0],":").concat(v);m[M]=y.length>0?E:null})}),m})},t.prototype.groupDataByCategory=function(e,i){return i.reduce(function(o,a){var s=function(o){if(e===zb.DEFAULT_CATEGORY)return 1;var a=o[e];return null==a?"":a instanceof Date?a.getTime():a}(a),l=o.get(s);return l?l.push(a):o.set(s,[a]),o},new Map)},t}(mh),h5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},NJ=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},GJ=function(r){function t(e){return r.call(this,e)||this}return h5e(t,r),t.prototype.getSeries=function(e){var i=this,o=NG(e.categories,1)[0];return e.fields.map(function(a,s){var l;return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yName:null!==(l=a.displayName)&&void 0!==l?l:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(s),yHighKey:"max:".concat(s)}})},t.prototype.getData=function(e){return this.computeSeriesStatistics(e,function(i){return{min:Math.min.apply(Math,NJ([],NG(i),!1)),max:Math.max.apply(Math,NJ([],NG(i),!1))}})},t}(LJ),p5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),f5e=function(r){function t(e){return r.call(this,e)||this}return p5e(t,r),t.prototype.getSeries=function(e){var i=e.fields[0];return[{type:this.standaloneChartType,xKey:i.colId,xName:i.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(mh),m5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),v5e=function(r){function t(e){return r.call(this,e)||this}return m5e(t,r),t.prototype.getSeries=function(e){var i=this,n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=n[0];return e.fields.map(function(a,s){var l;return{type:i.standaloneChartType,direction:Ru(i.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yName:null!==(l=a.displayName)&&void 0!==l?l:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(s),q1Key:"q1:".concat(s),medianKey:"median:".concat(s),q3Key:"q3:".concat(s),maxKey:"max:".concat(s)}})},t.prototype.getData=function(e){var i=this;return this.computeSeriesStatistics(e,function(n){var o=n.sort(function(a,s){return a-s});return{min:o[0],q1:i.quantile(o,.25),median:i.quantile(o,.5),q3:i.quantile(o,.75),max:o[o.length-1]}})},t.prototype.quantile=function(e,i){var n=(e.length-1)*i,o=Math.floor(n);return void 0!==e[o+1]?e[o]+(n-o)*(e[o+1]-e[o]):e[o]},t}(LJ),nA=function(){return nA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},nA.apply(this,arguments)},VJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},y5e=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},_5e=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rA="AG-GRID-DEFAULT-LABEL-KEY";function GG(r){var t,e,o=r.children;if(0===r.depth)return r.leaves.map(function(p){var f;return nA(((f={})[rA]=null,f),p)});var a=new Array,s=function(p,f){var m;0===f.depth?a.push.apply(a,y5e([],VJ(f.leaves.map(function(g){var v;return nA(((v={})[rA]=p,v),g)})),!1)):a.push(((m={})[rA]=p,m.children=GG(f),m))};try{for(var l=_5e(o.entries()),c=l.next();!c.done;c=l.next()){var u=VJ(c.value,2);s(u[0],u[1])}}catch(p){t={error:p}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return a}function BJ(r,t,e){return r.reduce(function(o,a){return n(a,t(a),e,0,o)},{depth:0,leaves:[],children:new Map});function n(o,a,s,l,c){if(l===a)return c.leaves.push(o),c;var u=s(o,l),h=n(o,a,s,l+1,c.children.get(u)||{depth:0,leaves:[],children:new Map});return c.children.set(u,h),c.depth=Math.max(1+h.depth,c.depth),c}}var w5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oA=function(){return oA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},oA.apply(this,arguments)},HJ=function(r){function t(e){var i=r.call(this,e)||this;return i.chartProxyParams=e,i}return w5e(t,r),t.prototype.update=function(e){var i=oA(oA({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,rA),data:this.getData(e)});Ho.update(this.getChartRef(),i)},t.prototype.getData=function(e){var i=e.categories,n=e.data;return e.grouping?function b5e(r,t){return GG(BJ(r,function i(o){var a,s;return null!==(s=null===(a=t(o))||void 0===a?void 0:a.length)&&void 0!==s?s:0},function n(o,a){var s=t(o);return s?s[s.length-1-a]:null}))}(n,S5e):function C5e(r,t){return GG(BJ(r,function i(a){return t.length},function n(a,s){return function o(a){return null==a?null:String(a)}(a[t[s]])}))}(n,i.map(function(s){return s.id}))},t}($b);function S5e(r){var t,e;return null!==(e=null===(t=r[fd])||void 0===t?void 0:t.labels)&&void 0!==e?e:null}var x5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),D5e=function(r){function t(e){return r.call(this,e)||this}return x5e(t,r),t.prototype.getSeries=function(e,i){var n,o,s=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.fields,2),l=s[0],c=s[1];return[{type:this.standaloneChartType,labelKey:i,sizeKey:l?.colId,sizeName:null!==(n=l?.displayName)&&void 0!==n?n:void 0,colorKey:c?.colId,colorName:null!==(o=c?.displayName)&&void 0!==o?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{treemap:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,i,n){return e},t.prototype.crossFilteringReset=function(){},t}(HJ),T5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),O5e=function(r){function t(e){return r.call(this,e)||this}return T5e(t,r),t.prototype.getSeries=function(e,i){var n,o,s=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.fields,2),l=s[0],c=s[1];return[{type:this.standaloneChartType,labelKey:i,sizeKey:l?.colId,sizeName:null!==(n=l?.displayName)&&void 0!==n?n:void 0,colorKey:c?.colId,colorName:null!==(o=c?.displayName)&&void 0!==o?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{sunburst:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,i,n){return e},t.prototype.crossFilteringReset=function(){},t}(HJ);function jJ(r,t){return r.reduce(function(e,i,n,o){return e.concat(t(i,n,o))},new Array)}var M5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pv=function(){return pv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},pv.apply(this,arguments)},UJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},F5e=function(r){function t(e){return r.call(this,e)||this}return M5e(t,r),t.prototype.update=function(e){var i="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",n="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",o="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",a=pv(pv({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,i,n,o),data:this.getData(e,i,n,o)});Ho.update(this.getChartRef(),a)},t.prototype.getSeries=function(e,i,n,o){var a=UJ(e.categories,1);return[{type:this.standaloneChartType,yKey:o,xKey:i,colorKey:n,yName:a[0].name,xName:void 0,colorName:void 0}]},t.prototype.getData=function(e,i,n,o){var s=UJ(e.categories,1)[0];return jJ(e.data,function(l,c){var u=l[s.id],d=null==u?"":String(u),h={id:c,value:u,toString:function(){return d}};return e.fields.map(function(p){var f,m=p.colId,g=p.displayName;return pv(pv({},l),((f={})[i]=g,f[n]=l[m],f[o]=h,f))})})},t.prototype.getChartThemeDefaults=function(){return{heatmap:{gradientLegend:{gradient:{preferredLength:200}},series:{tooltip:{renderer:k5e}}}}},t.prototype.transformData=function(e,i,n){return e},t.prototype.crossFilteringReset=function(){},t}($b);function k5e(r){var i=r.colorKey,s=r.datum[r.seriesId];return{title:"",content:[{label:r.yName,value:s[r.yKey]},{label:s[r.xKey],value:i&&s[i]}].map(function(u){var h=u.value;return"<b>".concat(zJ(String(u.label)),":</b> ").concat(zJ(String(h)))}).join("<br>")}}function zJ(r){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},e="[".concat(Object.keys(t).join(""),"]"),i=new RegExp(e,"g");return r.replace(i,function(n){return t[n]})}var L5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},N5e=function(r){function t(e){return r.call(this,e)||this}return L5e(t,r),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Ru(this.chartType)?"left":"bottom"},{type:"number",position:Ru(this.chartType)?"bottom":"left"}]},t.prototype.getSeries=function(e){var i,o=WJ(e.categories,1)[0],s=WJ(e.fields,1)[0];return[{type:this.standaloneChartType,direction:Ru(this.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yKey:s.colId,yName:null!==(i=s.displayName)&&void 0!==i?i:void 0}]},t}(mh),G5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),B5e=function(r){function t(e){var i=r.call(this)||this;return i.chartController=e,i}return G5e(t,r),t.prototype.getChartOption=function(e){return nv(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,i,n){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s={};a.forEach(function(l){s=ch(s,o.createChartOptions({seriesType:l,expression:e,value:i}))}),n||(this.updateChart(s),this.raiseChartOptionsChangedEvent())},t.prototype.awaitChartOptionUpdate=function(e){this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){return e()}).catch(function(n){return console.error("AG Grid - chart update failed",n)})},t.prototype.getAxisProperty=function(e){var i;return nv(null===(i=this.getChart().axes)||void 0===i?void 0:i[0],e,void 0)},t.prototype.setAxisProperty=function(e,i){this.setAxisProperties([{expression:e,value:i}])},t.prototype.setAxisProperties=function(e){var i=this,n=this.getChart(),o=jJ(e,function(a){var s,l=a.expression,c=a.value,u=null===(s=n.axes)||void 0===s?void 0:s.filter(function(d){var h,p,f=l.split("."),m=d;try{for(var g=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(f),v=g.next();!v.done;v=g.next()){var y=v.value;if(!(y in m))return!1;m=m[y]}}catch(_){h={error:_}}finally{try{v&&!v.done&&(p=g.return)&&p.call(g)}finally{if(h)throw h.error}}return!0});return u?u.map(function(d){return i.getUpdateAxisOptions(d,l,c)}):[]}).reduce(function(a,s){return ch(a,s)},{});Object.keys(o).length>0&&(this.updateChart(o),this.raiseChartOptionsChangedEvent())},t.prototype.getLabelRotation=function(e){return nv(this.getAxis(e),"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,i){var n=this.getAxis(e);if(n){var o=this.getUpdateAxisOptions(n,"label.rotation",i);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,i,n){var o=this.getChart().series.find(function(a){return t.isMatchingSeries(i,a)});return nv(n?o:o?.properties.toJson(),e,void 0)},t.prototype.setSeriesOption=function(e,i,n){var o=this.createChartOptions({seriesType:n,expression:"series.".concat(e),value:i});this.updateChart(o),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var i=this.getChart();if(i.axes&&!(i.axes.length<1))return"xAxis"===e?i.axes&&"x"===i.axes[0].direction?i.axes[0]:i.axes[1]:i.axes&&"y"===i.axes[1].direction?i.axes[1]:i.axes[0]},t.prototype.getUpdateAxisOptions=function(e,i,n){var o=this,a=this.chartController.getChartSeriesTypes();return this.chartController.isComboChart()&&a.push("common"),["number","category","time","grouped-category","angle-category","angle-number","radius-category","radius-number"].includes(e.type)?a.map(function(l){return o.createChartOptions({seriesType:l,expression:"axes.".concat(e.type,".").concat(i),value:n})}).reduce(function(l,c){return ch(l,c)}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var i=this.chartController.getChartProxy().getChartRef();i.skipAnimations(),Ho.updateDelta(i,e)},t.prototype.createChartOptions=function(e){var n=e.expression,o=e.value,a={},s={theme:{overrides:a}};return function XUe(r,t,e){if(null!=r){var i=t.split("."),n=r;i.forEach(function(o,a){n[o]||(n[o]={}),a<i.length-1&&(n=n[o])}),n[i[i.length-1]]=e}}(a,"".concat(e.seriesType,".").concat(n),o),s},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),i={type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(i)},t.isMatchingSeries=function(e,i){return FUe.includes(e)&&i.type===e},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(z),H5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VG=function(){return VG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},VG.apply(this,arguments)},U5e=function(r){function t(e){return r.call(this,e)||this}return H5e(t,r),t.prototype.getAxes=function(e){var i=e?e.fields:[],n=new Map(i.map(function(c){return[c.colId,c]})),o=this.getYKeys(i,e.seriesChartTypes),a=o.primaryYKeys,s=o.secondaryYKeys,l=[{type:this.getXAxisType(e),position:"bottom"}];return a.length>0&&l.push({type:"number",keys:a,position:"left"}),s.length>0&&s.forEach(function(c){var u=n.get(c);u&&u.colId===c&&l.push({type:"number",keys:[c],position:"right"})}),l},t.prototype.getSeries=function(e){var i=e.fields,n=e.seriesChartTypes,o=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),a=o[0];return i.map(function(s){var l=n.find(function(h){return h.colId===s.colId});if(l){var c=l.chartType,d=["groupedColumn","groupedBar"].includes(c)?{grouped:!0}:{};return VG({type:rl(c),xKey:a.id,yKey:s.colId,yName:s.displayName,stacked:["stackedArea","stackedColumn"].includes(c)},d)}})},t.prototype.getYKeys=function(e,i){var n=[],o=[];return e.forEach(function(a){var s=a.colId,l=i.find(function(c){return c.colId===s});l&&(l.secondaryAxis?o.push(s):n.push(s))}),{primaryYKeys:n,secondaryYKeys:o}},t}(mh),z5e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mc=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},$J=function(r){function t(e){var i=r.call(this,t.TEMPLATE)||this;return i.params=e,i}return z5e(t,r),t.prototype.init=function(){var e=this,i={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:Fb(this.params.chartType),chartThemeName:this.getThemeName(),aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},n=this.gridOptionsService.get("enableRtl");this.addCssClass(n?"ag-rtl":"ag-ltr");var o=this.createBean(new zb(i));this.chartController=this.createManagedBean(new ol(o)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ol.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,AJ.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e=this,i=void 0;this.chartProxy&&(i=this.chartProxy.destroy({keepChartInstance:!0}));var o=this.chartController.getChartType(),a={chartType:o,chartInstance:i,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var l,c;return null!==(c=null===(l=e.chartMenu)||void 0===l?void 0:l.getExtraPaddingDirections())&&void 0!==c?c:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(l,c){e.params.crossFilteringContext.lastSelectedChartId=c?"":e.chartController.getChartId(),c&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(l,c)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(l,c){return e.chartTranslationService.translate(l,c)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartProxy=t.createChartProxy(a),this.chartProxy){var s=this.eChart.querySelector("canvas");s&&s.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new B5e(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",a.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemeNames()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new Z4e(e);case"pie":case"donut":case"doughnut":return new s5e(e);case"area":case"stackedArea":case"normalizedArea":return new e5e(e);case"line":return new n5e(e);case"scatter":case"bubble":return new u5e(e);case"histogram":return new f5e(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new o5e(e);case"rangeBar":case"rangeArea":return new GJ(e);case"boxPlot":return new v5e(e);case"treemap":return new D5e(e);case"sunburst":return new O5e(e);case"heatmap":return new F5e(e);case"waterfall":return new N5e(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new U5e(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '".concat(e.chartType,"' was supplied.")}},t.prototype.addDialog=function(){var e=this,i=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new ug({resizable:!0,movable:!0,maximizable:!0,title:i,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ug.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),i=.75*D.getAbsoluteWidth(e),n=.75*D.getAbsoluteHeight(e),a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>i||l>n)&&(s=Math.min(s,i),(l=Math.round(.553*s))>n&&(l=n,s=Math.min(s,Math.round(l/.553)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new AJ(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new V4e(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(e){var i=this;e?.chartId&&!this.chartController.update(e)||(this.chartTypeChanged(e)&&this.createChart(),this.updateChart(e?.chartThemeOverrides),e?.chartId&&this.chartProxy.getChart().waitForUpdate().then(function(){i.chartController.raiseChartApiUpdateEvent()}))},t.prototype.updateChart=function(e){var i=this,n=this.chartProxy,a=this.chartController.getSelectedValueColState().map(function(u){return{colId:u.colId,displayName:u.displayName}}),s=this.chartController.getChartData();if(!this.handleEmptyChart(s,a)){var c=this.chartController.getChartUpdateParams(e);n.update(c),this.chartProxy.getChart().waitForUpdate().then(function(){i.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.chartTypeChanged=function(e){var i=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([this.chartController.getChartType(),e?.chartType],2),o=i[1];return this.chartType!==i[0]||!!o&&this.chartType!==Fb(o)},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.handleEmptyChart=function(e,i){var n=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=this.chartController.getChartType(),a=1;this.chartController.isActiveXYChart()?a="bubble"===o?3:2:lh(o)&&(a=0);var s=i.length<a||0===e.length;if(this.eChart){var l=n||s;D.setDisplayed(this.eChart,!l),D.setDisplayed(this.eEmpty,l)}return n?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!s&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(e,i,n){this.chartProxy.downloadChart(e,i,n)},t.prototype.openChartToolPanel=function(e){this.chartMenu.showMenu(e&&QE[e])},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.getThemeName=function(){var e=this.gridOptionsService.get("chartThemes")||cJ;if(0===e.length)throw new Error("Cannot create chart: no chart themes available.");var i=this.params.chartThemeName;return D.includes(e,i)?i:e[0]},t.prototype.getAllKeysInObjects=function(e){var i={};return e.filter(function(n){return null!=n}).forEach(function(n){Object.keys(n).forEach(function(o){return i[o]=null})}),Object.keys(i)},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),i=this.gridOptionsService.get("customChartThemes");i&&this.getAllKeysInObjects([i]).forEach(function(n){D.includes(e,n)||console.warn("AG Grid: a custom chart theme with the name '"+n+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.reactivePropertyUpdate=function(){this.chartController.setChartThemeName(this.getThemeName(),!0);var e=this.getChartId(),i=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,n=this.gridOptionsService.get("chartThemeOverrides")||{};this.update({type:"".concat(i,"ChartUpdate"),chartId:e,chartThemeOverrides:n})},t.prototype.raiseChartCreatedEvent=function(){var e=this,i={type:x.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(i)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:x.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){var e;r.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),null===(e=this.onDestroyColorSchemeChangeListener)||void 0===e||e.call(this);var i=this.getGui();D.clearElement(i),D.removeFromParent(i),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container" style="min-width: 0px;"></div>\n        </div>',mc([G("eChart")],t.prototype,"eChart",void 0),mc([G("eChartContainer")],t.prototype,"eChartContainer",void 0),mc([G("eMenuContainer")],t.prototype,"eMenuContainer",void 0),mc([G("eEmpty")],t.prototype,"eEmpty",void 0),mc([G("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),mc([C("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),mc([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mc([C("gridApi")],t.prototype,"gridApi",void 0),mc([C("popupService")],t.prototype,"popupService",void 0),mc([j],t.prototype,"init",null),t}(le),Kb="31.1.1",Li=function(){return Li=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Li.apply(this,arguments)},vh=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]])}return e},KJ=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},$5e=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Y5e(r){return r=co("chartOptions.legend.item.marker.type","shape",r),r=co("chartOptions.seriesDefaults.marker.type","shape",r),co("chartOptions.legend.padding","spacing",r)}function q5e(r){var t,e=r=zr("chartOptions.seriesDefaults.marker.minSize",r),i=e.chartType,n=e.chartPalette,o=e.chartOptions,a=o.xAxis,s=o.yAxis,l=vh(o,["xAxis","yAxis"]),c=vh(e,["chartType","chartPalette","chartOptions"]),u=function BUe(r){switch(r){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}(i),d=u?.map(function(p,f){return Li({type:p},0===f?a:s)});return Li({chartType:i,chartThemeName:null!==(t={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"}[n])&&void 0!==t?t:"ag-default",chartOptions:Li(Li({},l),{axes:d,xAxis:a,yAxis:s})},c)}function X5e(r){return co("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",r)}function Z5e(r){return r=zr("chart",r=Fu("chartOptions.seriesDefaults.highlightStyle",r,function(e){var i=e.dimOpacity,n=vh(e,["dimOpacity"]);return Li(Li({},n),null!=i?{series:{dimOpacity:i}}:{})})),r=zr("chartOptions.seriesDefaults.tooltipClass",r),r=ZJ("chartOptions.axes[].label.rotation",0,r=zr("chartOptions.seriesDefaults.tooltipTracking",r)),ZJ("chartOptions.axes[].label.rotation",335,r)}function Q5e(r){var t=function(e){var i=e.item,n=e.series,o=vh(e,["item","series"]);return Li({item:Li(Li({},o),i)},n?{series:n}:{})};return r=Fu("chartOptions.seriesDefaults.highlightStyle",r,t),Fu("chartOptions.series[].highlightStyle",r,t)}function J5e(r){r=aA("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",r),r=aA("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",r),r=zr("chartOptions.seriesDefaults.fill",r=aA("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",r)),r=zr("chartOptions.seriesDefaults.stroke",r),r=zr("chartOptions.seriesDefaults.callout.colors",r),r=zr("chartOptions.xAxis",r);var t=r=zr("chartOptions.yAxis",r),e=t.chartType,i=t.chartOptions,n=i.axes,o=i.seriesDefaults,a=vh(i,["axes","series","seriesDefaults"]),s=vh(t,["chartType","chartOptions"]),l=Fb(e),c=rl(l),u=[c],d={};if(!_G(c)){var h={top:{},bottom:{},left:{},right:{}},p=n.map(function(m){var g,v=m.type,y=vh(m,["type"]);return(g={})[v]=Li(Li({},h),y),g}).reduce(JJ,{});iJ.filter(function(m){return null==p[m]}).forEach(function(m){p[m]=Li({},h)}),d.axes=p}var f=u.map(function(m){var g;return(g={})[m]=Li(Li(Li({},d),{series:o}),a),g}).reduce(JJ,{});return Li(Li({},s),{chartType:l,chartOptions:f})}function e$e(r){return r=zr("chartOptions.*.title.padding",r),r=zr("chartOptions.*.subtitle.padding",r),BG("chartOptions.*.axes.*.title.enabled",!1,r=zr("chartOptions.*.axes.*.title.padding",r))}function t$e(r){return r=co("chartOptions.pie.series.callout","calloutLine",r),r=co("chartOptions.pie.series.label","calloutLabel",r),r=co("chartOptions.pie.series.labelKey","sectorLabelKey",r),r=co("chartOptions.pie.series.labelName","sectorLabelName",r),r=co("chartOptions.donut.series.callout","calloutLine",r),r=co("chartOptions.donut.series.label","calloutLabel",r),r=co("chartOptions.donut.series.labelKey","sectorLabelKey",r),co("chartOptions.donut.series.labelName","sectorLabelName",r)}function i$e(r){return r=Yb("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",r),r=Yb("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",r),r=Yb("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",r),r=Yb("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",r),aA("chartOptions.scatter.series.paired","chartOptions.scatter.paired",r=Yb("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",r))}function YJ(r){return zr("chartOptions.axes[].tick.count",r)}function qJ(r){return Fu("chartOptions.*.tooltip",r,function(e){var i,n,o,a,s=e.tracking,l=vh(e,["tracking"]),c=Li({},l);return!1===s?(null!==(i=c.position)&&void 0!==i||(c.position={type:"pointer"}),null!==(n=c.range)&&void 0!==n||(c.range="nearest")):!0===s&&(null!==(o=c.position)&&void 0!==o||(c.position={type:"node"}),null!==(a=c.range)&&void 0!==a||(c.range="nearest")),c})}function n$e(r){return r=co("chartOptions.pie.series.labelKey","sectorLabelKey",r),BG("chartOptions.common.legend.position","right",r=QJ("chartOptions.common.legend.enabled",!0,r=zr("chartOptions.*.series.flipXY",r=qJ(r=YJ(r=co("chartOptions.pie.series.labelName","sectorLabelName",r))))))}function r$e(r){var e=co("chartOptions.column","bar",r),i={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"}[e.chartThemeName]||e.chartThemeName;return Li(Li({},e),{chartThemeName:i})}function jo(r,t,e){if(XJ(r)>XJ(t.version)){var i=e(t);return i.version=r,i}return t}function XJ(r){var t=function s$e(r){var t="string"==typeof r?r.split(".").map(function(e){return Number(e)}):[];if(3!==t.length||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+r);return{major:t[0],minor:t[1],patch:t[2]}}(r);return 1e4*t.major+100*t.minor+t.patch}function ZJ(r,t,e){return yh(r,!0,e,function(i,n){i[n]===t&&delete i[n]})}function BG(r,t,e){return yh(r,!1,e,function(i,n){null==i[n]&&(i[n]=t)})}function QJ(r,t,e){var i;"string"==typeof r&&(r=r.split("."));var n=r[0];return r.length>1&&(e[n]=QJ(r.slice(1),t,null!==(i=e[n])&&void 0!==i?i:{})),Object.keys(e).includes(n)||(e[n]=t),e}function aA(r,t,e){var i=void 0,n=!1;return e=yh(r,!0,e,function(o,a){n=!0,i=o[a],delete o[a]}),n?yh(t,!1,e,function(o,a){o[a]=i}):e}function Yb(r,t,e){var i=void 0,n=!1;return e=yh(r,!0,e,function(o,a){n=!0,i=o[a],delete o[a]}),n?yh(t,!1,e,function(o,a){void 0===o[a]&&(o[a]=i)}):e}function co(r,t,e){return yh(r,!0,e,function(i,n){i[t]=i[n],delete i[n]})}function zr(r,t){return yh(r,!0,t,function(e,i){return delete e[i]})}function yh(r,t,e,i){var n=r instanceof Array?r:r.split("."),o=n.slice(0,n.length-1),a=n[n.length-1];return Fu(o,e,function(s){var l=Object.keys(s).includes(a);if(t&&!l)return s;var c=Li({},s);return i(c,a),c})}function Fu(r,t,e){var i,n,o=r instanceof Array?r:r.split(".");if(t=Li({},t),0===o.length)return e(t);if(o[0].startsWith("{")){var a=o[0].substring(1,o[0].lastIndexOf("}")).split(",");try{for(var s=$5e(a),l=s.next();!l.done;l=s.next()){var c=l.value;null!=t[c]&&(t[c]=Fu(o.slice(1),t[c],e))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}else if(o[0].endsWith("[]")){var u=o[0].substring(0,r[0].indexOf("["));t[u]instanceof Array&&(t[u]=t[u].map(function(h){return Fu(o.slice(1),h,e)}))}else if("*"===o[0])for(var d in t)t[d]=Fu(o.slice(1),t[d],e);else null!=t[o[0]]&&(t[o[0]]=Fu(o.slice(1),t[o[0]],e));return t}var JJ=function(r,t){return Li(Li({},r),t)},l$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sA=function(){return sA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},sA.apply(this,arguments)},lA=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},eee=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e.isEnterprise=function(){return yG.enterpriseModule.isEnterprise},e}return l$e(t,r),t.prototype.updateChart=function(e){var i=e.chartType;if(i&&eJ(i)&&!this.isEnterprise())Ze.__warnEnterpriseChartDisabled(i);else if(0!==this.activeChartComps.size){var n=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.activeChartComps),!1).find(function(o){return o.getChartId()===e.chartId});n?n.update(e):console.warn("AG Grid - Unable to update chart. No active chart found with ID: ".concat(e.chartId,"."))}else console.warn("AG Grid - No active charts to update.")},t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(n){return e.push(function(n){return sA(sA({},n),{version:Kb})}(n.getChartModel()))}),e},t.prototype.getChartRef=function(e){var i;return this.activeCharts.forEach(function(n){n.chartId===e&&(i=n)}),i},t.prototype.getChartComp=function(e){var i;return this.activeChartComps.forEach(function(n){n.getChartId()===e&&(i=n)}),i},t.prototype.getChartImageDataURL=function(e){var i;return this.activeChartComps.forEach(function(n){n.getChartId()===e.chartId&&(i=n.getChartImageDataURL(e.fileFormat))}),i},t.prototype.downloadChart=function(e){var i=Array.from(this.activeChartComps).find(function(n){return n.getChartId()===e.chartId});i?.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var i=Array.from(this.activeChartComps).find(function(n){return n.getChartId()===e.chartId});i?.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var i=Array.from(this.activeChartComps).find(function(n){return n.getChartId()===e});i?.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var i=this.getSelectedRange();return this.createChart(i,e)},t.prototype.restoreChart=function(e,i){var n=this;if(e){e.version!==Kb&&(e=function K5e(r){return null==r.version&&(r.version=function a$e(r){var t,e,i=r;if(null!=r.version)return r.version;var n=function(p){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];return Object.keys(p||{}).some(function(g){return f.includes(g)})},o=i.chartOptions,a=n(o,"seriesDefaults")?o?.seriesDefaults:o?.[Object.keys(o)[0]],s={"27.0.0":n(i,"seriesChartTypes"),"26.2.0":!n(o,"seriesDefaults"),"26.1.0":n(a?.highlightStyle,"item"),"26.0.0":n(a?.highlightStyle,"series"),"25.1.0":n(a?.label,"minAngle"),"25.0.0":n(i,"modelType","aggFunc","unlinkChart","suppressChartRanges")||n(a,"lineDash","lineDashOffset"),"24.0.0":n(i,"chartThemeName","chart")||n(o,"series"),"23.2.0":n(o,"navigator"),"23.0.0":n(null===(e=null===(t=o?.legend)||void 0===t?void 0:t.item)||void 0===e?void 0:e.marker,"shape"),"22.1.0":n(i,"chartPalette","chartType")},c=Object.entries(s).filter(function(p){return KJ(p,2)[1]}),d=KJ(c[0],1)[0];return void 0===d?"27.1.0":d}(r)),r=jo("23.0.0",r,Y5e),r=jo("24.0.0",r,q5e),r=jo("25.1.0",r,X5e),r=jo("26.0.0",r,Z5e),r=jo("26.1.0",r,Q5e),r=jo("26.2.0",r,J5e),r=jo("28.0.0",r,e$e),r=jo("28.2.0",r,t$e),r=jo("29.0.0",r,i$e),r=jo("29.1.0",r,YJ),r=jo("29.2.0",r,qJ),r=jo("30.0.0",r,n$e),r=function o$e(r){return r=zr("chartOptions.*.width",r),BG("chartOptions.*.axes.category.label.autoRotate",!0,r=zr("chartOptions.*.height",r))}(r=jo("31.0.0",r,r$e)),jo(Kb,r,function(t){return t})}(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:i,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(d){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(d):void 0};if("pivot"===e.modelType){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var c=a({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(d){return d.getColId()})});return c?this.createChart(c,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var u=a(o.cellRange);if(u)return this.createChart(u,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var i,n=null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange);if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var i={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(i):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var i,n=null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange);if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,!(typeof e.suppressChartRanges<"u"&&null!==e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,i,n,o,a,s,l,c,u,d,h,p,f){var m=this;if(void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===u&&(u=!1),void 0===d&&(d=!1),!eJ(i)||this.isEnterprise()){var g=this.gridOptionsService.getCallback("createChartContainer"),v={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:Fb(i),chartThemeName:n,insideDialog:!(s||g),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:c,unlinkChart:u,crossFiltering:d,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:h,chartPaletteToRestore:p,seriesChartTypes:f,crossFilteringResetCallback:function(){return m.activeChartComps.forEach(function(w){return w.crossFilteringReset()})}},y=new $J(v);this.context.createBean(y);var _=this.createChartRef(y);if(s){s.appendChild(y.getGui());var b=this.environment.getTheme();b.el&&!b.el.contains(s)&&s.classList.add(b.theme)}else g?g(_):y.addEventListener($J.EVENT_DESTROYED,function(){m.activeChartComps.delete(y),m.activeCharts.delete(_)});return _}Ze.__warnEnterpriseChartDisabled(i)},t.prototype.createChartRef=function(e){var i=this,n={destroyChart:function(){i.activeCharts.has(n)&&(i.context.destroyBean(e),i.activeChartComps.delete(e),i.activeCharts.delete(n))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(e),n},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-".concat(Math.random().toString(36).substring(2,18))},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION="9.1.1",lA([gt("rangeService")],t.prototype,"rangeService",void 0),lA([C("columnModel")],t.prototype,"columnModel",void 0),lA([Oi],t.prototype,"destroyAllActiveCharts",null),lA([oe("chartService")],t)}(z),d$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),p$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return d$e(t,r),e=t,t.prototype.translate=function(i,n){return this.localeService.getLocaleTextFunc()(i,e.DEFAULT_TRANSLATIONS[i]||n)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",radiusAxis:"Radius Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",labelRotation:"Rotation",circle:"Circle",orientation:"Orientation",polygon:"Polygon",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",heatmapTooltip:"Heatmap",waterfallTooltip:"Waterfall",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",group:"Group",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("chartTranslationService")],t),t}(z),f$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cA=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},m$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return f$e(t,r),e=t,t.prototype.filter=function(i,n){void 0===n&&(n=!1);var o=this.gridApi.getFilterModel();if(n)this.resetFilters(o);else{var a=e.extractFilterColId(i);this.isValidColumnFilter(a)?this.updateFilters(o,i,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")}},t.prototype.resetFilters=function(i){Object.keys(i).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(i,n,o){var a,s=e.extractFilterColId(n),l=n.datum[s];if(void 0!==l){var c=l.toString();if(n.event.metaKey||n.event.ctrlKey){var u=this.getCurrentGridValuesForCategory(o),h=void 0;D.includes(u,c)?h=u.filter(function(p){return p!==c}):(h=u).push(c),i[o]=this.getUpdatedFilterModel(o,h)}else(a={})[o]=this.getUpdatedFilterModel(o,h=[c]),i=a;this.gridApi.setFilterModel(i)}},t.prototype.getUpdatedFilterModel=function(i,n){return"agMultiColumnFilter"===this.getColumnFilterType(i)?{filterType:"multi",filterModels:[null,{filterType:"set",values:n}]}:{filterType:"set",values:n}},t.prototype.getCurrentGridValuesForCategory=function(i){var n=this,o=[],a=this.getColumnById(i);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=n.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(i){return i.xKey||i.calloutLabelKey},t.prototype.isValidColumnFilter=function(i){i.indexOf("-filtered-out")&&(i=i.replace("-filtered-out",""));var n=this.getColumnFilterType(i);return"boolean"==typeof n?n:D.includes(["agSetColumnFilter","agMultiColumnFilter"],n)},t.prototype.getColumnFilterType=function(i){var n=this.getColumnById(i);if(n)return n.getColDef().filter},t.prototype.getColumnById=function(i){return this.columnModel.getGridColumn(i)},cA([C("gridApi")],t.prototype,"gridApi",void 0),cA([C("columnModel")],t.prototype,"columnModel",void 0),cA([C("valueService")],t.prototype,"valueService",void 0),e=cA([oe("chartCrossFilterService")],t)}(z),g$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_h=function(){return _h=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},_h.apply(this,arguments)},gc=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qb=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},fv=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},y$e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return g$e(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new _E({scrollContainer:i.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(n){return i.getScrollFeature().setVerticalScrollPosition(n)},getHorizontalPosition:function(){return i.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(n){return i.getScrollFeature().setHorizontalScrollPosition(n)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!i.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var i=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&-1!==i.indexOf(l)}),!D.areEqual(a,o.columns)&&e.dispatchChangedEvent(!1,!0,o.id)});var n=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),n>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=D.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var i=e.columns;if(!i.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),o=i.map(function(a){return n.indexOf(a)}).sort(function(a,s){return a-s});return D.last(o)-o[0]+1===i.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var i=this.pinnedRowModel.getPinnedBottomRowCount();return i>0?{rowIndex:i-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,i){if(void 0===i&&(i=!1),this.gridOptionsService.get("enableRangeSelection")){var n=this.calculateColumnsBetween(e.column,e.column);if(n){(this.gridOptionsService.get("suppressMultiRangeSelection")||!i||D.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.cellRanges.push({startRow:a,endRow:a,columns:n,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=D.last(this.cellRanges);this.updateRangeEnd(i,e)}},t.prototype.updateRangeEnd=function(e,i,n){void 0===n&&(n=!1);var a=this.calculateColumnsBetween(e.startColumn,i.column);!a||this.isLastCellOfRange(e,i)||(e.columns=a,e.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},n||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var i=e.startColumn,n=e.columns,o=function(d,h){var p=e.columns.filter(function(f){return f!==d});d?(e.startColumn=d,e.columns=h?fv([d],qb(p),!1):fv(fv([],qb(p),!1),[d],!1)):e.columns=p},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right;i===n[0]&&i!==s?o(s,!0):i===D.last(n)&&i===l&&o(l,!1)},t.prototype.getRangeEdgeColumns=function(e){var i=this.columnModel.getAllDisplayedColumns(),n=e.columns.map(function(o){return i.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:i[n[0]],right:i[D.last(n)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=e.key,n=e.ctrlKey||e.metaKey,o=D.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=D.last(o.columns),p=this.cellNavigationService.getNextCellToFocus(i,{column:a.column===s?l:s,rowIndex:o.endRow.rowIndex,rowPinned:o.endRow.rowPinned},n);if(p)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnStart:a.column,columnEnd:p.column}),p}},t.prototype.setCellRange=function(e){this.gridOptionsService.get("enableRangeSelection")&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var i=this;D.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(n){n.columns&&n.startRow&&i.setNewestRangeStartCell({rowIndex:n.startRow.rowIndex,rowPinned:n.startRow.rowPinned,column:n.columns[0]}),i.cellRanges.push(n)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e){var i=this,n=e.cellRanges,o=e.cellEventSource,a=void 0===o?"rangeService":o,s=e.dispatchWrapperEvents,l=e.wrapperEventSource,c=void 0===l?"deleteKey":l;s&&this.eventService.dispatchEvent({type:x.EVENT_RANGE_DELETE_START,source:c}),n||(n=this.cellRanges),n.forEach(function(h){i.forEachRowInRange(h,function(p){var f=i.rowPositionUtils.getRowNode(p);if(f)for(var m=0;m<h.columns.length;m++){var g=i.columnModel.getGridColumn(h.columns[m]);!g||!g.isCellEditable(f)||f.setDataValue(g,null,a)}})}),s&&this.eventService.dispatchEvent({type:x.EVENT_RANGE_DELETE_END,source:c})},t.prototype.createCellRangeFromCellRangeParams=function(e){var n,i=this,o=!1;if(e.columns)n=e.columns.map(function(u){return i.columnModel.getColumnWithValidation(u)}).filter(function(u){return u});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;(n=this.calculateColumnsBetween(a,s))&&n.length&&(o=n[0]!==a)}if(n)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:n,startColumn:o?D.last(n):n[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var i=this.createCellRangeFromCellRangeParams(e);i&&(i.startRow&&this.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.startColumn}),this.cellRanges.push(i),this.dispatchChangedEvent(!1,!0,i.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var i=this.cellRanges[0],n=this.getRangeStartRow(i),o=this.getRangeEndRow(i);return n.rowPinned!==o.rowPinned||n.rowIndex!==o.rowIndex||1!==i.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,i,s,n=this,o=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(h){n.forEachRowInRange(h,function(p){var f="".concat(p.rowPinned||"normal","_").concat(p.rowIndex),m=o.get(f),g=h.columns.map(function(y){return y.getId()});if(m){var v=g.filter(function(y){return-1===m.indexOf(y)});m.push.apply(m,fv([],qb(v),!1))}else o.set(f,g)})});try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o.values()),c=l.next();!c.done;c=l.next()){var d=c.value.sort().join();if(void 0!==s){if(s!==d)return!1}else s=d}}catch(h){e={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,i){for(var n=this.getRangeStartRow(e),o=this.getRangeEndRow(e),a=n;a&&(i(a),!this.rowPositionUtils.sameRow(a,o));)a=this.cellNavigationService.getRowBelow(a)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,i){var n=null!==i.columns&&D.includes(i.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,i);return n&&o},t.prototype.isLastCellOfRange=function(e,i){var n=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(n,o)?o:n,s=i.rowIndex===a.rowIndex&&i.rowPinned===a.rowPinned,l=e.columns[0],c=D.last(e.columns);return i.column===(e.startColumn===l?c:l)&&s},t.prototype.isBottomRightCell=function(e,i){var n=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(d){return n.indexOf(d)}).sort(function(d,h){return d-h}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,c=n.indexOf(i.column)===D.last(o),u=i.rowIndex===l.rowIndex&&D.makeNull(i.rowPinned)===D.makeNull(l.rowPinned);return c&&u},t.prototype.getCellRangeCount=function(e){var i=this;return this.isEmpty()?0:this.cellRanges.filter(function(n){return i.isCellInSpecificRange(e,n)}).length},t.prototype.isRowInRange=function(e,i,n){var o=this.getRangeStartRow(n),a=this.getRangeEndRow(n),s={rowIndex:e,rowPinned:i||null};if(s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned||s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned)return!0;var u=!this.rowPositionUtils.before(s,o),d=this.rowPositionUtils.before(s,a);return u&&d},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var o=e.shiftKey,a=e.ctrlKey||e.metaKey,l=!this.gridOptionsService.get("suppressMultiRangeSelection")&&a,c=o&&D.existsAndNotEmpty(this.cellRanges);!l&&(!c||D.exists(D.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var u=this.dragService.getStartTarget();if(u&&this.updateValuesOnMove(u),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=l&&this.getCellRangeCount(this.lastCellHovered)>1,c||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=D.last(this.cellRanges);else{var d={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:d,endRow:d,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var i=this;if(!(e&&this.dragging||this.gridOptionsService.get("suppressMultiRangeSelection")||this.isEmpty())){var n=D.last(this.cellRanges),o=this.getRangeStartRow(n),a=this.getRangeEndRow(n),s=[];this.cellRanges.slice(0,-1).forEach(function(l){var c=i.getRangeStartRow(l),u=i.getRangeEndRow(l),d=l.columns,h=d.filter(function(g){return-1===n.columns.indexOf(g)});if(h.length!==d.length)if(i.rowPositionUtils.before(a,c)||i.rowPositionUtils.before(u,o))s.push(l);else{var p=s.length;if(i.rowPositionUtils.before(c,o)){var f={columns:fv([],qb(d),!1),startColumn:n.startColumn,startRow:_h({},c),endRow:i.cellNavigationService.getRowAbove(o)};s.push(f)}if(h.length>0){var m={columns:h,startColumn:D.includes(h,n.startColumn)?n.startColumn:h[0],startRow:i.rowPositionUtils.rowMax([_h({},o),_h({},c)]),endRow:i.rowPositionUtils.rowMin([_h({},a),_h({},u)])};s.push(m)}i.rowPositionUtils.before(a,u)&&s.push({columns:fv([],qb(d),!1),startColumn:n.startColumn,startRow:i.cellNavigationService.getRowBelow(a),endRow:_h({},u)}),s.length-p==1&&(s[s.length-1].id=l.id)}else s.push(l)}),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var i=D.getCtrlForEventTarget(this.gridOptionsService,e,xd.DOM_DATA_KEY_CELL_CTRL),n=i?.getCellPosition();this.cellHasChanged=!1,!(!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},t.prototype.onDragging=function(e){var i=this;if(this.dragging&&e){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var n=this.lastCellHovered,o=function(l){return n&&n.rowPinned===l&&i.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);s&&(this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,i,n){this.eventService.dispatchEvent({type:x.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:i,id:n})},t.prototype.calculateColumnsBetween=function(e,i){var n=this.columnModel.getAllDisplayedColumns(),o=e===i,a=n.indexOf(e);if(a<0)console.warn("AG Grid: column ".concat(e.getId()," is not visible"));else{var s=o?a:n.indexOf(i);if(!(s<0)){if(o)return[e];for(var l=Math.min(a,s),c=l===a?s:a,u=[],d=l;d<=c;d++)u.push(n[d]);return u}console.warn("AG Grid: column ".concat(i.getId()," is not visible"))}},gc([C("rowModel")],t.prototype,"rowModel",void 0),gc([C("dragService")],t.prototype,"dragService",void 0),gc([C("columnModel")],t.prototype,"columnModel",void 0),gc([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),gc([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gc([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),gc([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),gc([C("ctrlsService")],t.prototype,"ctrlsService",void 0),gc([j],t.prototype,"init",null),gc([oe("rangeService")],t)}(z),_$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),al=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},tee=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return _$e(t,r),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(i){e.dragging=!0,e.rangeService.autoScrollService.check(i),e.changedCalculatedValues&&(e.onDrag(i),e.changedCalculatedValues=!1)},onDragStop:function(i){e.dragging=!1,e.onDragEnd(i),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-".concat(this.type===da.FILL?"fill":"range","-handle")},t.prototype.updateValuesOnMove=function(e){var i=this.mouseEventService.getCellPositionForEvent(e);!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered)||(this.lastCellHovered=i,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var i=this.getCellCtrl(),n=this.getGui(),o=D.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s&&(this.rowPositionUtils.before(s,a)?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))),i!==e||!D.isVisible(n)){this.setCellCtrl(e);var c=e.getComp().getParentOfValue();c&&c.appendChild(n)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return D.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,r.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},al([C("rowRenderer")],t.prototype,"rowRenderer",void 0),al([C("dragService")],t.prototype,"dragService",void 0),al([C("rangeService")],t.prototype,"rangeService",void 0),al([C("mouseEventService")],t.prototype,"mouseEventService",void 0),al([C("columnModel")],t.prototype,"columnModel",void 0),al([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),al([C("navigationService")],t.prototype,"navigationService",void 0),al([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),al([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),al([C("ctrlsService")],t.prototype,"ctrlsService",void 0),al([j],t.prototype,"init",null),t}(le);function C$e(r){var t=r.length,e=0;if(t<=1)return r;for(var i=0;i<r.length;i++){var n=r[i],o=n.toString().split("e-");o.length>1?e=Math.max(e,parseInt(o[1],10)):Math.floor(n)!==n&&(e=Math.max(e,n.toString().split(".")[1].length))}for(var a=0,s=0,l=0,c=0,u=0,d=0;d<t;d++)a+=d,s+=u=r[d],c+=d*d,l+=d*u;var h=(t*l-a*s)/(t*c-a*a),p=s/t-h*a/t,f=[];for(d=0;d<=t;d++)f.push(parseFloat((d*h+p).toFixed(e)));return f}var b$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mv=function(){return mv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},mv.apply(this,arguments)},HG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},iee=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=da.FILL,e}return b$e(t,r),t.prototype.updateValuesOnMove=function(e){r.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var h,i=this.initialXY,n=i.x,o=i.y,a=this.mouseEventService.getNormalisedPosition(e),l=a.y,c=Math.abs(n-a.x),u=Math.abs(o-l),d=this.getFillHandleDirection();(h="xy"===d?c>u?"x":"y":d)!==this.dragAxis&&(this.dragAxis=h,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var i=this.getCellCtrl();if(!i)return;this.initialPosition=i.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var l,i="x"===this.dragAxis,n=this.getCellRange(),o=n.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var c=i?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,columnStart:i?this.lastCellMarked.column:n.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:n.columns[o-1]})}else l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n.columns[0],rowEndIndex:i?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:i?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:i?this.lastCellMarked.column:n.columns[o-1]});l&&(this.raiseFillStartEvent(),this.handleValueChanged(n,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(n,l))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?"x"!==e&&"y"!==e&&"xy"!==e?(D.warnOnce("valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'."),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_FILL_START})},t.prototype.raiseFillEndEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_FILL_END,initialRange:e,finalRange:i})},t.prototype.handleValueChanged=function(e,i,n){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(i),c=this.rangeService.getRangeStartRow(i),u="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.get("suppressClearOnFillReduction")){var p=[],f=[],m=[],g=[],v=!0,y=0,_=function(){p.length=0,f.length=0,m.length=0,g.length=0,y=0},b=function(E,M){var P=o.isUp?a:s,I=!1;u&&(v=!0,_());for(var k=function(){var B=o.rowPositionUtils.getRowNode(P);if(!B)return"break";u&&E?w(p,E,B,function(){return!o.rowPositionUtils.sameRow(P,o.isUp?s:a)}):M&&(v=!0,_(),M.forEach(function(Y){return w(p,Y,B,function(){return Y!==(o.isLeft?e.columns[0]:D.last(e.columns))})})),I=o.rowPositionUtils.sameRow(P,o.isUp?c:l),P=o.isUp?o.cellNavigationService.getRowAbove(P):o.cellNavigationService.getRowBelow(P)};!I&&P&&"break"!==k(););},w=function(E,M,P,I){var k,N,B,Y=!1;if(v)B=o.valueService.getValue(M,P),f.push(B),m.push(o.valueService.getValue(M,P,void 0,!0)),g.push(o.valueFormatterService.formatValue(M,P,B)),v=I();else{var ne=o.processValues({event:n,values:E,initialValues:f,initialNonAggregatedValues:m,initialFormattedValues:g,col:M,rowNode:P,idx:y++}),W=ne.fromUserFunction,$=ne.sourceCol,Z=ne.sourceRowNode;if(B=ne.value,M.isCellEditable(P)){var ce=o.valueService.getValue(M,P);W||($&&!1!==(null===(k=$.getColDef())||void 0===k?void 0:k.useValueFormatterForExport)&&(B=null!==(N=o.valueFormatterService.formatValue($,Z,B))&&void 0!==N?N:B),!1!==M.getColDef().useValueParserForImport&&(B=o.valueParserService.parseValue(M,P,$?B:D.toStringOrNull(B),ce))),W&&ce===B?Y=!0:P.setDataValue(M,B,"rangeService")}}Y||E.push({value:B,column:M,rowNode:P})};u?e.columns.forEach(function(E){b(E)}):(d=this.isLeft?function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i.columns),!1).reverse():i.columns,b(void 0,d))}else{var d=u?e.columns:e.columns.filter(function(E){return i.columns.indexOf(E)<0}),h=u?this.cellNavigationService.getRowBelow(l):c;h&&this.clearCellsInRange(h,a,d)}},t.prototype.clearCellsInRange=function(e,i,n){this.rangeService.clearCellRangeCellValues({cellRanges:[{startRow:e,endRow:i,columns:n,startColumn:n[0]}]})},t.prototype.processValues=function(e){var p,i=e.event,n=e.values,o=e.initialValues,a=e.initialNonAggregatedValues,s=e.initialFormattedValues,l=e.col,c=e.rowNode,u=e.idx,d=this.gridOptionsService.getCallback("fillOperation");if(p="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",d){var m=d({event:i,values:n.map(function(E){return E.value}),initialValues:o,initialNonAggregatedValues:a,initialFormattedValues:s,currentIndex:u,currentCellValue:this.valueService.getValue(l,c),direction:p,column:l,rowNode:c});if(!1!==m)return{value:m,fromUserFunction:!0}}var g=!n.some(function(E){var M=E.value,P=parseFloat(M);return isNaN(P)||P.toString()!==M.toString()});if(i.altKey||!g){if(g&&1===o.length){var v=this.isUp||this.isLeft?-1:1;return{value:parseFloat(D.last(n).value)+1*v,fromUserFunction:!1}}var y=n[u%n.length];return{value:y.value,fromUserFunction:!1,sourceCol:y.column,sourceRowNode:y.rowNode}}return{value:D.last(C$e(n.map(function(E){return Number(E.value)}))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,r.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var i=e.getComp();i.addOrRemoveCssClass("ag-selection-fill-top",!1),i.addOrRemoveCssClass("ag-selection-fill-right",!1),i.addOrRemoveCssClass("ag-selection-fill-bottom",!1),i.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,i){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(i,e))return;var n=this.rowPositionUtils.before(i,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();n&&(i.rowPinned==o.rowPinned&&i.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&i.rowPinned==a.rowPinned&&i.rowIndex<=a.rowIndex)?(this.reduceVertical(e,i),this.isReduce=!0):(this.extendVertical(e,i,n),this.isReduce=!1)}else{var s=e.column,l=i.column;if(s===l)return;var c=this.columnModel.getAllDisplayedColumns(),u=c.indexOf(s),d=c.indexOf(l);d<=u&&d>=c.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,i),this.isReduce=!0):(this.extendHorizontal(e,i,d<u),this.isReduce=!1)}this.lastCellMarked=i},t.prototype.extendVertical=function(e,i,n){var a=this.navigationService,s=this.rangeService,l=e;do{for(var c=this.getCellRange(),u=c.columns.length,d=0;d<u;d++){var h=c.columns[d],f=mv(mv({},{rowIndex:l.rowIndex,rowPinned:l.rowPinned}),{column:h}),m=s.isCellInSpecificRange(f,c),g=this.rowPositionUtils.sameRow(l,e);if(n&&(this.isUp=!0),!g){var v=a.getCellByPosition(f);if(v){this.markedCells.push(v);var y=v.getComp();m||(y.addOrRemoveCssClass("ag-selection-fill-left",0===d),y.addOrRemoveCssClass("ag-selection-fill-right",d===u-1)),y.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,i))}}}if(this.rowPositionUtils.sameRow(l,i))break}while(l=n?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,i){var n=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(n,i),l=0;l<a;l++){var u=mv(mv({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:o.columns[l]}),d=this.navigationService.getCellByPosition(u);d&&(this.markedCells.push(d),d.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,i)))}if(s)break}while(n=this.cellNavigationService.getRowAbove(n))},t.prototype.extendHorizontal=function(e,i,n){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(n?i.column:e.column),l=a.indexOf(n?this.getCellRange().columns[0]:i.column),c=n?0:1,u=a.slice(s+c,l+c),d=this.getRangeStartRow(),h=this.getRangeEndRow();u.forEach(function(p){var f=d,m=!1;do{m=o.rowPositionUtils.sameRow(f,h);var g=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:p});if(g){o.markedCells.push(g);var v=g.getComp();v.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,d)),v.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,h)),n?(o.isLeft=!0,v.addOrRemoveCssClass("ag-selection-fill-left",p===u[0])):v.addOrRemoveCssClass("ag-selection-fill-right",p===D.last(u))}f=o.cellNavigationService.getRowBelow(f)}while(!m)})},t.prototype.reduceHorizontal=function(e,i){var n=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(i.column),s=o.indexOf(e.column),l=o.slice(a,s),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach(function(d){var h=c,p=!1;do{p=n.rowPositionUtils.sameRow(h,u);var f=n.navigationService.getCellByPosition({rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:d});f&&(n.markedCells.push(f),f.getComp().addOrRemoveCssClass("ag-selection-fill-right",d===l[0])),h=n.cellNavigationService.getRowBelow(h)}while(!p)})},t.prototype.refresh=function(e){var i=this.rangeService.getCellRanges()[0];i.startRow&&i.endRow?r.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',HG([C("valueService")],t.prototype,"valueService",void 0),HG([C("valueParserService")],t.prototype,"valueParserService",void 0),HG([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(tee),x$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uA=function(){return uA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},uA.apply(this,arguments)},nee=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.type=da.RANGE,e.rangeFixed=!1,e}return x$e(t,r),t.prototype.onDrag=function(e){var i=this.getLastCellHovered();if(i){var n=this.rangeService.getCellRanges(),o=D.last(n);this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column},2===n.length&&n[0].type===cr.DIMENSION&&o.type===cr.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(n[0],uA(uA({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var i=D.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(i),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var i=this.rangeService.getRangeStartRow(e),n=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=i,e.endRow=n,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(tee),E$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),T$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return E$e(t,r),t.prototype.createSelectionHandle=function(e){return this.createBean(e===da.RANGE?new nee:new iee)},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("selectionHandleFactory")],t),t}(z),ree={version:"31.1.1",moduleName:ie.RangeSelectionModule,beans:[y$e,T$e],agStackComponents:[{componentName:"AgFillHandle",componentClass:iee},{componentName:"AgRangeHandle",componentClass:nee}],dependantModules:[ur]},jG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},oee=28,aee=6;function UG(r){return r&&r.match(/\d+\.\d+\.\d+/)}function dA(r){var t=r.type,e=r.gridVersion,i=r.chartsVersion,n="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return n;var o=function M$e(r){if(r&&UG(r)){var t=jG(r.split(".")||[],2),e=t[0],i=t[1],n="".concat(e,".").concat(i,".x"),a=parseInt(e,10)-oee+aee;if(!(a<0)){var s=i;return{gridMajorMinor:n,chartsMajorMinor:"".concat(a,".").concat(s,".x")}}}}(e);if(!o)return n;var a=o.gridMajorMinor,s=o.chartsMajorMinor;return"incompatible"===t?"AG Grid version ".concat(e," and AG Charts version ").concat(i," is not supported. AG Grid version ").concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):"invalidCharts"===t?"AG Grid version ".concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):n}var P$e={version:Kb,validate:function(){return function R$e(r){var t=r.gridVersion,e=r.chartsVersion;if(!UG(e))return{isValid:!1,message:dA({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!UG(t))return{isValid:!1,message:dA({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var i=jG(t.split(".")||[],2),n=i[0],o=i[1],a=jG(e.split(".")||[],2),l=a[1],c=function O$e(r){var e=r.chartsMajorVersion,i=parseInt(r.gridMajorVersion,10),n=parseInt(e,10),o=i-oee;return o===n-aee&&o>=0}({gridMajorVersion:n,chartsMajorVersion:a[0]});return c&&o===l?{isValid:!0}:c&&o===l?{isValid:!1,message:dA({type:"invalid",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:dA({type:"incompatible",gridVersion:t,chartsVersion:e})}}({gridVersion:Kb,chartsVersion:eee.CHARTS_VERSION})},moduleName:ie.GridChartsModule,beans:[eee,p$e,m$e],agStackComponents:[{componentName:"AgColorPicker",componentClass:pJ},{componentName:"AgAngleSelect",componentClass:uJ}],dependantModules:[ree,ur]},I$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zG=function(){return zG=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},zG.apply(this,arguments)},see=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},lee=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.loadRowDataVersion=0,e}return I$e(t,r),t.prototype.init=function(e,i){this.params=i,this.comp=e,null!=i.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(this.eventService,x.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var i=this.params;this.rowPositionUtils.sameRow({rowIndex:i.node.rowIndex,rowPinned:i.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.get("detailRowAutoHeight"),n=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(n,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(D.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsService.get("detailRowAutoHeight"),i=zG({},this.params.detailGridOptions);e&&(i.domLayout="autoHeight"),this.comp.setDetailGrid(i)}},t.prototype.registerDetailWithMaster=function(e,i){var n=this.params.node.id,o=this.params.api,a={id:n,api:e,columnApi:i},s=this.params.node;o.addDetailGridInfo(n,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(n),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var i,n,o,e=this;this.loadRowDataVersion++;var a=this.loadRowDataVersion;if("serverSide"!==(null===(i=this.params.detailGridOptions)||void 0===i?void 0:i.rowModelType)){var l=this.params.getDetailRowData;l?l({node:this.params.node,data:this.params.node.data,successCallback:function(d){e.loadRowDataVersion===a&&e.comp.setRowData(d)},context:this.gridOptionsService.getGridCommonParams().context}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")}else null===(o=null===(n=this.params.node.detailGridInfo)||void 0===n?void 0:n.api)||void 0===o||o.refreshServerSide({purge:!0})},t.prototype.refresh=function(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0},see([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),see([C("focusService")],t.prototype,"focusService",void 0),t}(z),F$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),L$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return F$e(t,r),t.prototype.init=function(e){var i=this;this.params=e,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(o,a){return i.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return i.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return i.setDetailGrid(o)},setRowData:function(o){return i.setRowData(o)},getGui:function(){return i.eDetailGrid}};this.ctrl=this.createManagedBean(new lee),this.ctrl.init(n,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var i=function(){e.setTemplate(t.TEMPLATE)};if(D.missing(this.params.template))i();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),i();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var i=this.context.getBean("agGridReact"),n=i?D.cloneObject(i):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides(),s=O7(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:n,frameworkComponentWrapper:o},modules:Ze.__getGridRegisteredModules(this.params.api.getGridId())});this.detailApi=s,this.ctrl.registerDetailWithMaster(s,new cC(s)),this.addDestroyFunc(function(){s?.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setGridOption("rowData",e)},t.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);n>3&&o&&Object.defineProperty(t,e,o)}([G("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(le),G$e={version:"31.1.1",moduleName:ie.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:L$e}],controllers:[{controllerName:"detailCellRenderer",controllerClass:lee}],dependantModules:[ur]},WG=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hr=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},V$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return WG(t,r),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,i,n,o){var a=this,s=o?"filterMenuTab":void 0;this.showMenu(e,function(l){var c,u=l.getGui();a.popupService.positionPopupUnderMouseEvent({type:n,column:e,mouseEvent:i,ePopup:u}),s&&(null===(c=l.showTab)||void 0===c||c.call(l,s)),a.dispatchVisibleChangedEvent(!0,!1,e,s)},n,s,void 0,i.target)},t.prototype.showMenuAfterButtonClick=function(e,i,n,o){var a=this,s=-1,l="left";this.gridOptionsService.get("enableRtl")&&(s=1,l="right");var c=o?"filterMenuTab":void 0,u=c?[c]:void 0,d=this.menuService.isLegacyMenuEnabled(),h=(d?9:4)*s,p=d?-23:4;this.showMenu(e,function(f){var m,g=f.getGui();a.popupService.positionPopupByComponent({type:n,column:e,eventSource:i,ePopup:g,alignSide:l,nudgeX:h,nudgeY:p,position:"under",keepWithinBounds:!0}),c&&(null===(m=f.showTab)||void 0===m||m.call(f,c)),a.dispatchVisibleChangedEvent(!0,!1,e,c)},n,c,u,i)},t.prototype.showMenu=function(e,i,n,o,a,s){var c,l=this,u=this.getMenuParams(e,a,s),d=u.menu,h=u.eMenuGui,p=u.anchorToElement,f=u.restoreFocusParams,m=[];e&&m.push(function(y){var _=d.getGui();l.destroyBean(d),e?.setMenuVisible(!1,"contextMenu"),l.menuUtils.restoreFocusOnClose(f,_,y)});var g=this.localeService.getLocaleTextFunc();if(this.popupService.addPopup({modal:!0,eChild:h,closeOnEsc:!0,closedCallback:function(y){m.forEach(function(_){return _(y)}),l.dispatchVisibleChangedEvent(!1,!1,e,o)},afterGuiAttached:function(y){return d.afterGuiAttached(Object.assign({},{container:n},y))},positionCallback:o?function(){return i(d)}:void 0,ariaLabel:g("ariaLabelColumnMenu","Column Menu")}),o||(null===(c=d.showTabBasedOnPreviousSelection)||void 0===c||c.call(d),i(d)),this.menuService.isColumnMenuAnchoringEnabled()){var v=this.popupService.setPopupPositionRelatedToElement(h,p);v&&e&&this.addStopAnchoring(v,e,m)}d.addEventListener(Xb.EVENT_TAB_SELECTED,function(y){l.dispatchVisibleChangedEvent(!1,!0,e),l.lastSelectedTab=y.key,l.dispatchVisibleChangedEvent(!0,!0,e)}),e?.setMenuVisible(!0,"contextMenu"),this.activeMenu=d,d.addEventListener(z.EVENT_DESTROYED,function(){l.activeMenu===d&&(l.activeMenu=null)})},t.prototype.addStopAnchoring=function(e,i,n){e.then(function(o){i.addEventListener("leftChanged",o),i.addEventListener("visibleChanged",o),n.push(function(){i.removeEventListener("leftChanged",o),i.removeEventListener("visibleChanged",o)})})},t.prototype.getMenuParams=function(e,i,n){var o={column:e,headerPosition:this.focusService.getFocusedHeader(),columnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),eventSource:n},a=this.createMenu(e,o,i,n);return{menu:a,eMenuGui:a.getGui(),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui(),restoreFocusParams:o}},t.prototype.createMenu=function(e,i,n,o){return this.menuService.isLegacyMenuEnabled()?this.createBean(new Xb(e,i,this.lastSelectedTab,n,o)):this.createBean(new B$e(e,i,o))},t.prototype.dispatchVisibleChangedEvent=function(e,i,n,o){var a,s,l={type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:i,key:null!==(s=null!==(a=this.lastSelectedTab)&&void 0!==a?a:o)&&void 0!==s?s:this.menuService.isLegacyMenuEnabled()?Xb.TAB_GENERAL:"columnMenu",column:n??null};this.eventService.dispatchEvent(l)},t.prototype.isMenuEnabled=function(e){var i;if(!this.menuService.isLegacyMenuEnabled())return!0;var n=!this.filterManager.isFilterAllowed(e),o=null!==(i=e.getColDef().menuTabs)&&void 0!==i?i:Xb.TABS_DEFAULT;return(n&&o.includes(Xb.TAB_FILTER)?o.length-1:o.length)>0},t.prototype.showMenuAfterContextMenuEvent=function(e,i,n){var o=this;this.menuUtils.onContextMenu(i,n,function(a){return o.showMenuAfterMouseEvent(e,a,"columnMenu"),!0})},hr([C("popupService")],t.prototype,"popupService",void 0),hr([C("focusService")],t.prototype,"focusService",void 0),hr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),hr([C("columnModel")],t.prototype,"columnModel",void 0),hr([C("filterManager")],t.prototype,"filterManager",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([C("menuService")],t.prototype,"menuService",void 0),hr([oe("enterpriseMenuFactory")],t)}(z),Xb=function(r){function t(e,i,n,o,a){var s=r.call(this)||this;return s.column=e,s.restoreFocusParams=i,s.initialSelection=n,s.restrictTo=o,s.sourceElement=a,s.tabFactories={},s.includeChecks={},s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return!!e&&s.filterManager.isFilterAllowed(e)},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s}return WG(t,r),t.prototype.init=function(){var e=this,i=this.getTabsToCreate().map(function(n){return e.createTab(n)});this.tabbedLayout=new $Y({items:i,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var i,n,e=this;return this.restrictTo?this.restrictTo:(null!==(n=null===(i=this.column)||void 0===i?void 0:i.getColDef().menuTabs)&&void 0!==n?n:t.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||Ze.__isRegistered(ie.ColumnsToolPanelModule,this.context.getGridId())},t.prototype.isValidMenuTabItem=function(e){var i=!0,n=t.TABS_DEFAULT;return null!=this.restrictTo&&(i=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),(i=i&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '".concat(e,"'. Check that your 'menuTabs' contains one of [").concat(n,"]")),i},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var i=null;switch(e.item){case this.tabItemColumns:i=t.TAB_COLUMNS;break;case this.tabItemFilter:i=t.TAB_FILTER;break;case this.tabItemGeneral:i=t.TAB_GENERAL}i&&this.activateTab(i)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.createMainPanel=function(){var e=this;return this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var i;return null!==(i=e.sourceElement)&&void 0!==i?i:e.getGui()}),this.mainMenuList.addEventListener(Bs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.tabItemGeneral={title:D.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:vt.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.createFilterPanel=function(){var e=this.column?this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"):null;if(!e)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:D.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e?.guiPromise,afterAttachedCallback:function(o){e?.filterPromise&&e.filterPromise.then(function(a){a&&a.afterGuiAttached&&a.afterGuiAttached(o)})},afterDetachedCallback:function(){var o;return null===(o=e?.filterPromise)||void 0===o?void 0:o.then(function(a){var s;return null===(s=a?.afterGuiDetached)||void 0===s?void 0:s.call(a)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var n=this.columnChooserFactory.createColumnSelectPanel(this,this.column).getGui();return n.classList.add("ag-menu-column-select"),e.appendChild(n),this.tabItemColumns={title:D.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:vt.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var n=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],hr([C("filterManager")],t.prototype,"filterManager",void 0),hr([C("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),hr([C("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([j],t.prototype,"init",null),t}(z),B$e=function(r){function t(e,i,n){var o=r.call(this,'\n            <div ref="eColumnMenu" role="presentation" class="ag-menu ag-column-menu"></div>\n        ')||this;return o.column=e,o.restoreFocusParams=i,o.sourceElement=n,o}return WG(t,r),t.prototype.init=function(){var e=this;this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var i;return null!==(i=e.sourceElement)&&void 0!==i?i:e.getGui()}),this.mainMenuList.addEventListener(Bs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(this.mainMenuList.getGui())},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.afterGuiAttached=function(e){var i=e.hidePopup;i&&(this.hidePopupFunc=i,this.addDestroyFunc(i)),this.focusService.focusInto(this.mainMenuList.getGui())},hr([C("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([C("focusService")],t.prototype,"focusService",void 0),hr([G("eColumnMenu")],t.prototype,"eColumnMenu",void 0),hr([j],t.prototype,"init",null),t}(le),cee=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hA=function(){return hA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},hA.apply(this,arguments)},vc=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},uee="ag-context-menu-open",j$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cee(t,r),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,i,n){var o=[];if(D.exists(e)&&Ze.__isRegistered(ie.ClipboardModule,this.context.getGridId())&&i&&(this.gridOptionsService.get("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.get("enableCharts")&&Ze.__isRegistered(ie.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),D.exists(e)){var a=!Ze.__isRegistered(ie.CsvExportModule,this.context.getGridId()),s=!Ze.__isRegistered(ie.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.get("suppressExcelExport")||s,c=this.gridOptionsService.get("suppressCsvExport")||a;!(D.isIOSUserAgent()||l&&c)&&o.push("export")}var h=o.length?o:void 0,p=i?.getColDef().contextMenuItems;if(Array.isArray(p))return p;if("function"==typeof p)return p(this.gridOptionsService.addGridCommonParams({column:i,node:e,value:n,defaultItems:h}));var f=this.gridOptionsService.getCallback("getContextMenuItems");return f?f({column:i,node:e,value:n,defaultItems:h}):o},t.prototype.onContextMenu=function(e,i,n,o,a,s){var l=this;this.menuUtils.onContextMenu(e,i,function(c){return l.showMenu(n,o,a,c,s)})},t.prototype.showMenu=function(e,i,n,o,a){var s=this,l=this.getMenuItems(e,i,n),c=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===l||D.missingOrEmpty(l))return!1;var u=new U$e(l,i,e,n);this.createBean(u);var d=u.getGui(),h={column:i,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},p=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){c.classList.remove(uee),s.destroyBean(u)},click:o,positionCallback:function(){var m=s.gridOptionsService.get("enableRtl");s.popupService.positionPopupUnderMouseEvent(hA(hA({},h),{nudgeX:m?-1*(d.offsetWidth+1):1}))},anchorToElement:a,ariaLabel:p("ariaLabelContextMenu","Context Menu")});return f&&(c.classList.add(uee),u.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=u,u.addEventListener(z.EVENT_DESTROYED,function(){s.activeMenu===u&&(s.activeMenu=null)}),f&&u.addEventListener(Bs.EVENT_CLOSE_MENU,f.hideFunc),!0},vc([C("popupService")],t.prototype,"popupService",void 0),vc([gt("rangeService")],t.prototype,"rangeService",void 0),vc([C("ctrlsService")],t.prototype,"ctrlsService",void 0),vc([C("columnModel")],t.prototype,"columnModel",void 0),vc([C("menuUtils")],t.prototype,"menuUtils",void 0),vc([oe("contextMenuFactory")],t)}(z),U$e=function(r){function t(e,i,n,o){var a=r.call(this,'<div class="'.concat("ag-menu",'" role="presentation"></div>'))||this;return a.menuItems=e,a.column=i,a.node=n,a.value=o,a.menuList=null,a.focusedCell=null,a}return cee(t,r),t.prototype.addMenuItems=function(){var e=this,i=this.createManagedBean(new GE(0,{column:this.column,node:this.node,value:this.value})),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null,function(){return e.getGui()});i.addMenuItems(n),this.appendChild(i),this.menuList=i,i.addEventListener(Bs.EVENT_CLOSE_MENU,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var i=this.focusedCell,n=i.rowIndex,o=i.rowPinned,a=i.column,s=this.gridOptionsService.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell({rowIndex:n,column:a,rowPinned:o,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),r.prototype.destroy.call(this)},vc([C("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vc([C("focusService")],t.prototype,"focusService",void 0),vc([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vc([j],t.prototype,"addMenuItems",null),t}(le),z$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$G=function(){return $G=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},$G.apply(this,arguments)},yc=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},W$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return z$e(t,r),t.prototype.mapWithStockItems=function(e,i,n){var o=this;if(!e)return[];var a=[];return e.forEach(function(s){var l;if(l="string"==typeof s?o.getStockMenuItem(s,i,n):$G({},s)){var u=l.subMenu;u&&u instanceof Array&&(l.subMenu=o.mapWithStockItems(u,i,n)),null!=l&&a.push(l)}}),a},t.prototype.getStockMenuItem=function(e,i,n){var a,o=this,s=this.localeService.getLocaleTextFunc(),l=this.gridOptionsService.get("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:D.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnsPinned([i],"left","contextMenu")},checked:!!i&&i.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnsPinned([i],"right","contextMenu")},checked:!!i&&i.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnsPinned([i],null,"contextMenu")},checked:!!i&&!i.isPinned()};case"valueAggSubMenu":return Ze.__assertRegistered(ie.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())&&(i?.isPrimary()||i?.getColDef().pivotValueColumn)?{name:s("valueAggregation","Value Aggregation"),icon:D.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(i)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(i,"contextMenu",l)}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns("contextMenu",l)}};case"rowGroup":return{name:s("groupBy","Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),disabled:i?.isRowGroupActive()||!i?.getColDef().enableRowGroup,action:function(){return o.columnModel.addRowGroupColumns([i],"contextMenu")},icon:D.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":var c=D.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),u=i?.getColDef().showRowGroup,d=this.gridOptionsService.get("groupLockGroupColumns");if(!0===u)return{name:s("ungroupAll","Un-Group All"),disabled:-1===d||d>=this.columnModel.getRowGroupColumns().length,action:function(){return o.columnModel.setRowGroupColumns(o.columnModel.getRowGroupColumns().slice(0,d),"contextMenu")},icon:c};if("string"==typeof u){var h=this.columnModel.getPrimaryColumn(u),p=null!=h?D.escapeString(this.columnModel.getDisplayNameForColumn(h,"header")):u;return{name:s("ungroupBy","Un-Group by")+" "+p,disabled:null!=h&&this.columnModel.isColumnGroupingLocked(h),action:function(){return o.columnModel.removeRowGroupColumns([u],"contextMenu")},icon:c}}return{name:s("ungroupBy","Un-Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),disabled:!i?.isRowGroupActive()||!i?.getColDef().enableRowGroup||this.columnModel.isColumnGroupingLocked(i),action:function(){return o.columnModel.removeRowGroupColumns([i],"contextMenu")},icon:c};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All Row Groups"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All Row Groups"),action:function(){return o.gridApi.collapseAll()}};case"copy":return Ze.__assertRegistered(ie.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return Ze.__assertRegistered(ie.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:s("copyWithHeaders","Copy with Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return Ze.__assertRegistered(ie.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(Ze.__assertRegistered(ie.ClipboardModule,"Cut from Menu",this.context.getGridId())){var f=this.focusService.getFocusedCell(),m=f?this.rowPositionUtils.getRowNode(f):null,g=!!m&&f?.column.isCellEditable(m);return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:D.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!g||this.gridOptionsService.get("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard(void 0,"contextMenu")}}}return null;case"paste":return Ze.__assertRegistered(ie.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:D.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var v=[],y=Ze.__isRegistered(ie.CsvExportModule,this.context.getGridId()),_=Ze.__isRegistered(ie.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.get("suppressCsvExport")&&y&&v.push("csvExport"),!this.gridOptionsService.get("suppressExcelExport")&&_&&v.push("excelExport"),{name:s("export","Export"),subMenu:v,icon:D.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:D.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:D.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(a=this.chartMenuItemMapper.getChartItems(e))&&void 0!==a?a:null;case"columnFilter":return i?{name:s("columnFilter","Column Filter"),icon:D.createIconNoSpan("filter",this.gridOptionsService,null),action:function(){return o.menuService.showFilterMenu({column:i,buttonElement:n(),containerType:"columnFilter",positionBy:"button"})}}:null;case"columnChooser":return Ze.__isRegistered(ie.ColumnsToolPanelModule,this.context.getGridId())?{name:s("columnChooser","Choose Columns"),icon:D.createIconNoSpan("columns",this.gridOptionsService,null),action:function(){return o.menuService.showColumnChooser({column:i,eventSource:n()})}}:null;case"sortAscending":return{name:s("sortAscending","Sort Ascending"),icon:D.createIconNoSpan("sortAscending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,"asc",!1,"columnMenu")}};case"sortDescending":return{name:s("sortDescending","Sort Descending"),icon:D.createIconNoSpan("sortDescending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,"desc",!1,"columnMenu")}};case"sortUnSort":return{name:s("sortUnSort","Clear Sort"),icon:D.createIconNoSpan("sortUnSort",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,null,!1,"columnMenu")}};default:return console.warn("AG Grid: unknown menu item type ".concat(e)),null}},t.prototype.createAggregationSubMenu=function(e){var o,i=this,n=this.localeService.getLocaleTextFunc();if(e.isPrimary())o=e;else{var a=e.getColDef().pivotValueColumn;o=D.exists(a)?a:void 0}var s=[];if(o){var l=o.isValueActive(),c=this.aggFuncService.getFuncNames(o);s.push({name:n("noAggregation","None"),action:function(){i.columnModel.removeValueColumns([o],"contextMenu"),i.columnModel.setColumnAggFunc(o,void 0,"contextMenu")},checked:!l}),c.forEach(function(u){s.push({name:n(u,i.aggFuncService.getDefaultFuncLabel(u)),action:function(){i.columnModel.setColumnAggFunc(o,u,"contextMenu"),i.columnModel.addValueColumns([o],"contextMenu")},checked:l&&o.getAggFunc()===u})})}return s},yc([C("columnModel")],t.prototype,"columnModel",void 0),yc([C("gridApi")],t.prototype,"gridApi",void 0),yc([gt("clipboardService")],t.prototype,"clipboardService",void 0),yc([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),yc([C("focusService")],t.prototype,"focusService",void 0),yc([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),yc([C("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),yc([C("menuService")],t.prototype,"menuService",void 0),yc([C("sortController")],t.prototype,"sortController",void 0),yc([oe("menuItemMapper")],t)}(z),K$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gv=function(){return gv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},gv.apply(this,arguments)},dee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},q$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return K$e(t,r),e=t,t.prototype.getChartItems=function(i){var n,o;if(this.chartService){var a="pivotChart"===i?new X$e(this.gridOptionsService,this.chartService,this.localeService):new Z$e(this.gridOptionsService,this.chartService,this.localeService),s=this.chartService.isEnterprise(),l=a.getMenuItem();if(l&&l.subMenu&&!s){var c=function(d){var h;return gv(gv({},d),{subMenu:null===(h=d.subMenu)||void 0===h?void 0:h.filter(function(p){return!p._enterprise}).map(function(p){return c(p)})})};l=c(l)}var u=null===(o=null===(n=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;return u&&(l=e.filterAndOrderChartMenu(l,u,a.getConfigLookup())),this.cleanInternals(l)}Ze.__assertRegistered(ie.GridChartsModule,'the Context Menu key "'.concat(i,'"'),this.context.getGridId())},t.prototype.cleanInternals=function(i){if(!i)return i;var n=function(o){var a;return null==o||delete o._key,null==o||delete o._enterprise,null===(a=o?.subMenu)||void 0===a||a.forEach(function(s){return n(s)}),o};return n(i)},t.buildLookup=function(i){var n={},o=function(a){n[a._key]=a,a.subMenu&&a.subMenu.forEach(function(s){return o(s)})};return o(i),n},t.filterAndOrderChartMenu=function(i,n,o){var a,s=this.buildLookup(i),l=gv(gv({},i),{subMenu:[]});if(Object.entries(n).forEach(function(c){var u,d,h=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(c,2),p=h[0],f=h[1],m=o[p];if(null!==m){if(null==m)return void D.warnOnce("invalid chartGroupsDef config '".concat(p,"'"));var g=s[m._key];if(g)if(g.subMenu){var v=f.map(function(y){var _=m[y];if(null!=_)return s[_];D.warnOnce("invalid chartGroupsDef config '".concat(p,".").concat(y,"'"))}).filter(function(y){return void 0!==y});v.length>0&&(g.subMenu=v,null===(u=l.subMenu)||void 0===u||u.push(g))}else null===(d=l.subMenu)||void 0===d||d.push(g)}}),0!=(null===(a=l.subMenu)||void 0===a?void 0:a.length))return l},dee([gt("chartService")],t.prototype,"chartService",void 0),e=dee([oe("chartMenuItemMapper")],t)}(z),X$e=function(){function r(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return r.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(n,o,a,s,l){return void 0===l&&(l=!1),{name:e(n,o),action:function(){return t.chartService.createPivotChart({chartType:a})},_key:s,_enterprise:l}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","pivotPie"),i("donut","Donut&lrm;","donut","pivotDonut")]},i("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","pivotScatter"),i("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","pivotArea"),i("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[i("histogramChart","Histogram&lrm;","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[i("treemapChart","Treemap&lrm;","treemap","pivotTreemap",!0),i("sunburstChart","Sunburst&lrm;","sunburst","pivotSunburst",!0)]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},r.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},polarGroup:null,specializedGroup:null}},r}(),Z$e=function(){function r(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return r.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(n,o,a,s,l){return void 0===l&&(l=!1),{name:e(n,o),action:function(){return t.chartService.createChartFromCurrentRange(a)},_key:s,_enterprise:l}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","rangePie"),i("donut","Donut&lrm;","donut","rangeDonut")],_key:"rangePieChart"},i("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","rangeScatter"),i("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","rangeArea"),i("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("polarChart","Polar"),subMenu:[i("radarLine","Radar Line&lrm;","radarLine","rangeRadarLine"),i("radarArea","Radar Area&lrm;","radarArea","rangeRadarArea"),i("nightingale","Nightingale&lrm;","nightingale","rangeNightingale"),i("radialColumn","Radial Column&lrm;","radialColumn","rangeRadialColumn"),i("radialBar","Radial Bar&lrm;","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[i("boxPlot","Box Plot&lrm;","boxPlot","rangeBoxPlot",!0),i("histogramChart","Histogram&lrm;","histogram","rangeHistogram",!1),i("rangeBar","Range Bar&lrm;","rangeBar","rangeRangeBar",!0),i("rangeArea","Range Area&lrm;","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[i("treemap","Treemap&lrm;","treemap","rangeTreemap"),i("sunburst","Sunburst&lrm;","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[i("heatmap","Heatmap&lrm;","heatmap","rangeHeatmap"),i("waterfall","Waterfall&lrm;","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},r.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}},r}(),Q$e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pA=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},J$e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Q$e(t,r),t.prototype.createColumnSelectPanel=function(e,i,n,o){var a,s,l=e.createManagedBean(new qL),c=null!==(s=null!==(a=o??i?.getColDef().columnChooserParams)&&void 0!==a?a:i?.getColDef().columnsMenuParams)&&void 0!==s?s:{},m=c.columnLayout;return l.init(!!n,this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!c.contractColumnSelection,suppressColumnExpandAll:!!c.suppressColumnExpandAll,suppressColumnFilter:!!c.suppressColumnFilter,suppressColumnSelectAll:!!c.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!m||!!c.suppressSyncLayoutWithGrid,onStateUpdated:function(){}}),"columnMenu"),m&&l.setColumnLayout(m),l},t.prototype.showColumnChooser=function(e){var i=this,n=e.column,o=e.chooserParams,a=e.eventSource;this.hideActiveColumnChooser();var s=this.createColumnSelectPanel(this,n,!0,o),l=this.localeService.getLocaleTextFunc(),c=this.columnModel.getAllDisplayedColumns().indexOf(n),u=n?this.focusService.getFocusedHeader():null;this.activeColumnChooserDialog=this.createBean(new ug({title:l("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:function(){var d;null===(d=i.focusService.findNextFocusableElement(s.getGui()))||void 0===d||d.focus(),i.dispatchVisibleChangedEvent(!0,n)},closedCallback:function(d){var h=i.activeColumnChooser.getGui();i.destroyBean(i.activeColumnChooser),i.activeColumnChooser=void 0,i.activeColumnChooserDialog=void 0,i.dispatchVisibleChangedEvent(!1,n),n&&i.menuUtils.restoreFocusOnClose({column:n,headerPosition:u,columnIndex:c,eventSource:a},h,d,!0)}})),this.activeColumnChooser=s},t.prototype.hideActiveColumnChooser=function(){this.activeColumnChooserDialog&&this.destroyBean(this.activeColumnChooserDialog)},t.prototype.dispatchVisibleChangedEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:"columnChooser",column:i??null})},pA([C("focusService")],t.prototype,"focusService",void 0),pA([C("menuUtils")],t.prototype,"menuUtils",void 0),pA([C("columnModel")],t.prototype,"columnModel",void 0),pA([oe("columnChooserFactory")],t)}(z),e6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},t6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return e6e(t,r),e=t,t.prototype.createMenu=function(i,n,o){var a=i.createManagedBean(new GE(0,{column:n??null,node:null,value:null})),s=this.getMenuItems(n),l=this.menuItemMapper.mapWithStockItems(s,n??null,o);return a.addMenuItems(l),a},t.prototype.getMenuItems=function(i){var o,n=this.getDefaultMenuOptions(i),a=i?.getColDef().mainMenuItems;if(Array.isArray(a))o=a;else if("function"==typeof a)o=a(this.gridOptionsService.addGridCommonParams({column:i,defaultItems:n}));else{var s=this.gridOptionsService.getCallback("getMainMenuItems");o=s&&i?s({column:i,defaultItems:n}):n}return D.removeRepeatsFromArray(o,e.MENU_ITEM_SEPARATOR),o},t.prototype.getDefaultMenuOptions=function(i){var n=[],o=this.menuService.isLegacyMenuEnabled();if(!i)return o||n.push("columnChooser"),n.push("resetColumns"),n;var a=!i.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,c=i.isAllowValue(),u=i.isAllowRowGroup(),d=i.isPrimary(),h=this.columnModel.isPivotMode(),p="clientSide"===this.rowModel.getType(),f=this.gridOptionsService.get("treeData"),m=d&&l&&c||!d;if(!o&&i.isSortable()){var g=i.getSort();"asc"!==g&&n.push("sortAscending"),"desc"!==g&&n.push("sortDescending"),g&&n.push("sortUnSort"),n.push(e.MENU_ITEM_SEPARATOR)}return this.menuService.isFilterMenuItemEnabled(i)&&(n.push("columnFilter"),n.push(e.MENU_ITEM_SEPARATOR)),a&&n.push("pinSubMenu"),m&&n.push("valueAggSubMenu"),(a||m)&&n.push(e.MENU_ITEM_SEPARATOR),n.push("autoSizeThis"),n.push("autoSizeAll"),n.push(e.MENU_ITEM_SEPARATOR),i.getColDef().showRowGroup?n.push("rowUnGroup"):u&&i.isPrimary()&&(i.isRowGroupActive()?this.columnModel.isColumnGroupingLocked(i)||n.push("rowUnGroup"):n.push("rowGroup")),n.push(e.MENU_ITEM_SEPARATOR),o||n.push("columnChooser"),n.push("resetColumns"),p&&(f||s>(h?1:0))&&(n.push("expandAll"),n.push("contractAll")),n},t.MENU_ITEM_SEPARATOR="separator",vv([C("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vv([C("columnModel")],t.prototype,"columnModel",void 0),vv([C("rowModel")],t.prototype,"rowModel",void 0),vv([C("filterManager")],t.prototype,"filterManager",void 0),vv([C("menuService")],t.prototype,"menuService",void 0),e=vv([oe("columnMenuFactory")],t)}(z),i6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fA=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},n6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return i6e(t,r),t.prototype.restoreFocusOnClose=function(e,i,n,o){var s=n instanceof KeyboardEvent;if((o||s)&&e.eventSource){var l=this.gridOptionsService.getDocument();!i.contains(l.activeElement)&&l.activeElement!==l.body||this.focusHeaderCell(e)}},t.prototype.closePopupAndRestoreFocusOnSelect=function(e,i,n){var o;n&&n.event&&n.event instanceof KeyboardEvent&&(o=n.event),e(o&&{keyboardEvent:o});var a=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();s.activeElement===s.body&&(a?this.focusService.setFocusedCell({rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0}):this.focusHeaderCell(i))},t.prototype.onContextMenu=function(e,i,n){!this.gridOptionsService.get("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.get("suppressContextMenu"))||n(e??i.touches[0])&&(e??i).preventDefault()},t.prototype.focusHeaderCell=function(e){var i=e.column,n=e.columnIndex,o=e.headerPosition,a=e.eventSource;if(this.columnModel.getAllDisplayedColumns().some(function(d){return d===i})&&a&&D.isVisible(a)){var l=this.focusService.findTabbableParent(a);l&&(i&&this.headerNavigationService.scrollToColumn(i),l.focus())}else if(o&&-1!==n){var c=this.columnModel.getAllDisplayedColumns(),u=c[n]||D.last(c);u&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:u}})}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var n=e.which;this.gridOptionsService.get("suppressMiddleClickScrolls")&&2===n&&e.preventDefault()},fA([C("focusService")],t.prototype,"focusService",void 0),fA([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),fA([C("columnModel")],t.prototype,"columnModel",void 0),fA([oe("menuUtils")],t)}(z),r6e={version:"31.1.1",moduleName:ie.MenuModule,beans:[V$e,j$e,W$e,q$e,J$e,t6e,n6e],dependantModules:[ur]},o6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yv=function(){return yv=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},yv.apply(this,arguments)},KG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},YG=function(r){function t(){var e=r.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.filterGuis=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return o6e(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)}})},t.getFilterDefs=function(e){var i=e.filters;return i&&i.length>0?i:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var i=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var o=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var c=i.createFilter(s,l);null!=c&&a.push(c)}),new vt(function(s){vt.all(a).then(function(l){i.filters=l,i.refreshGui("columnMenu").then(function(){s()})})}).then(function(){i.afterFiltersReadyFuncs.forEach(function(s){return s()}),i.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var i=this;return e===this.lastOpenedInContainer?vt.resolve():(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),vt.all(this.filters.map(function(n,o){var l,a=i.filterDefs[o],s=i.getFilterTitle(n,a);if("subMenu"===a.display&&"toolPanel"!==e)l=i.insertFilterMenu(n,s).then(function(u){return u.getGui()});else if("subMenu"===a.display||"accordion"===a.display){var c=i.insertFilterGroup(n,s);l=vt.resolve(c.getGui())}else l=vt.resolve(n.getGui());return l})).then(function(n){n.forEach(function(o,a){a>0&&i.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),i.appendChild(o)}),i.filterGuis=n,i.lastOpenedInContainer=e}))},t.prototype.getFilterTitle=function(e,i){return null!=i.title?i.title:e instanceof gp?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0,this.filterGuis.length=0},t.prototype.insertFilterMenu=function(e,i){var n=this,o=this.createBean(new Bs);return o.init({menuItemDef:{name:i,subMenu:[],cssClasses:["ag-multi-filter-menu-item"],menuItem:_Y,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:function(){return!1},childComponent:e,contextParams:{column:null,node:null,value:null}}).then(function(){o.setParentComponent(n),n.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),n.addManagedListener(o,Bs.EVENT_MENU_ITEM_ACTIVATED,function(s){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==s.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=s.menuItem});var a=o.getGui();return o.addManagedListener(a,"keydown",function(s){var l=s.key;switch(l){case V.UP:case V.RIGHT:case V.DOWN:case V.LEFT:s.preventDefault(),l===V.RIGHT&&o.openSubMenu(!0)}}),o.addManagedListener(a,"focusin",function(){return o.activate()}),o.addManagedListener(a,"focusout",function(){!o.isSubMenuOpen()&&!o.isSubMenuOpening()&&o.deactivate()}),o})},t.prototype.insertFilterGroup=function(e,i){var n=this,o=this.createBean(new Vs({title:i,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached&&o.addManagedListener(o,Vs.EVENT_EXPANDED,function(){return e.afterGuiAttached({container:n.lastOpenedInContainer,suppressFocus:!0,hidePopup:n.hidePopup})}),o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,i){var n=!0;return this.filters.forEach(function(o){!n||o===i||!o.isFilterActive()||(n=o.doesFilterPass(e))}),n},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return"function"==typeof i.getModelFromUi?i.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return i.isFilterActive()?i.getModel():null})}:null},t.prototype.setModel=function(e){var i=this,n=function(a,s){return new vt(function(l){var c=a.setModel(s);c?c.then(function(){return l()}):l()})},o=[];return null==e?o=this.filters.map(function(a,s){return n(a,null).then(function(){i.updateActiveList(s)})}):this.filters.forEach(function(a,s){var c=n(a,e.filterModels.length>s?e.filterModels[s]:null).then(function(){i.updateActiveList(s)});o.push(c)}),vt.all(o).then(function(){})},t.prototype.applyModel=function(e){void 0===e&&(e="api");var i=!1;return this.filters.forEach(function(n){n instanceof gp&&(i=n.applyModel(e)||i)}),i},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){var n,i=this;e?(this.hidePopup=e.hidePopup,n=this.refreshGui(e.container)):(this.hidePopup=void 0,n=vt.resolve()),n.then(function(){var o=i.filterDefs,a=!1;o&&D.forEachReverse(o,function(c,u){var d,h=0===u,p=!h||"inline"!==c.display,f=yv(yv({},e??{}),{suppressFocus:p}),m=null===(d=i.filters)||void 0===d?void 0:d[u];if(m&&(i.executeFunctionIfExistsOnFilter(m,"afterGuiAttached",f),h&&(a=!0)),h&&p){var g=i.filterGuis[u];g&&(g.focus(),a=!0)}});var s=i.gridOptionsService.getDocument(),l=s.activeElement;!a&&(l===s.body||i.getGui().contains(l))&&i.forceFocusOutOfContainer(!0)})},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(i){i.setModel(null),e.destroyBean(i)}),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,r.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var i=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];D.forEachReverse(this.filters,function(a){i.executeFunctionIfExistsOnFilter(a,e,n)})},t.prototype.executeFunctionIfExistsOnFilter=function(e,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=e[i];"function"==typeof a&&a.apply(e,n)},t.prototype.createFilter=function(e,i){var l,n=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,c=yv(yv({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(h){n.executeWhenAllFiltersReady(function(){return n.filterChanged(i,h)})},doesRowPassOtherFilter:function(h){return s(h)&&n.doesFilterPass({node:h,data:h.data},l)}}),u=this.userComponentFactory.getFilterDetails(e,c,"agTextColumnFilter");if(!u)return null;var d=u.newAgStackInstance();return d&&d.then(function(h){return l=h}),d},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var i=this.filters[e];D.removeFromArray(this.activeFilterIndices,e),i.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,i){this.updateActiveList(e),this.filterChangedCallback(i);var n=this.filters[e];this.filters.forEach(function(o){o!==n&&"function"==typeof o.onAnyFilterChanged&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},t.prototype.getModelAsString=function(e){var i,n,o,a;if(!this.filters||null===(i=e?.filterModels)||void 0===i||!i.length)return"";var s=null!==(n=this.getLastActiveFilterIndex())&&void 0!==n?n:0,l=this.filters[s];return null!==(a=null===(o=l.getModelAsString)||void 0===o?void 0:o.call(l,e.filterModels[s]))&&void 0!==a?a:""},KG([C("filterManager")],t.prototype,"filterManager",void 0),KG([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),KG([j],t.prototype,"postConstruct",null),t}(Ed),a6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mA=function(){return mA=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},mA.apply(this,arguments)},hee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},s6e=function(r){function t(){var e=r.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e.compDetailsList=[],e}return a6e(t,r),t.prototype.init=function(e){this.params=e;var i=this.getCompDetailsList(e).compDetailsList;return this.setParams(i)},t.prototype.setParams=function(e){var i=this,n=[];return e.forEach(function(o){var a=o?.newAgStackInstance();null!=a&&(i.compDetailsList.push(o),n.push(a))}),vt.all(n).then(function(o){o.forEach(function(a,s){i.floatingFilters.push(a);var l=a.getGui();i.appendChild(l),s>0&&D.setDisplayed(l,!1)})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var i=this;this.params=e;var n=this.getCompDetailsList(e),o=n.compDetailsList,a=n.floatingFilterParamsList;o.length===this.compDetailsList.length&&o.every(function(l,c){return!i.filterManager.areFilterCompsDifferent(i.compDetailsList[c],l)})?a.forEach(function(l,c){var u,d=i.floatingFilters[c],h=!1;d.refresh&&null!==d.refresh(l)&&(h=!0),h||null===(u=d.onParamsUpdated)||void 0===u||u.call(d,l)}):(D.clearElement(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(o))},t.prototype.getCompDetailsList=function(e){var i=this,n=[],o=[];return YG.getFilterDefs(e.filterParams).forEach(function(s,l){var c=mA(mA({},e),{parentFilterInstance:function(d){i.parentMultiFilterInstance(function(h){var p=h.getChildFilterInstance(l);null!=p&&d(p)})}});D.mergeDeep(c.filterParams,s.filterParams);var u=i.getCompDetails(s,c);u&&(n.push(u),o.push(c))}),{compDetailsList:n,floatingFilterParamsList:o}},t.prototype.onParentModelChanged=function(e,i){var n=this;i&&i.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(null==e)n.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,i),D.setDisplayed(s.getGui(),0===l)});else{var a=o.getLastActiveFilterIndex();n.floatingFilters.forEach(function(s,l){s.onParentModelChanged(e.filterModels.length>l?e.filterModels[l]:null,i);var u=null==a?0===l:l===a;D.setDisplayed(s.getGui(),u)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,r.prototype.destroy.call(this)},t.prototype.getCompDetails=function(e,i){var o,n=this,a=null!==(o=this.userComponentFactory.getDefaultFloatingFilterType(e,function(){return n.filterManager.getDefaultFloatingFilter(n.params.column)}))&&void 0!==o?o:"agReadOnlyFloatingFilter";return this.userComponentFactory.getFloatingFilterCompDetails(e,i,a)},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof YG))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(i)})},hee([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),hee([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),c6e={version:"31.1.1",moduleName:ie.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:YG},{componentName:"agMultiColumnFloatingFilter",componentClass:s6e}],dependantModules:[ur]},u6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pee=function(r){function t(){return r.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return u6e(t,r),t.prototype.init=function(e){var i=this;this.params=e;var n=e.cellStartedEdit,o=e.cellHeight;D.missing(e.values)&&console.warn("AG Grid: agRichSelectCellEditor requires cellEditorParams.values to be set");var s=this.buildRichSelectParams(),c=s.valuesPromise;this.richSelect=this.createManagedBean(new LE(s.params)),this.richSelect.addCssClass("ag-cell-editor"),this.appendChild(this.richSelect),c&&c.then(function(u){i.richSelect.setValueList({valueList:u,refresh:!0});var d=i.getSearchStringCallback(u);d&&i.richSelect.setSearchStringCreator(d)}),this.addManagedListener(this.richSelect,x.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=n,D.exists(o)&&this.richSelect.setRowHeight(o)},t.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},t.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},t.prototype.buildRichSelectParams=function(){var y,_,e=this.params,o=e.values,g=e.eventKey,v={value:e.value,cellRenderer:e.cellRenderer,searchDebounceDelay:e.searchDebounceDelay,valueFormatter:e.formatValue,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:e.valueListGap,allowTyping:e.allowTyping,filterList:e.filterList,searchType:e.searchType,highlightMatch:e.highlightMatch,maxPickerHeight:e.valueListMaxHeight,maxPickerWidth:e.valueListMaxWidth,placeholder:e.valuePlaceholder,initialInputValue:1===g?.length?g:void 0};return y="function"==typeof o?o(this.params):o??[],Array.isArray(y)?(v.valueList=y,v.searchStringCreator=this.getSearchStringCallback(y)):_=y,{params:v,valuesPromise:_}},t.prototype.getSearchStringCallback=function(e){var i=this,n=this.params.colDef;if("object"==typeof e[0]&&n.keyCreator)return function(o){return o.map(function(a){var s=i.gridOptionsService.addGridCommonParams({value:a,colDef:i.params.colDef,column:i.params.column,node:i.params.node,data:i.params.data});return n.keyCreator(s)})}},t.prototype.afterGuiAttached=function(){var e=this,n=this.focusAfterAttached,o=this.params;setTimeout(function(){if(e.isAlive()){if(n){var a=e.richSelect.getFocusableElement();a.focus();var s=e.params,c=s.eventKey;s.allowTyping&&(!c||1!==c.length)&&a.select()}e.richSelect.showPicker();var u=o.eventKey;u&&1===u?.length&&e.richSelect.searchTextFromString(u)}})},t.prototype.getValue=function(){return this.richSelect.getValue()},t.prototype.isPopup=function(){return!1},t}(wd),h6e={version:"31.1.1",moduleName:ie.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:pee},{componentName:"agRichSelectCellEditor",componentClass:pee}],dependantModules:[ur]},p6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xa=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},qG=function(r){function t(e,i,n){var o=r.call(this,0)||this;return o.nodeIdSequence=new Nr,o.info={},o.ssrmParams=e,o.parentRowNode=n,o.level=n.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o}return p6e(t,r),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsService.get("treeData"),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]);var n=1,o=-1===this.parentRowNode.level,a=this.storeUtils.getServerSideInitialRowCount();o&&null!=a&&(n=a),this.initialiseRowNodes(n),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)}),this.postSortFunc=this.gridOptionsService.getCallback("postSortRows"),null!=a&&this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,i){void 0===i&&(i=!1),this.destroyRowNodes();for(var n=0;n<e;n++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});i&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,success:this.success.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,i){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=i?D.insertIntoArray(this.allRowNodes,n,i):this.allRowNodes.push(n);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,e,o,void 0),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var i=e.groupLevelInfo;i&&Object.assign(this.info,i),e.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(e.pivotResultFields);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||D.warnOnce('"params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.'),this.createOrRecycleNodes(n,e.rowData),n&&this.blockUtils.destroyRowNodes(D.getAllValuesInObject(n)),0===this.level&&this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,i){var n=this;i&&i.forEach(function(s){var l=function(s){if(e){var l=n.gridOptionsService.getCallback("getRowId");if(l){var c=n.parentRowNode.getGroupKeys(),d=l({data:s,parentKeys:c.length>0?c:void 0,level:n.level}),h=e[d];if(h)return delete e[d],h}}}(s);l?function(s,l){n.allNodesMap[s.id]=s,n.blockUtils.updateDataIntoRowNode(s,l),n.allRowNodes.push(s)}(l,s):n.createDataNode(s)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),i=this.sortController.getSortOptions();e||!i||0==i.length?this.nodesAfterSort=this.nodesAfterFilter:(this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,i),this.postSortFunc&&this.postSortFunc({nodes:this.nodesAfterSort}))},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(o){return e.filterManager.doesRowPassFilter({rowNode:o})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(i){return e.blockUtils.clearDisplayIndex(i)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,i){var n=this;this.displayIndexStart=e.peek(),this.topPx=i.value;var o={};this.nodesAfterSort.forEach(function(a){n.blockUtils.setDisplayIndex(a,e,i),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||n.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=i.value-this.topPx},t.prototype.forEachStoreDeep=function(e,i){void 0===i&&(i=new Nr),e(this,i.next()),this.allRowNodes.forEach(function(n){var o=n.childStore;o&&o.forEachStoreDeep(e,i)})},t.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new Nr),this.allRowNodes.forEach(function(n){e(n,i.next());var o=n.childStore;o&&o.forEachNodeDeep(e,i)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i,n){void 0===i&&(i=new Nr),void 0===n&&(n=!1),this.nodesAfterSort.forEach(function(o){e(o,i.next());var a=o.childStore;a&&a.forEachNodeDeepAfterFilterAndSort(e,i,n)}),n&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,i.next())},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var i=0;i<this.nodesAfterSort.length;i++){var o=this.blockUtils.extractRowBounds(this.nodesAfterSort[i],e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var i=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var s=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=s.rowTop+s.rowHeight&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var c=null;return this.nodesAfterSort.forEach(function(d){var h=i.blockUtils.getIndexAtPixel(d,e);null!=h&&(c=h)}),null==c?this.displayIndexEnd-1:c},t.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(n){return i.allRowNodes.find(function(a){return a.key==n})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(i){var n=i.childStore;n&&e(n)})},t.prototype.refreshAfterFilter=function(e){var i=this.storeUtils.isServerSideFilterOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||i&&n)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var i=this.storeUtils.isServerSideSortOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideSortAllLevels()||i&&n)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case uu.STATE_FAILED:return{status:Bi.StoreLoadingFailed};case uu.STATE_LOADING:return{status:Bi.StoreLoading};case uu.STATE_WAITING_TO_LOAD:return{status:Bi.StoreWaitingToLoad}}var i=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(i&&!i({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:Bi.Cancelled};var a={status:Bi.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){e.length>0&&(this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,clearSelection:!1,source:"rowDataChanged"}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"rowDataChanged"}))},t.prototype.executeAdd=function(e,i){var n=this,o=e.add,a=e.addIndex;D.missingOrEmpty(o)||("number"==typeof a&&a>=0?o.reverse().forEach(function(l){var c=n.createDataNode(l,a);i.add.push(c)}):o.forEach(function(l){var c=n.createDataNode(l);i.add.push(c)}))},t.prototype.executeRemove=function(e,i,n){var o=this,a=e.remove;if(null!=a){var s={};a.forEach(function(l){var c=o.lookupRowNode(l);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete o.allNodesMap[c.id],i.remove.push(c),o.nodeManager.removeNode(c))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,i,n){var o=this,a=e.update;a?.forEach(function(s){var l=o.lookupRowNode(s);l&&(o.blockUtils.updateDataIntoRowNode(l,s),!l.selectable&&l.isSelected()&&n.push(l),i.update.push(l))})},t.prototype.lookupRowNode=function(e){var n,i=this.gridOptionsService.getCallback("getRowId");if(null!=i){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=i({data:e,parentKeys:a.length>0?a:void 0,level:o});if(!(n=this.allNodesMap[s]))return console.error("AG Grid: could not find row id=".concat(s,", data item was not found for this id")),null}else if(!(n=this.allRowNodes.find(function(l){return l.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return n},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===uu.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==uu.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,i){var n=[],o=!1;return D.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===i;(o||l)&&n.push(s),l&&(o=!o)}),o?[]:n},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},xa([C("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),xa([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),xa([C("columnModel")],t.prototype,"columnModel",void 0),xa([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),xa([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),xa([C("sortController")],t.prototype,"sortController",void 0),xa([C("selectionService")],t.prototype,"selectionService",void 0),xa([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),xa([C("filterManager")],t.prototype,"filterManager",void 0),xa([C("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),xa([C("rowModel")],t.prototype,"serverSideRowModel",void 0),xa([j],t.prototype,"postConstruct",null),xa([Oi],t.prototype,"destroyRowNodes",null),t}(uu),f6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},g6e=function(r){function t(e,i,n){var o=r.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=i,o.cache=e,o.storeParams=n,o}return f6e(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,qY.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var i,e=this,n=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=n;a<=o;a++){var s=this.cache.getNodeCachedByDisplayIndex(a);if(s){var l=this.cache.getNodes().getBy("node",s);if(l&&!this.isRowLoading(l.index)&&(s.__needsRefreshWhenVisible||s.stub&&!s.failedLoad))return this.getBlockStartIndexForIndex(l.index)}}var c=this.cache.getNodesToRefresh(),u=null,d=Number.MAX_SAFE_INTEGER;c.forEach(function(p){if(null!=p.rowIndex){if(!e.isRowLoading(p.rowIndex)){var f=Math.abs(n-p.rowIndex),m=Math.abs(p.rowIndex-o);f<d&&(u=p,d=f),m<d&&(u=p,d=m)}}else u=p});var h=null===(i=this.cache.getNodes().getBy("node",u))||void 0===i?void 0:i.index;return null==h?void 0:this.getBlockStartIndexForIndex(h)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,i){var o,n=this,a=this.cache.getSsrmParams(),s={startRow:e,endRow:i,rowGroupCols:a.rowGroupCols,valueCols:a.valueCols,pivotCols:a.pivotCols,pivotMode:a.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:a.filterModel,sortModel:a.sortModel},l=function(){for(var p=0;p<i-e;p++)n.loadingNodes.delete(e+p)},h=this.gridOptionsService.addGridCommonParams({request:s,success:function(p){n.rowNodeBlockLoader.loadComplete(),n.cache.onLoadSuccess(e,i-e,p),l(),n.queueLoadAction()},fail:function(){n.rowNodeBlockLoader.loadComplete(),n.cache.onLoadFailed(e,i-e),l(),n.queueLoadAction()},parentNode:this.parentNode});(function(){for(var p=0;p<i-e;p++)n.loadingNodes.add(e+p)})(),null===(o=this.cache.getSsrmParams().datasource)||void 0===o||o.getRows(h)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return null!=e?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var e=this,i=this.getNextBlockToLoad();if(!i)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==i[0]&&this.nextBlockToLoad[1]!==i[1]){this.nextBlockToLoad=i,window.clearTimeout(this.loaderTimeout);var n=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.nextBlockToLoad,2),a=n[1],s=Number(n[0]);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,a),e.nextBlockToLoad=void 0)},this.gridOptionsService.get("blockLoadDebounceMillis"))}},t.prototype.attemptLoad=function(e,i){var n=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=n&&0===n||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,i),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){return e-e%this.getBlockSize()},t.prototype.getBlockBoundsForIndex=function(e){var i=this.getBlockStartIndexForIndex(e);return[i,i+this.getBlockSize()]},t.DEFAULT_BLOCK_SIZE=100,XG([C("gridApi")],t.prototype,"api",void 0),XG([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),XG([j],t.prototype,"init",null),t}(z),v6e=function(){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(i){return[i,new Map]}))}return r.prototype.getSize=function(){return this.maps.get(this.indexes[0]).size},r.prototype.getBy=function(t,e){var i=this.maps.get(t);if(!i)throw new Error("AG Grid: ".concat(String(t)," not found"));return i.get(e)},r.prototype.set=function(t){var e=this;this.indexes.forEach(function(i){var n=e.maps.get(i);if(!n)throw new Error("AG Grid: ".concat(String(i)," not found"));n.set(t[i],t)})},r.prototype.delete=function(t){var e=this;this.indexes.forEach(function(i){var n=e.maps.get(i);if(!n)throw new Error("AG Grid: ".concat(String(i)," not found"));n.delete(t[i])})},r.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},r.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: ".concat(String(t)," not found"));return e.values()},r.prototype.forEach=function(t){for(var i,e=this.getIterator(this.indexes[0]);(i=e.next())&&!i.done;)t(i.value)},r.prototype.find=function(t){for(var i,e=this.getIterator(this.indexes[0]);(i=e.next())&&!i.done;)if(t(i.value))return i.value},r.prototype.filter=function(t){for(var i,e=this.getIterator(this.indexes[0]),n=[];(i=e.next())&&!i.done;)t(i.value)&&n.push(i.value);return n},r}(),y6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ku=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},cf=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},ZG=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},QG=function(r){function t(e,i,n){var o=r.call(this)||this;return o.live=!0,o.removedNodeCache=new Map,o.store=e,o.numberOfRows=i,o.isLastRowKnown=!1,o.storeParams=n,o}return y6e(t,r),t.prototype.init=function(){this.nodeMap=new v6e("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new g6e(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getCallback("getRowId"),this.isMasterDetail=this.gridOptionsService.get("masterDetail")},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(i){return e.blockUtils.destroyRowNode(i.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var i,n,o,a;if(this.store.isDisplayIndexInStore(e)){var s=this.nodeDisplayIndexMap.get(e);if(s)return(s.stub||s.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),s;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var l=this.nodeDisplayIndexMap.get(e-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&null!==(i=l.childStore)&&void 0!==i&&i.isDisplayIndexInStore(e))return null===(n=l.childStore)||void 0===n?void 0:n.getRowUsingDisplayIndex(e);var c=this.nodeMap.getBy("node",l);return this.createStubNode(c.index+1,e)}var u=this.getSurroundingNodesByDisplayIndex(e);if(null==u){var d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}var h=u.previousNode,p=u.nextNode;if(h&&h.node.expanded&&null!==(o=h.node.childStore)&&void 0!==o&&o.isDisplayIndexInStore(e))return null===(a=h.node.childStore)||void 0===a?void 0:a.getRowUsingDisplayIndex(e);if(p)return this.createStubNode(p.index-(p.node.rowIndex-e),e);var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(g,e)}},t.prototype.createStubNode=function(e,i){var n=this,o=this.store.getRowBounds(i),a=this.createRowAtIndex(e,null,function(s){s.setRowIndex(i),s.setRowTop(o.rowTop),n.nodeDisplayIndexMap.set(i,s)});return this.rowLoader.queueLoadCheck(),a},t.prototype.getRowByStoreIndex=function(e){var i;return null===(i=this.nodeMap.getBy("index",e))||void 0===i?void 0:i.node},t.prototype.skipDisplayIndexes=function(e,i,n){if(0!==e){var o=this.gridOptionsService.getRowHeightAsNumber();i.skip(e),n.value+=e*o}},t.prototype.setDisplayIndexes=function(e,i){this.nodeDisplayIndexMap.clear();var n={};this.nodeMap.forEach(function(d){n[d.index]=d.node});var o=-1;for(var a in n){var s=n[a],l=Number(a);this.skipDisplayIndexes(l-1-o,e,i),this.blockUtils.setDisplayIndex(s,e,i),this.nodeDisplayIndexMap.set(s.rowIndex,s),o=l}this.skipDisplayIndexes(this.numberOfRows-1-o,e,i),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,i){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,null!=i&&(this.isLastRowKnown=i,!1===i&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var i;return null!==(i=this.nodeDisplayIndexMap.get(e))&&void 0!==i?i:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var i,n;return this.nodeMap.forEach(function(o){e>o.node.rowIndex?(null==n||n.node.rowIndex<o.node.rowIndex)&&(n=o):(null==i||i.node.rowIndex>o.node.rowIndex)&&(i=o)}),n||i?{previousNode:n,nextNode:i}:null},t.prototype.getDisplayIndexFromStoreIndex=function(e){var i,n,a,s,o=this.nodeMap.getBy("index",e);if(o)return o.node.rowIndex;if(this.nodeMap.forEach(function(u){e>u.index?(null==s||s.index<u.index)&&(s=u):(null==a||a.index>u.index)&&(a=u)}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!s)return this.store.getDisplayIndexStart()+e;var l=e-s.index;return(null!==(n=null===(i=s.node.childStore)||void 0===i?void 0:i.getDisplayIndexEnd())&&void 0!==n?n:s.node.rowIndex)+l},t.prototype.createRowAtIndex=function(e,i,n){var o,a,s=this.nodeMap.getBy("index",e);if(s){if((l=s.node).__needsRefreshWhenVisible=!1,this.doesNodeMatch(i,l))return this.blockUtils.updateDataIntoRowNode(l,i),this.nodesToRefresh.delete(l),l;if(null==this.getRowIdFunc&&l.hasChildren()&&l.expanded)return this.nodesToRefresh.delete(l),l;this.destroyRowAtIndex(e)}if(i&&null!=this.getRowIdFunc){var c=this.getRowId(i),u=c&&(null===(o=this.removedNodeCache)||void 0===o?void 0:o.get(c));if(u)return null===(a=this.removedNodeCache)||void 0===a||a.delete(c),this.blockUtils.updateDataIntoRowNode(u,i),this.nodeMap.set({id:u.id,node:u,index:e}),u;var d=this.nodeMap.getBy("id",c);if(d){this.nodeMap.delete(d);var l,h=d.index;return this.blockUtils.updateDataIntoRowNode(l=d.node,i),this.nodeMap.set({id:l.id,node:l,index:e}),this.nodesToRefresh.delete(l),this.rowLoader.getBlockStartIndexForIndex(h)===this.rowLoader.getBlockStartIndexForIndex(e)||this.markBlockForVerify(h),l}}var p=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=i){var f=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(p,i,f,void 0),this.blockUtils.checkOpenByDefault(p),this.nodeManager.addRowNode(p)}return this.nodeMap.set({id:p.id,node:p,index:e}),n&&n(p),p},t.prototype.getBlockStates=function(){var e=this,i={},n={};this.nodeMap.forEach(function(l){var c,u=l.node,h=e.rowLoader.getBlockStartIndexForIndex(l.index);!u.stub&&!u.failedLoad&&(i[h]=(null!==(c=i[h])&&void 0!==c?c:0)+1);var p="loaded";u.failedLoad?p="failed":e.rowLoader.isRowLoading(h)?p="loading":(e.nodesToRefresh.has(u)||u.stub)&&(p="needsLoading"),n[h]||(n[h]=new Set),n[h].add(p)});var o={loading:4,failed:3,needsLoading:2,loaded:1},a=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(n).forEach(function(l){var c,u=cf(l,2),d=u[0],f=ZG([],cf(u[1]),!1).sort(function(v,y){var _,b;return(null!==(_=o[v])&&void 0!==_?_:0)-(null!==(b=o[y])&&void 0!==b?b:0)})[0],m=Number(d)/e.rowLoader.getBlockSize(),g=a?"".concat(a,"-").concat(m):String(m);s[g]={blockNumber:m,startRow:Number(d),endRow:Number(d)+e.rowLoader.getBlockSize(),pageStatus:f,loadedRowCount:null!==(c=i[d])&&void 0!==c?c:0}}),s},t.prototype.destroyRowAtIndex=function(e){var i=this.nodeMap.getBy("index",e);i&&(this.nodeMap.delete(i),this.nodeDisplayIndexMap.delete(i.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(i.node.id,i.node):this.blockUtils.destroyRowNode(i.node),this.nodesToRefresh.delete(i.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var i=cf(this.rowLoader.getBlockBoundsForIndex(e),2),n=i[0],o=i[1];this.nodeMap.filter(function(s){return s.index>=n&&s.index<o}).forEach(function(s){s.node.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,i){if(i.stub)return!1;if(null!=this.getRowIdFunc){var n=this.getRowId(e);return i.id===n}return i.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,i=this.api.getFirstDisplayedRowIndex(),n=this.api.getLastDisplayedRowIndex(),o=this.rowLoader.getBlockStartIndexForIndex(i),s=cf(this.rowLoader.getBlockBoundsForIndex(n),2)[1];this.nodeMap.forEach(function(l){e.rowLoader.isRowLoading(l.index)||l.node.failedLoad||l.node.stub&&(l.index<o||l.index>s)&&e.destroyRowAtIndex(l.index)})},t.prototype.getBlocksDistanceFromRow=function(e,i){var n=this,o={};return e.forEach(function(a){var s=a.node,c=cf(n.rowLoader.getBlockBoundsForIndex(a.index),2),u=c[0],d=c[1];if(!(u in o)){var p,h=Math.abs(s.rowIndex-i),f=n.nodeMap.getBy("index",[d-1]);f&&(p=Math.abs(f.node.rowIndex-i)),o[u]=null==p||h<p?h:p}}),Object.entries(o)},t.prototype.purgeExcessRows=function(){var i,e=this;if(this.purgeStubsOutsideOfViewport(),null!=this.store.getDisplayIndexEnd()&&null!=this.storeParams.maxBlocksInCache){var n=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=new Set,s=new Set;this.nodeMap.forEach(function(w){var M=w.node,P=e.rowLoader.getBlockStartIndexForIndex(w.index);a.add(P),M.rowIndex>=n&&M.rowIndex<=o&&s.add(P)});var l=Math.max(s.size,null!==(i=this.storeParams.maxBlocksInCache)&&void 0!==i?i:0),u=a.size-l;if(!(u<=0)){var d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;s.forEach(function(w){d>w&&(d=w),h<w&&(h=w)});var p=this.nodeMap.filter(function(w){var E=w.node,P=e.rowLoader.getBlockStartIndexForIndex(w.index);return!(P>=d&&P<=h||e.isNodeCached(E))});if(0!==p.length){var m=this.getBlocksDistanceFromRow(p,n+(o-n)/2),g=this.rowLoader.getBlockSize();m.sort(function(w,E){return Math.sign(E[1]-w[1])});for(var v=0;v<Math.min(u,m.length);v++)for(var y=Number(m[v][0]),_=y;_<y+g;_++){var b=this.nodeMap.getBy("index",_);!b||this.isNodeCached(b.node)||this.destroyRowAtIndex(_)}}}}},t.prototype.isNodeFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();return!(!i||null!=i.rowPinned)&&i.rowIndex===e.rowIndex},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var i=this;if(null==this.getRowIdFunc)return[];var n=new Set,o=new Set;return e.forEach(function(a){var s=i.getRowId(a);n.has(s)?o.add(s):n.add(s)}),ZG([],cf(o),!1)},t.prototype.onLoadSuccess=function(e,i,n){var o=this;if(this.live){if(this.store.setStoreInfo(n.groupLevelInfo),null!=this.getRowIdFunc){var s=this.extractDuplicateIds(n.rowData);if(s.length>0){var l=s.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids (".concat(l,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")),void this.onLoadFailed(e,i)}}n.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(n.pivotResultFields);var c=this.nodesToRefresh.size>0;if(n.rowData.forEach(function(p,f){var m,g=e+f,v=o.nodeMap.getBy("index",g);if(null===(m=v?.node)||void 0===m||!m.stub)return v&&o.doesNodeMatch(p,v.node)?(o.blockUtils.updateDataIntoRowNode(v.node,p),o.nodesToRefresh.delete(v.node),void(v.node.__needsRefreshWhenVisible=!1)):void o.createRowAtIndex(g,p);o.createRowAtIndex(g,p)}),null!=n.rowCount&&-1!==n.rowCount)this.numberOfRows=n.rowCount,this.isLastRowKnown=!0;else if(i>n.rowData.length)this.numberOfRows=e+n.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var u=e+n.rowData.length+1;u>this.numberOfRows&&(this.numberOfRows=u)}this.isLastRowKnown&&this.nodeMap.filter(function(p){return p.index>=o.numberOfRows}).forEach(function(p){return o.destroyRowAtIndex(p.index)}),this.fireStoreUpdatedEvent(),c&&0===this.nodesToRefresh.size&&this.fireRefreshFinishedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){var e=this;0===this.nodesToRefresh.size&&(this.removedNodeCache.forEach(function(n){e.blockUtils.destroyRowNode(n)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())},t.prototype.isStoreFullyLoaded=function(){var e=this.isLastRowKnown,i=this.nodeMap.getSize()===this.numberOfRows;if(e&&i&&!(this.nodesToRefresh.size>0)){var n=-1;return null==this.nodeMap.find(function(a){return!(a.index===(n+=1)&&!a.node.__needsRefreshWhenVisible&&!a.node.stub)})}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,i){var n;if(this.live){for(var o=this.nodesToRefresh.size>0,a=e;a<e+i&&a<this.getRowCount();a++){var s=(null!==(n=this.nodeMap.getBy("index",a))&&void 0!==n?n:{}).node;s&&this.nodesToRefresh.delete(s),(!s||!s.stub)&&(s&&!s.stub&&this.destroyRowAtIndex(a),s=this.createRowAtIndex(a)),s.__needsRefreshWhenVisible=!1,s.failedLoad=!0}o&&0===this.nodesToRefresh.size&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(i){i.node.stub&&!i.node.failedLoad||e.nodesToRefresh.add(i.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(null==this.getRowIdFunc)return null;var i=this.store.getRowDetails().level,n=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:e,parentKeys:n.length>0?n:void 0,level:i});return String(o)},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(i){return e[i.index]=i}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.clientSideSortRows=function(){var e=this,i=this.sortController.getSortOptions();if(i.some(function(s){return null!=s.sort})){var o=new Array(this.nodeMap.getSize());this.nodeMap.forEach(function(s){return o[s.index]=s.node}),this.nodeMap.clear(),this.rowNodeSorter.doFullSort(o,i).forEach(function(s,l){e.nodeMap.set({id:s.id,node:s,index:l})})}},t.prototype.updateRowNodes=function(e){var i=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var n=[];return e.forEach(function(o){var a=i.getRowId(o),s=i.nodeMap.getBy("id",a);s&&(i.blockUtils.updateDataIntoRowNode(s.node,o),n.push(s.node))}),n},t.prototype.insertRowNodes=function(e,i){var n=this,o=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),a=null==i&&this.isLastRowKnown?o:i;if(null==a||o<a)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var s={};e.forEach(function(d){var h=n.getRowId(d);h&&n.isNodeInCache(h)||(s[h]=d)});var l=Object.values(s),c=l.length;if(0===c)return[];var u=this.nodeMap.filter(function(d){return d.index>=a});return u.forEach(function(d){return n.nodeMap.delete(d)}),u.forEach(function(d){n.nodeMap.set({node:d.node,index:d.index+c,id:d.id})}),this.numberOfRows+=c,l.map(function(d,h){return n.createRowAtIndex(a+h,d)})},t.prototype.removeRowNodes=function(e){if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var i=[],n=[],o=0,a=ZG([],cf(e),!1),s=this.getOrderedNodeMap(),l=-1,c=function(h){l+=1;var p=s[h],f=a.findIndex(function(g){return g===p.id});if(-1!==f)return a.splice(f,1),u.destroyRowAtIndex(Number(h)),i.push(p.node),o+=1,"continue";if(0===o)return"continue";var m=Number(h);l!==m&&n.push(p.node),u.nodeMap.delete(s[h]),u.nodeMap.set({id:p.id,node:p.node,index:m-o})},u=this;for(var d in s)c(d);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:o,a.length>0&&n.length>0&&(n.forEach(function(h){return h.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),i},ku([C("gridApi")],t.prototype,"api",void 0),ku([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),ku([C("focusService")],t.prototype,"focusService",void 0),ku([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),ku([C("rowModel")],t.prototype,"serverSideRowModel",void 0),ku([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),ku([C("sortController")],t.prototype,"sortController",void 0),ku([j],t.prototype,"init",null),ku([Oi],t.prototype,"destroyRowNodes",null),t}(z),_6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_v=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},gA=function(r){function t(e,i,n){var o=r.call(this)||this;return o.idSequence=new Nr,o.ssrmParams=e,o.parentRowNode=n,o.storeParams=i,o.level=n.level+1,o.group=!!e.rowGroupCols&&o.level<e.rowGroupCols.length,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o.info={},o}return _6e(t,r),t.prototype.init=function(){var e,i=1;0===this.level&&(i=null!==(e=this.storeUtils.getServerSideInitialRowCount())&&void 0!==e?e:1,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY})),this.cache=this.createManagedBean(new QG(this,i,this.storeParams)),!this.gridOptionsService.get("treeData")&&this.group&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level])},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyRowData=function(e,i,n){this.cache.onLoadSuccess(i,n,e)},t.prototype.applyTransaction=function(e){var n,o,a,i=this,s=this.gridOptionsService.getCallback("getRowId");if(!s)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:Bi.Cancelled};var l=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(l&&!l({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:Bi.Cancelled};var d=this.cache.isStoreFullyLoaded(),h=void 0;null!==(n=e.update)&&void 0!==n&&n.length&&(h=this.cache.updateRowNodes(e.update));var p=void 0;if(null!==(o=e.add)&&void 0!==o&&o.length){var f=e.addIndex;null!=f&&f<0&&(f=void 0),p=this.cache.insertRowNodes(e.add,f)}var m=void 0;if(null!==(a=e.remove)&&void 0!==a&&a.length){var g=e.remove.map(function(w){return s({level:i.level,parentKeys:i.parentRowNode.getGroupKeys(),data:w})}),v=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(new Set(g)),!1);m=this.cache.removeRowNodes(v)}var y=this.gridOptionsService.get("serverSideEnableClientSideSort");return d&&y&&(h?.length||p?.length)&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(h,m),{status:Bi.Applied,update:h,add:p,remove:m}},t.prototype.updateSelectionAfterTransaction=function(e,i){var n=[];e?.forEach(function(o){o.isSelected()&&!o.selectable&&n.push(o)}),i?.forEach(function(o){o.isSelected()&&n.push(o)}),n.length&&this.selectionService.setNodesSelected({newValue:!1,clearSelection:!1,nodes:n,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(i){return e.blockUtils.clearDisplayIndex(i.node)}),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()},t.prototype.setRowCount=function(e,i){this.cache.setRowCount(e,i)},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.cache.getRowCount()&&this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,i){this.displayIndexStart=e.peek(),this.topPx=i.value,this.cache.setDisplayIndexes(e,i),this.parentRowNode.sibling&&this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,i),this.displayIndexEnd=e.peek(),this.heightPx=i.value-this.topPx},t.prototype.forEachStoreDeep=function(e,i){void 0===i&&(i=new Nr),e(this,i.next()),this.cache.getNodes().forEach(function(n){var o=n.node.childStore;o&&o.forEachStoreDeep(e,i)})},t.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new Nr),this.cache.getNodes().forEach(function(n){e(n.node,i.next());var o=n.node.childStore;o&&o.forEachNodeDeep(e,i)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i,n){void 0===i&&(i=new Nr),void 0===n&&(n=!1);var o=this.cache.getOrderedNodeMap();for(var a in o){var s=o[a];e(s.node,i.next());var l=s.node.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,i,n)}n&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,i.next())},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var i=e.node;i.failedLoad&&(i.failedLoad=!1,i.__needsRefreshWhenVisible=!0,i.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var i;if(!this.isDisplayIndexInStore(e))return null;var n=this.cache.getNodeCachedByDisplayIndex(e);if(n&&(o=this.blockUtils.extractRowBounds(n,e)))return o;var o,a=null!==(i=this.cache.getSurroundingNodesByDisplayIndex(e))&&void 0!==i?i:{},s=a.previousNode,l=a.nextNode;if(s&&null!=(o=this.blockUtils.extractRowBounds(s.node,e)))return o;var c=this.gridOptionsService.getRowHeightAsNumber();return l?{rowTop:l.node.rowTop-(l.node.rowIndex-e)*c,rowHeight:c}:{rowTop:this.topPx+this.heightPx-(this.getDisplayIndexEnd()-e)*c,rowHeight:c}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var i=Number.MAX_SAFE_INTEGER,n=null,o=Number.MAX_SAFE_INTEGER,a=null;if(this.cache.getNodes().forEach(function(p){var f=p.node,m=Math.abs(e-f.rowTop);f.rowTop<e?m<i&&(i=m,n=f):m<o&&(o=m,a=f)}),n){var s=this.blockUtils.getIndexAtPixel(n,e);if(null!=s)return s}var l=this.gridOptionsService.getRowHeightAsNumber();if(a){var u=Math.ceil((a.rowTop-e)/l);return a.rowIndex-u}var h=Math.floor((this.topPx+this.heightPx-e)/l);return this.getDisplayIndexEnd()-h},t.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(n){var o=i.cache.getNodes().find(function(a){return a.node.key==n});return o?o.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(i){var n=i.node;n.childStore&&e(n.childStore)})},t.prototype.refreshAfterSort=function(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var n=this.cache.isStoreFullyLoaded(),o=this.gridOptionsService.get("serverSideEnableClientSideSort");if(!n||!o){var s=this.cache.getRowCount();return this.destroyBean(this.cache),void(this.cache=this.createManagedBean(new QG(this,s,this.storeParams)))}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(function(l){return l.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow(function(n){return n.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new QG(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,i){return D.missing(e),this.cache.getNodes().filter(function(n){var o=n.node;return o.rowIndex>=e.rowIndex&&o.rowIndex<=i.rowIndex}).map(function(n){return n.node})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.fireRefreshFinishedEvent=function(){var e={type:x.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},_v([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),_v([C("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),_v([C("columnModel")],t.prototype,"columnModel",void 0),_v([C("selectionService")],t.prototype,"selectionService",void 0),_v([j],t.prototype,"init",null),_v([Oi],t.prototype,"destroyRowNodes",null),t}(z),w6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ea=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},fee=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},S6e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e.managingPivotResultColumns=!1,e}return w6e(t,r),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0,this.updateDatasource()},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var i=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","suppressServerSideInfiniteScroll","cacheBlockSize"],i),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()}),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",function(){return e.updateDatasource()})},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Server Side Row Model."),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&D.warnOnce("getRowId callback must be provided for Server Side Row Model selection to work correctly.")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.applyRowData=function(e,i,n){var o=this.getRootStore();if(o){var a=o.getChildStore(n);a&&(a instanceof gA?a.applyRowData(e,i,e.rowData.length):a instanceof qG&&a.processServerResult(e))}},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(h){var p={};h.oldCols.forEach(function(g){return p[g.id]=g});var f=h.newCols.every(function(g){var v=p[g.id];return v&&delete p[g.id],v&&v.field===g.field&&v.aggFunc===g.aggFunc}),m=!h.allowRemovedColumns&&!!Object.values(p).length;return f&&!m},a=!D.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),s=!o({oldCols:this.storeParams.rowGroupCols,newCols:e}),l=!o({oldCols:this.storeParams.pivotCols,newCols:n}),c=!!e?.length&&!o({oldCols:this.storeParams.valueCols,newCols:i,allowRemovedColumns:!0});if(a||s||l||c)this.resetRootStore();else{var d=this.createStoreParams();this.storeParams.rowGroupCols=d.rowGroupCols,this.storeParams.pivotCols=d.pivotCols,this.storeParams.valueCols=d.valueCols}}else this.resetRootStore()},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,i){this.storeParams&&(this.storeParams.sortModel=e);var n=this.getRootStore();n&&(n.refreshAfterSort(i),this.onStoreUpdated())},t.prototype.generateSecondaryColumns=function(e){var i=this.pivotColDefService.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.columnModel.setSecondaryColumns(i,"rowModelUpdated")},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes(),i=this.gridOptionsService.getRowHeightForNode(this.rootNode);if(this.rootNode.setRowHeight(i.height,i.estimated),this.rootNode.sibling){var n=this.gridOptionsService.getRowHeightForNode(this.rootNode.sibling);this.rootNode.sibling.setRowHeight(n.height,n.estimated)}e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=this,i=!1;return this.forEachNode(function(n){var o=e.gridOptionsService.getRowHeightForNode(n);n.setRowHeight(o.height,o.estimated);var a=n.detailNode;if(a){var s=e.gridOptionsService.getRowHeightForNode(a);a.setRowHeight(s.height,s.estimated)}if(n.sibling){var l=e.gridOptionsService.getRowHeightForNode(n.sibling);a.setRowHeight(l.height,l.estimated)}i=!0}),i},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ct(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.columnModel.setSecondaryColumns(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var i=this;return e.map(function(n){return{id:n.getId(),aggFunc:n.getAggFunc(),displayName:i.columnModel.getDisplayNameForColumn(n,"model"),field:n.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:i,rowGroupCols:e,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.isAdvancedFilterEnabled()?this.filterManager.getAdvancedFilterModel():this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),datasource:this.datasource,lastAccessedSequence:new Nr,dynamicRowHeight:o}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new Nr,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var i=this.getRootStore();if(i)return i.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(i){i.stub||i.hasChildren()&&i.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,i){this.storeParams&&(this.storeParams.filterModel=e);var n=this.getRootStore();n&&(n.refreshAfterFilter(i),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var i=this.getRootStore();return i?i.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var i=this.getRootStore();return i?i.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var i={};return e.forEachStoreDeep(function(n){if(n instanceof qG){var o=n.getBlockStateJson();i[o.id]=o.state}else{if(!(n instanceof gA))throw new Error("AG Grid: Unsupported store type");Object.entries(n.getBlockStates()).forEach(function(l){var c=fee(l,2);i[c[0]]=c[1]})}}),i}},t.prototype.getRowIndexAtPixel=function(e){var i=this.getRootStore();return e<=0||!i?0:i.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var i=this.getRootStore();i&&i.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e,i){void 0===i&&(i=!1);var n=this.getRootStore();n&&n.forEachNodeDeepAfterFilterAndSort(e,void 0,i)},t.prototype.executeOnStore=function(e,i){if(!this.started)return!1;var n=this.getRootStore();if(!n)return!0;var o=n.getChildStore(e);return o&&i(o),!0},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(n){return n.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],i=this.getRootStore();return i&&i.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,i){if(!D.exists(e))return[];if(!i)return[e];var n=e.rowIndex,o=i.rowIndex;if(null===n||null===o)return[e];var a=[],s=fee([n,o].sort(function(u,d){return u-d}),2),l=s[0],c=s[1];return this.forEachNode(function(u){var d=u.rowIndex;null==d||u.stub||d>=l&&d<=c&&a.push(u)}),a.length!==c-l+1?[e]:a},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(n){n.id===e&&(i=n),n.detailNode&&n.detailNode.id===e&&(i=n.detailNode)}),i},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.setRowCount=function(e,i){var n=this.getRootStore();if(n){if(n instanceof gA)return void n.setRowCount(e,i);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},Ea([C("columnModel")],t.prototype,"columnModel",void 0),Ea([C("filterManager")],t.prototype,"filterManager",void 0),Ea([C("sortController")],t.prototype,"sortController",void 0),Ea([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Ea([C("ssrmSortService")],t.prototype,"sortListener",void 0),Ea([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ea([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Ea([C("beans")],t.prototype,"beans",void 0),Ea([gt("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Ea([Oi],t.prototype,"destroyDatasource",null),Ea([j],t.prototype,"addEventListeners",null),Ea([Oi],t.prototype,"destroyRootStore",null),Ea([oe("rowModel")],t)}(z),x6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vA=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},E6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return x6e(t,r),t.prototype.loadFromDatasource=function(e){var i=e.storeParams,n=e.parentBlock,a=e.parentNode.getGroupKeys();if(i.datasource){var l=this.gridOptionsService.addGridCommonParams({success:e.success,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:i.rowGroupCols,valueCols:i.valueCols,pivotCols:i.pivotCols,pivotMode:i.pivotMode,groupKeys:a,filterModel:i.filterModel,sortModel:i.sortModel},parentNode:e.parentNode});window.setTimeout(function(){i.datasource&&n.isAlive()?i.datasource.getRows(l):e.fail()},0)}},t.prototype.getChildStore=function(e,i,n){if(D.missingOrEmpty(e))return i;var a=n(e[0]);if(a){if(1===e.length&&!a.childStore){var s=this.serverSideRowModel.getParams();a.childStore=this.createBean(this.storeFactory.createStore(s,a))}var l=e.slice(1,e.length),c=a.childStore;return c?c.getChildStore(l):null}return null},t.prototype.isServerRefreshNeeded=function(e,i,n){if(n.valueColChanged||n.secondaryColChanged)return!0;var o=e.level+1;if(!(o<i.length))return!0;var l=i[o].id;return n.changedColumns.indexOf(l)>-1||this.columnModel.getAllGridColumns().filter(function(h){return h.getColDef().showRowGroup&&n.changedColumns.includes(h.getId())}).map(function(h){return h.getColDef().showRowGroup}).some(function(h){return!0===h||h===l})},t.prototype.getServerSideInitialRowCount=function(){return this.gridOptionsService.get("serverSideInitialRowCount")},t.prototype.assertRowModelIsServerSide=function(e){return!!this.gridOptionsService.isRowModelType("serverSide")||(D.warnOnce("The '".concat(e,"' property can only be used with the Server Side Row Model.")),!1)},t.prototype.assertNotTreeData=function(e){return!this.gridOptionsService.get("treeData")||(D.warnOnce("The '".concat(e,"' property cannot be used while using tree data.")),!1)},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.get("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideOnlyRefreshFilteredGroups=function(){return this.gridOptionsService.get("serverSideOnlyRefreshFilteredGroups")&&this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.get("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.get("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},vA([C("columnModel")],t.prototype,"columnModel",void 0),vA([C("rowModel")],t.prototype,"serverSideRowModel",void 0),vA([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),vA([oe("ssrmStoreUtils")],t)}(z),D6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},A6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return D6e(t,r),t.prototype.createRowNode=function(e){var i=new ct(this.beans),n=null!=e.rowHeight?e.rowHeight:this.gridOptionsService.getRowHeightAsNumber();return i.setRowHeight(n),i.group=e.group,i.leafGroup=e.leafGroup,i.level=e.level,i.uiLevel=e.level,i.parent=e.parent,i.stub=!0,i.__needsRefreshWhenVisible=!1,i.group&&(i.expanded=!1,i.field=e.field,i.rowGroupColumn=e.rowGroupColumn),i},t.prototype.destroyRowNodes=function(e){var i=this;e&&e.forEach(function(n){return i.destroyRowNode(n)})},t.prototype.destroyRowNode=function(e,i){void 0===i&&(i=!1),e.childStore&&!i&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var i=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&null!=i&&(e.key=i(e.data)),!e.hasChildren()&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&D.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = ".concat(e.rowGroupColumn.getId())),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey"),this.beans.gridOptionsService.getGroupIncludeFooter()({node:e})&&(e.createFooter(),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))},t.prototype.setMasterDetailInfo=function(e){var i=this.gridOptionsService.get("isRowMaster");e.master=null==i||i(e.data)},t.prototype.updateDataIntoRowNode=function(e,i){e.updateData(i),this.gridOptionsService.get("treeData")?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e)):e.group?(this.setChildCountIntoRowNode(e),e.footer||(this.beans.gridOptionsService.getGroupIncludeFooter()({node:e})?e.sibling?e.sibling.updateData(i):e.createFooter():e.sibling&&e.destroyFooter())):this.gridOptionsService.get("masterDetail")},t.prototype.setDataIntoRowNode=function(e,i,n,o){var a;e.stub=!1;var s=this.gridOptionsService.get("treeData");D.exists(i)?(e.setDataAndId(i,n),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gridOptionsService.get("masterDetail")&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),D.exists(i)&&(e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,o).height),null===(a=e.sibling)||void 0===a||a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling,!1,o).height))},t.prototype.setChildCountIntoRowNode=function(e){var i=this.gridOptionsService.get("getChildCount");i&&e.setAllChildrenCount(i(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var i=this,n=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.get("treeData");n.forEach(function(a){if(null==e.groupData&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=i.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.hasChildren()&&D.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,i,n){if(e.setRowIndex(i.next()),e.setRowTop(n.value),n.value+=e.rowHeight,!e.footer&&(e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(i.next()),e.detailNode.setRowTop(n.value),n.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&D.exists(e.childStore))){var s=e.childStore;e.expanded?s.setDisplayIndexes(i,n):s.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,i){var n=0,o=i.length-1;if(D.missing(o)||D.missing(n))console.warn("AG Grid: error: topPointer = ".concat(o,", bottomPointer = ").concat(n));else for(;;){var a=Math.floor((n+o)/2),s=i[a];if(s.rowIndex===e)return s;var c=s.detailNode;if(s.master&&s.expanded&&c&&c.rowIndex===e)return s.detailNode;var u=s.childStore;if(s.expanded&&u&&u.isDisplayIndexInStore(e))return u.getRowUsingDisplayIndex(e);if(s.rowIndex<e)n=a+1;else{if(!(s.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = ".concat(e," in cache"));o=a-1}}},t.prototype.extractRowBounds=function(e,i){var n=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===i)return n(e);if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(i))return o.getRowBounds(i)}else if(e.master&&e.expanded&&D.exists(e.detailNode)&&e.detailNode.rowIndex===i)return n(e.detailNode)},t.prototype.getIndexAtPixel=function(e,i){if(e.isPixelInRange(i))return e.rowIndex;var o=e.detailNode;if(e.master&&e.expanded&&o&&o.isPixelInRange(i))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(i))return a.getRowIndexAtPixel(i)}return null},t.prototype.createNodeIdPrefix=function(e){for(var i=[],n=e;n&&n.level>=0;)i.push(""===n.key?"ag-Grid-MissingKey":n.key),n=n.parent;if(i.length>0)return i.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){return this.expansionService.checkOpenByDefault(e)},Cv([C("valueService")],t.prototype,"valueService",void 0),Cv([C("columnModel")],t.prototype,"columnModel",void 0),Cv([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Cv([C("beans")],t.prototype,"beans",void 0),Cv([C("expansionService")],t.prototype,"expansionService",void 0),Cv([oe("ssrmBlockUtils")],t)}(z),mee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},O6e=function(){function r(){this.rowNodes={}}return r.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id ".concat(t.id,". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.")),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},r.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},r.prototype.clear=function(){this.rowNodes={}},mee([Oi],r.prototype,"clear",null),mee([oe("ssrmNodeManager")],r)}(),M6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},R6e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.asyncTransactions=[],e}return M6e(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,i){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:i})},t.prototype.scheduleExecuteAsync=function(){var e=this,i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},i)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var i=[],n=[],o=[],a=!1;this.asyncTransactions.forEach(function(l){var c;e.serverSideRowModel.executeOnStore(l.transaction.route,function(h){c=h.applyTransaction(l.transaction)})?null==c&&(c={status:Bi.StoreNotFound}):c={status:Bi.StoreNotStarted},n.push(c),c.status==Bi.StoreLoading?o.push(l):(l.callback&&i.push(function(){return l.callback(c)}),c.status===Bi.Applied&&(a=!0))}),i.length>0&&window.setTimeout(function(){i.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})),n.length>0&&this.eventService.dispatchEvent({type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n})}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var i;if(this.serverSideRowModel.executeOnStore(e.route,function(a){i=a.applyTransaction(e)})){if(i){if(this.valueCache.onDataChanged(),i.remove){var o=i.remove.map(function(a){return a.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED}),i}return{status:Bi.StoreNotFound}}return{status:Bi.StoreNotStarted}},uf([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),uf([C("valueCache")],t.prototype,"valueCache",void 0),uf([C("rowModel")],t.prototype,"serverSideRowModel",void 0),uf([C("rowRenderer")],t.prototype,"rowRenderer",void 0),uf([C("selectionService")],t.prototype,"selectionService",void 0),uf([j],t.prototype,"postConstruct",null),uf([oe("ssrmTransactionManager")],t)}(z),P6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},I6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return P6e(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,x.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var i=e.node;if(i.expanded){if(i.master)this.createDetailNode(i);else if(D.missing(i.childStore)){var n=this.serverSideRowModel.getParams();i.childStore=this.createBean(this.storeFactory.createStore(n,i))}}else this.gridOptionsService.get("purgeClosedRowNodes")&&D.exists(i.childStore)&&(i.childStore=this.destroyBean(i.childStore));this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var i=new ct(this.beans);i.detail=!0,i.selectable=!1,i.parent=e,D.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1;var o=this.gridOptionsService.getRowHeightForNode(i).height;return i.rowHeight=o||200,e.detailNode=i,i},Zb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Zb([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Zb([C("beans")],t.prototype,"beans",void 0),Zb([j],t.prototype,"postConstruct",null),Zb([oe("ssrmExpandListener")],t)}(z),F6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},k6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return F6e(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var i=this.sortController.getSortModel(),o=this.findChangedColumnsInSort(i,e.sortModel),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o);this.serverSideRowModel.refreshAfterSort(i,{valueColChanged:a,secondaryColChanged:s,changedColumns:o})}},t.prototype.findChangedColumnsInSort=function(e,i){var n=[];return[e,i].forEach(function(s){if(s){var l=s.map(function(c){return c.colId});n=n.concat(l)}}),n.filter(function(s){var l=i.find(function(u){return u.colId===s}),c=e.find(function(u){return u.colId===s});return function(s,l){return(s?s.sort:null)!==(l?l.sort:null)}(l,c)||function(s,l){return(s?i.indexOf(s):-1)!==(l?e.indexOf(l):-1)}(l,c)})},Qb([C("sortController")],t.prototype,"sortController",void 0),Qb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Qb([C("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Qb([j],t.prototype,"postConstruct",null),Qb([oe("ssrmSortService")],t)}(z),L6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jb=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},N6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return L6e(t,r),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("serverSide")&&(this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(){return e.onFilterChanged(!0)}),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,function(){return e.onFilterChanged()}))},t.prototype.onFilterChanged=function(e){var i=this.serverSideRowModel.getParams();if(i){var o,a,n=i.filterModel;if(this.filterManager.isAdvancedFilterEnabled()){o=this.filterManager.getAdvancedFilterModel();var s=e?Object.keys(n??{}):this.getAdvancedFilterColumns(n),l=this.getAdvancedFilterColumns(o);s.forEach(function(p){return l.add(p)}),a=Array.from(l)}else if(o=this.filterManager.getFilterModel(),e){var c=this.getAdvancedFilterColumns(n);Object.keys(o).forEach(function(p){return c.add(p)}),a=Array.from(c)}else a=this.findChangedColumns(n,o);var u=this.listenerUtils.isSortingWithValueColumn(a),d=this.listenerUtils.isSortingWithSecondaryColumn(a);this.serverSideRowModel.refreshAfterFilter(o,{valueColChanged:u,secondaryColChanged:d,changedColumns:a})}},t.prototype.findChangedColumns=function(e,i){var n={};Object.keys(e).forEach(function(a){return n[a]=!0}),Object.keys(i).forEach(function(a){return n[a]=!0});var o=[];return Object.keys(n).forEach(function(a){JSON.stringify(e[a])!=JSON.stringify(i[a])&&o.push(a)}),o},t.prototype.getAdvancedFilterColumns=function(e){var i=new Set;if(!e)return i;var n=function(o){"join"===o.filterType?o.conditions.forEach(function(a){return n(a)}):i.add(o.colId)};return n(e),i},Jb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Jb([C("filterManager")],t.prototype,"filterManager",void 0),Jb([C("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Jb([j],t.prototype,"postConstruct",null),Jb([oe("ssrmFilterListener")],t)}(z),JG=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},G6e=function(){function r(){}return r.prototype.createStore=function(t,e){var i=this.getStoreParams(t,e);return new(i.suppressInfiniteScroll?qG:gA)(t,i,e)},r.prototype.getStoreParams=function(t,e){var i=this.getLevelSpecificParams(e),n=this.isInfiniteScroll(i);return{suppressInfiniteScroll:!n,cacheBlockSize:this.getBlockSize(n,i),maxBlocksInCache:this.getMaxBlocksInCache(n,t,i)}},r.prototype.getMaxBlocksInCache=function(t,e,i){if(t){var n=i&&null!=i.maxBlocksInCache?i.maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache");if(null!=n&&n>=0)return e.dynamicRowHeight?void D.warnOnce("Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled."):this.columnModel.isAutoRowHeightActive()?void D.warnOnce("Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled."):n}},r.prototype.getBlockSize=function(t,e){if(t){var i=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.get("cacheBlockSize");return null!=i&&i>0?i:100}},r.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},r.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},r.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.get("suppressServerSideInfiniteScroll")},JG([C("gridOptionsService")],r.prototype,"gridOptionsService",void 0),JG([C("columnModel")],r.prototype,"columnModel",void 0),JG([oe("ssrmStoreFactory")],r)}(),gee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},V6e=function(){function r(){}return r.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(n){return n.getColId()}),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},r.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(n){return n.getColId()}),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},gee([C("columnModel")],r.prototype,"columnModel",void 0),gee([oe("ssrmListenerUtils")],r)}(),B6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},H6e=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},j6e=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},yee=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return B6e(t,r),t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(i){e.rowSelection=i.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:j6e([],H6e(this.selectedState.toggledNodes),!1)}},t.prototype.setSelectedState=function(e){var i={selectAll:!1,toggledNodes:new Set};"object"==typeof e?"selectAll"in e&&"boolean"==typeof e.selectAll?(i.selectAll=e.selectAll,"toggledNodes"in e&&Array.isArray(e.toggledNodes)?(e.toggledNodes.forEach(function(n){"string"==typeof n?i.toggledNodes.add(n):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: ".concat(n))}),this.selectedState=i):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},t.prototype.deleteSelectionStateFromParent=function(e,i){var n=this;if(0===this.selectedState.toggledNodes.size)return!1;var o=!1;return i.forEach(function(a){n.selectedState.toggledNodes.delete(a)&&(o=!0)}),o},t.prototype.setNodesSelected=function(e){var i,n=this;if(0===e.nodes.length)return 0;if("multiple"!==this.rowSelection||e.clearSelection&&e.newValue&&!e.rangeSelect){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");var a=e.nodes[0];return e.newValue?(this.selectedNodes=((i={})[a.id]=a,i),this.selectedState={selectAll:!1,toggledNodes:new Set([a.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=a.id,1}var s=function(c){e.newValue?n.selectedNodes[c.id]=c:delete n.selectedNodes[c.id],e.newValue!==n.selectedState.selectAll&&c.selectable?n.selectedState.toggledNodes.add(c.id):n.selectedState.toggledNodes.delete(c.id)};if(e.rangeSelect&&this.lastSelected){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");a=e.nodes[0];var l=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(a,l??null).forEach(s),this.lastSelected=a.id,1}return e.nodes.forEach(s),this.lastSelected=e.nodes[e.nodes.length-1].id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var i=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!i:i},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,i){var n=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;return this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(a){a!==e&&a.selectThisNode(!1,void 0,i)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i}),n},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAll||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,i){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},vee([C("rowModel")],t.prototype,"rowModel",void 0),vee([j],t.prototype,"init",null),t}(z),U6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ew=function(){return ew=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},ew.apply(this,arguments)},bv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},tw=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},_ee=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return U6e(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset("rowGroupChanged")})},t.prototype.getSelectedState=function(){var e=this,i=this.gridOptionsService.get("treeData"),n=function(o,a,s){var l={nodeId:s};if((i||a<=e.columnModel.getRowGroupColumns().length)&&(l.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var c=[];o.toggledNodes.forEach(function(u,d){var h=n(u,a+1,d);c.push(h)}),l.toggledNodes=c}return l};return n(this.selectedState,0)},t.prototype.setSelectedState=function(e){var i=function(n,o){var a,s;if("object"!=typeof n)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in n&&"boolean"!=typeof n.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in n){if(!Array.isArray(n.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!n.toggledNodes.every(function(h){return"object"==typeof h&&"nodeId"in h&&"string"==typeof h.nodeId}))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var c=null!==(a=n.selectAllChildren)&&void 0!==a?a:!o,u=null===(s=n.toggledNodes)||void 0===s?void 0:s.map(function(h){return[h.nodeId,i(h,c)]}),d=u?.some(function(h){var f=tw(h,2)[1];return c===f.selectAllChildren&&0===f.toggledNodes.size});if(d)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:c,toggledNodes:new Map(u)}};try{this.selectedState=i(e,!!e.selectAllChildren)}catch(n){console.error(n.message)}},t.prototype.deleteSelectionStateFromParent=function(e,i){for(var n=this.selectedState,o=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}([],tw(e),!1);n&&o.length;)n=n.toggledNodes.get(o.pop());if(!n)return!1;var a=!1;return i.forEach(function(s){n?.toggledNodes.delete(s)&&(a=!0)}),a&&this.removeRedundantState(),a},t.prototype.setNodesSelected=function(e){var i=this,n=e.nodes,o=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]])}return e}(e,["nodes"]);if(0===n.length)return 0;if(e.rangeSelect){if(n.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=n[0],l=this.rowModel.getNodesInRangeForSelection(a,this.lastSelected).map(this.getRouteToNode).sort(function(u,d){return d.length-u.length}),c=new Set;return l.forEach(function(u){c.has(u[u.length-1])||(u.forEach(function(d){return c.add(d)}),i.recursivelySelectNode(u,i.selectedState,ew({node:a},o)))}),this.removeRedundantState(),this.lastSelected=a,1}return e.nodes.forEach(function(u){var d=i.getRouteToNode(u);i.recursivelySelectNode(d,i.selectedState,ew(ew({},o),{node:u}))}),this.removeRedundantState(),this.lastSelected=e.nodes[e.nodes.length-1],1},t.prototype.isNodeSelected=function(e){var i=this.getRouteToNode(e);return this.isNodePathSelected(i,this.selectedState)},t.prototype.isNodePathSelected=function(e,i){var n=tw(e),o=n[0],a=n.slice(1);if(0===a.length){var s=i.toggledNodes.has(o.id);if(o.hasChildren()){var l=i.toggledNodes.get(o.id);if(l&&l.toggledNodes.size)return}return i.selectAllChildren?!s:s}if(i.toggledNodes.has(o.id)){var c=i.toggledNodes.get(o.id);if(c)return this.isNodePathSelected(a,c)}return!!i.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var i=[],n=e;n.parent;)i.push(n),n=n.parent;return i.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var i=function(n,o,a){var s,l;if(void 0===n&&(n=e.selectedState),n.toggledNodes.forEach(function(E,M){i(E,M,n)}),o){var c=e.rowModel.getRowNode(o),u=c?.childStore,d=u?.isLastRowIndexKnown();if(d&&n.toggledNodes.size>=u.getRowCount()){try{for(var p=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.toggledNodes.entries()),f=p.next();!f.done;f=p.next()){var g=tw(f.value,2);if(g[1].toggledNodes.size>0)return;if(!e.rowModel.getRowNode(g[0]))return}}catch(E){s={error:E}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}n.selectAllChildren=!n.selectAllChildren,n.toggledNodes.clear()}}0===n.toggledNodes.size&&a?.selectAllChildren===n.selectAllChildren&&a?.toggledNodes.delete(o)};i()}},t.prototype.recursivelySelectNode=function(e,i,n){var o=tw(e),a=o[0],s=o.slice(1);if(a){if(!s.length)return i.selectAllChildren!==n.newValue&&a.selectable?void i.toggledNodes.set(a.id,{selectAllChildren:n.newValue,toggledNodes:new Map}):void i.toggledNodes.delete(a.id);var h=i.toggledNodes.has(a.id),p=h?i.toggledNodes.get(a.id):{selectAllChildren:i.selectAllChildren,toggledNodes:new Map};h||i.toggledNodes.set(a.id,p),this.recursivelySelectNode(s,p,n),i.selectAllChildren===p.selectAllChildren&&0===p.toggledNodes.size&&i.toggledNodes.delete(a.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(i){i.isSelected()&&e.push(i)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAllChildren||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,i){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},bv([C("rowModel")],t.prototype,"rowModel",void 0),bv([C("columnModel")],t.prototype,"columnModel",void 0),bv([C("filterManager")],t.prototype,"filterManager",void 0),bv([C("rowModel")],t.prototype,"serverSideRowModel",void 0),bv([C("selectionService")],t.prototype,"selectionService",void 0),bv([j],t.prototype,"init",null),t}(z),K6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eV=function(){return eV=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},eV.apply(this,arguments)},tV=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},q6e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return K6e(t,r),t.prototype.init=function(){var e=this,i=this.gridOptionsService.get("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(o){e.destroyBean(e.selectionStrategy),e.selectionStrategy=e.createManagedBean(new(o.currentValue?_ee:yee)),e.shotgunResetNodeSelectionState(),e.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"})}),this.addManagedPropertyListener("rowSelection",function(){return e.deselectAllRowNodes({source:"api"})}),this.selectionStrategy=this.createManagedBean(new(i?_ee:yee))},t.prototype.getSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setSelectionState=function(e,i){Array.isArray(e)||(this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i}))},t.prototype.setNodesSelected=function(e){var i=e.nodes,n=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]])}return e}(e,["nodes"]),o=this.gridOptionsService.get("rowSelection");if(i.length>1&&"multiple"!==o)return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;if(i.length>1&&e.rangeSelect)return console.warn("AG Grid: cannot use range selection when multi selecting rows"),0;var a=eV({nodes:i.filter(function(c){return c.selectable})},n);if(!a.nodes.length)return 0;var s=this.selectionStrategy.setNodesSelected(a);return this.shotgunResetNodeSelectionState(a.source),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:a.source}),s},t.prototype.deleteSelectionStateFromParent=function(e,i){this.selectionStrategy.deleteSelectionStateFromParent(e,i)&&(this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"}))},t.prototype.shotgunResetNodeSelectionState=function(e){var i=this;this.rowModel.forEachNode(function(n){if(!n.stub){var o=i.selectionStrategy.isNodeSelected(n);o!==n.isSelected()&&n.selectThisNode(o,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,i){this.selectionStrategy.processNewRow(e);var n=this.selectionStrategy.isNodeSelected(e);if(0!=n&&!e.selectable)return this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),void this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"});e.setSelectedInitialValue(n)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.hasNodesToSelect=function(e,i){return!0},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(n){n.stub||n.selectThisNode(!0,void 0,e.source)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(n){n.stub||n.selectThisNode(!1,void 0,e.source)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.getSelectAllState=function(e,i){return this.selectionStrategy.getSelectAllState(e,i)},t.prototype.updateGroupsFromChildrenSelections=function(e,i){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},tV([C("rowModel")],t.prototype,"rowModel",void 0),tV([j],t.prototype,"init",null),tV([oe("selectionService")],t)}(z),Z6e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Q6e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.queuedRowIds=new Set,e}return Z6e(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){e.queuedRowIds.clear()})},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var i=function(){window.setTimeout(function(){return e.setExpanded(!0)},0)};if(this.queuedRowIds.has(e.id))return this.queuedRowIds.delete(e.id),void i();var n=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");n&&n({data:e.data,rowNode:e})&&i()}},t.prototype.expandRows=function(e){var i=this;e.forEach(function(n){var o=i.serverSideRowModel.getRowNode(n);o?o.setExpanded(!0):i.queuedRowIds.add(n)})},t.prototype.expandAll=function(e){this.serverSideRowModel.expandAll(e)},t.prototype.onGroupExpandedOrCollapsed=function(){},Cee([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Cee([oe("expansionService")],t)}(KY),J6e={version:"31.1.1",moduleName:ie.ServerSideRowModelModule,rowModel:"serverSide",beans:[S6e,I6e,k6e,E6e,A6e,O6e,R6e,N6e,G6e,V6e,q6e,Q6e],dependantModules:[ur]},e8e=function(){function r(t,e,i,n,o,a,s,l,c,u,d){this.rowModel=t,this.filterParams=e,this.createKey=i,this.caseFormat=n,this.columnModel=o,this.valueService=a,this.treeDataOrGrouping=s,this.treeData=l,this.getDataPath=c,this.groupAllowUnbalanced=u,this.addManagedListener=d}return r.prototype.extractUniqueValuesAsync=function(t,e){var i=this;return new vt(function(n){if(i.rowModel.isRowDataLoaded())n(i.extractUniqueValues(t,e));else var o=i.addManagedListener(x.EVENT_ROW_COUNT_READY,function(){o?.(),n(i.extractUniqueValues(t,e))})})},r.prototype.extractUniqueValues=function(t,e){var i=this,n=new Map,o=this.extractExistingFormattedKeys(e),a=new Set,s=this.treeData&&!!this.getDataPath,l=this.columnModel.getRowGroupColumns(),c=function(u,d){var h=i.caseFormat(u);if(!a.has(h)){a.add(h);var p=u,f=D.makeNull(d),m=o?.get(h);null!=m&&(p=m,f=e.get(m)),n.set(p,f)}};return this.rowModel.forEachLeafNode(function(u){if(u.data&&t(u)){if(i.treeDataOrGrouping)return void i.addValueForTreeDataOrGrouping(u,s,l,c);var d=i.getValue(u);if(i.filterParams.convertValuesToStrings)return void i.addValueForConvertValuesToString(u,d,c);null!=d&&Array.isArray(d)?(d.forEach(function(h){c(i.createKey(h,u),h)}),0===d.length&&c(null,null)):c(i.createKey(d,u),d)}}),n},r.prototype.addValueForConvertValuesToString=function(t,e,i){var n=this.createKey(e,t);null!=n&&Array.isArray(n)?(n.forEach(function(o){var a=D.toStringOrNull(D.makeNull(o));i(a,a)}),0===n.length&&i(null,null)):i(n,n)},r.prototype.addValueForTreeDataOrGrouping=function(t,e,i,n){var a,s,o=this;if(e){if(null!==(a=t.childrenAfterGroup)&&void 0!==a&&a.length)return;s=this.getDataPath(t.data)}else(s=i.map(function(l){return o.valueService.getKeyForNode(l,t)})).push(this.getValue(t));s&&(s=s.map(function(l){return D.toStringOrNull(D.makeNull(l))})),!e&&this.groupAllowUnbalanced&&s?.some(function(l){return null==l})&&(s=s.filter(function(l){return null!=l})),n(this.createKey(s),s)},r.prototype.getValue=function(t){return this.filterParams.getValue(t)},r.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var i=new Map;return t.forEach(function(n,o){i.set(e.caseFormat(o),o)}),i},r}(),Uo=function(){function r(){}return r.SELECT_ALL="__AG_SELECT_ALL__",r.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__",r}(),i8e=function(){function r(t,e,i,n){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=i,this.column=n,this.displayedKeys=[]}return r.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i){this.displayedKeys=Array.from(i)},r.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,n,o){var a,s;this.displayedKeys=[];try{for(var l=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(null==u)o&&this.displayedKeys.push(u);else{var d=t(u),h=this.valueFormatterService.formatValue(this.column,null,d,this.valueFormatter,!1);n(this.formatter(h))&&this.displayedKeys.push(u)}}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},r.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},r.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},r.prototype.getSelectAllItem=function(){return Uo.SELECT_ALL},r.prototype.getAddSelectionToFilterItem=function(){return Uo.ADD_SELECTION_TO_FILTER},r.prototype.getDisplayedKeys=function(){return this.displayedKeys},r.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},r.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},r.prototype.hasGroups=function(){return!1},r.prototype.refresh=function(){},r}(),bee=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},iV=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r8e=function(){function r(t,e,i,n){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=i,this.treeDataOrGrouping=n,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:Uo.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:Uo.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:Uo.ADD_SELECTION_TO_FILTER,expanded:!0,key:Uo.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}return r.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i,n){"reload"===n?this.generateItemTree(t,e,i):"otherFilter"===n?(this.updateAvailable(i),this.updateExpandAll()):"miniFilter"===n&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},r.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,n,o,a){"reload"===a?this.generateItemTree(t,e,i):"otherFilter"===a&&this.updateAvailable(i),this.updateFilter(n,o),this.updateExpandAll(),this.flattenItems()},r.prototype.generateItemTree=function(t,e,i){var n,o,a;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,i),l=function(p){var f=t(p),m=null!==(a=s(f))&&void 0!==a?a:[null];m.length>1&&(c.groupsExist=!0);var y,g=i.has(p),v=c.allDisplayedItemsTree,_=[];m.forEach(function(b,w){v||(y.children=v=[]),(y=v.find(function(E){var M;return(null===(M=E.treeKey)||void 0===M?void 0:M.toUpperCase())===b?.toUpperCase()}))||(y={treeKey:b,depth:w,filterPasses:!0,expanded:!1,available:g,parentTreeKeys:_},w===m.length-1&&(y.key=p),v.push(y)),v=y.children,_=bee(bee([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(_),!1),[b],!1)})},c=this;try{for(var u=iV(e),d=u.next();!d.done;d=u.next())l(d.value)}catch(p){n={error:p}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}this.updateAvailable(i),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},r.prototype.getTreeListPathGetter=function(t,e){var i,n;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(u){return u};var o=!1;try{for(var a=iV(e),s=a.next();!s.done;s=a.next()){var c=t(s.value);if(c instanceof Date){o=!0;break}if(null!=c)break}}catch(u){i={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o?r.DATE_TREE_LIST_PATH_GETTER:(D.warnOnce("property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),function(u){return[String(u)]})},r.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(i){i.forEach(function(n){!n.filterPasses||!n.available||(t.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))})};e(this.allDisplayedItemsTree)},r.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(i){t(i)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},r.prototype.updateFilter=function(t,e){var i=this,n=function(o){return!!o.available&&(null==o.treeKey?e:t(i.formatter(i.treeListFormatter?i.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)))};this.allDisplayedItemsTree.forEach(function(o){return i.recursiveItemCheck(o,!1,n,"filterPasses")})},r.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},r.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},r.prototype.getSelectAllItem=function(){return this.selectAllItem},r.prototype.getAddSelectionToFilterItem=function(){return this.addSelectionToFilterItem},r.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},r.prototype.forEachDisplayedKey=function(t){var e=function(i,n){i.children?(!i.expanded||!n)&&i.children.forEach(function(o){o.filterPasses&&e(o,!1)}):t(i.key)};this.activeDisplayedItemsFlat.forEach(function(i){return e(i,!0)})},r.prototype.someDisplayedKey=function(t){var e=function(i,n){return i.children?(!i.expanded||!n)&&i.children.some(function(o){return!!o.filterPasses&&e(o,!1)}):t(i.key)};return this.activeDisplayedItemsFlat.some(function(i){return e(i,!0)})},r.prototype.hasGroups=function(){return this.groupsExist},r.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},r.prototype.updateExpandAll=function(){var t=function(i,n,o){var a,s;try{for(var l=iV(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.filterPasses&&u.available&&u.children){if(o=o||!u.expanded,(n=n||!!u.expanded)&&o)return;var d=t(u.children,n,o);if(void 0===d)return;d?n=!0:o=!0}}}catch(h){a={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return n&&o?void 0:n},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},r.prototype.recursiveItemCheck=function(t,e,i,n){var o=this,a=!1;t.children&&t.children.forEach(function(l){var c=o.recursiveItemCheck(l,e||i(t),i,n);a=a||c});var s=e||a||i(t);return t[n]=s,s},r.prototype.updateAvailable=function(t){var e=this,i=function(n){return t.has(n.key)};this.allDisplayedItemsTree.forEach(function(n){return e.recursiveItemCheck(n,!1,i,"available")})},r.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},r}(),o8e=function(){function r(t){var e=t.caseFormat;this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}return r.prototype.allFilteringKeys=function(){return this.filteringKeys},r.prototype.allFilteringKeysCaseFormatted=function(){return this.filteringKeysCaseFormatted},r.prototype.noAppliedFilteringKeys=function(){return this.hasNoAppliedFilteringKeys},r.prototype.setFilteringKeys=function(t){var e=this;this.filteringKeys=new Set(t),this.hasNoAppliedFilteringKeys=!this.filteringKeys||0===this.filteringKeys.size,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(function(i){return e.filteringKeysCaseFormatted.add(e.caseFormat(i))})},r.prototype.addFilteringKey=function(t){null==this.filteringKeys&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(t),this.filteringKeysCaseFormatted.add(this.caseFormat(t)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)},r.prototype.hasCaseFormattedFilteringKey=function(t){return this.filteringKeysCaseFormatted.has(this.caseFormat(t))},r.prototype.hasFilteringKey=function(t){return this.filteringKeys.has(t)},r.prototype.reset=function(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1},r}(),Lu=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,a,i=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},wee=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))},cn=(()=>((cn=cn||{})[cn.PROVIDED_LIST=0]="PROVIDED_LIST",cn[cn.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",cn[cn.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES",cn))(),See=function(){function r(t){var i,e=this;this.localEventService=new Ll,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var n=t.usingComplexObjects,o=t.columnModel,a=t.valueService,s=t.treeDataTreeList,l=t.groupingTreeList,c=t.filterParams,u=t.gridOptionsService,d=t.valueFormatterService,h=t.valueFormatter,p=t.addManagedListener,f=c.column,m=c.colDef,g=c.textFormatter,v=c.doesRowPassOtherFilter,y=c.suppressSorting,_=c.comparator,b=c.rowModel,w=c.values,E=c.caseSensitive,M=c.convertValuesToStrings,P=c.treeList,I=c.treeListPathGetter,k=c.treeListFormatter;this.filterParams=c,this.gridOptionsService=u,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=g||U_.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=v,this.suppressSorting=y||!1,this.convertValuesToStrings=!!M,this.filteringKeys=new o8e({caseFormat:this.caseFormat});var N=_??m.comparator,B=!!s||!!l;this.compareByValue=!!(n&&N||B||P&&!I),this.entryComparator=B&&!N?this.createTreeDataOrGroupingComparator():!P||I||N?function(me,W){var Z=Lu(me,2)[1],ce=Lu(W,2);return N(Z,ce[1])}:function(me,W){var Z=Lu(me,2)[1],ce=Lu(W,2);return D.defaultComparator(Z,ce[1])},this.keyComparator=null!==(i=N)&&void 0!==i?i:D.defaultComparator,this.caseSensitive=!!E;var Y=u.get("getDataPath"),ne=u.get("groupAllowUnbalanced");"clientSide"===b.getType()&&(this.clientSideValuesExtractor=new e8e(b,this.filterParams,this.createKey,this.caseFormat,o,a,B,!!s,Y,ne,p)),null==w?this.valuesType=cn.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?cn.PROVIDED_LIST:cn.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=P?new r8e(this.formatter,I,k,s||l):new i8e(d,h,this.formatter,f),this.updateAllValues().then(function(me){return e.resetSelectionState(me||[])})}return r.prototype.addEventListener=function(t,e,i){this.localEventService.addEventListener(t,e,i)},r.prototype.removeEventListener=function(t,e,i){this.localEventService.removeEventListener(t,e,i)},r.prototype.updateOnParamsChange=function(t){var e=this;return new vt(function(i){var n=t.values,o=t.textFormatter,a=t.suppressSorting,s=e.providedValues,l=e.suppressSorting;if(e.filterParams=t,e.formatter=o||U_.DEFAULT_FORMATTER,e.suppressSorting=a||!1,e.providedValues=n??null,e.providedValues!==s||e.suppressSorting!==l){if(n&&0!==n.length){var c=Array.isArray(n)&&n.length>0&&"function"==typeof n[0];e.valuesType=c?cn.PROVIDED_CALLBACK:cn.PROVIDED_LIST}else e.valuesType=cn.TAKEN_FROM_GRID_VALUES,e.providedValues=null;var u=e.getModel();e.updateAllValues().then(function(d){e.setModel(u).then(function(){return i()})})}else i()})},r.prototype.refreshValues=function(){var t=this;return new vt(function(e){t.allValuesPromise.then(function(){var i=t.getModel();t.updateAllValues(),t.setModel(i).then(function(){return e()})})})},r.prototype.overrideValues=function(t){var e=this;return new vt(function(i){e.allValuesPromise.then(function(){e.valuesType=cn.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return i()})})})},r.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):vt.resolve(!1)},r.prototype.isInitialised=function(){return this.initialised},r.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new vt(function(e){switch(t.valuesType){case cn.TAKEN_FROM_GRID_VALUES:t.getValuesFromRowsAsync(!1).then(function(l){return e(t.processAllValues(l))});break;case cn.PROVIDED_LIST:e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(t.providedValues))));break;case cn.PROVIDED_CALLBACK:t.setIsLoading(!0);var i=t.providedValues,n=t.filterParams,s=t.gridOptionsService.addGridCommonParams({success:function(l){t.setIsLoading(!1),e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(l))))},colDef:n.colDef,column:n.column});window.setTimeout(function(){return i(s)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},r.prototype.processAllValues=function(t){var e=this.sortKeys(t);return this.allValues=t??new Map,e},r.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&t?.length){var e=t[0];if(e&&"object"!=typeof e&&"function"!=typeof e){var i=this.createKey(e);D.warnOnce(null==i?"Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types":"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}}return t},r.prototype.setValuesType=function(t){this.valuesType=t},r.prototype.getValuesType=function(){return this.valuesType},r.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},r.prototype.showAvailableOnly=function(){return this.valuesType===cn.TAKEN_FROM_GRID_VALUES},r.prototype.updateAvailableKeys=function(t,e){var i=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(i),this.localEventService.dispatchEvent({type:r.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},r.prototype.sortKeys=function(t){var i,e=t??new Map;return this.suppressSorting?Array.from(e.keys()):(i=this.compareByValue?Array.from(e.entries()).sort(this.entryComparator).map(function(n){return Lu(n,1)[0]}):Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(i=i.filter(function(n){return null!=n})).push(null),i)},r.prototype.getParamsForValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?{predicate:function(o){return!t||e.doesRowPassOtherFilters(o)},existingValues:t&&!this.caseSensitive?this.allValues:void 0}:(D.doOnce(function(){console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values")},"setFilterValueNotCSRM"),null)},r.prototype.getValuesFromRows=function(t){void 0===t&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValues(e.predicate,e.existingValues):null},r.prototype.getValuesFromRowsAsync=function(t){void 0===t&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValuesAsync(e.predicate,e.existingValues):vt.resolve(null)},r.prototype.setMiniFilter=function(t){return t=D.makeNull(t),this.miniFilterText!==t&&(null===t&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},r.prototype.getMiniFilter=function(){return this.miniFilterText},r.prototype.updateDisplayedValues=function(t,e){var i=this;if("expansion"!==t)if(null!=this.miniFilterText){var n=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(s){return null!=s&&i.caseFormat(s).indexOf(n)>=0},a=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s){return i.getValue(s)},e,this.availableKeys,o,a,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s){return i.getValue(s)},e,this.availableKeys,t);else this.displayValueModel.refresh()},r.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},r.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},r.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},r.prototype.getAddSelectionToFilterItem=function(){return this.displayValueModel.getAddSelectionToFilterItem()},r.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},r.prototype.getKeys=function(){return Array.from(this.allValues.keys())},r.prototype.getValues=function(){return Array.from(this.allValues.values())},r.prototype.getValue=function(t){return this.allValues.get(t)},r.prototype.setAddCurrentSelectionToFilter=function(t){this.addCurrentSelectionToFilter=t},r.prototype.isInWindowsExcelMode=function(){return"windows"===this.filterParams.excelMode},r.prototype.isAddCurrentSelectionToFilterChecked=function(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter},r.prototype.showAddCurrentSelectionToFilter=function(){return this.isInWindowsExcelMode()&&D.exists(this.miniFilterText)&&this.miniFilterText.length>0},r.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(i){return e.selectedKeys.add(i)}))},r.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},r.prototype.selectKey=function(t){this.selectedKeys.add(t)},r.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},r.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},r.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},r.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},r.prototype.getModel=function(){if(!this.hasSelections())return null;var t=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(t&&t.size>0){if(this.selectedKeys){var e=new Set(wee(wee([],Lu(Array.from(t)),!1),Lu(Array.from(this.selectedKeys).filter(function(i){return!t.has(i)})),!1));return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)},r.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(i){if(null==t)e.resetSelectionState(i??[]);else{e.selectedKeys.clear();var n=new Map;e.allValues.forEach(function(o,a){n.set(e.caseFormat(a),a)}),t.forEach(function(o){var a=e.caseFormat(D.makeNull(o)),s=n.get(a);void 0!==s&&e.selectKey(s)})}})},r.prototype.uniqueValues=function(t){var e=this,i=new Map,n=new Set;return(t??[]).forEach(function(o){var a=D.makeNull(o),s=e.convertAndGetKey(a),l=e.caseFormat(s);n.has(l)||(n.add(l),i.set(s,a))}),i},r.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},r.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},r.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},r.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var n=Lu(t,2)[1],a=Lu(e,2)[1];if(null==n)return null==a?0:-1;if(null==a)return 1;for(var s=0;s<n.length;s++){if(s>=a.length)return 1;var l=D.defaultComparator(n[s],a[s]);if(0!==l)return l}return 0}},r.prototype.setAppliedModelKeys=function(t){this.filteringKeys.setFilteringKeys(t)},r.prototype.addToAppliedModelKeys=function(t){this.filteringKeys.addFilteringKey(t)},r.prototype.getAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeys()},r.prototype.getCaseFormattedAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeysCaseFormatted()},r.prototype.hasAppliedModelKey=function(t){return this.filteringKeys.hasCaseFormattedFilteringKey(t)},r.prototype.hasAnyAppliedModelKey=function(){return!this.filteringKeys.noAppliedFilteringKeys()},r.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",r}(),a8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),df=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},nV=function(r){function t(e){var n,i=this;return(i=r.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this).focusWrapper=e.focusWrapper,i.value=e.value,i.params=e.params,i.translate=e.translate,i.valueFormatter=e.valueFormatter,i.item=e.item,i.isSelected=e.isSelected,i.isTree=e.isTree,i.depth=null!==(n=e.depth)&&void 0!==n?n:0,i.isGroup=e.isGroup,i.groupsExist=e.groupsExist,i.isExpanded=e.isExpanded,i.hasIndeterminateExpandState=e.hasIndeterminateExpandState,i}return a8e(t,r),t.prototype.init=function(){var e=this;this.addDestroyFunc(function(){var i;return null===(i=e.destroyCellRendererComponent)||void 0===i?void 0:i.call(e)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),D.setAriaLevel(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(function(i){return e.onCheckboxChanged(!!i)})},t.prototype.getFocusableElement=function(){return this.focusWrapper},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(D.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(D.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,i){this.isGroup&&e!==this.isExpanded&&(this.isExpanded=e,i||this.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item}),this.setExpandedIcons(),this.refreshAriaExpanded())},t.prototype.setExpandedIcons=function(){D.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),D.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&D.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e,this.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item}),this.refreshVariableAriaLabels(),this.refreshAriaChecked()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,i){this.isSelected=e,this.eCheckbox.setValue(e,i),this.refreshAriaChecked()},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),i=this.eCheckbox.getValue(),n=void 0===i?e("ariaIndeterminate","indeterminate"):i?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(n,")"))}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var n=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value"),o=this.getAriaElement();D.setAriaLabel(o,"".concat(e," ").concat(n)),D.setAriaDescribedBy(o,this.eCheckbox.getInputElement().id)}},t.prototype.refreshAriaChecked=function(){var e=this.getAriaElement();D.setAriaChecked(e,this.eCheckbox.getValue())},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.getAriaElement(),!!this.isExpanded)},t.prototype.refresh=function(e,i,n){var o,a;if(this.item=e,i!==this.isSelected&&this.setSelected(i,!0),this.setExpanded(n,!0),this.valueFunction){var s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent&&!(null===(a=(o=this.cellRendererComponent).refresh)||void 0===a?void 0:a.call(o,this.cellRendererParams))){var c=this.cellRendererComponent;this.renderCell(),this.destroyBean(c)}},t.prototype.render=function(){var e=this.params.column,i=this.value,n=null;"function"==typeof i?(this.valueFunction=i,i=n=this.valueFunction()):n=this.isTree?D.toStringOrNull(i):this.getFormattedValue(e,i),this.setTooltipAndCellRendererParams(i,n),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,i){if(this.params.showTooltips){var n=i??D.toStringOrNull(e);this.setTooltip(n)}this.cellRendererParams=this.gridOptionsService.addGridCommonParams({value:e,valueFormatted:i,colDef:this.params.colDef,column:this.params.column})},t.prototype.getTooltipParams=function(){var e=r.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,i){return this.valueFormatterService.formatValue(e,null,i,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,i=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),n=i?i.newAgStackInstance():void 0;null!=n?n.then(function(o){o&&(e.cellRendererComponent=o,e.eCheckbox.setLabel(o.getGui()),e.destroyCellRendererComponent=function(){return e.destroyBean(o)})}):this.renderCellWithoutCellRenderer()},t.prototype.renderCellWithoutCellRenderer=function(){var e,i=null!==(e=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==e?e:this.translate("blanks");"string"!=typeof i&&(D.warnOnce("Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See ".concat(this.getFrameworkOverrides().getDocLink("filter-set-filter-list/#filter-value-types"))),i=""),this.eCheckbox.setLabel(i),this.setupFixedAriaLabels(i)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',df([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),df([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),df([G("eCheckbox")],t.prototype,"eCheckbox",void 0),df([G("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),df([G("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),df([G("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),df([j],t.prototype,"init",null),t}(le),s8e={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},xee=function(){function r(){}return r.prototype.getModelAsString=function(t,e){var i=(t||e.getModel()||{}).values,n=e.getValueModel();if(null==i||null==n)return"";var o=i.filter(function(l){return n.isKeyAvailable(l)}),a=o.length,s=o.slice(0,10).map(function(l){return e.getFormattedValue(l)});return"(".concat(a,") ").concat(s.join(",")).concat(a>10?",...":"")},r}(),l8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},Eee=function(r){function t(){var e=r.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.filterModelFormatter=new xee,e.updateSetFilterOnParamsChange=function(i){var n;e.setFilterParams=i,e.convertValuesToStrings=!!i.convertValuesToStrings,e.caseSensitive=!!i.caseSensitive;var o=null!==(n=i.keyCreator)&&void 0!==n?n:i.colDef.keyCreator;e.setValueFormatter(i.valueFormatter,o,e.convertValuesToStrings,!!i.treeList,!!i.colDef.refData);var a=i.column.getId().startsWith(fd);e.treeDataTreeList=e.gridOptionsService.get("treeData")&&!!i.treeList&&a,e.getDataPath=e.gridOptionsService.get("getDataPath"),e.groupingTreeList=!!e.columnModel.getRowGroupColumns().length&&!!i.treeList&&a,e.createKey=e.generateCreateKey(o,e.convertValuesToStrings,e.treeDataTreeList||e.groupingTreeList)},e}return l8e(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'.concat(this.translateForSetFilter("loadingOoo"),'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">').concat(this.translateForSetFilter("noMatches"),'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>')},t.prototype.handleKeyDown=function(e){if(r.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case V.SPACE:this.handleKeySpace(e);break;case V.ENTER:this.handleKeyEnter(e);break;case V.LEFT:this.handleKeyLeft(e);break;case V.RIGHT:this.handleKeyRight(e)}},t.prototype.handleKeySpace=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var i=this.setFilterParams||{};!i.excelMode||i.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var i,n=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(n.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var a=this.virtualList.getComponentAt(o);if(null!=a&&(e.preventDefault(),!(null!==(i=this.setFilterParams)&&void 0!==i?i:{}).readOnly))return a}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var i;return null==e&&null==(null===(i=this.valueModel)||void 0===i?void 0:i.getModel())?(this.setMiniFilter(null),vt.resolve()):r.prototype.setModel.call(this,e)},t.prototype.refresh=function(e){var n,o,a,i=this;return!!r.prototype.refresh.call(this,e)&&(!["treeList","treeListFormatter","treeListPathGetter","keyCreator","convertValuesToStrings","caseSensitive","comparator","suppressSelectAll","excelMode"].some(function(l){var c;return e[l]!==(null===(c=i.setFilterParams)||void 0===c?void 0:c[l])})&&!this.haveColDefParamsChanged(e.colDef)&&(r.prototype.updateParams.call(this,e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),(e.cellRenderer!==(null===(n=this.setFilterParams)||void 0===n?void 0:n.cellRenderer)||e.valueFormatter!==(null===(o=this.setFilterParams)||void 0===o?void 0:o.valueFormatter))&&this.checkAndRefreshVirtualList(),null===(a=this.valueModel)||void 0===a||a.updateOnParamsChange(e).then(function(){var l;null!==(l=i.valueModel)&&void 0!==l&&l.hasSelections()&&i.refreshFilterValues()}),!0))},t.prototype.haveColDefParamsChanged=function(e){var i,o=null===(i=this.setFilterParams)||void 0===i?void 0:i.colDef;return["keyCreator","filterValueGetter"].some(function(a){return e[a]!==o?.[a]})},t.prototype.setModelAndRefresh=function(e){var i=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return i.checkAndRefreshVirtualList()}):vt.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,i){return null==e&&null==i||null!=e&&null!=i&&D.areEqual(e.values,i.values)},t.prototype.setParams=function(e){var n,i=this;this.applyExcelModeOptions(e),r.prototype.setParams.call(this,e),this.updateSetFilterOnParamsChange(e);var o=null!==(n=e.keyCreator)&&void 0!==n?n:e.colDef.keyCreator;this.valueModel=new See({filterParams:e,setIsLoading:function(a){return i.setIsLoading(a)},valueFormatterService:this.valueFormatterService,translate:function(a){return i.translateForSetFilter(a)},caseFormat:function(a){return i.caseFormat(a)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedListener:function(a,s){return i.addManagedListener(i.eventService,a,s)}}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.onAddCurrentSelectionToFilterChange=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)},t.prototype.setValueFormatter=function(e,i,n,o,a){var s=e;if(!s){if(i&&!n&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,a||(s=function(l){return D.toStringOrNull(l.value)})}this.valueFormatter=s},t.prototype.generateCreateKey=function(e,i,n){var o=this;if(n&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(a,s){void 0===s&&(s=null);var l=o.getKeyCreatorParams(a,s);return D.makeNull(e(l))}:i?function(a){return Array.isArray(a)?a:D.makeNull(D.toStringOrNull(a))}:function(a){return D.makeNull(D.toStringOrNull(a))}},t.prototype.getFormattedValue=function(e){var i,n=this.valueModel.getValue(e);return this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(n)&&(n=D.last(n)),null!==(i=this.valueFormatterService.formatValue(this.setFilterParams.column,null,n,this.valueFormatter,!1)??D.toStringOrNull(n))&&void 0!==i?i:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,D.warnOnce('The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&(this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,function(i){e.setFilterParams&&i.column===e.setFilterParams.column&&e.syncAfterDataChange()}),this.addManagedPropertyListeners(["treeData","getDataPath","groupAllowUnbalanced"],function(){e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){D.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var n=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),o=!!this.setFilterParams.treeList,a=this.virtualList=this.createBean(new cg({cssIdentifier:"filter",ariaRole:o?"tree":"listbox",listName:n})),s=this.getRefElement("eSetFilterList");o&&s.classList.add("ag-set-filter-tree-list"),s&&s.appendChild(a.getGui());var d,l=this.setFilterParams.cellHeight;null!=l&&a.setRowHeight(l),a.setComponentCreator(function(h,p){return e.createSetListItem(h,o,p)}),a.setComponentUpdater(function(h,p){return e.updateSetListItem(h,p)}),d=this.setFilterParams.suppressSelectAll?new c8e(this.valueModel):new u8e(this.valueModel,function(){return e.isSelectAllSelected()}),o&&(d=new d8e(d)),a.setModel(d)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.getAddSelectionToFilterLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")},t.prototype.createSetListItem=function(e,i,n){var o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.valueModel.hasGroups(),s=this.isSelectedExpanded(e),l=s.isSelected,c=s.isExpanded,u=this.newSetListItemAttributes(e,i),m=u.selectedListener,g=u.expandedListener,y=this.createBean(new nV({focusWrapper:n,value:u.value,params:this.setFilterParams,translate:function(_){return o.translateForSetFilter(_)},valueFormatter:this.valueFormatter,item:e,isSelected:l,isTree:i,depth:u.depth,groupsExist:a,isGroup:u.isGroup,isExpanded:c,hasIndeterminateExpandState:u.hasIndeterminateExpandState}));return y.addEventListener(nV.EVENT_SELECTION_CHANGED,m),g&&y.addEventListener(nV.EVENT_EXPANDED_CHANGED,g),y},t.prototype.newSetTreeItemAttributes=function(e,i){var o,a,s,l,c,u,n=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var d=this.valueModel.hasGroups();return e.key===Uo.SELECT_ALL?{value:function(){return n.getSelectAllLabel()},isGroup:d,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:function(h){return n.onSelectAll(h.isSelected)},expandedListener:function(h){return n.onExpandAll(h.item,h.isExpanded)}}:e.key===Uo.ADD_SELECTION_TO_FILTER?{value:function(){return n.getAddSelectionToFilterLabel()},depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:function(h){n.onAddCurrentSelectionToFilterChange(h.isSelected)}}:e.children?{value:null!==(s=null===(a=(o=this.setFilterParams).treeListFormatter)||void 0===a?void 0:a.call(o,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==s?s:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:function(h){return n.onGroupItemSelected(h.item,h.isSelected)},expandedListener:function(h){return n.onExpandedChanged(h.item,h.isExpanded)}}:{value:null!==(u=null===(c=(l=this.setFilterParams).treeListFormatter)||void 0===c?void 0:c.call(l,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==u?u:e.treeKey,depth:e.depth,selectedListener:function(h){return n.onItemSelected(h.item.key,h.isSelected)}}},t.prototype.newSetListItemAttributes=function(e,i){var n=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,i):e===Uo.SELECT_ALL?{value:function(){return n.getSelectAllLabel()},selectedListener:function(o){return n.onSelectAll(o.isSelected)}}:e===Uo.ADD_SELECTION_TO_FILTER?{value:function(){return n.getAddSelectionToFilterLabel()},selectedListener:function(o){n.onAddCurrentSelectionToFilterChange(o.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:function(o){return n.onItemSelected(o.item,o.isSelected)}}},t.prototype.updateSetListItem=function(e,i){var n=this.isSelectedExpanded(e);i.refresh(e,n.isSelected,n.isExpanded)},t.prototype.isSelectedExpanded=function(e){var i,n;return this.isSetFilterModelTreeItem(e)?(n=e.expanded,i=e.key===Uo.SELECT_ALL?this.isSelectAllSelected():e.key===Uo.ADD_SELECTION_TO_FILTER?this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?this.areAllChildrenSelected(e):this.valueModel.isKeySelected(e.key)):i=e===Uo.SELECT_ALL?this.isSelectAllSelected():e===Uo.ADD_SELECTION_TO_FILTER?this.valueModel.isAddCurrentSelectionToFilterChecked():this.valueModel.isKeySelected(e),{isSelected:i,isExpanded:n}},t.prototype.isSetFilterModelTreeItem=function(e){return void 0!==e?.treeKey},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var n=this.eMiniFilter,a=this.localeService.getLocaleTextFunc();n.setDisplayed(!this.setFilterParams.suppressMiniFilter),n.setValue(this.valueModel.getMiniFilter()),n.onValueChange(function(){return e.onMiniFilterInput()}),n.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(n.getInputElement(),"keydown",function(s){return e.onMiniFilterKeyDown(s)})},t.prototype.updateMiniFilter=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);var i=this.valueModel.getMiniFilter();e.getValue()!==i&&e.setValue(i)},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");r.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var i=this.eMiniFilter;i.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&i.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,i;r.prototype.afterGuiDetached.call(this),null!==(e=this.setFilterParams)&&void 0!==e&&e.excelMode&&this.resetMiniFilter();var n=this.getModel();(null!==(i=this.setFilterParams)&&void 0!==i&&i.excelMode||!this.areModelsEqual(n,this.getModelFromUi()))&&(this.resetUiToActiveModel(n),this.showOrHideResults())},t.prototype.applyModel=function(e){var i=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var n=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(n&&!this.getModel())return!1;var o=r.prototype.applyModel.call(this,e),a=this.getModel();return a?(n||this.valueModel.setAppliedModelKeys(new Set),a.values.forEach(function(s){i.valueModel.addToAppliedModelKeys(s)})):n||this.valueModel.setAppliedModelKeys(null),o},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var i=this;if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;var n=e.node;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(n,e.data);if(this.groupingTreeList)return this.doesFilterPassForGrouping(n);var a=this.getValueFromNode(n);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(n,a):null!=a&&Array.isArray(a)?0===a.length?this.valueModel.hasAppliedModelKey(null):a.some(function(s){return i.isInAppliedModel(i.createKey(s,n))}):this.isInAppliedModel(this.createKey(a,n))},t.prototype.doesFilterPassForConvertValuesToString=function(e,i){var n=this,o=this.createKey(i,e);return null!=o&&Array.isArray(o)?0===o.length?this.valueModel.hasAppliedModelKey(null):o.some(function(a){return n.isInAppliedModel(a)}):this.isInAppliedModel(o)},t.prototype.doesFilterPassForTreeData=function(e,i){var n;return(null===(n=e.childrenAfterGroup)||void 0===n||!n.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(i))))},t.prototype.doesFilterPassForGrouping=function(e){var i=this,n=this.columnModel.getRowGroupColumns().map(function(o){return i.valueService.getKeyForNode(o,e)});return n.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(n)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(i){return D.toStringOrNull(D.makeNull(i))})),e?.some(function(i){return null==i})?null:e},t.prototype.isInAppliedModel=function(e){return this.valueModel.hasAppliedModelKey(e)},t.prototype.getValueFromNode=function(e){return this.setFilterParams.getValue(e)},t.prototype.getKeyCreatorParams=function(e,i){return void 0===i&&(i=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:i,data:i?.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===cn.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var i=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){i.checkAndRefreshVirtualList(),i.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(cn.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(i){i&&(e.checkAndRefreshVirtualList(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.checkAndRefreshVirtualList():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;D.setDisplayed(this.eNoMatches,e),D.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),null===(e=this.valueModel)||void 0===e||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,i){var n=this;this.setModelAndRefresh(null==e?null:e.values).then(function(){n.onUiChanged(!1,"prevent"),i?.()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),r.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyDown=function(e){var i=this.setFilterParams||{};e.key===V.ENTER&&!i.excelMode&&!i.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var i=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(i)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var i=this;null!=e&&window.setTimeout(function(){if(!i.virtualList)throw new Error("Virtual list has not been created.");i.isAlive()&&i.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,i){var n=this,o=function(a){a.children?a.children.forEach(function(s){return o(s)}):n.selectItem(a.key,i)};o(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,i){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,i),this.refreshAfterSelection()},t.prototype.selectItem=function(e,i){i?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,i){var n=function(o){o.filterPasses&&o.available&&o.children&&(o.children.forEach(function(a){return n(a)}),o.expanded=i)};n(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,i){e.expanded=i,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.checkAndRefreshVirtualList=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()},t.prototype.translateForSetFilter=function(e){return this.localeService.getLocaleTextFunc()(e,s8e[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var i=this,n=function(o){if(o.children){var a=!1,s=!1;return o.children.some(function(c){if(!c.filterPasses||!c.available)return!1;var u=n(c);return void 0===u||(u?a=!0:s=!0,a&&s)})?void 0:a}return i.valueModel.isKeySelected(o.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&n(e):n(e)},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),r.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,i;if(null!==(e=this.setFilterParams)&&void 0!==e&&e.treeList){var n=null===(i=this.valueModel)||void 0===i?void 0:i.getSelectAllItem();if(this.isSetFilterModelTreeItem(n)){var o=function(a){a.children&&(a.children.forEach(function(s){return o(s)}),a.expanded=!1)};o(n),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},hf([G("eMiniFilter")],t.prototype,"eMiniFilter",void 0),hf([G("eFilterLoading")],t.prototype,"eFilterLoading",void 0),hf([G("eSetFilterList")],t.prototype,"eSetFilterList",void 0),hf([G("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),hf([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hf([C("columnModel")],t.prototype,"columnModel",void 0),hf([C("valueService")],t.prototype,"valueService",void 0),t}(gp),c8e=function(){function r(t){this.model=t}return r.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},r.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},r.prototype.areRowsEqual=function(t,e){return t===e},r}(),u8e=function(){function r(t,e){this.model=t,this.isSelectAllSelected=e}return r.prototype.getRowCount=function(){var e=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+e},r.prototype.getRow=function(t){if(0===t)return this.model.getSelectAllItem();var e=this.model.showAddCurrentSelectionToFilter(),i=e?2:1;return 1===t&&e?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(t-i)},r.prototype.areRowsEqual=function(t,e){return t===e},r}(),d8e=function(){function r(t){this.model=t}return r.prototype.getRowCount=function(){return this.model.getRowCount()},r.prototype.getRow=function(t){return this.model.getRow(t)},r.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},r}(),h8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},p8e=function(r){function t(){var e=r.call(this,'\n            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new xee,e}return h8e(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this;this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return i.params.showParentFilter()}),this.setParams(e)},t.prototype.setParams=function(e){var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel("".concat(i," ").concat(n("ariaFilterInput","Filter Input")))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof Eee))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(i)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(i){var n=i.getValueModel();n&&e.addManagedListener(n,See.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var i=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(n){i.eFloatingFilterText.setValue(i.filterModelFormatter.getModelAsString(e,n))})},Dee([G("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Dee([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),m8e={version:"31.1.1",moduleName:ie.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:Eee},{componentName:"agSetColumnFloatingFilter",componentClass:p8e}],dependantModules:[ur]},g8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),y8e=function(r){function t(){var e=r.call(this)||this;return e.allComponents=new Map,e}return g8e(t,r),t.prototype.registerStatusPanel=function(e,i){this.allComponents.set(e,i)},t.prototype.unregisterStatusPanel=function(e){this.allComponents.delete(e)},t.prototype.unregisterAllComponents=function(){this.allComponents.clear()},t.prototype.getStatusPanel=function(e){return this.allComponents.get(e)},t.prototype.destroy=function(){this.unregisterAllComponents(),r.prototype.destroy.call(this)},t=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o}([oe("statusBarService")],t),t}(z),_8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pf=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},C8e=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.compDestroyFunctions={},e}return _8e(t,r),t.prototype.postConstruct=function(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},t.prototype.processStatusPanels=function(e){var i,n=null===(i=this.gridOptionsService.get("statusBar"))||void 0===i?void 0:i.statusPanels;if(n){var o=n.filter(function(l){return"left"===l.align});this.createAndRenderComponents(o,this.eStatusBarLeft,e);var a=n.filter(function(l){return"center"===l.align});this.createAndRenderComponents(a,this.eStatusBarCenter,e);var s=n.filter(function(l){return!l.align||"right"===l.align});this.createAndRenderComponents(s,this.eStatusBarRight,e)}else this.setDisplayed(!1)},t.prototype.handleStatusBarChanged=function(){var i,e=this,n=null===(i=this.gridOptionsService.get("statusBar"))||void 0===i?void 0:i.statusPanels,o=Array.isArray(n)&&n.length>0;this.setDisplayed(o);var a=new Map;o&&n.forEach(function(s){var l,c,u=null!==(l=s.key)&&void 0!==l?l:s.statusPanel,d=e.statusBarService.getStatusPanel(u);if(d?.refresh){var h=e.gridOptionsService.addGridCommonParams(null!==(c=s.statusPanelParams)&&void 0!==c?c:{});d.refresh(h)&&(a.set(u,d),delete e.compDestroyFunctions[u],D.removeFromParent(d.getGui()))}}),this.resetStatusBar(),o&&this.processStatusPanels(a)},t.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},t.prototype.destroyComponents=function(){Object.values(this.compDestroyFunctions).forEach(function(e){return e()}),this.compDestroyFunctions={}},t.prototype.createAndRenderComponents=function(e,i,n){var o=this,a=[];e.forEach(function(s){var u,l=s.key||s.statusPanel,c=n.get(l);if(c)u=vt.resolve(c);else if(!(u=o.userComponentFactory.getStatusPanelCompDetails(s,{}).newAgStackInstance()))return;a.push({key:l,promise:u})}),vt.all(a.map(function(s){return s.promise})).then(function(){a.forEach(function(s){s.promise.then(function(l){var c=function(){o.getContext().destroyBean(l)};o.isAlive()?(o.statusBarService.registerStatusPanel(s.key,l),i.appendChild(l.getGui()),o.compDestroyFunctions[s.key]=c):c()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',pf([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),pf([C("statusBarService")],t.prototype,"statusBarService",void 0),pf([G("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),pf([G("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),pf([G("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),pf([j],t.prototype,"postConstruct",null),pf([Oi],t.prototype,"destroyComponents",null),t}(le),b8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},iw=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return b8e(t,r),t.prototype.setLabel=function(e,i){this.setDisplayed(!1);var n=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=n(e,i)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Tee([G("eLabel")],t.prototype,"eLabel",void 0),Tee([G("eValue")],t.prototype,"eValue",void 0),t}(le),w8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Aee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},S8e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return w8e(t,r),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.__getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),i=e("thousandSeparator",","),n=e("decimalSeparator","."),o=D.formatNumberCommas(this.getFilteredRowCountValue(),i,n),a=D.formatNumberCommas(this.getTotalRowCount(),i,n);if(o===a)this.setValue(o);else{var s=this.localeService.getLocaleTextFunc();this.setValue("".concat(o," ").concat(s("of","of")," ").concat(a))}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(i){i.group||e++}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},Aee([C("gridApi")],t.prototype,"gridApi",void 0),Aee([j],t.prototype,"postConstruct",null),t}(iw),x8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},E8e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return x8e(t,r),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.__getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),i=this.getFilteredRowCountValue(),n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),a=n("decimalSeparator",".");this.setValue(D.formatNumberCommas(i,o,a)),this.setDisplayed(e!==i)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(i){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},Oee([C("gridApi")],t.prototype,"gridApi",void 0),Oee([j],t.prototype,"postConstruct",null),t}(iw),D8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mee=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},T8e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return D8e(t,r),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.__getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),i=e("thousandSeparator",","),n=e("decimalSeparator",".");this.setValue(D.formatNumberCommas(this.getRowCountValue(),i,n))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(i){return e+=1}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},Mee([C("gridApi")],t.prototype,"gridApi",void 0),Mee([j],t.prototype,"postConstruct",null),t}(iw),A8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rV=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},O8e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return A8e(t,r),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,e)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0)return this.setValue("?"),void this.setDisplayed(!0);var i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),o=i("decimalSeparator",".");this.setValue(D.formatNumberCommas(e,n,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},rV([C("gridApi")],t.prototype,"gridApi",void 0),rV([C("selectionService")],t.prototype,"selectionService",void 0),rV([j],t.prototype,"postConstruct",null),t}(iw),M8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Da=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},R8e=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return M8e(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(e){this.params=e},t.prototype.refresh=function(e){return this.params=e,this.onRangeSelectionChanged(),!0},t.prototype.setAggregationComponentValue=function(e,i,n){var o,a=this.getAllowedAggregationValueComponent(e);if(D.exists(a)&&a){var s=this.localeService.getLocaleTextFunc(),l=s("thousandSeparator",","),c=s("decimalSeparator",".");a.setValue(D.formatNumberTwoDecimalPlacesAndCommas(i,l,c)),a.setDisplayed(n)}else null===(o=this.getAggregationValueComponent(e))||void 0===o||o.setDisplayed(!1)},t.prototype.getAllowedAggregationValueComponent=function(e){var i=this.params.aggFuncs;return!i||i.includes(e)?this.getAggregationValueComponent(e):null},t.prototype.getAggregationValueComponent=function(e){return this["".concat(e,"AggregationComp")]},t.prototype.onRangeSelectionChanged=function(){var e=this,i=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,o=0,a=0,s=null,l=null,c={};i&&!D.missingOrEmpty(i)&&i.forEach(function(h){for(var p=e.rangeService.getRangeStartRow(h),f=e.rangeService.getRangeEndRow(h);!D.missing(p)&&p&&!e.rowPositionUtils.before(f,p)&&p&&h.columns;)h.columns.forEach(function(g){if(null!==p){var v=e.cellPositionUtils.createId({rowPinned:p.rowPinned,column:g,rowIndex:p.rowIndex});if(!c[v]){c[v]=!0;var y=e.rowRenderer.getRowNode(p);if(!D.missing(y)){var _=e.valueService.getValue(g,y);D.missing(_)||""===_||(o++,("object"!=typeof _||!("value"in _)||""!==(_=_.value))&&("string"==typeof _&&(_=Number(_)),"number"==typeof _&&!isNaN(_)&&(n+=_,(null===l||_>l)&&(l=_),(null===s||_<s)&&(s=_),a++)))}}}}),p=e.cellNavigationService.getRowBelow(p)});var d=a>1;this.setAggregationComponentValue("count",o,o>1),this.setAggregationComponentValue("sum",n,d),this.setAggregationComponentValue("min",s,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",n/a,d)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Da([gt("rangeService")],t.prototype,"rangeService",void 0),Da([C("valueService")],t.prototype,"valueService",void 0),Da([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Da([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Da([C("gridApi")],t.prototype,"gridApi",void 0),Da([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Da([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Da([G("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Da([G("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Da([G("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Da([G("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Da([G("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Da([j],t.prototype,"postConstruct",null),t}(le),I8e={version:"31.1.1",moduleName:ie.StatusBarModule,beans:[y8e],agStackComponents:[{componentName:"AgStatusBar",componentClass:C8e},{componentName:"AgNameValue",componentClass:iw}],userComponents:[{componentName:"agAggregationComponent",componentClass:R8e},{componentName:"agSelectedRowCountComponent",componentClass:O8e},{componentName:"agTotalRowCountComponent",componentClass:T8e},{componentName:"agFilteredRowCountComponent",componentClass:E8e},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:S8e}],dependantModules:[ur]},k8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wv=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},L8e=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return k8e(t,r),t.prototype.ensureRowHeightsValid=function(e,i,n,o){return!1},t.prototype.init=function(){var e=this;this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,x.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this)),this.addManagedPropertyListener("viewportDatasource",function(){return e.updateDatasource()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.updateRowHeights()})},t.prototype.start=function(){this.updateDatasource()},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("viewportDatasource");e&&this.setViewportDatasource(e)},t.prototype.getViewportRowModelPageSize=function(){return this.gridOptionsService.get("viewportRowModelPageSize")},t.prototype.getViewportRowModelBufferSize=function(){return this.gridOptionsService.get("viewportRowModelBufferSize")},t.prototype.calculateFirstRow=function(e){var i=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),o=e-i;return o<0?0:Math.floor(o/n)*n},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var i=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),a=Math.ceil((e+i)/n)*n;return Math.min(a,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var i=this.calculateFirstRow(e.firstRow),n=this.calculateLastRow(e.lastRow);(this.firstRow!==i||this.lastRow!==n)&&(this.firstRow=i,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(i){var n=parseInt(i,10);if(n<e.firstRow||n>e.lastRow){if(e.isRowFocused(n))return;delete e.rowNodesByIndex[n]}})},t.prototype.isRowFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();return!(!i||null!=i.rowPinned)&&i.rowIndex===e},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(n){n.id===e&&(i=n)}),i},t.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(n){n.setRowHeight(e.rowHeight),n.setRowTop(e.rowHeight*n.rowIndex)}),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,i){var n=D.missing(e)?0:e.rowIndex,o=i.rowIndex;if(n<this.firstRow||n>this.lastRow||o<this.firstRow||o>this.lastRow)return[];for(var l=[],u=n<=o?o:n,d=n<=o?n:o;d<=u;d++)l.push(this.rowNodesByIndex[d]);return l},t.prototype.forEachNode=function(e){var i=this,n=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10);e(i.rowNodesByIndex[a],n),n++})},t.prototype.setRowData=function(e){var i=this;D.iterateObject(e,function(n,o){var a=parseInt(n,10);if(a>=i.firstRow&&a<=i.lastRow){var s=i.rowNodesByIndex[a];D.missing(s)&&(s=i.createBlankRowNode(a),i.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var i=new ct(this.beans);return i.setRowHeight(this.rowHeight),i.setRowTop(this.rowHeight*e),i.setRowIndex(e),i},t.prototype.setRowCount=function(e,i){void 0===i&&(i=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:i,animate:!1}))},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},wv([C("rowRenderer")],t.prototype,"rowRenderer",void 0),wv([C("focusService")],t.prototype,"focusService",void 0),wv([C("beans")],t.prototype,"beans",void 0),wv([j],t.prototype,"init",null),wv([Oi],t.prototype,"destroyDatasource",null),wv([oe("rowModel")],t)}(z),N8e={version:"31.1.1",moduleName:ie.ViewportRowModelModule,rowModel:"viewport",beans:[L8e],dependantModules:[ur]},B8e=Xi.extent,nw=Xi.isNumber,H8e=Xi.isString,j8e=Xi.isStringObject,Ree=Xi.isDate,U8e=Xi.createId,z8e=Xi.Padding,oV=ah.LinearScale,W8e=ah.BandScale,Pee=ah.TimeScale,Ti=(()=>((Ti=Ti||{})[Ti.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",Ti[Ti.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",Ti[Ti.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",Ti[Ti.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",Ti[Ti.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",Ti[Ti.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX",Ti))(),$8e=function r(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},aV=function(){function r(){this.id=U8e(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new z8e(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new oV,this.axis=new $8e,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new re.Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var i=new re.Scene({window,document});this.scene=i,this.canvasElement=i.canvas.element,i.root=t,i.container=e,this.resizeAndSetDimensions(this.width,this.height),r.tooltipDocuments.includes(document)||this.initialiseTooltipStyles(),this.setupDomEventListeners(this.canvasElement)}return Object.defineProperty(r.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e?.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),r.prototype.resizeAndSetDimensions=function(t,e){this.scene.resize(t,e),this.seriesRect.width=t,this.seriesRect.height=e},r.prototype.initialiseTooltipStyles=function(){var t=document.createElement("style");t.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(t,document.head.querySelector("style")),r.tooltipDocuments.push(document)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),r.prototype.update=function(){},r.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},r.prototype.updateYScaleDomain=function(){},r.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},r.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},r.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},r.prototype.updateXScaleDomain=function(){var n,e=this.xData,i=this.xScale;(i instanceof oV||i instanceof Pee)&&(n=B8e(e)),this.xScale.domain=n?n.slice():e},r.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new oV;case"time":return new Pee;default:return new W8e}},r.prototype.updateAxisLine=function(){},r.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},r.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},r.prototype.generateNodeData=function(){return[]},r.prototype.getNodeData=function(){return[]},r.prototype.updateNodes=function(){},r.prototype.updateXCrosshairLine=function(){},r.prototype.updateYCrosshairLine=function(){},r.prototype.highlightDatum=function(t){this.updateNodes()},r.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},r.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},r.prototype.updateHitPoint=function(t){var e,i,n,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var a=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render().catch(function(l){return console.error("AG Grid - chart rendering failed",l)})),(null===(n=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.enabled)||void 0===n||n)&&this.handleTooltip(t,o)}},r.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch(function(e){return console.error("AG Grid - chart rendering failed",e)})},r.prototype.processData=function(){var t=this,e=this,i=e.data,n=e.yData,o=e.xData;if(i&&!this.invalidData(this.data)){n.length=0,o.length=0;var a=i.length,s=this.getDataType(i);this.dataType=s;var h,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,d=function(E,M){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var P=t.smallestInterval.x,I=Math.abs(E-M);I>0&&I<P&&(t.smallestInterval.x=I)};if("number"===s)for(var p=0;p<a;p++){var m=i[p],g=this.getDatum(p,c),v=this.getDatum(m,"number");u&&d(g,h),o.push(g),n.push(v),h=g}else if("array"===s)for(p=0;p<a;p++){var y=i[p];if(Array.isArray(y)){if(m=y[1],g=this.getDatum(y[0],c),v=this.getDatum(m,"number"),null==g)continue;u&&d(g,h),o.push(g),n.push(v),h=g}}else if("object"===s){var b=this.yKey,w=this.xKey;for(p=0;p<a;p++)if("object"==typeof(y=i[p])&&!Array.isArray(y)){if(m=y[b],g=this.getDatum(y[w],c),v=this.getDatum(m,"number"),null==g)continue;u&&d(g,h),o.push(g),n.push(v),h=g}}this.updateAxes(),this.immediateLayout()}},r.prototype.getDataType=function(t){var e,i;try{for(var n=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=n.next();!o.done;o=n.next()){var a=o.value;if(null!=a){if(nw(a))return"number";if(Array.isArray(a))return"array";if("object"==typeof a)return"object"}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},r.prototype.getDatum=function(t,e){if("number"===e&&nw(t)||"time"===e&&(nw(t)||Ree(t)))return t;if("category"===e){if(H8e(t)||Ree(t)||nw(t))return{toString:function(){return String(t)}};if(j8e(t))return t}},Object.defineProperty(r.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),r.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.immediateLayout(),t.layoutId=0})},r.prototype.immediateLayout=function(){this.setSparklineDimensions(),!this.invalidData(this.data)&&(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch(function(t){return console.error("AG Grid - chart rendering failed",t)}))},r.prototype.setSparklineDimensions=function(){var t=this,n=t.padding,o=t.seriesRect,a=t.rootGroup,l=t.height-n.top-n.bottom;o.width=t.width-n.left-n.right,o.height=l,o.x=n.left,o.y=n.top,a.translationX=o.x,a.translationY=o.y},r.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,i=1/0,o=this.rootGroup.transformPoint(t,e),a=this.getNodeData(),s=0;s<a.length;s++){var l=a[s];if(!l.point)return;var c=this.getDistance(o,l.point);c<=i&&(i=c,n=l)}return n},r.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},r.prototype.handleTooltip=function(t,e){var i,n,o=e.seriesDatum,a=this.canvasElement,c=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip,u={pageX:t.clientX,pageY:t.clientY,position:{xOffset:c?.xOffset,yOffset:c?.yOffset},container:c?.container};null==u.container&&(u.container=a);var d=o.y,h=o.x,p=null===(n=c?.enabled)||void 0===n||n,f=c?.renderer;if(f){var m=f({context:this.context,datum:o,yValue:d,xValue:h});p="string"!=typeof m&&void 0!==m.enabled?m.enabled:p}var g=p&&void 0!==o.y&&this.getTooltipHtml(e);g&&this.tooltip.show(u,g)},r.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},r.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||nw(t))?this.defaultDateFormatter.format(t):String(t)},r.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},r.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},r.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},r.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},r.tooltipDocuments=[],r}();function Sv(r,t){var e,i,n;if("string"==typeof r)return r;t=t??{};var m,g,o=r.content,a=void 0===o?null!==(e=t.content)&&void 0!==e?e:"":o,s=r.title,l=void 0===s?null!==(i=t.title)&&void 0!==i?i:void 0:s,c=r.color,u=void 0===c?t.color:c,d=r.backgroundColor,h=void 0===d?t.backgroundColor:d,p=r.opacity,f=void 0===p?null!==(n=t.opacity)&&void 0!==n?n:1:p;u?(m=l?'<span class="'.concat(xv.class,'-title"; style="color: ').concat(u,'">').concat(l,"</span>"):"",g='<span class="'.concat(xv.class,'-content" style="color: ').concat(u,'">').concat(a,"</span>")):(m=l?'<span class="'.concat(xv.class,'-title">').concat(l,"</span>"):"",g='<span class="'.concat(xv.class,'-content">').concat(a,"</span>"));var v="opacity: ".concat(f);return h&&(v+="; background-color: ".concat(h.toLowerCase())),'<div class="'.concat(xv.class,'" style="').concat(v,'">\n                ').concat(m,"\n                ").concat(g,"\n            </div>")}var xv=function(){function r(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return r.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains("".concat(r.class,"-wrapper-hidden"));var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf("".concat(r.class,"-wrapper-hidden"))<0},r.prototype.updateClass=function(t){var e=["".concat(r.class,"-wrapper")];!0!==t&&e.push("".concat(r.class,"-wrapper-hidden")),this.element.setAttribute("class",e.join(" "))},r.prototype.show=function(t,e){var i,n,o,a;this.toggle(!1);var s=this.element;if(void 0!==e)s.innerHTML=e;else if(!s.innerHTML)return;var l=null!==(n=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==n?n:10,c=null!==(a=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==a?a:0,u=t.pageX+l,d=t.pageY+c,h=s.getBoundingClientRect(),p=window.innerWidth-h.width;if(t.container){var f=t.container.getBoundingClientRect();p=f.left+(f.width-h.width)}u>p&&(u=t.pageX-s.clientWidth-l),typeof scrollX<"u"&&(u+=scrollX),typeof scrollY<"u"&&(d+=scrollY),s.style.left="".concat(Math.round(u),"px"),s.style.top="".concat(Math.round(d),"px"),this.toggle(!0)},r.prototype.toggle=function(t){this.updateClass(t)},r.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},r.class="ag-sparkline-tooltip",r}();function Iee(r){switch(r){case"circle":default:return re.Circle;case"square":return re.Square;case"diamond":return re.Diamond}}function yA(r,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},i={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===r||"square"===r?null==i[t]?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),i.solid):i[t]:null==e[t]?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),e.solid):e[t]}var K8e=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y8e=Xi.extent,q8e=ah.BandScale,X8e=function r(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Z8e=function r(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Q8e=function r(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},J8e=function(r){function t(){var e=r.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new re.Path,e.fillPath=new re.Path,e.xCrosshairLine=new re.Line,e.yCrosshairLine=new re.Line,e.areaSparklineGroup=new re.Group,e.xAxisLine=new re.Line,e.markers=new re.Group,e.markerSelection=re.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new X8e,e.line=new Z8e,e.crosshairs=new Q8e,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=Ti.AXIS_LINE_ZINDEX,e.fillPath.zIndex=Ti.SERIES_FILL_ZINDEX,e.strokePath.zIndex=Ti.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.markers.zIndex=Ti.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return K8e(t,r),t.prototype.markerFactory=function(){return new(Iee(this.marker.shape))},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var i=e.nodeData,n=e.fillData,o=e.strokeData;this.markerSelectionData=i,this.updateSelection(i),this.updateNodes(),this.updateStroke(o),this.updateFill(n)}},t.prototype.updateYScaleDomain=function(){var n=this.yScale,o=Y8e(this.yData),a=0,s=1;void 0!==o&&(a=this.min=o[0],s=this.max=o[1]),n.domain=[a=a<0?a:0,s=s<0?0:s]},t.prototype.generateNodeData=function(){var e=this,n=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(e.data){for(var f,m,g,v,l=!(a instanceof q8e),c=l?0:a.bandwidth/2,u=n.length,d=[],h=[],p=[],y=s.convert(0),_=0;_<u;_++){var b=n[_],w=o[_],E=a.convert(l?a.toDomain(w):w)+c,M=void 0===b?NaN:s.convert(b);_+1<u&&(v=a.convert(l?a.toDomain(o[_+1]):o[_+1])+c),p.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),void 0===b&&void 0!==g?(h.push({seriesDatum:void 0,point:{x:g,y}}),void 0!==v&&h.push({seriesDatum:void 0,point:{x:v,y}})):void 0!==b&&(h.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),d.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),f=void 0!==f?f:E,m=E),g=E}return h.push({seriesDatum:void 0,point:{x:m,y}},{seriesDatum:void 0,point:{x:f,y}}),{nodeData:d,fillData:h,strokeData:p}}},t.prototype.updateAxisLine=function(){var e=this,i=e.xScale,n=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=i.range[0],a.x2=i.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=n.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,i=this,n=i.highlightedDatum,o=i.highlightStyle,a=i.marker,s=o.size,l=o.fill,c=o.stroke,u=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(h,p,f){var m=p.point,g=p.seriesDatum;if(m){var E,v=p===n,y=v&&void 0!==l?l:a.fill,_=v&&void 0!==c?c:a.stroke,b=v&&void 0!==u?u:a.strokeWidth,w=v&&void 0!==s?s:a.size;d&&(E=d({datum:p,xValue:g.x,yValue:g.y,min:g.y===e.min,max:g.y===e.max,first:0===f,last:f===e.markerSelectionData.length-1,fill:y,stroke:_,strokeWidth:b,size:w,highlighted:v})),h.size=E&&null!=E.size?E.size:w,h.fill=E&&null!=E.fill?E.fill:y,h.stroke=E&&null!=E.stroke?E.stroke:_,h.strokeWidth=E&&null!=E.strokeWidth?E.strokeWidth:b,h.translationX=m.x,h.translationY=m.y,h.visible=E&&null!=E.enabled?E.enabled:a.enabled&&h.size>0}})},t.prototype.updateStroke=function(e){var i=this,n=i.strokePath,a=i.line;if(!(i.yData.length<2)){var s=n.path,l=e.length,c=!0;s.clear();for(var u=0;u<l;u++){var d=e[u],h=d.point,f=h.x,m=h.y;null==d.seriesDatum.y?c=!0:c?(s.moveTo(f,m),c=!1):s.lineTo(f,m)}n.lineJoin=n.lineCap="round",n.fill=void 0,n.stroke=a.stroke,n.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var i=this,n=i.fillPath,o=i.yData,a=i.fill,s=n.path,l=e.length;if(s.clear(),!(o.length<2)){for(var c=0;c<l;c++){var u=e[c].point,d=u.x,h=u.y;c>0?s.lineTo(d,h):s.moveTo(d,h)}s.closePath(),n.lineJoin="round",n.stroke=void 0,n.fill=a}},t.prototype.updateXCrosshairLine=function(){var e,i=this,n=i.yScale,o=i.xCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.xLine;if(s.enabled&&null!=a){o.y1=n.range[0],o.y2=n.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:yA(o.lineCap,s.lineDash),o.translationX=a.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e,i=this,n=i.xScale,o=i.yCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.yLine;if(s.enabled&&null!=a){o.x1=n.range[0],o.x2=n.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:yA(o.lineCap,s.lineDash),o.translationY=a.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var i,n,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(n=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===n?void 0:n.renderer;return h?Sv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Sv(d)},t.className="AreaSparkline",t}(aV),eKe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tKe=Xi.extent,Fee=ah.BandScale,iKe=function r(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},nKe=function r(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},rKe=function r(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},oKe=function(r){function t(){var e=r.call(this)||this;return e.linePath=new re.Path,e.xCrosshairLine=new re.Line,e.yCrosshairLine=new re.Line,e.lineSparklineGroup=new re.Group,e.markers=new re.Group,e.markerSelection=re.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new iKe,e.line=new nKe,e.crosshairs=new rKe,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=Ti.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.markers.zIndex=Ti.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return eKe(t,r),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){return new(Iee(this.marker.shape))},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var n=this.yScale,o=tKe(this.yData),a=0,s=1;if(void 0!==o&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(.01*a);a-=l,s+=l}n.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,n=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(e.data){for(var l=!(a instanceof Fee),c=l?0:a.bandwidth/2,u=[],d=0;d<n.length;d++){var h=n[d],p=o[d];if(null!=h){var f=a.convert(l?a.toDomain(p):p)+c,m=void 0===h?NaN:s.convert(h);u.push({seriesDatum:{x:p,y:h},point:{x:f,y:m}})}}return u}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,i=this,n=i.highlightedDatum,o=i.highlightStyle,a=i.marker,s=o.size,l=o.fill,c=o.stroke,u=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(h,p,f){var b,m=p===n,g=m&&void 0!==l?l:a.fill,v=m&&void 0!==c?c:a.stroke,y=m&&void 0!==u?u:a.strokeWidth,_=m&&void 0!==s?s:a.size,w=p.seriesDatum,E=p.point;d&&(b=d({datum:p,xValue:w.x,yValue:w.y,min:w.y===e.min,max:w.y===e.max,first:0===f,last:f===e.markerSelectionData.length-1,fill:g,stroke:v,strokeWidth:y,size:_,highlighted:m})),h.size=b&&null!=b.size?b.size:_,h.fill=b&&null!=b.fill?b.fill:g,h.stroke=b&&null!=b.stroke?b.stroke:v,h.strokeWidth=b&&null!=b.strokeWidth?b.strokeWidth:y,h.translationX=E.x,h.translationY=E.y,h.visible=b&&null!=b.enabled?b.enabled:a.enabled&&h.size>0})},t.prototype.updateLine=function(){var e=this,i=e.linePath,n=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(n.length<2)){var c=!(a instanceof Fee),u=i.path,d=n.length,h=c?0:a.bandwidth/2,p=!0;u.clear();for(var f=0;f<d;f++){var m=o[f],g=n[f],v=a.convert(c?a.toDomain(m):m)+h,y=void 0===g?NaN:s.convert(g);null==g?p=!0:p?(u.moveTo(v,y),p=!1):u.lineTo(v,y)}i.fill=void 0,i.stroke=l.stroke,i.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e,i=this,n=i.yScale,o=i.xCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.xLine;if(s.enabled&&null!=a){o.y1=n.range[0],o.y2=n.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:yA(o.lineCap,s.lineDash),o.translationX=a.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e,i=this,n=i.xScale,o=i.yCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.yLine;if(s.enabled&&null!=a){o.x1=n.range[0],o.x2=n.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:yA(o.lineCap,s.lineDash),o.translationY=a.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var i,n,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(n=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===n?void 0:n.renderer;return h?Sv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Sv(d)},t.className="LineSparkline",t}(aV),kee=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sKe=Xi.extent,Ch=(()=>((Ch=Ch||{})[Ch.Rect=0]="Rect",Ch[Ch.Label=1]="Label",Ch))(),zo=(()=>((zo=zo||{}).InsideBase="insideBase",zo.InsideEnd="insideEnd",zo.Center="center",zo.OutsideEnd="outsideEnd",zo))(),lKe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.formatter=void 0,e.placement=zo.InsideEnd,e}return kee(t,r),t}(function r(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}),Lee=function(r){function t(){var e=r.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new re.Line,e.bandWidth=0,e.sparklineGroup=new re.Group,e.rectGroup=new re.Group,e.labelGroup=new re.Group,e.rectSelection=re.Selection.select(e.rectGroup,re.Rect),e.labelSelection=re.Selection.select(e.labelGroup,re.Text),e.nodeSelectionData=[],e.label=new lKe,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=Ti.SERIES_FILL_ZINDEX,e.axisLine.zIndex=Ti.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=Ti.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return kee(t,r),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var i,n=this,o=n.xScale,a=n.paddingInner,s=n.paddingOuter,l=n.smallestInterval,u=(o.domain[1]-o.domain[0])/(null!==(i=l?.x)&&void 0!==i?i:1)+1,h=Math.min(u,50);return e/Math.max(1,2*s+(h-1)*a+h)},t.prototype.updateYScaleDomain=function(){var e=this,i=e.yScale,o=e.valueAxisDomain,a=sKe(e.yData),s=0,l=1;void 0!==a&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),i.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,i=this,n=i.highlightedDatum,o=i.formatter,a=i.fill,s=i.stroke,l=i.strokeWidth,c=this.highlightStyle,u=c.fill,d=c.stroke,h=c.strokeWidth;this.rectSelection.each(function(p,f,m){var b,g=f===n,v=g&&void 0!==u?u:a,y=g&&void 0!==d?d:s,_=g&&void 0!==h?h:l,w=f.x,E=f.y,M=f.width,P=f.height,I=f.seriesDatum;o&&(b=o({datum:f,xValue:I.x,yValue:I.y,width:M,height:P,min:I.y===e.min,max:I.y===e.max,first:0===m,last:m===e.nodeSelectionData.length-1,fill:v,stroke:y,strokeWidth:_,highlighted:g})),p.fill=b&&b.fill||v,p.stroke=b&&b.stroke||y,p.strokeWidth=b&&b.strokeWidth||_,p.x=p.y=0,p.width=M,p.height=P,p.visible=p.height>0,p.translationX=w,p.translationY=E})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(i){i.tag=Ch.Label,i.pointerEvents=re.PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,i=e.enabled,n=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(c,u){var d=u.label;d&&i?(c.fontStyle=n,c.fontWeight=o,c.fontSize=a,c.fontFamily=s,c.textAlign=d.textAlign,c.textBaseline=d.textBaseline,c.text=d.text,c.x=d.x,c.y=d.y,c.fill=l,c.visible=!0):c.visible=!1})},t.prototype.getTooltipHtml=function(e){var i,n,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(n=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===n?void 0:n.renderer;return h?Sv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Sv(d)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(aV),cKe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uKe=Xi.isNumber,Nee=ah.BandScale,dKe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cKe(t,r),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,n=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(i instanceof Nee)i.range=[0,n.height],i.paddingInner=a,i.paddingOuter=o;else{var s=this.calculateStep(n.height),l=s*o;this.bandWidth=s*(1-a),i.range=[l,n.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,i=e.yScale,n=e.axis,o=e.axisLine,a=e.seriesRect,s=n.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=n.stroke,o.strokeWidth=s+(s%2==1?1:0);var l=i.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,n=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,c=e.stroke,u=e.strokeWidth,d=e.label;if(e.data){for(var h=d.fontStyle,p=d.fontWeight,f=d.fontSize,m=d.fontFamily,g=d.color,v=d.formatter,y=d.placement,_=[],b=s.convert(0),w=!(a instanceof Nee),E=0,M=n.length;E<M;E++){var P=n[E],I=o[E],k=void 0===P;k&&(P=0);var $,N=a.convert(w?a.toDomain(I):I),B=Math.min(void 0===P?NaN:s.convert(P),b),Y=Math.max(void 0===P?NaN:s.convert(P),b),ne=w?this.bandWidth:a.bandwidth,me=Y-B,W={x:b,y:N};$=v?v({value:P}):void 0!==P&&uKe(P)?this.formatLabelValue(P):"";var Z=N+ne/2,ce=void 0,ke=void 0,Oe=void 0!==P&&P>=0;if(y===zo.Center)ce=B+me/2,ke="center";else if(y===zo.OutsideEnd)ce=B+(Oe?me+4:-4),ke=Oe?"start":"end";else if(y===zo.InsideEnd){ce=B+(Oe?me-4:4),ke=Oe?"end":"start";var nn=re.HdpiCanvas.getTextSize($,m).width||20;(Oe&&ce<b+nn||!Oe&&ce>b-nn)&&(ce=b+4*(Oe?1:-1),ke=Oe?"start":"end")}else ce=b+4*(Oe?1:-1),ke=Oe?"start":"end";_.push({x:B,y:N,width:me,height:ne,fill:l,stroke:c,strokeWidth:u,seriesDatum:{x:I,y:k?void 0:P},point:W,label:{x:ce,y:Z,text:$,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,textAlign:ke,textBaseline:"middle",fill:g}})}return _}},t.prototype.getDistance=function(e,i){return Math.abs(e.y-i.y)},t.className="BarSparkline",t}(Lee),hKe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pKe=Xi.isNumber,Gee=ah.BandScale,fKe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return hKe(t,r),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,n=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(i instanceof Gee)i.range=[0,n.width],i.paddingInner=a,i.paddingOuter=o;else{var s=this.calculateStep(n.width),l=s*o;this.bandWidth=s*(1-a),i.range=[l,n.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,i=e.yScale,n=e.axis,o=e.axisLine,a=e.seriesRect,s=n.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=n.stroke,o.strokeWidth=s+(s%2==1?1:0);var l=i.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,n=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,c=e.stroke,u=e.strokeWidth,d=e.label;if(e.data){for(var h=d.fontStyle,p=d.fontWeight,f=d.fontSize,m=d.fontFamily,g=d.color,v=d.formatter,y=d.placement,_=[],b=s.convert(0),w=!(a instanceof Gee),E=0,M=n.length;E<M;E++){var P=n[E],I=o[E],k=void 0===P;k&&(P=0);var $,N=Math.min(void 0===P?NaN:s.convert(P),b),B=a.convert(w?a.toDomain(I):I),Y=Math.max(void 0===P?NaN:s.convert(P),b),ne=w?this.bandWidth:a.bandwidth,me=Y-N,W={x:B+ne/2,y:b};$=v?v({value:P}):void 0!==P&&pKe(P)?this.formatLabelValue(P):"";var Z=B+ne/2,ce=void 0,ke=void 0,Oe=void 0!==P&&P>=0;if(y===zo.Center)ce=N+me/2,ke="middle";else if(y===zo.OutsideEnd)ce=N+(Oe?-2:me+2),ke=Oe?"bottom":"top";else if(y===zo.InsideEnd){ce=N+(Oe?2:me-2),ke=Oe?"top":"bottom";var nn=re.HdpiCanvas.getTextSize($,m).height||10;(Oe&&ce>b-nn||!Oe&&ce<b+nn)&&(ce=b+2*(Oe?-1:1),ke=Oe?"bottom":"top")}else ce=b+2*(Oe?-1:1),ke=Oe?"bottom":"top";_.push({x:B,y:N,width:ne,height:me,fill:l,stroke:c,strokeWidth:u,seriesDatum:{x:I,y:k?void 0:P},point:W,label:{x:Z,y:ce,text:$,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,textAlign:"center",textBaseline:ke,fill:g}})}return _}},t.className="ColumnSparkline",t}(Lee),mKe=Xi.isNumber,gKe=function(){function r(){}return r.create=function(t,e){var i=function vKe(r){switch(void 0===r&&(r="line"),r){case"column":return new fKe;case"bar":return new dKe;case"area":return new J8e;default:return new oKe}}((t=Xi.deepClone(t)).type);return e&&(i.tooltip=e),function _Ke(r,t){ut(r,"context",t.context,t),ut(r,"width",t.width,t),ut(r,"height",t.height,t),ut(r,"container",t.container,t),ut(r,"xKey",t.xKey,t),ut(r,"yKey",t.yKey,t),t.padding&&function wKe(r,t){ut(r,"top",t.top,t),ut(r,"right",t.right,t),ut(r,"bottom",t.bottom,t),ut(r,"left",t.left,t)}(r.padding,t.padding),t.axis&&function xKe(r,t){ut(r,"type",t.type,t),ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t)}(r.axis,t.axis),t.highlightStyle&&function EKe(r,t){ut(r,"fill",t.fill,t),ut(r,"size",t.size,t),ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t)}(r.highlightStyle,t.highlightStyle)}(i,t),function yKe(r,t){switch(t.type){case"bar":case"column":!function Vee(r,t){ut(r,"valueAxisDomain",t.valueAxisDomain,t),ut(r,"fill",t.fill,t),ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t),ut(r,"paddingInner",t.paddingInner,t),ut(r,"paddingOuter",t.paddingOuter,t),ut(r,"formatter",t.formatter,t),t.label&&function SKe(r,t){ut(r,"enabled",t.enabled,t),ut(r,"fontStyle",t.fontStyle,t),ut(r,"fontWeight",t.fontWeight,t),ut(r,"fontSize",t.fontSize,t),ut(r,"fontFamily",t.fontFamily,t),ut(r,"textAlign",t.textAlign,t),ut(r,"textBaseline",t.textBaseline,t),ut(r,"color",t.color,t),ut(r,"formatter",t.formatter,t),ut(r,"placement",t.placement,t)}(r.label,t.label)}(r,t);break;case"area":!function bKe(r,t){ut(r,"fill",t.fill,t),t.marker&&Bee(r.marker,t.marker),t.line&&Hee(r.line,t.line),t.crosshairs&&jee(r.crosshairs,t.crosshairs)}(r,t);break;default:!function CKe(r,t){t.marker&&Bee(r.marker,t.marker),t.line&&Hee(r.line,t.line),t.crosshairs&&jee(r.crosshairs,t.crosshairs)}(r,t)}}(i,t),t.data&&(i.data=t.data),i.processedOptions=t,i},r}();function Bee(r,t){ut(r,"enabled",t.enabled,t),ut(r,"size",t.size,t),ut(r,"shape",t.shape,t),ut(r,"fill",t.fill,t),ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t),ut(r,"formatter",t.formatter,t)}function Hee(r,t){ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t)}function jee(r,t){r.xLine&&t.xLine&&Uee(r.xLine,t.xLine),r.yLine&&t.yLine&&Uee(r.yLine,t.yLine)}function Uee(r,t){ut(r,"enabled",t.enabled,t),ut(r,"stroke",t.stroke,t),ut(r,"strokeWidth",t.strokeWidth,t),ut(r,"lineDash",t.lineDash,t),ut(r,"lineCap",t.lineCap,t)}var zee={},Wee=function(r,t,e){if(mKe(t))return!0;var i="AG Charts: ".concat(r," must be a number, the value you provided is not a valid number. Using the default of ").concat(e,"px.");return function DKe(r,t){zee[t]||(r(),zee[t]=!0)}(function(){return console.warn(i)},"".concat(r," not a number")),!1},TKe={xOffset:Wee,yOffset:Wee};function ut(r,t,e,i){if(t in i)if(t in r){var n=TKe[t];(!n||n(t,e,r[t]))&&r[t]!==e&&(r[t]=e)}else console.warn("Property ".concat(t," does not exist on the target object."))}var AKe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sV=function(){return sV=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},sV.apply(this,arguments)},lV=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},OKe=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return AKe(t,r),t.prototype.init=function(e){var i=this,n=!0,a=this.resizeObserverService.observeResize(this.getGui(),function(){var s=i.getGui(),l=s.clientWidth,c=s.clientHeight;if(0!==l&&0!==c)if(n){var u=sV({data:e.value,width:l,height:c,context:{data:e.data}},e.sparklineOptions);i.sparkline=gKe.create(u,i.sparklineTooltipSingleton.getSparklineTooltip()),i.eSparkline.appendChild(i.sparkline.canvasElement),n=!1}else i.sparkline.width=l,i.sparkline.height=c});this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',lV([G("eSparkline")],t.prototype,"eSparkline",void 0),lV([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lV([C("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(le),MKe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cV=function(r,t,e,i){var a,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,i);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(n<3?a(o):n>3?a(t,e,o):a(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},RKe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return MKe(t,r),t.prototype.postConstruct=function(){this.tooltip=new xv},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},cV([j],t.prototype,"postConstruct",null),cV([Oi],t.prototype,"destroyTooltip",null),cV([oe("sparklineTooltipSingleton")],t)}(z);const $ee=[xNe,MNe,U1e,UVe,JVe,P$e,G$e,r6e,c6e,ree,h6e,_9,J6e,m8e,XL,I8e,N8e,{version:"31.1.1",moduleName:ie.SparklinesModule,beans:[RKe],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:OKe}],dependantModules:[ur]}];[F7,L7,eD].concat($ee),Ze.registerModules($ee);let Kee=(()=>{class r{ngOnInit(){this.inputdata=this.data}constructor(e,i,n,o){this.data=e,this.ref=i,this.buildr=n,this.service=o,this.myform=this.buildr.group({token:this.buildr.control("")})}closepopup(){this.ref.close("Closed using function")}updateHandicap(){console.log("in update handicap..."+this.myform.value.token),this.service.updatePlayersHandicap(this.myform.value).subscribe(e=>{this.closepopup()}),this.closepopup()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ym),T(sp),T(Tm),T(Xc))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-ghin-sync"]],decls:13,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","token","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,n){1&i&&(O(0,"form",0),se("ngSubmit",function(){return n.updateHandicap()}),O(1,"h1",1),F(2),A(),O(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),F(6,"Provide the access token so that we can access the ghin API to update the handicap"),A(),q(7,"input",4),A()(),O(8,"div",5)(9,"button",6),F(10,"Update"),A(),O(11,"a",7),se("click",function(){return n.closepopup()}),F(12,"Close"),A()()()),2&i&&(H("formGroup",n.myform),L(2),Ct(n.inputdata.title))},dependencies:[Kc,Fl,$c,x_,ja,Gx,Vx,Bx,Pl,ia,Es,Rl,Ds,rd],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:85%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]})}return r})(),Yee=(()=>{class r{constructor(e,i,n,o){this.data=e,this.ref=i,this.buildr=n,this.service=o,this.closemessage="closed using directive",this.myform=this.buildr.group({id:this.buildr.control(""),fName:this.buildr.control(""),lName:this.buildr.control(""),ghinNumber:this.buildr.control(""),phone:this.buildr.control(""),email:this.buildr.control(""),nickName:this.buildr.control(""),chineseNickName:this.buildr.control(""),handicap:this.buildr.control(""),last3GameAvg:this.buildr.control(""),clubId:this.buildr.control(""),clubName:this.buildr.control(""),desc:this.buildr.control("")})}ngOnInit(){this.inputdata=this.data,console.log("userid==="+this.inputdata.userId),this.inputdata.userId>0&&(console.log("init form"),this.setpopupdata(this.inputdata.userId))}setpopupdata(e){this.service.getPlayerById(e).subscribe(i=>{this.editdata=i,this.myform.setValue({id:this.editdata.id,fName:this.editdata.fName,lName:this.editdata.lName,ghinNumber:this.editdata.ghinNumber,phone:this.editdata.phone,email:this.editdata.email,nickName:this.editdata.nickName,chineseNickName:this.editdata.chineseNickName,handicap:this.editdata.handicap,last3GameAvg:this.editdata.last3GameAvg,clubId:this.editdata.clubId,clubName:this.editdata.clubName,desc:this.editdata.desc})})}closepopup(){this.ref.close("Closed using function")}Edituser(){this.service.editPlayer(this.myform.value).subscribe(e=>{this.closepopup()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ym),T(sp),T(Tm),T(Xc))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-edit-player"]],decls:71,vars:8,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["media","(min-width:0px)",3,"srcset"],["mat-card-image","","src","","alt","Golfer picture"],[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","id","matInput","","readonly",""],["formControlName","fName","matInput","","readonly",""],["formControlName","lName","matInput","","readonly",""],["formControlName","ghinNumber","matInput","","readonly",""],["formControlName","phone","matInput",""],["formControlName","email","matInput",""],["formControlName","nickName","matInput",""],["formControlName","chineseNickName","matInput",""],["formControlName","handicap","matInput",""],["formControlName","last3GameAvg","matInput",""],["formControlName","clubId","matInput",""],["formControlName","clubName","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,n){1&i&&(O(0,"mat-card",0)(1,"mat-card-header"),q(2,"div",1),O(3,"mat-card-title"),F(4),A(),O(5,"mat-card-subtitle"),F(6),A()(),O(7,"picture"),q(8,"source",2)(9,"img",3),A(),O(10,"mat-card-content")(11,"p"),F(12),A()(),q(13,"mat-card-actions"),A(),O(14,"form",4),se("ngSubmit",function(){return n.Edituser()}),O(15,"h1",5),F(16),A(),O(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),F(20,"Golfer Id"),A(),q(21,"input",8),A(),O(22,"mat-form-field",7)(23,"mat-label"),F(24,"First Name"),A(),q(25,"input",9),A(),O(26,"mat-form-field",7)(27,"mat-label"),F(28,"Last Name"),A(),q(29,"input",10),A(),O(30,"mat-form-field",7)(31,"mat-label"),F(32,"Ghin Number"),A(),q(33,"input",11),A(),O(34,"mat-form-field",7)(35,"mat-label"),F(36,"Phone Number"),A(),q(37,"input",12),A(),O(38,"mat-form-field",7)(39,"mat-label"),F(40,"Email"),A(),q(41,"input",13),A(),O(42,"mat-form-field",7)(43,"mat-label"),F(44,"Nick Name"),A(),q(45,"input",14),A(),O(46,"mat-form-field",7)(47,"mat-label"),F(48,"Chinese Nick Name"),A(),q(49,"input",15),A(),O(50,"mat-form-field",7)(51,"mat-label"),F(52,"Handicap"),A(),q(53,"input",16),A(),O(54,"mat-form-field",7)(55,"mat-label"),F(56,"Last 3 Game Avg"),A(),q(57,"input",17),A(),O(58,"mat-form-field",7)(59,"mat-label"),F(60,"Club ID"),A(),q(61,"input",18),A(),O(62,"mat-form-field",7)(63,"mat-label"),F(64,"Club Name"),A(),q(65,"input",19),A()(),O(66,"div",20)(67,"button",21),F(68,"Save"),A(),O(69,"a",22),se("click",function(){return n.closepopup()}),F(70,"Close"),A()()()),2&i&&(L(4),ea("",n.editdata.chineseNickName," ",n.editdata.handicap,""),L(2),ea("",n.editdata.fName," ",n.editdata.lName,""),L(2),kS("srcset","../../../assets/",n.editdata.fName,".jpg"),L(4),He(" ",n.editdata.desc," "),L(2),H("formGroup",n.myform),L(2),Ct(n.inputdata.title))},dependencies:[Kc,Fl,$c,x_,ja,Zc,Um,vx,Qc,op,gx,jm,Hm,Gx,Vx,Bx,Pl,ia,Es,Rl,Ds,rd],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:25%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(logo.eea169aeb062ab0e.jpg);background-size:cover}.example-card[_ngcontent-%COMP%]{margin:1%;width:400px;text-align:left;float:left}"]})}return r})(),qee=(()=>{class r extends a7{constructor(e){super("angular"),this._ngZone=e,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,n)=>this.runOutside(i,n),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(i,n)=>"resize-observer"===n?this._ngZone.runOutsideAngular(i):i():i=>this._ngZone.runOutsideAngular(i):i=>i()}get shouldWrapOutgoing(){return this._ngZone&&Ee.isInAngularZone()}isFrameworkComponent(e){if(!e)return!1;const i=e.prototype;return i&&"agInit"in i}runInsideAngular(e){return this._ngZone?this._ngZone.run(e):e()}runOutsideAngular(e,i){return this.runOutside(e,i)}}return r.\u0275fac=function(e){return new(e||r)(K(Ee))},r.\u0275prov=ge({token:r,factory:r.\u0275fac}),r})(),Xee=(()=>{class r extends Nke{setViewContainerRef(e,i){this.viewContainerRef=e,this.angularFrameworkOverrides=i}createWrapper(e,i){let n=this.angularFrameworkOverrides,o=this,s=new class a extends kKe{init(c){n.runInsideAngular(()=>{super.init(c),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return n.runInsideAngular(()=>o.createComponent(e))}hasMethod(c){return null!=s.getFrameworkComponentInstance()[c]}callMethod(c,u){const d=this.getFrameworkComponentInstance();return n.runInsideAngular(()=>s.getFrameworkComponentInstance()[c].apply(d,u))}addMethod(c,u){s[c]=u}};return s}createComponent(e){return this.viewContainerRef.createComponent(e)}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=_t(r)))(i||r)}}(),r.\u0275prov=ge({token:r,factory:r.\u0275fac}),r})();class kKe{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let _A=(()=>{class r{constructor(e,i,n,o){this.viewContainerRef=i,this.angularFrameworkOverrides=n,this.frameworkComponentWrapper=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=vt.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new U,this.toolPanelSizeChanged=new U,this.columnMenuVisibleChanged=new U,this.cutStart=new U,this.cutEnd=new U,this.pasteStart=new U,this.pasteEnd=new U,this.columnVisible=new U,this.columnPinned=new U,this.columnResized=new U,this.columnMoved=new U,this.columnValueChanged=new U,this.columnPivotModeChanged=new U,this.columnPivotChanged=new U,this.columnGroupOpened=new U,this.newColumnsLoaded=new U,this.gridColumnsChanged=new U,this.displayedColumnsChanged=new U,this.virtualColumnsChanged=new U,this.columnEverythingChanged=new U,this.columnHeaderMouseOver=new U,this.columnHeaderMouseLeave=new U,this.columnHeaderClicked=new U,this.columnHeaderContextMenu=new U,this.componentStateChanged=new U,this.cellValueChanged=new U,this.cellEditRequest=new U,this.rowValueChanged=new U,this.cellEditingStarted=new U,this.cellEditingStopped=new U,this.rowEditingStarted=new U,this.rowEditingStopped=new U,this.undoStarted=new U,this.undoEnded=new U,this.redoStarted=new U,this.redoEnded=new U,this.rangeDeleteStart=new U,this.rangeDeleteEnd=new U,this.filterOpened=new U,this.filterChanged=new U,this.filterModified=new U,this.advancedFilterBuilderVisibleChanged=new U,this.chartCreated=new U,this.chartRangeSelectionChanged=new U,this.chartOptionsChanged=new U,this.chartDestroyed=new U,this.cellKeyDown=new U,this.gridReady=new U,this.gridPreDestroyed=new U,this.firstDataRendered=new U,this.gridSizeChanged=new U,this.modelUpdated=new U,this.virtualRowRemoved=new U,this.viewportChanged=new U,this.bodyScroll=new U,this.bodyScrollEnd=new U,this.dragStarted=new U,this.dragStopped=new U,this.stateUpdated=new U,this.paginationChanged=new U,this.rowDragEnter=new U,this.rowDragMove=new U,this.rowDragLeave=new U,this.rowDragEnd=new U,this.columnRowGroupChanged=new U,this.rowGroupOpened=new U,this.expandOrCollapseAll=new U,this.pinnedRowDataChanged=new U,this.rowDataUpdated=new U,this.asyncTransactionsFlushed=new U,this.storeRefreshed=new U,this.cellClicked=new U,this.cellDoubleClicked=new U,this.cellFocused=new U,this.cellMouseOver=new U,this.cellMouseOut=new U,this.cellMouseDown=new U,this.rowClicked=new U,this.rowDoubleClicked=new U,this.rowSelected=new U,this.selectionChanged=new U,this.cellContextMenu=new U,this.rangeSelectionChanged=new U,this.tooltipShow=new U,this.tooltipHide=new U,this.sortChanged=new U,this.columnRowGroupChangeRequest=new U,this.columnPivotChangeRequest=new U,this.columnValueChangeRequest=new U,this.columnAggFuncChangeRequest=new U,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const e=eE.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const i=O7(this._nativeElement,e,this.gridParams);i&&(this.api=i,this.columnApi=new cC(i));const n=this.gridPreDestroyed;(n.observed??n.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,o=>o)})}ngOnChanges(e){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const i={};Object.entries(e).forEach(([n,o])=>{i[n]=o.currentValue}),eE.processOnChange(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(e){const n=this[e],o=n?.observed??n?.observers?.length>0,a=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return o||!!this.gridOptions&&!!this.gridOptions[a]}globalEventListener(e,i){if(this._destroyed)return;const n=this[e];if(n&&this.isEmitterUsed(e)){const o=()=>this.angularFrameworkOverrides.runInsideAngular(()=>n.emit(i));"gridReady"===e?this._fullyReady.then(()=>o()):o()}}}return r.\u0275fac=function(e){return new(e||r)(T(Se),T(Fi),T(qee),T(Xee))},r.\u0275cmp=we({type:r,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[Ve([qee,Xee]),ri,tR],decls:0,vars:0,template:function(e,i){},encapsulation:2}),r})(),LKe=(()=>{class r{constructor(e,i,n){this.service=e,this.router=i,this.dialog=n,this.players=[],this.colDefs=[{field:"id",headerName:"Golfer ID",flex:5,onCellClicked:o=>this.openEditPlayer(o)},{field:"fName",headerName:"First Name",flex:5,filter:!0},{field:"lName",headerName:"Last Name",flex:5,filter:!0},{field:"ghinNumber",headerName:"ghin Number",flex:5},{field:"phone",headerName:"Phone Number",flex:6},{field:"email",headerName:"Email",flex:7},{field:"nickName",headerName:"Nick Name",flex:5},{field:"chineseNickName",headerName:"Chinese Nick Name",flex:7},{field:"handicap",headerName:"Handicap",type:"numericColumn",flex:4,filter:!0},{field:"clubId",headerName:"Club ID",flex:4},{field:"clubName",headerName:"Club Name",flex:12,filter:!0},{field:"last3GameAvg",headerName:"last3GameAvg",flex:12,filter:!0}],this.defaultColDef={flex:10,minWidth:20}}ngOnInit(){this.service.getAllPlayer().subscribe({next:e=>{this.players=e},error:e=>{console.log("dddddddd"),console.error("error=",e.status),0==e.status&&(window.location.href="https://shiyuan.club/oauth2/authorization/cognito")}})}onAddUserClick(){this.dialog.open(nF,{width:"70%",height:"600px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Player @ Shi Yuan Club in Forsgate"}}).afterClosed().subscribe(i=>{this.service.getAllPlayer().subscribe({next:n=>{this.players=n}})})}onGridReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit()}onGhinSyncClick(){console.log("in ghin sync..."),this.dialog.open(Kee,{width:"80%",height:"300px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Updating all players handicap"}}).afterClosed().subscribe(i=>{this.service.getAllPlayer().subscribe({next:n=>{this.players=n}})})}onUpdateLast3(){console.log("in  onUpdateLast3..."),this.service.updateLast3Score().subscribe(e=>{console.log("finished calling update last 3 score function."),this.service.getAllPlayer().subscribe({next:i=>{this.players=i}})})}openEditPlayer(e){console.log("edit player is clicked"+e.value),this.dialog.open(Yee,{width:"60%",height:"800px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Edit player",userId:e.value}}).afterClosed().subscribe(n=>{this.service.getAllPlayer().subscribe({next:o=>{this.players=o}})})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Xc),T(kr),T(T_))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-player"]],decls:12,vars:3,consts:[[2,"margin-left","60%"],["mat-raised-button","","color","grey","type","button",3,"click"],[1,"ag-theme-quartz",2,"height","1400px","width","90%",3,"defaultColDef","rowData","columnDefs"]],template:function(i,n){1&i&&(O(0,"div")(1,"div",0)(2,"button",1),se("click",function(){return n.onGhinSyncClick()}),F(3,"GHIN Sync"),A(),F(4," \xa0\xa0\xa0 "),O(5,"button",1),se("click",function(){return n.onUpdateLast3()}),F(6,"UpdateLast3"),A(),F(7," \xa0\xa0\xa0 "),O(8,"button",1),se("click",function(){return n.onAddUserClick()}),F(9,"Add Player(+)"),A()(),O(10,"ag-grid-angular",2),F(11,' (gridReady)="onGridReady($event)" [pagination]="true" '),A()()),2&i&&(L(10),H("defaultColDef",n.defaultColDef)("rowData",n.players)("columnDefs",n.colDefs))},dependencies:[ja,_A],styles:[".ag-theme-quartz[_ngcontent-%COMP%]{ag-odd-row-background-color:#E04F00}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-row-odd[_ngcontent-%COMP%]{background-color:#e04f00}.ag-theme-quartz[_ngcontent-%COMP%]{--ag-header-height: 30px;--ag-header-foreground-color: white;--ag-header-background-color: rgb(25, 56, 192);--ag-header-cell-hover-background-color: rgb(80, 40, 140);--ag-header-cell-moving-background-color: rgb(80, 40, 140)}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{font-family:cursive}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-group-cell[_ngcontent-%COMP%]{font-weight:400;font-size:22px}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{font-size:18px}"]})}return r})();function NKe(r,t){if(1&r){const e=_i();O(0,"form",11)(1,"input",12),se("ngModelChange",function(n){return at(e),st(de().available.picker=n)})("ngModelChange",function(){at(e);const n=de();return st(n.onFilter(n.available))}),A()()}if(2&r){const e=de();L(1),H("ngModel",e.available.picker)}}const Zee=function(r,t){return{selected:r,disabled:t}};function GKe(r,t){if(1&r){const e=_i();O(0,"li",13),se("click",function(n){const o=at(e),a=o.$implicit,s=o.index,l=de();return l.disabled||l.selectItem(l.available.pick,a),st(l.shiftClick(n,s,l.available,a))})("dragstart",function(n){const a=at(e).$implicit,s=de();return st(s.drag(n,a,s.available))})("dragend",function(){at(e);const n=de();return st(n.dragEnd(n.available))}),O(1,"label"),F(2),A()()}if(2&r){const e=t.$implicit,i=de();H("ngClass",Ku(3,Zee,i.isItemSelected(i.available.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),L(2),Ct(e._name)}}function VKe(r,t){if(1&r){const e=_i();O(0,"form",11)(1,"input",14),se("ngModelChange",function(n){return at(e),st(de().confirmed.picker=n)})("ngModelChange",function(){at(e);const n=de();return st(n.onFilter(n.confirmed))}),A()()}if(2&r){const e=de();L(1),H("ngModel",e.confirmed.picker)}}function BKe(r,t){if(1&r){const e=_i();O(0,"li",13,15),se("click",function(n){const o=at(e),a=o.$implicit,s=o.index,l=de();return l.disabled||l.selectItem(l.confirmed.pick,a),st(l.shiftClick(n,s,l.confirmed,a))})("dragstart",function(n){const a=at(e).$implicit,s=de();return st(s.drag(n,a,s.confirmed))})("dragend",function(){at(e);const n=de();return st(n.dragEnd(n.confirmed))}),O(2,"label"),F(3),A()()}if(2&r){const e=t.$implicit,i=de();H("ngClass",Ku(3,Zee,i.isItemSelected(i.confirmed.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),L(3),Ct(e._name)}}const Qee=function(r,t){return{order:r,"margin-left":t}},Jee=function(r,t){return{"max-height":r,"min-height":t}},ete=function(r){return{over:r}};class CA{constructor(t){this._name=t,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}var HKe=0;class Pi{constructor(t){this.differs=t,this.id="dual-list-"+HKe++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=Pi.DEFAULT_FORMAT,this.sort=!1,this.disabled=!1,this.destinationChange=new U,this.sorter=(e,i)=>e._name<i._name?-1:e._name>i._name?1:0,this.available=new CA(Pi.AVAILABLE_LIST_NAME),this.confirmed=new CA(Pi.CONFIRMED_LIST_NAME)}ngOnChanges(t){t.filter&&!1===t.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),t.sort&&(!0===t.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===t.sort.currentValue&&(this.compare=void 0)),t.format&&(this.format=t.format.currentValue,typeof this.format.direction>"u"&&(this.format.direction=Pi.LTR),typeof this.format.add>"u"&&(this.format.add=Pi.DEFAULT_FORMAT.add),typeof this.format.remove>"u"&&(this.format.remove=Pi.DEFAULT_FORMAT.remove),typeof this.format.all>"u"&&(this.format.all=Pi.DEFAULT_FORMAT.all),typeof this.format.none>"u"&&(this.format.none=Pi.DEFAULT_FORMAT.none),typeof this.format.draggable>"u"&&(this.format.draggable=Pi.DEFAULT_FORMAT.draggable)),t.source&&(this.available=new CA(Pi.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),t.destination&&(this.confirmed=new CA(Pi.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(t){const e=this.sourceDiffer.diff(t);return!!e&&(e.forEachRemovedItem(i=>{const n=this.findItemIndex(this.available.list,i.item,this.key);-1!==n&&this.available.list.splice(n,1)}),e.forEachAddedItem(i=>{-1===this.findItemIndex(this.available.list,i.item,this.key)&&this.available.list.push({_id:this.makeId(i.item),_name:this.makeName(i.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(t){let e=!1;const i=this.destinationDiffer.diff(t);return!!i&&(i.forEachRemovedItem(n=>{const o=this.findItemIndex(this.confirmed.list,n.item,this.key);-1!==o&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[o])||this.selectItem(this.confirmed.pick,this.confirmed.list[o]),this.moveItem(this.confirmed,this.available,this.confirmed.list[o],!1),e=!0)}),i.forEachAddedItem(n=>{const o=this.findItemIndex(this.available.list,n.item,this.key);-1!==o&&(this.isItemSelected(this.available.pick,this.available.list[o])||this.selectItem(this.available.pick,this.available.list[o]),this.moveItem(this.available,this.confirmed,this.available.list[o],!1),e=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,e&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create(null))}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create(null))}direction(){return this.format.direction===Pi.LTR}dragEnd(t=null){return t?t.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(t,e,i){this.isItemSelected(i.pick,e)||this.selectItem(i.pick,e),i.dragStart=!0,t.dataTransfer.setData(this.id,e._id)}allowDrop(t,e){return t.dataTransfer.types.length&&t.dataTransfer.types[0]===this.id&&(t.preventDefault(),e.dragStart||(e.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(t,e){t.dataTransfer.types.length&&t.dataTransfer.types[0]===this.id&&(t.preventDefault(),this.dragLeave(),this.dragEnd(),e===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let t=!1,e=this.destination.length;for(;(e-=1)>=0;)0===this.confirmed.list.filter(n=>"object"==typeof this.destination[e]?n._id===this.destination[e][this.key]:n._id===this.destination[e]).length&&(this.destination.splice(e,1),t=!0);for(let i=0,n=this.confirmed.list.length;i<n;i+=1){let o=this.destination.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[i]._id:a===this.confirmed.list[i]._id);0===o.length&&(o=this.source.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[i]._id:a===this.confirmed.list[i]._id),o.length>0&&(this.destination.push(o[0]),t=!0))}t&&this.destinationChange.emit(this.destination)}findItemIndex(t,e,i="_id"){let n=-1;return t.filter("object"==typeof e?function o(s){return s._id===e[i]&&(n=t.indexOf(s),!0)}:function a(s){return s._id===e&&(n=t.indexOf(s),!0)}),n}makeUnavailable(t,e){const i=t.list.indexOf(e);-1!==i&&t.list.splice(i,1)}moveItem(t,e,i=null,n=!0){let o=0,a=t.pick.length;for(i&&(o=t.list.indexOf(i),a=o+1);o<a;o+=1){let s=[];if(i){const l=this.findItemIndex(t.pick,i);-1!==l&&(s[0]=t.pick[l])}else s=t.list.filter(l=>l._id===t.pick[o]._id);1===s.length&&(0===e.list.filter(l=>l._id===s[0]._id).length&&e.list.push(s[0]),this.makeUnavailable(t,s[0]))}void 0!==this.compare&&e.list.sort(this.compare),t.pick.length=0,n&&this.trueUp(),setTimeout(()=>{this.onFilter(t),this.onFilter(e)},10)}isItemSelected(t,e){return t.filter(i=>Object.is(i,e)).length>0}shiftClick(t,e,i,n){if(t.shiftKey&&i.last&&!Object.is(n,i.last)){const o=i.sift.indexOf(i.last);if(e>o)for(let a=o+1;a<e;a+=1)this.selectItem(i.pick,i.sift[a]);else if(-1!==o)for(let a=e+1;a<o;a+=1)this.selectItem(i.pick,i.sift[a])}i.last=n}selectItem(t,e){const i=t.filter(n=>Object.is(n,e));if(i.length>0)for(let n=0,o=i.length;n<o;n+=1){const a=t.indexOf(i[n]);-1!==a&&t.splice(a,1)}else t.push(e)}selectAll(t){t.pick.length=0,t.pick=t.sift.slice(0)}selectNone(t){t.pick.length=0}isAllSelected(t){return 0===t.list.length||t.list.length===t.pick.length}isAnySelected(t){return t.pick.length>0}unpick(t){for(let e=t.pick.length-1;e>=0;e-=1)-1===t.sift.indexOf(t.pick[e])&&t.pick.splice(e,1)}clearFilter(t){t&&(t.picker="",this.onFilter(t))}onFilter(t){if(t.picker.length>0)try{const e=t.list.filter(i=>"[object Object]"===Object.prototype.toString.call(i)?void 0!==i._name?-1!==i._name.toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(i).toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)):-1!==i.toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)));t.sift=e,this.unpick(t)}catch(e){e instanceof RangeError&&(this.format.locale=void 0),t.sift=t.list}else t.sift=t.list}makeId(t){return"object"==typeof t?t[this.key]:t}makeName(t,e="_"){const i=this.display;function n(a){switch(Object.prototype.toString.call(a)){case"[object Number]":case"[object String]":return a;default:return void 0!==a?a[i]:"undefined"}}let o="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":o=this.display(t);break;case"[object Array]":for(let a=0,s=this.display.length;a<s;a+=1)if(o.length>0&&(o+=e),-1===this.display[a].indexOf("."))o+=t[this.display[a]];else{const l=this.display[a].split("."),c=t[l[0]];if(c)if(-1!==l[1].indexOf("substring")){const u=l[1].substring(l[1].indexOf("(")+1,l[1].indexOf(")")).split(",");switch(u.length){case 1:o+=c.substring(parseInt(u[0],10));break;case 2:o+=c.substring(parseInt(u[0],10),parseInt(u[1],10));break;default:o+=c}}else o+=c}break;default:o=n(t)}else o=n(t);return o}}Pi.AVAILABLE_LIST_NAME="available",Pi.CONFIRMED_LIST_NAME="confirmed",Pi.LTR="left-to-right",Pi.RTL="right-to-left",Pi.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:Pi.LTR,draggable:!0,locale:void 0},Pi.\u0275fac=function(t){return new(t||Pi)(T(Tl))},Pi.\u0275cmp=we({type:Pi,selectors:[["dual-list"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[ri],decls:25,vars:40,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button",1,"btn","btn-primary","pull-left",3,"disabled","click"],["type","button",1,"btn","btn-default","pull-right",3,"disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(t,e){1&t&&(O(0,"div",0)(1,"div",1)(2,"button",2),se("click",function(){return e.moveItem(e.available,e.confirmed)}),F(3),A(),ue(4,NKe,2,1,"form",3),O(5,"div",4)(6,"ul",5),se("drop",function(n){return e.drop(n,e.confirmed)})("dragover",function(n){return e.allowDrop(n,e.available)})("dragleave",function(){return e.dragLeave()}),ue(7,GKe,3,6,"li",6),A()(),O(8,"div",7)(9,"button",8),se("click",function(){return e.selectAll(e.available)}),F(10),A(),O(11,"button",9),se("click",function(){return e.selectNone(e.available)}),F(12),A()()(),O(13,"div",1)(14,"button",10),se("click",function(){return e.moveItem(e.confirmed,e.available)}),F(15),A(),ue(16,VKe,2,1,"form",3),O(17,"div",4)(18,"ul",5),se("drop",function(n){return e.drop(n,e.available)})("dragover",function(n){return e.allowDrop(n,e.confirmed)})("dragleave",function(){return e.dragLeave()}),ue(19,BKe,4,6,"li",6),A()(),O(20,"div",7)(21,"button",8),se("click",function(){return e.selectAll(e.confirmed)}),F(22),A(),O(23,"button",9),se("click",function(){return e.selectNone(e.confirmed)}),F(24),A()()()()),2&t&&(L(1),H("ngStyle",Ku(24,Qee,e.direction()?1:2,e.direction()?0:"10px")),L(1),H("ngClass",e.direction()?"point-right":"point-left")("disabled",0===e.available.pick.length),L(1),Ct(e.format.add),L(1),H("ngIf",e.filter),L(2),H("ngStyle",Ku(27,Jee,e.height,e.height))("ngClass",US(30,ete,e.available.dragOver)),L(1),H("ngForOf",e.available.sift),L(2),H("disabled",e.disabled||e.isAllSelected(e.available)),L(1),Ct(e.format.all),L(1),H("disabled",!e.isAnySelected(e.available)),L(1),Ct(e.format.none),L(1),H("ngStyle",Ku(32,Qee,e.direction()?2:1,e.direction()?"10px":0)),L(1),H("ngClass",e.direction()?"point-left":"point-right")("disabled",0===e.confirmed.pick.length),L(1),Ct(e.format.remove),L(1),H("ngIf",e.filter),L(2),H("ngStyle",Ku(35,Jee,e.height,e.height))("ngClass",US(38,ete,e.confirmed.dragOver)),L(1),H("ngForOf",e.confirmed.sift),L(2),H("disabled",e.disabled||e.isAllSelected(e.confirmed)),L(1),Ct(e.format.all),L(1),H("disabled",!e.isAnySelected(e.confirmed)),L(1),Ct(e.format.none))},dependencies:[Zu,Ba,Zr,uW,Pl,ia,Es,Rl,Dm,nd],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']});let jKe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Ke({type:r}),r.\u0275inj=Ue({imports:[yr,K5]}),r})();class UKe{constructor(){this.player=[],this.teeList=[]}}class tte{constructor(){this.teamA=[],this.teamB=[]}}let zKe=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Te(e)}get inset(){return this._inset}set inset(e){this._inset=Te(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(je("aria-orientation",n.vertical?"vertical":"horizontal"),Ge("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return r})(),WKe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,ht]})}return r})();function $Ke(r,t){}const KKe=function(r){return{animationDuration:r}},YKe=function(r,t){return{value:r,params:t}};function qKe(r,t){1&r&&Le(0)}const ite=["*"],XKe=["tabListContainer"],ZKe=["tabList"],QKe=["tabListInner"],JKe=["nextPaginator"],eYe=["previousPaginator"],tYe=["tabBodyWrapper"],iYe=["tabHeader"];function nYe(r,t){}function rYe(r,t){1&r&&ue(0,nYe,0,0,"ng-template",14),2&r&&H("cdkPortalOutlet",de().$implicit.templateLabel)}function oYe(r,t){1&r&&F(0),2&r&&Ct(de().$implicit.textLabel)}function aYe(r,t){if(1&r){const e=_i();O(0,"div",6,7),se("click",function(){const n=at(e),o=n.$implicit,a=n.index,s=de(),l=en(1);return st(s._handleClick(o,l,a))})("cdkFocusChange",function(n){const a=at(e).index;return st(de()._tabFocusChanged(n,a))}),q(2,"span",8)(3,"div",9),O(4,"span",10)(5,"span",11),ue(6,rYe,1,1,"ng-template",12),ue(7,oYe,1,1,"ng-template",null,13,sm),A()()()}if(2&r){const e=t.$implicit,i=t.index,n=en(1),o=en(8),a=de();Ge("mdc-tab--active",a.selectedIndex===i),H("id",a._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),je("tabIndex",a._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),L(3),H("matRippleTrigger",n)("matRippleDisabled",e.disabled||a.disableRipple),L(3),H("ngIf",e.templateLabel)("ngIfElse",o)}}function sYe(r,t){if(1&r){const e=_i();O(0,"mat-tab-body",15),se("_onCentered",function(){return at(e),st(de()._removeTabBodyWrapperHeight())})("_onCentering",function(n){return at(e),st(de()._setTabBodyWrapperHeight(n))}),A()}if(2&r){const e=t.$implicit,i=t.index,n=de();Ge("mat-mdc-tab-body-active",n.selectedIndex===i),H("id",n._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),je("tabindex",null!=n.contentTabIndex&&n.selectedIndex===i?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(i))}}const lYe={translateTab:Kn("translateTab",[vi("center, void, left-origin-center, right-origin-center",ze({transform:"none"})),vi("left",ze({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vi("right",ze({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Jt("* => left, * => right, left => center, right => center",oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Jt("void => left-origin-center",[ze({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Jt("void => right-origin-center",[ze({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let cYe=(()=>{class r extends ld{constructor(e,i,n,o){super(e,i,o),this._host=n,this._centeringSub=Rt.EMPTY,this._leavingSub=Rt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(_r(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fh),T(Fi),T(It(()=>nte)),T(tt))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matTabBodyHost",""]],features:[fe]})}return r})(),uYe=(()=>{class r{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,n){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Rt.EMPTY,this._translateTabComplete=new Me,this._onCentering=new U,this._beforeCentering=new U,this._afterLeavingCenter=new U,this._onCentered=new U(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),n.markForCheck()})),this._translateTabComplete.pipe(Iv((o,a)=>o.fromState===a.fromState&&o.toState===a.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(an,8),T(Ft))};static#t=this.\u0275dir=Q({type:r,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}return r})(),nte=(()=>{class r extends uYe{constructor(e,i,n){super(e,i,n)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(an,8),T(Ft))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-tab-body"]],viewQuery:function(i,n){if(1&i&&Xe(ld,5),2&i){let o;ye(o=_e())&&(n._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[fe],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,n){1&i&&(O(0,"div",0,1),se("@translateTab.start",function(a){return n._onTranslateTabStarted(a)})("@translateTab.done",function(a){return n._translateTabComplete.next(a)}),ue(2,$Ke,0,0,"ng-template",2),A()),2&i&&H("@translateTab",Ku(3,YKe,n._position,US(1,KKe,n.animationDuration)))},dependencies:[cYe],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[lYe.translateTab]}})}return r})();const dYe=new ee("MatTabContent");let hYe=(()=>{class r{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matTabContent",""]],features:[Ve([{provide:dYe,useExisting:r}])]})}return r})();const pYe=new ee("MatTabLabel"),rte=new ee("MAT_TAB");let ote=(()=>{class r extends Abe{constructor(e,i,n){super(e,i),this._closestTab=n}static#e=this.\u0275fac=function(i){return new(i||r)(T(Vi),T(Fi),T(rte,8))};static#t=this.\u0275dir=Q({type:r,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ve([{provide:pYe,useExisting:r}]),fe]})}return r})();const uV="mdc-tab-indicator--active",ate="mdc-tab-indicator--no-transition";class fYe{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){const e=this._items.find(n=>n.elementRef.nativeElement===t),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const n=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(n),this._currentItem=e}}}function mYe(r){return class extends r{constructor(...t){super(...t),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){const e=Te(t);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const e=this.elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(uV);const i=e.getBoundingClientRect(),n=t.width/i.width,o=t.left-i.left;e.classList.add(ate),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${n})`),e.getBoundingClientRect(),e.classList.remove(ate),e.classList.add(uV),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(uV)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=t.createElement("span"),this._inkBarContentElement=t.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const vYe=ad(class{}),yYe=mYe((()=>{class r extends vYe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se))};static#t=this.\u0275dir=Q({type:r,features:[fe]})}return r})());let ste=(()=>{class r extends yYe{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,n){2&i&&(je("aria-disabled",!!n.disabled),Ge("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[fe]})}return r})();const _Ye=ad(class{}),lte=new ee("MAT_TAB_GROUP");let CYe=(()=>{class r extends _Ye{get content(){return this._contentPortal}constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Me,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Vm(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Fi),T(lte,8))};static#t=this.\u0275dir=Q({type:r,viewQuery:function(i,n){if(1&i&&Xe(Vi,7),2&i){let o;ye(o=_e())&&(n._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[fe,ri]})}return r})(),cte=(()=>{class r extends CYe{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-tab"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,hYe,7,Vi),Tt(o,ote,5)),2&i){let a;ye(a=_e())&&(n._explicitContent=a.first),ye(a=_e())&&(n.templateLabel=a.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Ve([{provide:rte,useExisting:r}]),fe],ngContentSelectors:ite,decls:1,vars:0,template:function(i,n){1&i&&(qt(),ue(0,qKe,1,0,"ng-template"))},encapsulation:2})}return r})();const ute=As({passive:!0});let SYe=(()=>{class r{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Te(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=gi(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,i,n,o,a,s,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=n,this._dir=o,this._ngZone=a,this._platform=s,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Me,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Me,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new U,this.indexFocused=new U,a.runOutsideAngular(()=>{Os(e.nativeElement,"mouseleave").pipe(Dt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Os(this._previousPaginator.nativeElement,"touchstart",ute).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Os(this._nextPaginator.nativeElement,"touchstart",ute).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Be("ltr"),i=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new D$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ci(1)).subscribe(n),rn(e,i,this._items.changes,this._itemsResized()).pipe(Dt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),n()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ma:this._items.changes.pipe(_r(this._items),mr(e=>new pi(i=>this._ngZone.runOutsideAngular(()=>{const n=new ResizeObserver(o=>i.next(o));return e.forEach(o=>n.observe(o.elementRef.nativeElement)),()=>{n.disconnect()}}))),cI(1),ui(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Dn(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement;let s,l;"ltr"==this._getLayoutDirection()?(s=o,l=s+a):(l=this._tabListInner.nativeElement.offsetWidth-o,s=l-a);const c=this.scrollDistance,u=this.scrollDistance+n;s<c?this.scrollDistance-=c-s:l>u&&(this.scrollDistance+=Math.min(l-u,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),xI(650,100).pipe(Dt(rn(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:n,distance:o}=this._scrollHeader(e);(0===o||o>=n)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(Yc),T(an,8),T(Ee),T(Xt),T(Ai,8))};static#t=this.\u0275dir=Q({type:r,inputs:{disablePagination:"disablePagination"}})}return r})(),xYe=(()=>{class r extends SYe{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Te(e)}constructor(e,i,n,o,a,s,l){super(e,i,n,o,a,s,l),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(Yc),T(an,8),T(Ee),T(Xt),T(Ai,8))};static#t=this.\u0275dir=Q({type:r,inputs:{disableRipple:"disableRipple"},features:[fe]})}return r})(),EYe=(()=>{class r extends xYe{constructor(e,i,n,o,a,s,l){super(e,i,n,o,a,s,l)}ngAfterContentInit(){this._inkBar=new fYe(this._items),super.ngAfterContentInit()}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(Yc),T(an,8),T(Ee),T(Xt),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-tab-header"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,ste,4),2&i){let a;ye(a=_e())&&(n._items=a)}},viewQuery:function(i,n){if(1&i&&(Xe(XKe,7),Xe(ZKe,7),Xe(QKe,7),Xe(JKe,5),Xe(eYe,5)),2&i){let o;ye(o=_e())&&(n._tabListContainer=o.first),ye(o=_e())&&(n._tabList=o.first),ye(o=_e())&&(n._tabListInner=o.first),ye(o=_e())&&(n._nextPaginator=o.first),ye(o=_e())&&(n._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,n){2&i&&Ge("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[fe],ngContentSelectors:ite,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,n){1&i&&(qt(),O(0,"button",0,1),se("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(a){return n._handlePaginatorPress("before",a)})("touchend",function(){return n._stopInterval()}),q(2,"div",2),A(),O(3,"div",3,4),se("keydown",function(a){return n._handleKeydown(a)}),O(5,"div",5,6),se("cdkObserveContent",function(){return n._onContentChanges()}),O(7,"div",7,8),Le(9),A()()(),O(10,"button",9,10),se("mousedown",function(a){return n._handlePaginatorPress("after",a)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),q(12,"div",2),A()),2&i&&(Ge("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),H("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),L(3),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode),L(7),Ge("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),H("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},dependencies:[zc,uI],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return r})();const dte=new ee("MAT_TABS_CONFIG");let DYe=0;const TYe=Jh(ep(class{constructor(r){this._elementRef=r}}),"primary");let AYe=(()=>{class r extends TYe{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Te(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=gi(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=gi(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Te(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=Te(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,n,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Vh,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Rt.EMPTY,this._tabLabelSubscription=Rt.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new U,this.focusChange=new U,this.animationDone=new U,this.selectedTabChange=new U(!0),this._groupId=DYe++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight,this.contentTabIndex=n?.contentTabIndex??null,this.preserveContent=!!n?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((n,o)=>n.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,n)=>{i.position=n-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let n;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,n=i[o];break}!n&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(_r(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new MYe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=rn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,n){i.focusIndex=n,e.disabled||(this.selectedIndex=n)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(dte,8),T(Ai,8))};static#t=this.\u0275dir=Q({type:r,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[fe]})}return r})(),OYe=(()=>{class r extends AYe{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=Te(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=Te(e)}constructor(e,i,n,o){super(e,i,n,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!n||null==n.fitInkBarToContent)&&n.fitInkBarToContent,this.stretchTabs=!n||null==n.stretchTabs||n.stretchTabs}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ft),T(dte,8),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-tab-group"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,cte,5),2&i){let a;ye(a=_e())&&(n._allTabs=a)}},viewQuery:function(i,n){if(1&i&&(Xe(tYe,5),Xe(iYe,5)),2&i){let o;ye(o=_e())&&(n._tabBodyWrapper=o.first),ye(o=_e())&&(n._tabHeader=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(i,n){2&i&&(Yr("--mat-tab-animation-duration",n.animationDuration),Ge("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===n.headerPosition)("mat-mdc-tab-group-stretch-tabs",n.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Ve([{provide:lte,useExisting:r}]),fe],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,n){1&i&&(O(0,"mat-tab-header",0,1),se("indexFocused",function(a){return n._focusChanged(a)})("selectFocusedIndex",function(a){return n.selectedIndex=a}),ue(2,aYe,9,17,"div",2),A(),O(3,"div",3,4),ue(5,sYe,1,11,"mat-tab-body",5),A()),2&i&&(H("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),L(2),H("ngForOf",n._tabs),L(1),Ge("_mat-animation-noopable","NoopAnimations"===n._animationMode),L(2),H("ngForOf",n._tabs))},dependencies:[Zu,Ba,Zr,ld,zc,P$,nte,ste,EYe],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return r})();class MYe{}let RYe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[yr,ht,Bm,sd,ix,d_,ht]})}return r})();const hte=["*"];class IYe{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new FYe(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class FYe{constructor(t,e){this.row=t,this.col=e}}const pte=new ee("MAT_GRID_LIST");let dV=(()=>{class r{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(gi(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(gi(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(pte,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,n){2&i&&je("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:hte,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,n){1&i&&(qt(),O(0,"div",0),Le(1),A())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return r})();const kYe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class hV{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,n){this._gutterSize=fte(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=n}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":ff(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let n=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,n,o),this.setRowStyles(t,e,n,o)}setColStyles(t,e,i,n){let o=this.getBaseTileSize(i,n);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",ff(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class LYe extends hV{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,n){super.init(t,e,i,n),this.fixedRowHeight=fte(this.fixedRowHeight),kYe.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",ff(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",ff(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class NYe extends hV{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,n){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,n),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",ff(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",ff(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class GYe extends hV{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",ff(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function ff(r){return`calc(${r})`}function fte(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let mte=(()=>{class r{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(gi(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new GYe:e&&e.indexOf(":")>-1?new NYe(e):new LYe(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new IYe);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,n),i.forEach((o,a)=>{const s=e.positions[a];this._tileStyler.setStyle(o,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(an,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-grid-list"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,dV,5),2&i){let a;ye(a=_e())&&(n._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,n){2&i&&je("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Ve([{provide:pte,useExisting:r}])],ngContentSelectors:hte,decls:2,vars:0,template:function(i,n){1&i&&(qt(),O(0,"div"),Le(1),A())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return r})(),BYe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[H$,ht,H$,ht]})}return r})();function HYe(r,t){1&r&&(O(0,"mat-icon",33),F(1,"calendar_month"),A(),F(2," Setup Event and Pick users \u5efa\u7acb\u6bd4\u8d5b "))}function jYe(r,t){1&r&&(O(0,"mat-icon",33),F(1,"sports_golf"),A(),F(2," Grouping Assignment \u6bd4\u8d5b\u5206\u7ec4 "))}function UYe(r,t){if(1&r&&(O(0,"div"),q(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teamA[0].fName,".jpg');"),L(3),ea("",e.teamA[0].fName," ",e.teamA[0].lName,""),L(2),Ct(e.teamA[0].chineseNickName),L(2),He("handicap: ",e.teamA[0].handicap,""),L(2),He("Latest 3 Avg: ",e.teamA[0].last3GameAvg,"")}}function zYe(r,t){if(1&r&&(O(0,"div"),q(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teamB[0].fName,".jpg');"),L(3),ea("",e.teamB[0].fName," ",e.teamB[0].lName,""),L(2),Ct(e.teamB[0].chineseNickName),L(2),He("handicap: ",e.teamB[0].handicap,""),L(2),He("Latest 3 Avg: ",e.teamB[0].last3GameAvg,"")}}function WYe(r,t){1&r&&q(0,"div",45),2&r&&Ic(" background-image: url('../../../assets/",de(2).$implicit.teamA[1].fName,".jpg');")}function $Ye(r,t){if(1&r&&(O(0,"div"),ue(1,WYe,1,3,"div",47),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&r){const e=de().$implicit;L(1),H("ngIf",e.teamA[1]),L(3),ea("",e.teamA[1].fName," ",e.teamA[1].lName,""),L(2),Ct(e.teamA[1].chineseNickName),L(2),He("handicap: ",e.teamA[1].handicap,""),L(2),He("Latest 3 Avg: ",e.teamA[1].last3GameAvg,"")}}function KYe(r,t){if(1&r&&(O(0,"div"),q(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teamB[1].fName,".jpg');"),L(3),ea("",e.teamB[1].fName," ",e.teamB[1].lName,""),L(2),Ct(e.teamB[1].chineseNickName),L(2),He("handicap: ",e.teamB[1].handicap,""),L(2),He("Latest 3 Avg: ",e.teamB[1].last3GameAvg,"")}}function YYe(r,t){if(1&r){const e=_i();O(0,"mat-card",36)(1,"mat-card-header"),q(2,"div",37),O(3,"mat-card-title"),F(4),A(),O(5,"mat-card-subtitle"),F(6),A()(),O(7,"mat-card-content")(8,"div",38)(9,"label"),F(10,"Teetime:"),A(),O(11,"input",39),se("ngModelChange",function(n){return st(at(e).$implicit.teeTime=n)}),A()(),O(12,"mat-grid-list",40)(13,"mat-grid-tile")(14,"div")(15,"h2",41),F(16,"Team A - \u7ea2\u961f\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(17,"h5",41),F(18),A(),O(19,"h5",41),F(20),A()()(),O(21,"mat-grid-tile")(22,"div")(23,"h2",41),F(24,"Team B - \u84dd\u961f\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(25,"h5",41),F(26),A(),O(27,"h5",41),F(28),A()()(),O(29,"mat-grid-tile",42),ue(30,UYe,11,8,"div",43),A(),O(31,"mat-grid-tile",44),ue(32,zYe,11,8,"div",43),A(),O(33,"mat-grid-tile",42),ue(34,$Ye,11,6,"div",43),A(),O(35,"mat-grid-tile",44),ue(36,KYe,11,8,"div",43),A()()(),q(37,"mat-card-actions"),A()}if(2&r){const e=t.$implicit,i=de(2);L(4),He("Tee # ",e.teeName,""),L(2),He("event date: ",i.eventDate," "),L(5),H("ngModel",e.teeTime),L(2),Yr("background","Tomato"),L(5),He("Handicap: ",e.teamAavghandicap,""),L(2),He("Latest 3 Score: ",e.teamAavgScore,""),L(1),Yr("background","DeepSkyBlue"),L(5),He("Handicap: ",e.teamBavghandicap,""),L(2),He("Latest 3 Score: ",e.teamBavgScore,""),L(2),H("ngIf",e.teamA[0]),L(2),H("ngIf",e.teamB[0]),L(2),H("ngIf",e.teamA[1]),L(2),H("ngIf",e.teamB[1])}}function qYe(r,t){if(1&r&&(O(0,"div",34),ue(1,YYe,38,15,"mat-card",35),A()),2&r){const e=de();L(1),H("ngForOf",e.teeList)}}let XYe=(()=>{class r{constructor(e,i,n){this.service=e,this.builder=i,this.router=n,this.groupingMethod=1,this.tab=1,this.keepSorted=!0,this.key="",this.display=[],this.filter=!1,this.source=[],this.confirmed=[],this.sortedPlayers=[],this.userAdd="",this.disabled=!1,this.season="2024",this.eventName="",this.eventDesc="",this.course="",this.eventNameShow="",this.eventDate="",this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0,this.isSubmitted=!1,this.event1=new UKe,this.sourceLeft=!0,this.format=Pi.DEFAULT_FORMAT,this.sourcePlayers=[],this.confirmedPlayers=[],this.players=[],this.numberOfTees=1,this.totalNumberOfTees=0,this.teeList=[],this.eventForm=this.builder.group({eventName:this.builder.control(this.eventNameShow),eventDesc:this.builder.control("test"),season:this.builder.control(""),course:this.builder.control(""),groupMethod:this.builder.control("")}),this.manualTeeList=[]}ngOnInit(){this.doReset(),this.event1.eventName="test"}usePlayers(){this.key="id",this.display=["fName","lName","chineseNickName"],this.keepSorted=!0,this.source=this.sourcePlayers,this.confirmed=this.confirmedPlayers}doReset(){console.log("in doreset"),this.service.getAllPlayer().subscribe({next:e=>{this.players=e,console.log("players=="+this.players),this.sourcePlayers=this.players,this.confirmedPlayers=new Array,this.usePlayers()},error:e=>{console.error("error=",e.status),0==e.status&&(window.location.href="https://shiyuan.club/oauth2/authorization/cognito")}})}filterBtn(){return this.filter?"Hide Filter":"Show Filter"}doDisable(){this.disabled=!this.disabled}disableBtn(){return this.disabled?"Enable":"Disabled"}swapDirection(){this.sourceLeft=!this.sourceLeft,this.format.direction=this.sourceLeft?Pi.LTR:Pi.RTL}dateChanged(e){let i=new Date(e.value);this.eventName=i.toDateString(),this.eventDate=i.toDateString()}onGroupingSubmit(e){for(var i of(this.isSubmitted=!0,this.event1.player=this.confirmed,this.event1.eventName=this.eventName,this.event1.eventDesc=this.eventDesc,this.event1.course=this.course,this.event1.eventDate=this.eventDate,this.event1.season=this.season,e.selectedIndex=1,this.sortedPlayers=this.confirmed.sort(function(h,p){return h.last3GameAvg>p.last3GameAvg?1:h.last3GameAvg<p.last3GameAvg?-1:0}),this.sortedPlayers))console.log("player="+i.fName);this.numberOfTees=Math.ceil(this.sortedPlayers.length/4),console.log("numberOfTees="+this.numberOfTees);for(let h=0;h<this.numberOfTees;h++){let p=new tte;p.teeName=(h+1+this.totalNumberOfTees).toString(),p.teamA.push(this.sortedPlayers[4*h],this.sortedPlayers[4*h+3]),p.teamB.push(this.sortedPlayers[4*h+1],this.sortedPlayers[4*h+2]);var n=0,o=0,a=0,s=0;void 0!==this.sortedPlayers[4*h].handicap&&(n=this.sortedPlayers[4*h].handicap),void 0!==this.sortedPlayers[4*h+3]&&void 0!==this.sortedPlayers[4*h+3].handicap&&(o=this.sortedPlayers[4*h+3].handicap),void 0!==this.sortedPlayers[4*h+1]&&void 0!==this.sortedPlayers[4*h+1].handicap&&(a=this.sortedPlayers[4*h+1].handicap),void 0!==this.sortedPlayers[4*h+2]&&void 0!==this.sortedPlayers[4*h+2].handicap&&(s=this.sortedPlayers[4*h+2].handicap),p.teamAavghandicap=0==o?n:(n+o)/2,p.teamBavghandicap=0==s?a:(a+s)/2;var l=0,c=0,u=0,d=0;void 0!==this.sortedPlayers[4*h].last3GameAvg&&(l=this.sortedPlayers[4*h].last3GameAvg),void 0!==this.sortedPlayers[4*h+3]&&void 0!==this.sortedPlayers[4*h+3].last3GameAvg&&(c=this.sortedPlayers[4*h+3].last3GameAvg),void 0!==this.sortedPlayers[4*h+1]&&void 0!==this.sortedPlayers[4*h+1].last3GameAvg&&(u=this.sortedPlayers[4*h+1].last3GameAvg),void 0!==this.sortedPlayers[4*h+2]&&void 0!==this.sortedPlayers[4*h+2].last3GameAvg&&(d=this.sortedPlayers[4*h+2].last3GameAvg),p.teamAavgScore=0==c?l:(l+c)/2,p.teamBavgScore=0==d?u:(u+d)/2,p.teamAavghandicap=Math.round(100*p.teamAavghandicap)/100,p.teamBavghandicap=Math.round(100*p.teamBavghandicap)/100,p.teamAavgScore=Math.round(100*p.teamAavgScore)/100,p.teamBavgScore=Math.round(100*p.teamBavgScore)/100,this.teeList.push(p)}this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0;for(let h=0;h<this.teeList.length;h++)this.totalTeamAHandicap=this.totalTeamAHandicap+this.teeList[h].teamAavghandicap,this.totalTeamBHandicap=this.totalTeamBHandicap+this.teeList[h].teamBavghandicap,this.totalTeamA3Score=this.totalTeamA3Score+this.teeList[h].teamAavgScore,this.totalTeamB3Score=this.totalTeamB3Score+this.teeList[h].teamBavgScore;this.totalTeamAHandicap=this.totalTeamAHandicap/this.teeList.length,this.totalTeamBHandicap=this.totalTeamBHandicap/this.teeList.length,this.totalTeamA3Score=this.totalTeamA3Score/this.teeList.length,this.totalTeamB3Score=this.totalTeamB3Score/this.teeList.length,this.totalTeamAHandicap=Math.round(100*this.totalTeamAHandicap)/100,this.totalTeamBHandicap=Math.round(100*this.totalTeamBHandicap)/100,this.totalTeamA3Score=Math.round(100*this.totalTeamA3Score)/100,this.totalTeamB3Score=Math.round(100*this.totalTeamB3Score)/100,console.log("teeList="+JSON.stringify(this.teeList,null,4))}onTabClick(e){console.log("event="+e.index)}onSubmitGroup(){console.log("onSubmitGroup",this.teeList[0]),this.event1.teeList=this.teeList,this.service.createEventTee(this.event1).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),console.log("calling event...")},e=>console.log("calling event...err"+e))}addTee(){console.log("adding tee:"+JSON.stringify(this.confirmed));let e=new tte;e.teeName=(this.totalNumberOfTees+1).toString(),this.totalNumberOfTees=this.totalNumberOfTees+1,e.teamA.push(this.confirmed[0],this.confirmed[1]),e.teamB.push(this.confirmed[2],this.confirmed[3]);var i=0,n=0,o=0,a=0;void 0!==this.confirmed[0].handicap&&(i=this.confirmed[0].handicap),void 0!==this.confirmed[1]&&void 0!==this.confirmed[1].handicap&&(n=this.confirmed[1].handicap),void 0!==this.confirmed[2]&&void 0!==this.confirmed[2].handicap&&(o=this.confirmed[2].handicap),void 0!==this.confirmed[3]&&void 0!==this.confirmed[3].handicap&&(a=this.confirmed[3].handicap),e.teamAavghandicap=0==n?i:(i+n)/2,e.teamBavghandicap=0==a?o:(o+a)/2;var s=0,l=0,c=0,u=0;void 0!==this.confirmed[0].last3GameAvg&&(s=this.confirmed[0].last3GameAvg),void 0!==this.confirmed[1]&&void 0!==this.confirmed[1].last3GameAvg&&(l=this.confirmed[1].last3GameAvg),void 0!==this.confirmed[2]&&void 0!==this.confirmed[2].last3GameAvg&&(c=this.confirmed[2].last3GameAvg),void 0!==this.confirmed[3]&&void 0!==this.confirmed[3].last3GameAvg&&(u=this.confirmed[3].last3GameAvg),e.teamAavgScore=0==l?s:(s+l)/2,e.teamBavgScore=0==u?c:(c+u)/2,e.teamAavghandicap=Math.round(100*e.teamAavghandicap)/100,e.teamBavghandicap=Math.round(100*e.teamBavghandicap)/100,e.teamAavgScore=Math.round(100*e.teamAavgScore)/100,e.teamBavgScore=Math.round(100*e.teamBavgScore)/100,this.teeList.push(e),this.confirmed=[]}resetTee(){this.teeList.length=0,this.confirmed=[],this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0,this.totalNumberOfTees=0,this.numberOfTees=1}static#e=this.\u0275fac=function(i){return new(i||r)(T(Xc),T(Tm),T(kr))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-gameplan"]],decls:83,vars:22,consts:[["mat-stretch-tabs","false","mat-align-tabs","start","animationDuration","800ms",3,"selectedTabChange"],["grouptab",""],["mat-tab-label",""],[3,"formGroup","ngSubmit"],[2,"width","10%","margin","1%"],[3,"value","valueChange"],["value","2024"],[2,"width","12%","margin","1%"],["matInput","",3,"matDatepicker","dateChange"],["matIconSuffix","",3,"for"],["picker",""],["value","1"],["value","2"],["appearance","outline",2,"width","22%","margin","1%"],["formControlName","eventName","matInput","",3,"ngModel","ngModelChange"],["appearance","outline",2,"width","30%","margin","1%"],["formControlName","eventDesc","matInput","",3,"ngModel","ngModelChange"],[1,"container-fluid"],[1,"container"],["height","500px",3,"source","key","display","filter","destination","format","disabled","destinationChange"],["id","groupingId"],["aria-label","Select the way of grouping: ","formControlName","groupMethod",3,"ngModel","ngModelChange"],["value","1",3,"checked"],["value","3"],[2,"display","flex"],["type","button",3,"click"],["type","submit"],[2,"width","1400px"],["cols","2","rowHeight","50"],[1,"teetop",2,"text-align","left","color","Green"],["class","flex-container",4,"ngIf"],[2,"width","60%"],["type","submit",3,"click"],[1,"example-tab-icon"],[1,"flex-container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","right","width","200px"],["type","text","size","20","maxlength","20",3,"ngModel","ngModelChange"],["cols","2","rowHeight","150"],[1,"teetop",2,"color","GhostWhite"],[2,"background-color","SeaShell"],[4,"ngIf"],[2,"background-color","LightCyan"],[1,"user"],[1,"groupuser"],["class","user",3,"style",4,"ngIf"]],template:function(i,n){if(1&i){const o=_i();O(0,"mat-tab-group",0,1),se("selectedTabChange",function(s){return n.onTabClick(s)}),O(2,"mat-tab"),ue(3,HYe,3,0,"ng-template",2),O(4,"mat-card")(5,"mat-card-content")(6,"form",3),se("ngSubmit",function(){at(o);const s=en(1);return st(n.onGroupingSubmit(s))}),O(7,"mat-form-field",4)(8,"mat-label"),F(9,"Select a Season"),A(),O(10,"mat-select",5),se("valueChange",function(s){return n.season=s}),O(11,"mat-option",6),F(12,"2024"),A()()(),O(13,"mat-form-field",7)(14,"mat-label"),F(15,"Choose a date"),A(),O(16,"input",8),se("dateChange",function(s){return n.dateChanged(s)}),A(),O(17,"mat-hint"),F(18,"MM/DD/YYYY"),A(),q(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,10),A(),O(22,"mat-form-field",7)(23,"mat-label"),F(24,"Select a golf course"),A(),O(25,"mat-select",5),se("valueChange",function(s){return n.course=s}),O(26,"mat-option"),F(27,"None"),A(),O(28,"mat-option",11),F(29,"Forsgate - Banks"),A(),O(30,"mat-option",12),F(31,"Forsgate - Palmer"),A()()(),O(32,"mat-form-field",13)(33,"mat-label"),F(34,"Event Name"),A(),O(35,"input",14),se("ngModelChange",function(s){return n.eventName=s}),A()(),O(36,"mat-form-field",15)(37,"mat-label"),F(38,"Event Description"),A(),O(39,"input",16),se("ngModelChange",function(s){return n.eventDesc=s}),A()(),O(40,"div",17),q(41,"p"),O(42,"div",18)(43,"dual-list",19),se("destinationChange",function(s){return n.confirmed=s}),A()()(),q(44,"mat-divider"),O(45,"label",20),F(46,"Pick a grouping method"),A(),O(47,"mat-radio-group",21),se("ngModelChange",function(s){return n.groupingMethod=s}),O(48,"mat-radio-button",22),F(49,"Based on the average score of the latest 3 games"),A(),O(50,"mat-radio-button",12),F(51,"Based on handicap"),A(),O(52,"mat-radio-button",23),F(53,"Manually assign group"),A()(),O(54,"div",24)(55,"button",25),se("click",function(){return n.addTee()}),F(56,"Add Tee"),A(),O(57,"button",26),F(58,"Generate Group"),A(),O(59,"button",25),se("click",function(){return n.resetTee()}),F(60,"Reset Tee"),A()()()()()(),O(61,"mat-tab"),ue(62,jYe,3,0,"ng-template",2),O(63,"h1"),F(64),A(),O(65,"div",27)(66,"mat-grid-list",28)(67,"mat-grid-tile")(68,"div")(69,"h4",29),F(70),A(),O(71,"h4",29),F(72),A()()(),O(73,"mat-grid-tile")(74,"div")(75,"h4",29),F(76),A(),O(77,"h4",29),F(78),A()()()()(),ue(79,qYe,2,1,"div",30),O(80,"div",31)(81,"button",32),se("click",function(){return n.onSubmitGroup()}),F(82,"Submit Event Group"),A()()()()}if(2&i){const o=en(21);L(6),H("formGroup",n.eventForm),L(4),H("value",n.season),L(6),H("matDatepicker",o),L(3),H("for",o),L(6),H("value",n.course),L(10),H("ngModel",n.eventName),L(4),H("ngModel",n.eventDesc),L(4),H("source",n.source)("key",n.key)("display",n.display)("filter",n.filter)("destination",n.confirmed)("format",n.format)("disabled",n.disabled),L(4),H("ngModel",n.groupingMethod),L(1),H("checked",!0),L(16),He("Game ",n.eventName," Group Assignment \u6bd4\u8d5b\u5206\u7ec4\u7ec6\u8282"),L(6),He("Team A \u7ea2\u961f avg handicap: ",n.totalTeamAHandicap," "),L(2),He("Team B \u84dd\u961f avg handicap: ",n.totalTeamBHandicap," "),L(4),He("Team A \u7ea2\u961f lastest 3 game avg score: ",n.totalTeamA3Score,""),L(2),He("Team B \u84dd\u961f lastest 3 game avg score: ",n.totalTeamB3Score,""),L(1),H("ngIf",n.isSubmitted)}},dependencies:[Ba,Zr,Kc,Fl,$c,cx,t6,C_,ip,bx,zKe,Zc,Um,vx,Qc,op,jm,Hm,P8,zx,I8,fF,mF,Pl,ia,Es,Rl,U0,Ds,rd,Dm,ote,cte,OYe,Pi,mte,dV],styles:['label[_ngcontent-%COMP%]{text-align:right;clear:both;float:left;margin-right:15px}.groupuser[_ngcontent-%COMP%]{display:block;margin-top:.2em;margin-bottom:.2em;margin-left:0}.teetop[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;margin-left:0}.user[_ngcontent-%COMP%]{display:inline-block;width:100px;height:100px;border-radius:50%;background-repeat:no-repeat;background-position:center center;background-size:cover;position:absolute;left:25%}.example-card[_ngcontent-%COMP%]{margin:1%;width:1400px;text-align:left;float:left}mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:18%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.container[_ngcontent-%COMP%]{height:45%;width:60%;margin:auto auto 15px}.container-event[_ngcontent-%COMP%]{height:80px;width:80%;margin:auto auto 15px}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}ul[_ngcontent-%COMP%]{text-align:center}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;position:relative;cursor:pointer;font-family:sans-serif}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:indigo;scrollbar-3dlight-color:indigo;scrollbar-highlight-color:indigo;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:indigo;border:thin solid gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:purple}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px;text-align:left}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d8bfd8}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:plum}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-evenly}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:35%;margin:0;flex-grow:2}.buttonbox[_ngcontent-%COMP%]{margin:0 10px;display:flex;flex-direction:column;justify-content:center}.btn-block[_ngcontent-%COMP%]{display:block;width:70px;margin:4px}button[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:indigo;padding:5px 10px;border:solid black 1px;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:purple;text-decoration:none}button[_ngcontent-%COMP%]:disabled{background:rgba(75,0,130,.5);cursor:default}p[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:600;margin-bottom:4px}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f7f7f7}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%], button[type=button][_ngcontent-%COMP%]{display:block;margin:auto;padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}thead[_ngcontent-%COMP%]{background-color:#f2f2f2}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{font-weight:700}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}']})}return r})();function ZYe(r,t){if(1&r){const e=_i();O(0,"div"),q(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(n){return at(e),st(de().$implicit.teeTeamXrefList[0].playScoreList[0].score=n)}),A()(),O(15,"div",7)(16,"h5",13),F(17,"Tee Score::\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(18,"input",14),se("ngModelChange",function(n){return at(e),st(de().$implicit.teeTeamXrefList[0].score=n)}),A()(),O(19,"h3",13),F(20),A(),O(21,"h3",13),F(22),A()()()}if(2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[0].playScoreList[0].player.fName,".jpg');"),L(3),ea("",e.teeTeamXrefList[0].playScoreList[0].player.fName," ",e.teeTeamXrefList[0].playScoreList[0].player.lName,""),L(2),Ct(e.teeTeamXrefList[0].playScoreList[0].player.chineseNickName),L(2),He("handicap: ",e.teeTeamXrefList[0].playScoreList[0].player.handicap,""),L(2),He("Latest 3 Avg: ",e.teeTeamXrefList[0].playScoreList[0].entryScore,""),L(4),H("ngModel",e.teeTeamXrefList[0].playScoreList[0].score),L(4),H("ngModel",e.teeTeamXrefList[0].score),L(2),He("Tee Win: ",e.teeTeamXrefList[0].playScoreList[0].teeWin,""),L(2),He("Team Win: ",e.teeTeamXrefList[0].playScoreList[0].teamWin,"")}}function QYe(r,t){if(1&r){const e=_i();O(0,"div"),q(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(n){return at(e),st(de().$implicit.teeTeamXrefList[1].playScoreList[0].score=n)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[1].playScoreList[0].player.fName,".jpg');"),L(3),ea("",e.teeTeamXrefList[1].playScoreList[0].player.fName," ",e.teeTeamXrefList[1].playScoreList[0].player.lName,""),L(2),Ct(e.teeTeamXrefList[1].playScoreList[0].player.chineseNickName),L(2),He("handicap: ",e.teeTeamXrefList[1].playScoreList[0].player.handicap,""),L(2),He("Latest 3 Avg: ",e.teeTeamXrefList[1].playScoreList[0].player.last3GameAvg,""),L(4),H("ngModel",e.teeTeamXrefList[1].playScoreList[0].score),L(2),He("Tee Win: ",e.teeTeamXrefList[1].playScoreList[0].teeWin,""),L(2),He("Team Win: ",e.teeTeamXrefList[1].playScoreList[0].teamWin,"")}}function JYe(r,t){if(1&r){const e=_i();O(0,"div"),q(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Tee Score::\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(n){return at(e),st(de().$implicit.teeTeamXrefList[0].playScoreList[1].score=n)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[0].playScoreList[1].player.fName,".jpg');"),L(3),ea("",e.teeTeamXrefList[0].playScoreList[1].player.fName," ",e.teeTeamXrefList[0].playScoreList[1].player.lName,""),L(2),Ct(e.teeTeamXrefList[0].playScoreList[1].player.chineseNickName),L(2),He("handicap: ",e.teeTeamXrefList[0].playScoreList[1].player.handicap,""),L(2),He("Latest 3 Avg: ",e.teeTeamXrefList[0].playScoreList[1].player.last3GameAvg,""),L(4),H("ngModel",e.teeTeamXrefList[0].playScoreList[1].score),L(2),He("Tee Win: ",e.teeTeamXrefList[0].playScoreList[1].teeWin,""),L(2),He("Team Win: ",e.teeTeamXrefList[0].playScoreList[1].teamWin,"")}}function e7e(r,t){if(1&r){const e=_i();O(0,"div"),q(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(n){return at(e),st(de().$implicit.teeTeamXrefList[1].playScoreList[1].score=n)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&r){const e=de().$implicit;L(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[1].playScoreList[1].player.fName,".jpg');"),L(3),ea("",e.teeTeamXrefList[1].playScoreList[1].player.fName," ",e.teeTeamXrefList[1].playScoreList[1].player.lName,""),L(2),Ct(e.teeTeamXrefList[1].playScoreList[1].player.chineseNickName),L(2),He("handicap: ",e.teeTeamXrefList[1].playScoreList[1].player.handicap,""),L(2),He("Latest 3 Avg: ",e.teeTeamXrefList[1].playScoreList[1].player.last3GameAvg,""),L(4),H("ngModel",e.teeTeamXrefList[1].playScoreList[1].score),L(2),He("Tee Win: ",e.teeTeamXrefList[1].playScoreList[1].teeWin,""),L(2),He("Team Win: ",e.teeTeamXrefList[1].playScoreList[1].teamWin,"")}}function t7e(r,t){if(1&r&&(O(0,"div",4)(1,"mat-card",5)(2,"mat-card-header"),q(3,"div",6),O(4,"mat-card-title"),F(5),A(),O(6,"mat-card-subtitle"),F(7),A()(),O(8,"mat-card-content")(9,"div",7)(10,"label"),F(11,"Teetime:"),A(),F(12),A(),O(13,"mat-grid-list",8)(14,"mat-grid-tile",9),ue(15,ZYe,23,12,"div",10),A(),O(16,"mat-grid-tile",11),ue(17,QYe,19,11,"div",10),A(),O(18,"mat-grid-tile",9),ue(19,JYe,19,11,"div",10),A(),O(20,"mat-grid-tile",11),ue(21,e7e,19,11,"div",10),A()()(),q(22,"mat-card-actions"),A()()),2&r){const e=t.$implicit,i=de();L(5),He("Tee # ",e.teeName,""),L(2),He("event date: ",i.editdata.eventDate," "),L(5),He(" ",e.teeTime," "),L(3),H("ngIf",e.teeTeamXrefList[0]),L(2),H("ngIf",e.teeTeamXrefList[1]),L(2),H("ngIf",e.teeTeamXrefList[0]),L(2),H("ngIf",e.teeTeamXrefList[1])}}function i7e(r,t){if(1&r){const e=_i();O(0,"button",3),se("click",function(){return at(e),st(de().deleteEvent())}),F(1,"Delete this Event"),A()}}function n7e(r,t){if(1&r){const e=_i();O(0,"button",3),se("click",function(){return at(e),st(de().onSubmitScore())}),F(1,"Submit Score"),A()}}let r7e=(()=>{class r{constructor(e,i,n,o){this.data=e,this.ref=i,this.service=n,this.router=o}ngOnInit(){this.inputdata=this.data,console.log("eventId==="+this.inputdata.eventId),this.inputdata.eventId>0&&(console.log("init form"),this.setpopupdata(this.inputdata.eventId))}setpopupdata(e){console.log("eventid==="+e),this.service.getEventById(e).subscribe(i=>{this.editdata=i,console.log("event==="+this.editdata)})}onSubmitScore(){console.log("submitting score"+JSON.stringify(this.editdata,null,4)),this.service.submitScore(this.editdata).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),console.log("calling event..."),this.closepopup()},e=>console.log("calling event...err"+e))}deleteEvent(){console.log("deleting event"),this.service.deleteEvent(this.editdata.id).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),this.closepopup()},e=>console.log("calling event...err"+e))}closepopup(){this.ref.close("Closed using function")}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ym),T(sp),T(Xc),T(kr))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-gameinput"]],decls:6,vars:3,consts:[["class","flex-container",4,"ngFor","ngForOf"],[2,"display","flex"],["type","submit",3,"click",4,"ngIf"],["type","submit",3,"click"],[1,"flex-container"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","right","width","200px"],["cols","2","rowHeight","300"],[2,"background-color","SeaShell"],[4,"ngIf"],[2,"background-color","LightCyan"],[1,"user"],[1,"groupuser"],["type","text","size","8","maxlength","8",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(ue(0,t7e,23,7,"div",0),O(1,"div",1),ue(2,i7e,2,0,"button",2),ue(3,n7e,2,0,"button",2),O(4,"button",3),se("click",function(){return n.closepopup()}),F(5,"Close"),A()()),2&i&&(H("ngForOf",n.editdata.teeList),L(2),H("ngIf","OPEN"==n.editdata.status),L(1),H("ngIf","OPEN"==n.editdata.status))},dependencies:[Ba,Zr,Zc,Um,vx,Qc,op,jm,Hm,ia,Es,U0,Dm,mte,dV],styles:['label[_ngcontent-%COMP%]{text-align:right;clear:both;float:left;margin-right:15px}.groupuser[_ngcontent-%COMP%]{display:block;margin-top:.2em;margin-bottom:.2em;margin-left:0}.teetop[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;margin-left:0}.user[_ngcontent-%COMP%]{display:inline-block;width:100px;height:100px;border-radius:50%;background-repeat:no-repeat;background-position:center center;background-size:cover;position:absolute;left:25%}.example-card[_ngcontent-%COMP%]{margin:1%;width:1800px;text-align:left;float:left}mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:18%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.container[_ngcontent-%COMP%]{height:45%;width:60%;margin:auto auto 15px}.container-event[_ngcontent-%COMP%]{height:80px;width:80%;margin:auto auto 15px}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}ul[_ngcontent-%COMP%]{text-align:center}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;position:relative;cursor:pointer;font-family:sans-serif}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:indigo;scrollbar-3dlight-color:indigo;scrollbar-highlight-color:indigo;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:indigo;border:thin solid gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:purple}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px;text-align:left}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d8bfd8}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:plum}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-evenly}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:35%;margin:0;flex-grow:2}.buttonbox[_ngcontent-%COMP%]{margin:0 10px;display:flex;flex-direction:column;justify-content:center}.btn-block[_ngcontent-%COMP%]{display:block;width:70px;margin:4px}button[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:indigo;padding:5px 10px;border:solid black 1px;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:purple;text-decoration:none}button[_ngcontent-%COMP%]:disabled{background:rgba(75,0,130,.5);cursor:default}p[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:600;margin-bottom:4px}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f7f7f7}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{display:block;margin:auto;padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}thead[_ngcontent-%COMP%]{background-color:#f2f2f2}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{font-weight:700}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}']})}return r})(),o7e=(()=>{class r{constructor(e,i,n){this.service=e,this.router=i,this.dialog=n,this.events=[],this.colDefs=[{field:"id",headerName:"Event ID",flex:5,onCellClicked:o=>this.openGameRecord(o)},{field:"eventName",headerName:"Event Name",flex:5,filter:!0},{field:"eventDate",headerName:"Event date",flex:5,filter:!0},{field:"status",headerName:"Status",flex:5,filter:!0}],this.defaultColDef={flex:10,minWidth:20}}ngOnInit(){this.service.getAllEvent().subscribe({next:e=>{this.events=e},error:e=>{console.error("error=",e.status),0==e.status&&(window.location.href="https://shiyuan.club/oauth2/authorization/cognito")}})}openGameRecord(e){console.log("edit game record is clicked"+e.value),this.dialog.open(r7e,{width:"70%",height:"1200px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Edit Event",eventId:e.value}}).afterClosed().subscribe(n=>{this.service.getAllEvent().subscribe({next:o=>{this.events=o}})})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Xc),T(kr),T(T_))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-gamerecord"]],decls:3,vars:3,consts:[[1,"ag-theme-quartz",2,"height","900px","width","40%",3,"defaultColDef","rowData","columnDefs"]],template:function(i,n){1&i&&(O(0,"div")(1,"ag-grid-angular",0),F(2,' (gridReady)="onGridReady($event)" [pagination]="true" '),A()()),2&i&&(L(1),H("defaultColDef",n.defaultColDef)("rowData",n.events)("columnDefs",n.colDefs))},dependencies:[_A],styles:[".ag-theme-quartz[_ngcontent-%COMP%]{ag-odd-row-background-color:#E04F00}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-row-odd[_ngcontent-%COMP%]{background-color:#e04f00}.ag-theme-quartz[_ngcontent-%COMP%]{--ag-header-height: 30px;--ag-header-foreground-color: white;--ag-header-background-color: rgb(25, 56, 192);--ag-header-cell-hover-background-color: rgb(80, 40, 140);--ag-header-cell-moving-background-color: rgb(80, 40, 140)}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{font-family:cursive}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-group-cell[_ngcontent-%COMP%]{font-weight:400;font-size:22px}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{font-size:18px}"],data:{animation:[Kn("detailExpand",[vi("collapsed",ze({height:"0px",minHeight:"0"})),vi("expanded",ze({height:"*",minHeight:"*"})),Jt("expanded <=> collapsed",oi("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return r})(),a7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-aboutus"]],decls:20,vars:0,template:function(i,n){1&i&&(O(0,"h4"),F(1,"Every birdy you take"),A(),O(2,"h4"),F(3,"And every putt you make"),A(),O(4,"h4"),F(5,"Every Ace you get"),A(),O(6,"h4"),F(7,"Every 70's you take"),A(),O(8,"h4"),F(9,"I'll be watching you"),A(),O(10,"h4"),F(11,"Every single day"),A(),O(12,"h4"),F(13,"And every shot you hit"),A(),O(14,"h4"),F(15,"Every game you play"),A(),O(16,"h4"),F(17,"Every fight you engage"),A(),O(18,"h4"),F(19,"I'll be watching you"),A())}})}return r})(),s7e=(()=>{class r{constructor(e){this.service=e,this.donations=[],this.colDefs=[{field:"id",headerName:"Doantion ID",flex:5,filter:!0},{field:"donationName",headerName:"Donation Name",flex:5,filter:!0},{field:"donationDesc",headerName:"Donation Desc",flex:5,filter:!0},{field:"donor",headerName:"Donor",flex:5,filter:!0},{field:"cash",headerName:"Cash",flex:5,filter:!0},{field:"product",headerName:"Product",flex:5,filter:!0},{field:"donationDate",headerName:"Donation Date",flex:5,filter:!0}],this.defaultColDef={flex:10,minWidth:20}}ngOnInit(){this.service.getDonations().subscribe({next:e=>{this.donations=e},error:e=>{console.error("error=",e.status),0==e.status&&(window.location.href="https://shiyuan.club/oauth2/authorization/cognito")}})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Xc))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-donation"]],decls:5,vars:3,consts:[[1,"ag-theme-quartz",2,"height","900px","width","80%","margin","0 auto",3,"defaultColDef","rowData","columnDefs"]],template:function(i,n){1&i&&(O(0,"p"),F(1,"$10 club donations"),A(),O(2,"div")(3,"ag-grid-angular",0),F(4,' (gridReady)="onGridReady($event)" [pagination]="true" '),A()()),2&i&&(L(3),H("defaultColDef",n.defaultColDef)("rowData",n.donations)("columnDefs",n.colDefs))},dependencies:[_A],styles:[".ag-theme-quartz[_ngcontent-%COMP%]{ag-odd-row-background-color:#E04F00}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-row-odd[_ngcontent-%COMP%]{background-color:#e04f00}.ag-theme-quartz[_ngcontent-%COMP%]{--ag-header-height: 30px;--ag-header-foreground-color: white;--ag-header-background-color: rgb(25, 56, 192);--ag-header-cell-hover-background-color: rgb(80, 40, 140);--ag-header-cell-moving-background-color: rgb(80, 40, 140)}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{font-family:cursive}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-group-cell[_ngcontent-%COMP%]{font-weight:400;font-size:22px}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{font-size:18px}"]})}return r})(),l7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-gamerule"]],decls:21,vars:0,consts:[[2,"width","35%","text-align","center"],[2,"text-align","left"]],template:function(i,n){1&i&&(q(0,"br"),O(1,"h1"),F(2,"Game Rules"),A(),q(3,"hr",0)(4,"br")(5,"br"),O(6,"ul",1)(7,"li"),F(8," Depending on the number of palyers, we split all the users into two team: red team nad blue team.\n"),A(),O(9,"li"),F(10," On each tee players represent each team will play against each other. Normally there should be two players represent red team play against two players represent blue team. "),A(),O(11,"li"),F(12," The game rule is applied to each tee and the score for each tee is counted by the term high-low rule meaning that best score for red team against the best score of blue team. "),A(),O(13,"li"),F(14," If red team wins then it counts as 1 point for the red team. The same can be applied to the lower score of each team. If the one team's lower score is better than the other team's best score, add 1 point. "),A(),O(15,"li"),F(16,"Each bird will add 1 point for the team."),A(),O(17,"li"),F(18,"Each eagle will add 5 points and HIO will add 10 points."),A(),O(19,"li"),F(20,"After the game is finsihed, all the red team's score will be summed up against the blue team's score and that will decide which team wins."),A()())},styles:["html[_ngcontent-%COMP%]{font-size:6px}h1[_ngcontent-%COMP%]{font-size:5rem;color:#1e90ff;text-transform:capitalize;text-shadow:1px 1px 1px red,2px 2px 1px red;text-align:center;letter-spacing:2px}h1[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{font-weight:700}p[_ngcontent-%COMP%]{font-size:1.5rem;color:#2f4f4f;font-family:Helvetica,Arial,sans-serif;line-height:1.2;letter-spacing:1px}"]})}return r})(),c7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-statistics"]],decls:2,vars:0,template:function(i,n){1&i&&(O(0,"p"),F(1,"statistics works!"),A())}})}return r})();const u7e=[{path:"",component:Lwe},{path:"autocomplete",component:awe},{path:"input",component:Dwe},{path:"card",component:lSe},{path:"slider",component:ESe},{path:"table",component:wxe},{path:"form",component:PEe},{path:"associate",component:LEe},{path:"player",component:LKe},{path:"editplayer",component:Yee},{path:"ghinsync",component:Kee},{path:"gameplan",component:XYe},{path:"gamerecord",component:o7e},{path:"aboutus",component:a7e},{path:"donation",component:s7e},{path:"gamerule",component:l7e},{path:"photos",component:(()=>{class r{constructor(e){this.http=e,this.fileName="",this.photourl=""}onFileSelected(e){console.log("on file selected...");const i=e.target.files[0];if(new Ts({"Content-Type":"multipart/form-data",responseType:"text"}),i){this.fileName=i.name;const o=i.lastModified,a=new FormData;a.append("file",i,i.name),a.append("lastModified",String(o)),this.http.post("webapi/admin/upload",a,{responseType:"text"}).subscribe(l=>{console.log("result="+l),this.photourl=l})}console.log("photourl="+this.photourl)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Om))};static#t=this.\u0275cmp=we({type:r,selectors:[["app-photos"]],decls:12,vars:2,consts:[["type","file",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],["alt","uploaded photo",3,"src"]],template:function(i,n){if(1&i){const o=_i();O(0,"p"),F(1,"photos uploads"),A(),O(2,"input",0,1),se("change",function(s){return n.onFileSelected(s)}),A(),O(4,"div",2),F(5),O(6,"button",3),se("click",function(){return at(o),st(en(3).click())}),O(7,"mat-icon"),F(8,"attach_file"),A()()(),O(9,"div"),F(10," uploaded file: "),q(11,"img",4),A()}2&i&&(L(5),He(" ",n.fileName||"No file uploaded yet."," "),L(6),H("src",n.photourl,eM))},dependencies:[bx,sSe],styles:[".file-input[_ngcontent-%COMP%]{display:none}"]})}return r})()},{path:"statistics",component:c7e}];let d7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[U4.forRoot(u7e),U4]})}return r})();const h7e=["*",[["mat-toolbar-row"]]],p7e=["*","mat-toolbar-row"],f7e=Jh(class{constructor(r){this._elementRef=r}});let gte=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return r})(),m7e=(()=>{class r extends f7e{constructor(e,i,n){super(e),this._platform=i,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Xt),T(tt))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,n,o){if(1&i&&Tt(o,gte,5),2&i){let a;ye(a=_e())&&(n._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,n){2&i&&Ge("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[fe],ngContentSelectors:p7e,decls:2,vars:0,template:function(i,n){1&i&&(qt(h7e),Le(0),Le(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0})}return r})(),g7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ht,ht]})}return r})();const vte=["*"],v7e=["content"];function y7e(r,t){if(1&r){const e=_i();O(0,"div",2),se("click",function(){return at(e),st(de()._onBackdropClicked())}),A()}2&r&&Ge("mat-drawer-shown",de()._isShowingBackdrop())}function _7e(r,t){1&r&&(O(0,"mat-drawer-content"),Le(1,2),A())}const C7e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],b7e=["mat-drawer","mat-drawer-content","*"],w7e={transformDrawer:Kn("transform",[vi("open, open-instant",ze({transform:"none",visibility:"visible"})),vi("void",ze({"box-shadow":"none",visibility:"hidden"})),Jt("void => open-instant",oi("0ms")),Jt("void <=> open, open-instant => void",oi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},S7e=new ee("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function x7e(){return!1}}),yte=new ee("MAT_DRAWER_CONTAINER");let bA=(()=>{class r extends EI{constructor(e,i,n,o,a){super(n,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||r)(T(Ft),T(It(()=>Cte)),T(Se),T(px),T(Ee))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,n){2&i&&Yr("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Ve([{provide:EI,useExisting:r}]),fe],ngContentSelectors:vte,decls:1,vars:0,template:function(i,n){1&i&&(qt(),Le(0))},encapsulation:2,changeDetection:0})}return r})(),_te=(()=>{class r{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Te(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Te(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Te(e))}constructor(e,i,n,o,a,s,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=n,this._platform=o,this._ngZone=a,this._interactivityChecker=s,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Me,this._animationEnd=new Me,this._animationState="void",this.openedChange=new U(!0),this._openedStream=this.openedChange.pipe(ui(u=>u),ot(()=>{})),this.openedStart=this._animationStarted.pipe(ui(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),f0(void 0)),this._closedStream=this.openedChange.pipe(ui(u=>!u),ot(()=>{})),this.closedStart=this._animationStarted.pipe(ui(u=>u.fromState!==u.toState&&"void"===u.toState),f0(void 0)),this._destroyed=new Me,this.onPositionChanged=new U,this._modeChanged=new Me,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Os(this._elementRef.nativeElement,"keydown").pipe(ui(u=>27===u.keyCode&&!this.disableClose&&!Dn(u)),Dt(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(Iv((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const n=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),n}_setOpen(e,i,n){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(n)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ci(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,n=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,i)),n.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(u_),T(Uc),T(Xt),T(Ee),T(c_),T(tt,8),T(yte,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-drawer"]],viewQuery:function(i,n){if(1&i&&Xe(v7e,5),2&i){let o;ye(o=_e())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,n){1&i&&FS("@transform.start",function(a){return n._animationStarted.next(a)})("@transform.done",function(a){return n._animationEnd.next(a)}),2&i&&(je("align",null),GS("@transform",n._animationState),Ge("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:vte,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,n){1&i&&(qt(),O(0,"div",0,1),Le(2),A())},dependencies:[EI],encapsulation:2,data:{animation:[w7e.transformDrawer]},changeDetection:0})}return r})(),Cte=(()=>{class r{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Te(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Te(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,n,o,a,s=!1,l){this._dir=e,this._element=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new Vh,this.backdropClick=new U,this._destroyed=new Me,this._doCheckSubject=new Me,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Me,e&&e.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Dt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(_r(this._allDrawers),Dt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(_r(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(tx(10),Dt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,i-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();i+=n,e-=n}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ui(i=>i.fromState!==i.toState),Dt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Dt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Dt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ci(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Dt(rn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?i.add(n):i.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}static#e=this.\u0275fac=function(i){return new(i||r)(T(an,8),T(Se),T(Ee),T(Ft),T(Yc),T(S7e),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,bA,5),Tt(o,_te,5)),2&i){let a;ye(a=_e())&&(n._content=a.first),ye(a=_e())&&(n._allDrawers=a)}},viewQuery:function(i,n){if(1&i&&Xe(bA,5),2&i){let o;ye(o=_e())&&(n._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,n){2&i&&Ge("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ve([{provide:yte,useExisting:r}])],ngContentSelectors:b7e,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){1&i&&(qt(C7e),ue(0,y7e,1,2,"div",0),Le(1),Le(2,1),ue(3,_7e,2,0,"mat-drawer-content",1)),2&i&&(H("ngIf",n.hasBackdrop),L(3),H("ngIf",!n._content))},dependencies:[Zr,bA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return r})(),E7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[yr,ht,qc,qc,ht]})}return r})();const bte=["*"],Ste=["unscopedContent"],D7e=["text"],T7e=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],A7e=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],xte=new ee("ListOption");let Ete=(()=>{class r{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return r})(),Dte=(()=>{class r{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se))};static#t=this.\u0275dir=Q({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return r})(),$7e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return r})(),Tte=(()=>{class r{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||r)(T(xte,8))};static#t=this.\u0275dir=Q({type:r,hostVars:4,hostBindings:function(i,n){2&i&&Ge("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return r})(),K7e=(()=>{class r extends Tte{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[fe]})}return r})(),Y7e=(()=>{class r extends Tte{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275dir=Q({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[fe]})}return r})();const q7e=new ee("MAT_LIST_CONFIG");let Ev=(()=>{class r{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=be(q7e,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Te(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=Q({type:r,hostVars:1,hostBindings:function(i,n){2&i&&je("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return r})(),pV=(()=>{class r{set lines(e){this._explicitLines=gi(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Te(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Te(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,n,o,a,s){this._elementRef=e,this._ngZone=i,this._listBase=n,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Rt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===s,n&&!n._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new km(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(rn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;n.classList.toggle("mdc-list-item__primary-text",o),n.classList.toggle("mdc-list-item__secondary-text",!o)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee),T(Ev,8),T(Xt),T(Lm,8),T(Ai,8))};static#t=this.\u0275dir=Q({type:r,contentQueries:function(i,n,o){if(1&i&&(Tt(o,K7e,4),Tt(o,Y7e,4)),2&i){let a;ye(a=_e())&&(n._avatars=a),ye(a=_e())&&(n._icons=a)}},hostVars:4,hostBindings:function(i,n){2&i&&(je("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),Ge("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return r})(),X7e=(()=>{class r extends pV{get activated(){return this._activated}set activated(e){this._activated=Te(e)}constructor(e,i,n,o,a,s){super(e,i,n,o,a,s),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||r)(T(Se),T(Ee),T(Ev,8),T(Xt),T(Lm,8),T(Ai,8))};static#t=this.\u0275cmp=we({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,o){if(1&i&&(Tt(o,Dte,5),Tt(o,Ete,5),Tt(o,$7e,5)),2&i){let a;ye(a=_e())&&(n._lines=a),ye(a=_e())&&(n._titles=a),ye(a=_e())&&(n._meta=a)}},viewQuery:function(i,n){if(1&i&&(Xe(Ste,5),Xe(D7e,5)),2&i){let o;ye(o=_e())&&(n._unscopedContent=o.first),ye(o=_e())&&(n._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,n){2&i&&(je("aria-current",n._getAriaCurrent()),Ge("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",0!==n._avatars.length)("mdc-list-item--with-leading-icon",0!==n._icons.length)("mdc-list-item--with-trailing-meta",0!==n._meta.length)("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[fe],ngContentSelectors:A7e,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,n){1&i&&(qt(T7e),Le(0),O(1,"span",0),Le(2,1),Le(3,2),O(4,"span",1,2),se("cdkObserveContent",function(){return n._updateItemLines(!0)}),Le(6,3),A()(),Le(7,4),Le(8,5),q(9,"div",3))},dependencies:[uI],encapsulation:2,changeDetection:0})}return r})(),Q7e=(()=>{class r extends Ev{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=_t(r)))(n||r)}}();static#t=this.\u0275cmp=we({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ve([{provide:Ev,useExisting:r}]),fe],ngContentSelectors:bte,decls:1,vars:0,template:function(i,n){1&i&&(qt(),Le(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return r})(),i9e=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[ix,yr,ht,sd,K$,WKe]})}return r})(),n9e=(()=>{class r{constructor(){this.badgevisible=!1}badgevisibility(){this.badgevisible=!0}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-menubar"]],decls:72,vars:0,consts:[["color","primary",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],["cImg","","rounded","","src","/assets/pgc-logo.jpeg","height","60"],[1,"example-spacer"],["routerLink","","mat-button",""],["href","mailto:yanouone@gmail.com?subject=Request to join Ten Dollar Club","mat-raised-button","","color","accent"],["href","/oauth2/authorization/cognito","mat-raised-button","","color","accent"],["autosize",""],["opened","false","mode","side","position","start"],["drawer",""],["routerLink","player","mat-button",""],["routerLink","gameplan","mat-button",""],["routerLink","gamerecord","mat-button",""],["routerLink","statistics","mat-button",""],["routerLink","photos","mat-button",""],["routerLink","donation","mat-button",""],["routerLink","gamerule","mat-button",""],["routerLink","aboutus","mat-button",""],[2,"text-align","center","min-height","1000px","margin-left","1%"],[2,"text-align","center","margin-left","48%"]],template:function(i,n){if(1&i){const o=_i();O(0,"mat-toolbar",0)(1,"button",1),se("click",function(){return at(o),st(en(18).toggle())}),O(2,"mat-icon"),F(3,"menu"),A()(),q(4,"img",2),O(5,"span"),F(6,"\xa0\xa0\xa0\u666e\u6797\u65af\u987f\u9ad8\u5c14\u592b\u4ff1\u4e50\u90e8 - New Jersey Princeton Golf Club"),A(),q(7,"span",3),O(8,"button",4),F(9,"Home"),A(),O(10,"a",5),F(11,"Join Us"),A(),F(12,"\xa0\xa0 "),O(13,"a",6),F(14,"Sign in"),A(),F(15,"\xa0\xa0 "),A(),O(16,"mat-drawer-container",7)(17,"mat-drawer",8,9)(19,"mat-nav-list")(20,"mat-list-item")(21,"button",4)(22,"mat-icon"),F(23,"home"),A(),F(24," Home"),A()(),O(25,"mat-list-item")(26,"button",10)(27,"mat-icon"),F(28,"person_search"),A(),F(29," Players Profile"),A()(),O(30,"mat-list-item")(31,"button",11)(32,"mat-icon"),F(33,"calendar_month"),A(),F(34," Plan a Game"),A()(),O(35,"mat-list-item")(36,"button",12)(37,"mat-icon"),F(38,"scoreboard"),A(),F(39," Record a Games"),A()(),O(40,"mat-list-item")(41,"button",13)(42,"mat-icon"),F(43,"insights"),A(),F(44," Statistics & Analytics"),A()(),O(45,"mat-list-item")(46,"button",14)(47,"mat-icon"),F(48,"now_wallpaper"),A(),F(49," Photos"),A()(),O(50,"mat-list-item")(51,"button",15)(52,"mat-icon"),F(53,"attach_money"),A(),F(54," Donation"),A()(),O(55,"mat-list-item")(56,"button",16)(57,"mat-icon"),F(58,"menu_book"),A(),F(59," Game rules"),A()(),O(60,"mat-list-item")(61,"button",17)(62,"mat-icon"),F(63,"help"),A(),F(64," About Us"),A()()()(),O(65,"mat-drawer-content")(66,"div",18),q(67,"router-outlet"),A()()(),O(68,"mat-toolbar")(69,"mat-toolbar-row")(70,"h5",19),F(71,"\xa9 Copyright - The New Jersey Princeton Golf Club 2025."),A()()()}},dependencies:[DP,M0,m7e,gte,bx,x_,ja,Sx,_te,Cte,bA,Q7e,X7e],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return r})(),r9e=(()=>{class r{constructor(){this.title="angularmaterial"}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=we({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){1&i&&q(0,"app-menubar")},dependencies:[n9e],styles:[".mat-toolbar.mat-dark[_ngcontent-%COMP%]{background:#000;color:#fff}"]})}return r})();function Ote(r){return new te(3e3,!1)}function bh(r){switch(r.length){case 0:return new f_;case 1:return r[0];default:return new J$(r)}}function Mte(r,t,e=new Map,i=new Map){const n=[],o=[];let a=-1,s=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((h,p)=>{let f=p,m=h;if("offset"!==p)switch(f=r.normalizePropertyName(f,n),m){case"!":m=e.get(p);break;case Wc:m=i.get(p);break;default:m=r.normalizeStyleValue(p,f,m,n)}d.set(f,m)}),u||o.push(d),s=d,a=c}),n.length)throw function T9e(r){return new te(3502,!1)}();return o}function fV(r,t,e,i){switch(t){case"start":r.onStart(()=>i(e&&mV(e,"start",r)));break;case"done":r.onDone(()=>i(e&&mV(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&mV(e,"destroy",r)))}}function mV(r,t,e){const o=gV(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),a=r._data;return null!=a&&(o._data=a),o}function gV(r,t,e,i,n="",o=0,a){return{element:r,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:o,disabled:!!a}}function Ta(r,t,e){let i=r.get(t);return i||r.set(t,i=e),i}function Rte(r){const t=r.indexOf(":");return[r.substring(1,t),r.slice(t+1)]}const V9e=(()=>typeof document>"u"?null:document.documentElement)();function vV(r){const t=r.parentNode||r.host||null;return t===V9e?null:t}let mf=null,Pte=!1;function Ite(r,t){for(;t;){if(t===r)return!0;t=vV(t)}return!1}function Fte(r,t,e){if(e)return Array.from(r.querySelectorAll(t));const i=r.querySelector(t);return i?[i]:[]}let kte=(()=>{class r{validateStyleProperty(e){return function H9e(r){mf||(mf=function j9e(){return typeof document<"u"?document.body:null}()||{},Pte=!!mf.style&&"WebkitAppearance"in mf.style);let t=!0;return mf.style&&!function B9e(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in mf.style,!t&&Pte&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in mf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Ite(e,i)}getParentElement(e){return vV(e)}query(e,i,n){return Fte(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,o,a,s=[],l){return new f_(n,o)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})(),yV=(()=>{class r{static#e=this.NOOP=new kte}return r})();const U9e=1e3,_V="ng-enter",wA="ng-leave",SA="ng-trigger",xA=".ng-trigger",Nte="ng-animating",CV=".ng-animating";function Nu(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bV(parseFloat(t[1]),t[2])}function bV(r,t){return"s"===t?r*U9e:r}function EA(r,t,e){return r.hasOwnProperty("duration")?r:function W9e(r,t,e){let n,o=0,a="";if("string"==typeof r){const s=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push(Ote()),{duration:0,delay:0,easing:""};n=bV(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=bV(parseFloat(l),s[4]));const c=s[5];c&&(a=c)}else n=r;if(!e){let s=!1,l=t.length;n<0&&(t.push(function o9e(){return new te(3100,!1)}()),s=!0),o<0&&(t.push(function a9e(){return new te(3101,!1)}()),s=!0),s&&t.splice(l,0,Ote())}return{duration:n,delay:o,easing:a}}(r,t,e)}function rw(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function Gte(r){const t=new Map;return Object.keys(r).forEach(e=>{t.set(e,r[e])}),t}function wh(r,t=new Map,e){if(e)for(let[i,n]of e)t.set(i,n);for(let[i,n]of r)t.set(i,n);return t}function _c(r,t,e){t.forEach((i,n)=>{const o=SV(n);e&&!e.has(n)&&e.set(n,r.style[o]),r.style[o]=i})}function gf(r,t){t.forEach((e,i)=>{const n=SV(i);r.style[n]=""})}function ow(r){return Array.isArray(r)?1==r.length?r[0]:Q$(r):r}const wV=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bte(r){let t=[];if("string"==typeof r){let e;for(;e=wV.exec(r);)t.push(e[1]);wV.lastIndex=0}return t}function aw(r,t,e){const i=r.toString(),n=i.replace(wV,(o,a)=>{let s=t[a];return null==s&&(e.push(function l9e(r){return new te(3003,!1)}()),s=""),s.toString()});return n==i?r:n}function DA(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const Y9e=/-+([a-z0-9])/g;function SV(r){return r.replace(Y9e,(...t)=>t[1].toUpperCase())}function Aa(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw function c9e(r){return new te(3004,!1)}()}}function Hte(r,t){return window.getComputedStyle(r)[t]}const TA="*";function Z9e(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function Q9e(r,t,e){if(":"==r[0]){const l=function J9e(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function S9e(r){return new te(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof l)return void t.push(l);r=l}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function w9e(r){return new te(3015,!1)}()),t;const n=i[1],o=i[2],a=i[3];t.push(jte(n,a));"<"==o[0]&&!(n==TA&&a==TA)&&t.push(jte(a,n))}(i,e,t)):e.push(r),e}const AA=new Set(["true","1"]),OA=new Set(["false","0"]);function jte(r,t){const e=AA.has(r)||OA.has(r),i=AA.has(t)||OA.has(t);return(n,o)=>{let a=r==TA||r==n,s=t==TA||t==o;return!a&&e&&"boolean"==typeof n&&(a=n?AA.has(r):OA.has(r)),!s&&i&&"boolean"==typeof o&&(s=o?AA.has(t):OA.has(t)),a&&s}}const eqe=new RegExp("s*:selfs*,?","g");function xV(r,t,e,i){return new tqe(r).build(t,e,i)}class tqe{constructor(t){this._driver=t}build(t,e,i){const n=new rqe(e);return this._resetContextStyleTimingState(n),Aa(this,ow(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function d9e(){return new te(3006,!1)}()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,e);i+=l.queryCount,n+=l.depCount,a.push(l)}else e.errors.push(function h9e(){return new te(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=n||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Bte(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&(DA(o.values()),e.errors.push(function p9e(r,t){return new te(3008,!1)}()))}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Aa(this,ow(t.animation),e);return{type:1,matchers:Z9e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Aa(this,i,e)),options:vf(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const o=t.steps.map(a=>{e.currentTime=i;const s=Aa(this,a,e);return n=Math.max(n,e.currentTime),s});return e.currentTime=n,{type:3,steps:o,options:vf(t.options)}}visitAnimate(t,e){const i=function aqe(r,t){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return EV(EA(r,t).duration,0,"");const e=r;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=EV(0,0,"");return o.dynamic=!0,o.strValue=e,o}const n=EA(e,t);return EV(n.duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let n,o=t.styles?t.styles:ze({});if(5==o.type)n=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;const c={};i.easing&&(c.easing=i.easing),a=ze(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=s,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of n)"string"==typeof s?s===Wc?i.push(s):e.errors.push(new te(3002,!1)):i.push(Gte(s));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let l of s.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=n&&o>=u.startTime&&n<=u.endTime&&(e.errors.push(function m9e(r,t,e,i,n){return new te(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:n}),e.options&&function K9e(r,t,e){const i=t.params||{},n=Bte(r);n.length&&n.forEach(o=>{i.hasOwnProperty(o)||e.push(function s9e(r){return new te(3001,!1)}())})}(s,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function g9e(){return new te(3011,!1)}()),i;let o=0;const a=[];let s=!1,l=!1,c=0;const u=t.steps.map(v=>{const y=this._makeStyleAst(v,e);let _=null!=y.offset?y.offset:function oqe(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(y.styles),b=0;return null!=_&&(o++,b=y.offset=_),l=l||b<0||b>1,s=s||b<c,c=b,a.push(b),y});l&&e.errors.push(function v9e(){return new te(3012,!1)}()),s&&e.errors.push(function y9e(){return new te(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function _9e(){return new te(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,f=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,y)=>{const _=h>0?y==p?1:h*y:a[y],b=_*g;e.currentTime=f+m.delay+b,m.duration=b,this._validateStyleAst(v,e),v.offset=_,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Aa(this,ow(t.animation),e),options:vf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function iqe(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(eqe,"")),r=r.replace(/@\*/g,xA).replace(/@\w+/g,e=>xA+"-"+e.slice(1)).replace(/:animating/g,CV),[r,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const s=Aa(this,ow(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:vf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function C9e(){return new te(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:EA(t.timings,e.errors,!0);return{type:12,animation:Aa(this,ow(t.animation),e),timings:i,options:null}}}class rqe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vf(r){return r?(r=rw(r)).params&&(r.params=function nqe(r){return r?rw(r):null}(r.params)):r={},r}function EV(r,t,e){return{duration:r,delay:t,easing:e}}function DV(r,t,e,i,n,o,a=null,s=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:o,totalTime:n+o,easing:a,subTimeline:s}}class MA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cqe=new RegExp(":enter","g"),dqe=new RegExp(":leave","g");function TV(r,t,e,i,n,o=new Map,a=new Map,s,l,c=[]){return(new hqe).buildKeyframes(r,t,e,i,n,o,a,s,l,c)}class hqe{buildKeyframes(t,e,i,n,o,a,s,l,c,u=[]){c=c||new MA;const d=new AV(t,e,c,n,o,u,[]);d.options=l;const h=l.delay?Nu(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),Aa(this,i,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&s.size){let f;for(let m=p.length-1;m>=0;m--){const g=p[m];if(g.element===e){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([s],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[DV(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const n=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,n,n.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const n of t){const o=n?.delay;if(o){const a="number"==typeof o?o:Nu(aw(o,n?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Nu(i.duration):null,s=null!=i.delay?Nu(i.delay):null;return 0!==a&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Aa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const o=t.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),null!=o.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=RA);const a=Nu(o.delay);n.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Aa(this,a,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Nu(t.options.delay):0;t.steps.forEach(a=>{const s=e.createSubContext(t.options);o&&s.delayNextStep(o),Aa(this,a,s),n=Math.max(n,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return EA(e.params?aw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},o=n.delay?Nu(n.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=RA);let a=i;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Aa(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Aa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}}const RA={};class AV{constructor(t,e,i,n,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new PA(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=Nu(i.duration)),null!=i.delay&&(n.delay=Nu(i.delay));const o=i.params;if(o){let a=n.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=aw(o[s],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,o=new AV(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=RA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new pqe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,o,a){let s=[];if(n&&s.push(this.element),t.length>0){t=(t=t.replace(cqe,"."+this._enterClassName)).replace(dqe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&0==s.length&&a.push(function b9e(r){return new te(3014,!1)}()),s}}class PA{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new PA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Wc),this._currentKeyframe.set(e,Wc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);const o=n&&n.params||{},a=function fqe(r,t){const e=new Map;let i;return r.forEach(n=>{if("*"===n){i=i||t.keys();for(let o of i)e.set(o,Wc)}else wh(n,e)}),e}(t,this._globalTimelineStyles);for(let[s,l]of a){const c=aw(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Wc),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((s,l)=>{const c=wh(s,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Wc&&e.add(d)}),i||c.set("offset",l/this.duration),n.push(c)});const o=t.size?DA(t.values()):[],a=e.size?DA(e.values()):[];if(i){const s=n[0],l=new Map(s);s.set("offset",0),l.set("offset",1),n=[s,l]}return DV(this.element,n,o,a,this.duration,this.startTime,this.easing,!1)}}class pqe extends PA{constructor(t,e,i,n,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,s=e/a,l=wh(t[0]);l.set("offset",0),o.push(l);const c=wh(t[0]);c.set("offset",Wte(s)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=wh(t[d]);const p=h.get("offset");h.set("offset",Wte((e+p*i)/a)),o.push(h)}i=a,e=0,n="",t=o}return DV(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function Wte(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class OV{}const mqe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gqe extends OV{normalizePropertyName(t,e){return SV(t)}normalizeStyleValue(t,e,i,n){let o="";const a=i.toString().trim();if(mqe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&n.push(function u9e(r,t){return new te(3005,!1)}())}return a+o}}function $te(r,t,e,i,n,o,a,s,l,c,u,d,h){return{type:0,element:r,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const MV={};class Kte{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function vqe(r,t,e,i,n){return r.some(o=>o(t,e,i,n))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return void 0!==t&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,o,a,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||MV,f=this.buildStyles(i,s&&s.params||MV,d),m=l&&l.params||MV,g=this.buildStyles(n,m,d),v=new Set,y=new Map,_=new Map,b="void"===n,w={params:yqe(m,h),delay:this.ast.options?.delay},E=u?[]:TV(t,e,this.ast.animation,o,a,f,g,w,c,d);let M=0;if(E.forEach(I=>{M=Math.max(I.duration+I.delay,M)}),d.length)return $te(e,this._triggerName,i,n,b,f,g,[],[],y,_,M,d);E.forEach(I=>{const k=I.element,N=Ta(y,k,new Set);I.preStyleProps.forEach(Y=>N.add(Y));const B=Ta(_,k,new Set);I.postStyleProps.forEach(Y=>B.add(Y)),k!==e&&v.add(k)});const P=DA(v.values());return $te(e,this._triggerName,i,n,b,f,g,E,P,y,_,M)}}function yqe(r,t){const e=rw(t);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class _qe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,n=rw(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(n[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=aw(a,n,e));const l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}}class bqe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{this.states.set(n.name,new _qe(n.style,n.options&&n.options.params||{},i))}),Yte(this.states,"true","1"),Yte(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Kte(t,n,this.states))}),this.fallbackTransition=function wqe(r,t,e){return new Kte(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(a=>a.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Yte(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}const Sqe=new MA;class xqe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=xV(this._driver,e,i,[]);if(i.length)throw function A9e(r){return new te(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const n=t.element,o=Mte(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],o=this._animations.get(t);let a;const s=new Map;if(o?(a=TV(this._driver,e,o,_V,wA,new Map,new Map,i,Sqe,n),a.forEach(u=>{const d=Ta(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(n.push(function O9e(){return new te(3300,!1)}()),a=[]),n.length)throw function M9e(r){return new te(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Wc))})});const c=bh(a.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function R9e(r){return new te(3301,!1)}();return e}listen(t,e,i,n){const o=gV(e,"","","");return fV(this._getPlayer(t),i,o,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const qte="ng-animate-queued",RV="ng-animate-disabled",Oqe=[],Xte={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mqe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class PV{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Fqe(r){return r??null}(i?t.value:t),i){const o=rw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(n=>{null==i[n]&&(i[n]=e[n])})}}}const sw="void",IV=new PV(sw);class Rqe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ps(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw function P9e(r,t){return new te(3302,!1)}();if(null==i||0==i.length)throw function I9e(r){return new te(3303,!1)}();if(!function kqe(r){return"start"==r||"done"==r}(i))throw function F9e(r,t){return new te(3400,!1)}();const o=Ta(this._elementListeners,t,[]),a={name:e,phase:i,callback:n};o.push(a);const s=Ta(this._engine.statesByElement,t,new Map);return s.has(e)||(ps(t,SA),ps(t,SA+"-"+e),s.set(e,IV)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function k9e(r){return new te(3401,!1)}();return e}trigger(t,e,i,n=!0){const o=this._getTrigger(e),a=new FV(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(ps(t,SA),ps(t,SA+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e);const c=new PV(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=IV),c.value!==sw&&l.value===c.value){if(!function Gqe(r,t){const e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){const o=e[n];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),v=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{gf(t,g),_c(t,v)})}return}const h=Ta(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),f=!1;if(!p){if(!n)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(ps(t,qte),a.onStart(()=>{Dv(t,qte)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(a);v>=0&&g.splice(v,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,xA,!0);i.forEach(n=>{if(n[hs])return;const o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(a=>a.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,sw,n);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&bh(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const n=new Set;e.forEach(o=>{const a=o.name;if(n.has(a))return;n.add(a);const l=this._triggers.get(a).fallbackTransition,c=i.get(a)||IV,u=new PV(sw),d=new FV(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)n=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[hs];(!o||o===Xte)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ps(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){const l=gV(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,fV(i.player,s.phase,l,s.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{const o=i.transition.ast.depCount,a=n.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Pqe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Rqe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){const l=n.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let n of i.values())if(n.namespaceId){const o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,n){if(IA(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!IA(e))return;const o=e[hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ps(t,RV)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dv(t,RV))}removeNode(t,e,i){if(IA(e)){const n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,o){this.collectedLeaveElements.push(e),e[hs]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,n,o){return IA(e)?this._fetchNamespace(t).listen(e,i,n,o):()=>{}}_buildInstruction(t,e,i,n,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,xA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,CV,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return bh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[hs];if(e&&e.setForRemoval){if(t[hs]=Xte,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(RV)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ps(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?bh(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw function L9e(r){return new te(3402,!1)}()}_flushAnimations(t,e){const i=new MA,n=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const $=this.driver.query(W,".ng-animate-queued",!0);for(let Z=0;Z<$.length;Z++)u.add($[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=Jte(h,this.collectedEnterElements),f=new Map;let m=0;p.forEach((W,$)=>{const Z=_V+m++;f.set($,Z),W.forEach(ce=>ps(ce,Z))});const g=[],v=new Set,y=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const $=this.collectedLeaveElements[W],Z=$[hs];Z&&Z.setForRemoval&&(g.push($),v.add($),Z.hasAnimation?this.driver.query($,".ng-star-inserted",!0).forEach(ce=>v.add(ce)):y.add($))}const _=new Map,b=Jte(h,Array.from(v));b.forEach((W,$)=>{const Z=wA+m++;_.set($,Z),W.forEach(ce=>ps(ce,Z))}),t.push(()=>{p.forEach((W,$)=>{const Z=f.get($);W.forEach(ce=>Dv(ce,Z))}),b.forEach((W,$)=>{const Z=_.get($);W.forEach(ce=>Dv(ce,Z))}),g.forEach(W=>{this.processLeaveNode(W)})});const w=[],E=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(Z=>{const ce=Z.player,De=Z.element;if(w.push(ce),this.collectedEnterElements.length){const Je=De[hs];if(Je&&Je.setForMove){if(Je.previousTriggersValues&&Je.previousTriggersValues.has(Z.triggerName)){const Kt=Je.previousTriggersValues.get(Z.triggerName),Ht=this.statesByElement.get(Z.element);if(Ht&&Ht.has(Z.triggerName)){const zi=Ht.get(Z.triggerName);zi.value=Kt,Ht.set(Z.triggerName,zi)}}return void ce.destroy()}}const ke=!d||!this.driver.containsElement(d,De),Oe=_.get(De),nt=f.get(De),qe=this._buildInstruction(Z,i,nt,Oe,ke);if(qe.errors&&qe.errors.length)return void E.push(qe);if(ke)return ce.onStart(()=>gf(De,qe.fromStyles)),ce.onDestroy(()=>_c(De,qe.toStyles)),void n.push(ce);if(Z.isFallbackTransition)return ce.onStart(()=>gf(De,qe.fromStyles)),ce.onDestroy(()=>_c(De,qe.toStyles)),void n.push(ce);const nn=[];qe.timelines.forEach(Je=>{Je.stretchStartingKeyframe=!0,this.disabledNodes.has(Je.element)||nn.push(Je)}),qe.timelines=nn,i.append(De,qe.timelines),a.push({instruction:qe,player:ce,element:De}),qe.queriedElements.forEach(Je=>Ta(s,Je,[]).push(ce)),qe.preStyleProps.forEach((Je,Kt)=>{if(Je.size){let Ht=l.get(Kt);Ht||l.set(Kt,Ht=new Set),Je.forEach((zi,Wr)=>Ht.add(Wr))}}),qe.postStyleProps.forEach((Je,Kt)=>{let Ht=c.get(Kt);Ht||c.set(Kt,Ht=new Set),Je.forEach((zi,Wr)=>Ht.add(Wr))})});if(E.length){const W=[];E.forEach($=>{W.push(function N9e(r,t){return new te(3505,!1)}())}),w.forEach($=>$.destroy()),this.reportError(W)}const M=new Map,P=new Map;a.forEach(W=>{const $=W.element;i.has($)&&(P.set($,$),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,M))}),n.forEach(W=>{const $=W.element;this._getPreviousPlayers($,!1,W.namespaceId,W.triggerName,null).forEach(ce=>{Ta(M,$,[]).push(ce),ce.destroy()})});const I=g.filter(W=>tie(W,l,c)),k=new Map;Qte(k,this.driver,y,c,Wc).forEach(W=>{tie(W,l,c)&&I.push(W)});const B=new Map;p.forEach((W,$)=>{Qte(B,this.driver,new Set(W),l,"!")}),I.forEach(W=>{const $=k.get(W),Z=B.get(W);k.set(W,new Map([...$?.entries()??[],...Z?.entries()??[]]))});const Y=[],ne=[],me={};a.forEach(W=>{const{element:$,player:Z,instruction:ce}=W;if(i.has($)){if(u.has($))return Z.onDestroy(()=>_c($,ce.toStyles)),Z.disabled=!0,Z.overrideTotalTime(ce.totalTime),void n.push(Z);let De=me;if(P.size>1){let Oe=$;const nt=[];for(;Oe=Oe.parentNode;){const qe=P.get(Oe);if(qe){De=qe;break}nt.push(Oe)}nt.forEach(qe=>P.set(qe,De))}const ke=this._buildAnimation(Z.namespaceId,ce,M,o,B,k);if(Z.setRealPlayer(ke),De===me)Y.push(Z);else{const Oe=this.playersByElement.get(De);Oe&&Oe.length&&(Z.parentPlayer=bh(Oe)),n.push(Z)}}else gf($,ce.fromStyles),Z.onDestroy(()=>_c($,ce.toStyles)),ne.push(Z),u.has($)&&n.push(Z)}),ne.forEach(W=>{const $=o.get(W.element);if($&&$.length){const Z=bh($);W.setRealPlayer(Z)}}),n.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<g.length;W++){const $=g[W],Z=$[hs];if(Dv($,wA),Z&&Z.hasAnimation)continue;let ce=[];if(s.size){let ke=s.get($);ke&&ke.length&&ce.push(...ke);let Oe=this.driver.query($,CV,!0);for(let nt=0;nt<Oe.length;nt++){let qe=s.get(Oe[nt]);qe&&qe.length&&ce.push(...qe)}}const De=ce.filter(ke=>!ke.destroyed);De.length?Lqe(this,$,De):this.processLeaveNode($)}return g.length=0,Y.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const $=this.players.indexOf(W);this.players.splice($,1)}),W.play()}),Y}elementContainsData(t,e){let i=!1;const n=e[hs];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,o){let a=[];if(e){const s=this.playersByQueriedElement.get(t);s&&(a=s)}else{const s=this.playersByElement.get(t);if(s){const l=!o||o==sw;s.forEach(c=>{c.queued||!l&&c.triggerName!=n||a.push(c)})}}return(i||n)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||n&&n!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Ta(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}gf(o,e.fromStyles)}_buildAnimation(t,e,i,n,o,a){const s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(f=>{const m=f.element;u.add(m);const g=m[hs];if(g&&g.removedBeforeQueried)return new f_(f.duration,f.delay);const v=m!==l,y=function Nqe(r){const t=[];return eie(r,t),t}((i.get(m)||Oqe).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===m),_=o.get(m),b=a.get(m),w=Mte(this._normalizer,f.keyframes,_,b),E=this._buildPlayer(f,w,y);if(f.subTimeline&&n&&d.add(m),v){const M=new FV(t,s,m);M.setRealPlayer(E),c.push(M)}return E});c.forEach(f=>{Ta(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function Iqe(r,t,e){let i=r.get(t);if(i){if(i.length){const n=i.indexOf(e);i.splice(n,1)}0==i.length&&r.delete(t)}return i}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>ps(f,Nte));const p=bh(h);return p.onDestroy(()=>{u.forEach(f=>Dv(f,Nte)),_c(l,e.toStyles)}),d.forEach(f=>{Ta(n,f,[]).push(p)}),p}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new f_(t.duration,t.delay)}}class FV{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new f_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>fV(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function IA(r){return r&&1===r.nodeType}function Zte(r,t){const e=r.style.display;return r.style.display=t??"none",e}function Qte(r,t,e,i,n){const o=[];e.forEach(l=>o.push(Zte(l)));const a=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,n);u.set(d,h),(!h||0==h.length)&&(c[hs]=Mqe,a.push(c))}),r.set(c,u)});let s=0;return e.forEach(l=>Zte(l,o[s++])),a}function Jte(r,t){const e=new Map;if(r.forEach(s=>e.set(s,[])),0==t.length)return e;const n=new Set(t),o=new Map;function a(s){if(!s)return 1;let l=o.get(s);if(l)return l;const c=s.parentNode;return l=e.has(c)?c:n.has(c)?1:a(c),o.set(s,l),l}return t.forEach(s=>{const l=a(s);1!==l&&e.get(l).push(s)}),e}function ps(r,t){r.classList?.add(t)}function Dv(r,t){r.classList?.remove(t)}function Lqe(r,t,e){bh(e).onDone(()=>r.processLeaveNode(t))}function eie(r,t){for(let e=0;e<r.length;e++){const i=r[e];i instanceof J$?eie(i.players,t):t.push(i)}}function tie(r,t,e){const i=e.get(r);if(!i)return!1;let n=t.get(r);return n?i.forEach(o=>n.add(o)):t.set(r,i),e.delete(r),!0}class FA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,o)=>{},this._transitionEngine=new Pqe(t,e,i),this._timelineEngine=new xqe(t,e,i),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(t,e,i,n,o){const a=t+"-"+n;let s=this._triggerCache[a];if(!s){const l=[],u=xV(this._driver,o,l,[]);if(l.length)throw function D9e(r,t){return new te(3404,!1)}();s=function Cqe(r,t,e){return new bqe(r,t,e)}(n,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,n,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[o,a]=Rte(i);this._timelineEngine.command(o,e,a,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,o){if("@"==i.charAt(0)){const[a,s]=Rte(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,n,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bqe=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&_c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_c(this._element,this._initialStyles),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(gf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gf(this._element,this._endStyles),this._endStyles=null),_c(this._element,this._initialStyles),this._state=3)}}return r})();function kV(r){let t=null;return r.forEach((e,i)=>{(function Hqe(r){return"display"===r||"position"===r})(i)&&(t=t||new Map,t.set(i,e))}),t}class iie{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{"offset"!==n&&t.set(n,this._finished?i:Hte(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jqe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Ite(t,e)}getParentElement(t){return vV(t)}query(t,e,i){return Fte(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,n,o,a=[]){const l={duration:i,delay:n,fill:0==n?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=a.filter(p=>p instanceof iie);(function q9e(r,t){return 0===r||0===t})(i,n)&&u.forEach(p=>{p.currentSnapshot.forEach((f,m)=>c.set(m,f))});let d=function $9e(r){return r.length?r[0]instanceof Map?r:r.map(t=>Gte(t)):[]}(e).map(p=>wh(p));d=function X9e(r,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((o,a)=>{i.has(a)||n.push(a),i.set(a,o)}),n.length)for(let o=1;o<t.length;o++){let a=t[o];n.forEach(s=>a.set(s,Hte(r,s)))}}return t}(t,d,c);const h=function Vqe(r,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=kV(t[0]),t.length>1&&(i=kV(t[t.length-1]))):t instanceof Map&&(e=kV(t)),e||i?new Bqe(r,e,i):null}(t,d);return new iie(t,d,l,h)}}let Uqe=(()=>{class r extends Z${constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:fo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Q$(e):e;return nie(this._renderer,null,i,"register",[n]),new zqe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(K(ly),K(tt))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();class zqe extends bCe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Wqe(this._id,t,e||{},this._renderer)}}class Wqe{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nie(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nie(r,t,e,i,n){return r.setProperty(t,`@@${e}:${i}`,n)}const rie="@.disabled";let $qe=(()=>{class r{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,a)=>{const s=a?.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new oie("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const a=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(a,s,e,u.name,u)};return i.data.animation.forEach(l),new Kqe(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){e>=0&&e<this._microtaskId?this._zone.run(()=>i(n)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(K(ly),K(FA),K(Ee))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();class oie{constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==rie?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Kqe extends oie{constructor(t,e,i,n,o){super(e,i,n,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==rie?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const n=function Yqe(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function qqe(r){const t=r.indexOf(".");return[r.substring(0,t),r.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,n,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(t,e,i)}}let Xqe=(()=>{class r extends FA{constructor(e,i,n,o){super(e.body,i,n)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(K(tt),K(yV),K(OV),K(qu))};static#t=this.\u0275prov=ge({token:r,factory:r.\u0275fac})}return r})();const aie=[{provide:Z$,useClass:Uqe},{provide:OV,useFactory:function Zqe(){return new gqe}},{provide:FA,useClass:Xqe},{provide:ly,useFactory:function Qqe(r,t,e){return new $qe(r,t,e)},deps:[oP,FA,Ee]}],LV=[{provide:yV,useFactory:()=>new jqe},{provide:Ai,useValue:"BrowserAnimations"},...aie],sie=[{provide:yV,useClass:kte},{provide:Ai,useValue:"NoopAnimations"},...aie];let lie=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?sie:LV}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:LV,imports:[PW]})}return r})();const iXe={provide:new ee("mat-menu-scroll-strategy"),deps:[Jr],useFactory:function tXe(r){return()=>r.scrollStrategies.reposition()}};let nXe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({providers:[iXe],imports:[yr,sd,ht,rp,qc,ht]})}return r})(),rXe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[d_,ht,ht]})}return r})(),uie=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r});static#i=this.\u0275inj=Ue({imports:[rbe,P6,rwe,g7e,nXe,Ywe,LI,rXe,E7e,i9e,kwe,xSe,k0e,t0e,d0e,sEe,cCe,vEe,OEe,oxe]})}return r})(),oXe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=Ke({type:r,bootstrap:[r9e]});static#i=this.\u0275inj=Ue({imports:[PW,d7e,lie,uie,Dye,K5,Xye,RYe,_A,lie,uie,jKe,BYe]})}return r})();Jfe().bootstrapModule(oXe).catch(r=>console.error(r))}},jt=>{jt(jt.s=269)}]);